//- tools/oneTimeAction.jade

extends ../../layout.jade

append body
    +divider One time action

    .multiple
        .button.actionable.outlined(onclick="test_one_time_action_cookie1()") Cookie 1
        .button.actionable.outlined(onclick="test_one_time_action_cookie2()") Cookie 2
        .button.actionable.outlined(onclick="test_one_time_action_url()") Url

    +divider Action

    .button.actionable.outlined(onclick="test_one_time_action_reset_actions()") Reset actions

append body-end
    +script.
        function test_one_time_action_cookie1 () {
            $.oneTimeAction ( 'cookie', 'test1', function () {
                $.noty ( "One time action (Cookie)[1] executed." );
            });
        }
        function test_one_time_action_cookie2 () {
            $.oneTimeAction ( 'cookie', 'test2', function () {
                $.noty ( "One time action (Cookie)[2] executed." );
            });
        }
        function test_one_time_action_url () {
            $.oneTimeAction ( 'url', '/bootstrap/one_time_action_test', function () { //FIXME
                $.noty ( "One time action (Url) executed." );
            });
        }
        function test_one_time_action_reset_actions () {
            $.oneTimeAction ( 'reset' );
            $.noty ( 'oneTimeAction-related cookies have been resetted' );
        }
