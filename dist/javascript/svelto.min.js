"use strict";function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _get=function t(e,i,s){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,s)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(s)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},_slicedToArray=function(){function t(t,e){var i=[],s=!0,n=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(s=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);s=!0);}catch(l){n=!0,o=l}finally{try{!s&&r["return"]&&r["return"]()}finally{if(n)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();!function(){var t={VERSION:"0.4.0-beta2",$:jQuery&&"jquery"in jQuery()?jQuery:$&&"jquery"in $()?$:!1,_:lodash&&3===Number(lodash.VERSION[0])?lodash:_&&"VERSION"in _&&3===Number(_.VERSION[0])?_:!1,Widgets:{}};if(!t.$)throw new Error("Svelto depends upon jQuery, dependency not found");if(!t._)throw new Error("Svelto depends upon lodash, dependency not found");window.Svelto=t}(),function(t,e,i){var s={xslow:900,slow:500,normal:350,fast:150,xfast:75};i.Animations=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s={xsmall:0,small:512,medium:768,large:1024,xlarge:1216};i.Breakpoints=s}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s={primary:"#1565c0",secondary:"#ef6c00",tertiary:"#6a1b9a",quaternary:"#2e7d32",white:"#ffffff",gray:"#e0e0e0",black:"#212121",yellow:"#fabf40",olive:"#cddc39",green:"#4caf50",blue:"#2196f3",violet:"#673ab7",orange:"#ff9800",purple:"#9c27b0",red:"#f44336",pink:"#e91e63",teal:"#009688",brown:"#795548",error:"#f44336",warning:"#fabf40",success:"#4caf50",transparent:"rgba(0, 0, 0, 0)",base:"#eceff1"};i.Colors=s}(Svelto.$,Svelto._,Svelto),function(t){t.mixin({nowSecs:function(){return Math.floor(t.now()/1e3)},timeAgo:function(e){var i=t.nowSecs()-e,s=5,n=["year","month","week","day","hour","minute","second"],o=[31536e3,2592e3,604800,86400,3600,60,1];if(s>i)return{str:"Just now",next:s-i};for(var a=0,r=o.length;r>a;a++){var l=n[a],h=o[a],c=Math.floor(i/h);if(c>=1)return{str:c+" "+l+(c>1?"s":"")+" ago",next:h-(i-c*h)}}},fuzzyMatch:function(t,e,i){i!==!1&&(t=t.toLowerCase(),e=e.toLowerCase());for(var s=-1,n=void 0,o=t.length,a=0,r=e.length;r>a;a++){for(n=s+1;o>n;n++)t[n]===e[a]&&(s=n,n=o+1);if(n===o)return!1}return!0},clamp:function(e,i,s){return t.isUndefined(s)||e>s&&(e=s),t.isUndefined(i)||i>e&&(e=i),e},btEach:function(e,i,s){for(var n=0,o=e.length-1,a=t.isNumber(s)?s:Math.ceil((n+o)/2),r=void 0;o>=n;){if(r=i.call(e[a],a,e[a]),0>r)o=a-1;else{if(!(r>0))return a;n=a+1}a=Math.ceil((n+o)/2)}return-1},move:function(t,e,i){t.splice(i,0,t.splice(e,1)[0])},mkize:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=[1e9,1e6,1e3],s=["B","M","K"],n=0,o=i.length;o>n;n++)if(t>=i[n])return Number((t/i[n]).toFixed(e))+s[n];return t},roundCloser:function(e,i){t.isUndefined(i)&&(i=1);var s=e%i,n=i/2;return e-s+(s>=n?i:0)},format:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;e>s;s++)i[s-1]=arguments[s];for(var n=0,o=i.length;o>n;n++)t=t.replace("$"+(n+1),i[n]);return t},getDirections:function(){return["top","bottom","left","right"]},getOppositeDirection:function(t){return{top:"bottom",bottom:"top",left:"right",right:"left"}[t]},"true":t.constant(!0),"false":t.constant(!1)})}(Svelto._),function(t,e,i){var s=navigator.userAgent?navigator.userAgent.toLowerCase():"",n=navigator.vendor?navigator.vendor.toLowerCase():"",o=navigator.appVersion?navigator.appVersion.toLowerCase():"",a=/ipod/i.test(s),r=!a&&/iphone/i.test(s),l=/ipad/i.test(s),h=/android/i.test(s),c=h&&/mobile/i.test(s),u=h&&!c,p=/blackberry/i.test(s)||/BB10/i.test(s),d=/win/i.test(o),v=d&&/phone/i.test(s),g=d&&!v&&/touch/i.test(s),_=r||a||c||p||v,f=l||u||g,m={is:{chrome:/chrome|chromium/i.test(s)&&/google inc/.test(n),firefox:/firefox/i.test(s),edge:/(edge)\/((\d+)?[\w\.]+)/i.test(s),ie:/msie/i.test(s)||"ActiveXObject"in window,opera:/^Opera\//i.test(s)||/\x20OPR\//i.test(s),safari:/safari/i.test(s)&&/apple computer/i.test(n),yandex:/(yabrowser)\/([\w\.]+)/i.test(s),iphone:r,ipad:l,ipod:a,ios:r||l||a,android:h,androidPhone:c,androidTablet:u,blackberry:p,linux:/linux/i.test(o),mac:!(r||l||a)&&/mac/i.test(o),windows:d,windowsPhone:v,windowsTablet:g,mobile:_,tablet:f,desktop:!_&&!f,online:function(){return navigator.onLine},offline:function(){return!navigator.onLine},touchDevice:"ontouchstart"in window||"DocumentTouch"in window&&document instanceof window.DocumentTouch}};i.Browser=m}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n){t.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.eventXY=function(e){var i=arguments.length<=1||void 0===arguments[1]?"pageX":arguments[1],s=arguments.length<=2||void 0===arguments[2]?"pageY":arguments[2];return"originalEvent"in e?t.eventXY(e.originalEvent):"changedTouches"in e&&e.changedTouches.length?{X:e.changedTouches[0][i],Y:e.changedTouches[0][s]}:"touches"in e&&e.touches.length?{X:e.touches[0][i],Y:e.touches[0][s]}:i in e?{X:e[i],Y:e[s]}:void 0},t.frame=function(t){return requestAnimationFrame(t)},t.hasCtrlOrCmd=function(t){return!s.is.mac&&t.ctrlKey||s.is.mac&&t.metaKey},t.getRect=function(t){return t.getBoundingClientRect()},t.fn.getRect=function(){return this.length?this[0].getBoundingClientRect():void 0},t.fn.hsl=function(t,e,i){return this.css("background-color","hsl("+t+","+e+"%,"+i+"%)")},t.fn.toggleScroll=function(t){return this.toggleClass("overflow-hidden",!t)},t.fn.disableScroll=function(){return this.toggleScroll(!1)},t.fn.enableScroll=function(){return this.toggleScroll(!0)},t.fn.disableSelection=function(){var t="onselectstart"in document.createElement("div")?"selectstart":n.down;return function(){return this.on(t+".svelto-disable-selection",function(t){return t.preventDefault()})}}(),t.fn.enableSelection=function(){return this.off(".svelto-disable-selection")},t.fn.zIndex=function(t){if(!e.isUndefined(t))return this.css("zIndex",t);if(!this.length)return 0;for(var i=this.eq(0),s=void 0,n=void 0;i.length&&i[0]!==document;){if(s=i.css("position"),["absolute","relative","fixed"].includes(s)&&(n=parseInt(i.css("zIndex"),10),!e.isNaN(n)&&0!==n))return n;i=i.parent()}return 0},t.fn.topIndex=function(){var t=1e9;return function(){return this.zIndex(++t)}},t.fn.scrollParent=function(e){var i=this.css("position");if("fixed"===i)return t(document);var s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=!0,a=!1,r=void 0;try{for(var l,h=this.parents()[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value,u=t(c);if((!s||"static"!==u.css("position"))&&n.test(u.css("overflow")+u.css("overflow-y")+u.css("overflow-x")))return u}}catch(p){a=!0,r=p}finally{try{!o&&h["return"]&&h["return"]()}finally{if(a)throw r}}return t(document)}}(Svelto.$,Svelto._,Svelto,Svelto.Browser,Svelto.Pointer),function(t,e,i){var s=function n(t,e){var i=/[^\w\-\.:]/.test(t)?new Function(n.arg+",tmpl","var _e=_.escape"+n.helper+",_s='"+t.replace(n.regexp,n.func)+"';return _s;"):n.cache[t]=n.cache[t]||n(document.getElementById(t).innerHTML);return e?i(e,n):function(t){return i(t,n)}};s.cache={},s.cached={},s.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,s.func=function(t,e,i,s,n,o){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+s+")+'":"'+("+s+"==null?'':"+s+")+'":n?"';":o?"_s+='":void 0},s.arg="o",s.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",t.tmpl=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s){function n(e,i){var s=t.Event(e);return s.originalEvent=i,s}function o(e){d=e.target,v=t(d),_=!1,v.one(h.move,a),v.one(h.up,r),v.one(h.cancel,l)}function a(){_=!0}function r(t){if(!s.is.touchDevice||!_){var e=t.timeStamp||Date.now();v.trigger(n(h.tap,t)),e-g<=h.options.dbltap.interval&&v.trigger(n(h.dbltap,t)),g=e}_||v.off(h.move,a),v.off(h.cancel,l)}function l(){_||v.off(h.move,a),v.off(h.up,r)}var h={options:{events:{prefix:"spointer"},dbltap:{interval:300}}},c={tap:h.options.events.prefix+"tap",dbltap:h.options.events.prefix+"dbltap",click:"click",dblclick:"dblclick",down:s.is.touchDevice?"touchstart":"mousedown",move:s.is.touchDevice?"touchmove":"mousemove",up:s.is.touchDevice?"touchend":"mouseup",cancel:s.is.touchDevice?"touchcancel":"mouseleave",over:"mouseover",enter:"mouseenter",out:"mouseout",leave:"mouseleave"},u=function(e){c.hasOwnProperty(e)&&(h[e]=c[e],e in t.fn||(t.fn[e]=function(t){return t?this.on(h[e],t):this.trigger(h[e])}))};for(var p in c)u(p);var d=void 0,v=void 0,g=0,_=void 0;t(document).on(h.down,o),i.Pointer=h}(Svelto.$,Svelto._,Svelto,Svelto.Browser),function(t,e,i){var s=function(){function e(){_classCallCheck(this,e),this.widgetizers={}}return _createClass(e,[{key:"add",value:function(t,e,i){t in this.widgetizers||(this.widgetizers[t]=[]),this.widgetizers[t].push([e,i])}},{key:"get",value:function(){return this.widgetizers}},{key:"remove",value:function(t,e){if(t in this.widgetizers){for(var i=0,s=this.widgetizers[t].length;s>i;i++)this.widgetizers[t][i][0]===e&&this.widgetizers[t].splice(i,1);this.widgetizers[t].length||delete this.widgetizers[t]}}},{key:"on",value:function(t){for(var e in this.widgetizers)if(this.widgetizers.hasOwnProperty(e)){var i=this.widgetizers[e];this.worker(i,t.filter(e)),this.worker(i,t.find(e))}}},{key:"worker",value:function(e,i){var s=!0,n=!1,o=void 0;try{for(var a,r=i[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var l=a.value,h=!0,c=!1,u=void 0;try{for(var p,d=e[Symbol.iterator]();!(h=(p=d.next()).done);h=!0){var v=_slicedToArray(p.value,2),g=v[0],_=v[1];g(t(l),_)}}catch(f){c=!0,u=f}finally{try{!h&&d["return"]&&d["return"]()}finally{if(c)throw u}}}}catch(f){n=!0,o=f}finally{try{!s&&r["return"]&&r["return"]()}finally{if(n)throw o}}}}]),e}();i.Widgetize=new s,t.fn.widgetize=function(){return i.Widgetize.on(this),this},t(function(){t(document.body).widgetize()})}(Svelto.$,Svelto._,Svelto),function(t,e,i,s){var n={initializers:["configure","namespace","ready","widgetize","plugin"],init:function(t,e,i){var s=!0,n=!1,o=void 0;try{for(var a,r=this.initializers[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var l=a.value;this[l](t,e,i)}}catch(h){n=!0,o=h}finally{try{!s&&r["return"]&&r["return"]()}finally{if(n)throw o}}},instance:function(e,i,s){var n=e.config.name;return t.data(s,"instance."+n)||new e(i,s)},widgetizer:function(t,e){t[e]()},configure:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.config=e},namespace:function(t,i,s){if(e.isObject(s)){var n=e.capitalize(t.config.name);s[n]=t}},ready:function(e){t(e.ready)},widgetize:function(t){t.config.plugin&&e.isString(t.config.selector)&&s.add(t.config.selector,this.widgetizer,t.config.name)},plugin:function(i){if(i.config.plugin){var s=i.config.name;t.fn[s]=function(t){for(var s=e.isString(t)&&"_"!==t.charAt(0),o=arguments.length,a=Array(o>1?o-1:0),r=1;o>r;r++)a[r-1]=arguments[r];var l=!0,h=!1,c=void 0;try{for(var u,p=this[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,v=n.instance(i,t,d);if(s&&e.isFunction(v[t])){var g=v[t].apply(v,a);if(!e.isUndefined(g))return g}}}catch(_){h=!0,c=_}finally{try{!l&&p["return"]&&p["return"]()}finally{if(h)throw c}}return this}}}};i.Factory=n}(Svelto.$,Svelto._,Svelto,Svelto.Widgetize),function(t,e,i,s){var n=t(window),o={throttle:150,previous:void 0,current:void 0,__resize:function(){var t=this.get();t!==this.current&&(this.previous=this.current,this.current=t,n.trigger("breakpoint:change"))},get:function(){for(var t=e.sortBy(e.values(s)),i=n.width(),o=function(n,o){return i>=t[n]&&(n===o-1||i<t[n+1])?{v:e.findKey(s,function(e){return e===t[n]})}:void 0},a=0,r=t.length;r>a;a++){var l=o(a,r);if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return l.v}}};t(function(){o.current=o.get(),n.on("resize",e.throttle(o.__resize.bind(o),o.throttle))}),i.Breakpoint=o}(Svelto.$,Svelto._,Svelto,Svelto.Breakpoints),function(t,e,i){var s={keys:{BACKSPACE:8,COMMA:188,DEL:46,DELETE:46,DOWN:40,END:35,ENTER:13,ESC:27,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,SPACEBAR:32,TAB:9,UP:38},keystroke:{match:function(e,i){var n=["ctrl","cmd","meta","alt","shift"],o=i.split("+").map(function(t){return t.trim().toLowerCase()});if((o.includes("ctrl")||o.includes("cmd")||o.includes("meta"))!==t.hasCtrlOrCmd(e))return!1;if(o.includes("alt")!==e.altKey)return!1;if(o.includes("shift")!==e.shiftKey)return!1;var a=!0,r=!1,l=void 0;try{for(var h,c=o[Symbol.iterator]();!(a=(h=c.next()).done);a=!0){var u=h.value;if(!n.includes(u)&&e.keyCode!==s.keys[u.toUpperCase()]&&String.fromCharCode(e.keyCode).toLowerCase()!==u)return!1}}catch(p){r=!0,l=p}finally{try{!a&&c["return"]&&c["return"]()}finally{if(r)throw l}}return!0}}};i.Keyboard=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a,r,l){var h={name:"widget",plugin:!1,selector:!1,templates:{base:!1},options:{characters:{},regexes:{},errors:{},messages:{},attributes:{},datas:{},classes:{disabled:"disabled",hidden:"hidden"},selectors:{layout:".layout, body"},animations:{},breakpoints:{},keyboard:!0,keystrokes:{},callbacks:{}}},c=function(){function i(s,n){if(_classCallCheck(this,i),e.extend(this,this._getConfig(s,n)),!t.tmpl.cached[this.name]){for(var o in this.templates)if(this.templates.hasOwnProperty(o)&&this.templates[o]){var a=this.name+"."+o;a in t.tmpl.cache||(t.tmpl.cache[a]=t.tmpl(this.templates[o]))}t.tmpl.cached[this.name]=!0}this.$element=t(n||(this.templates.base?this._tmpl("base",this.options):void 0)),this.element=this.$element[0],this.$layout=this.$element.length?this.$element.parent().closest(this.options.selectors.layout):t(this.options.selectors.layout).first(),this.$layout=this.$layout.length?this.$layout:t(this.options.selectors.layout).first(),this.layout=this.$layout[0],this.$window=t(window),this.window=this.$window[0],this.$document=t(document),this.document=this.$document[0],this.$bindings=t(),this.element&&t.data(this.element,"instance."+this.name,this),this.guid=t.guid++,this.guc=this.name+this.guid,this.eventNamespace=".swns"+this.guid,this._variables(),this._init(),this._events(),this.___breakpoint(),this.__breakpoint()}return _createClass(i,[{key:"_getConfig",value:function(i,s){for(var n=[],o=Object.getPrototypeOf(this);o;)o.constructor.config&&n.push(o.constructor.config),o=Object.getPrototypeOf(o);if(n.push({}),n.reverse(),s){var a=t(s),r=e.last(n).name.toLowerCase(),l=a.data("options"),h=a.data(r+"-options");l&&n.push({options:l}),h&&n.push({options:h})}e.isPlainObject(i)&&n.push({options:i});var c=this._createOptions();return e.isPlainObject(c)&&n.push({options:c}),e.merge.apply(e,n)}},{key:"_createOptions",value:function(){}},{key:"destroy",value:function(){this._reset(),this._destroy(),this.element&&this.$element.removeData("instance."+this.name)}},{key:"_destroy",value:function(){}},{key:"_variables",value:function(){}},{key:"_init",value:function(){}},{key:"_events",value:function(){}},{key:"_reset",value:function(){this.$bindings.off(this.eventNamespace)}},{key:"widget",value:function(){return this.$element}},{key:"instance",value:function(){return this}},{key:"option",value:function(t,i){if(!t)return e.cloneDeep(this.options);if(e.isString(t)){if(e.isUndefined(i))return e.cloneDeep(e.get(this.options,t));this._setOption(t,i)}else if(e.isPlainObject(t))for(var s in t)t.hasOwnProperty(s)&&this._setOption(t,i)}},{key:"_setOption",value:function(t,i){e.set(this.options,t,i)}},{key:"enable",value:function(){this.$element.removeClass(this.options.classes.disabled)}},{key:"isEnabled",value:function(){return!this.isDisabled()}},{key:"disable",value:function(){this.$element.addClass(this.options.classes.disabled)}},{key:"isDisabled",value:function(){return this.$element.hasClass(this.options.classes.disabled)}},{key:"_on",value:function(i,s,n,o,a,r){var l=this;e.isBoolean(i)||(r=a,a=o,o=n,n=s,s=i,i=!1),s instanceof t||(r=a,a=o,o=n,n=s,s=this.$element),e.isString(o)||(r=a,a=o,o=!1),this.$bindings=this.$bindings.add(s);var h=function(){for(var t=arguments.length,e=Array(t),s=0;t>s;s++)e[s]=arguments[s];if(i||!l.$element.hasClass(l.options.classes.disabled))return a.apply(l,e)};h.guid=a.guid=a.guid||t.guid++,n=n.split(/\s+/).map(function(t){return t+l.eventNamespace}).join(" "),s[r?"one":"on"](n,o,h)}},{key:"_one",value:function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return this._on.apply(this,e.concat([!0]))}},{key:"_onHover",value:function(t,e){var i=this;e||(e=t,t=this.$element),this.$bindings=this.$bindings.add(t),this._on(t,o.enter,function(){return i._on.apply(i,_toConsumableArray(e))}),this._on(t,o.leave,function(){return i._off.apply(i,_toConsumableArray(e))})}},{key:"_off",value:function(e,i,s){var n=this;s||e instanceof t||(s=i,i=e,e=this.$element),i=i.split(/\s+/).map(function(t){return t+n.eventNamespace}).join(" "),e.off(i,s)}},{key:"_trigger",value:function(e,i,s){s||(i instanceof t.Event?s={}:(s=i||{},i=void 0)),i=t.Event(i),i.type=(this.name+":"+e).toLowerCase(),i.target=this.element;var n=i.originalEvent;if(n)for(var o in n)n.hasOwnProperty(o)&&(o in i||(i[o]=n[o]));return this.$element.trigger(i,s),!(this.options.callbacks[e].apply(this.element,[i].concat(s))===!1||i.isDefaultPrevented())}},{key:"___route",value:function(){this._on(!0,this.$window,"route",this.__route)}},{key:"___breakpoint",value:function(){this._on(this.$window,"breakpoint:change",this.__breakpoint)}},{key:"__breakpoint",value:function(){var t=r[l.current];for(var e in this.options.breakpoints.up)this.options.breakpoints.up.hasOwnProperty(e)&&t>=r[e]&&this[this.options.breakpoints.up[e]]();for(var e in this.options.breakpoints.down)this.options.breakpoints.down.hasOwnProperty(e)&&t<r[e]&&this[this.options.breakpoints.down[e]]();for(var e in this.options.breakpoints.range)this.options.breakpoints.range.hasOwnProperty(e)&&t===r[e]&&this[this.options.breakpoints.range[e]]()}},{key:"___keydown",value:function(){this._on(this.$document,"keydown",this.__keydown)}},{key:"__keydown",value:function(t){if(this.options.keyboard)for(var e in this.options.keystrokes)if(this.options.keystrokes.hasOwnProperty(e)){var i=!0,s=!1,n=void 0;try{for(var o,r=e.split(",")[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var l=o.value;if(a.keystroke.match(t,l))return this[this.options.keystrokes[e]](),t.preventDefault(),void t.stopImmediatePropagation()}}catch(h){s=!0,n=h}finally{try{!i&&r["return"]&&r["return"]()}finally{if(s)throw n}}}}},{key:"_delay",value:function(t,e){var i=this;return setTimeout(function(){return t.apply(i)},e||0)}},{key:"_defer",value:function(t){return this._delay(t)}},{key:"_frame",value:function(t){return requestAnimationFrame(t.bind(this))}},{key:"_throw",value:function(t){throw new Error(t)}},{key:"_throttle",value:function(i,s,n){var o=e.throttle(i,s,n);return o.guid=i.guid=i.guid||t.guid++,o}},{key:"_debounce",value:function(i,s,n){var o=e.debounce(i,s,n);return o.guid=i.guid=i.guid||t.guid++,o}},{key:"_tmpl",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=this.name+"."+e;return t.tmpl(s,i)}},{key:"before",value:function(){var t;(t=this.$element).before.apply(t,arguments)}},{key:"insertBefore",value:function(t){this.$element.insertBefore(t)}},{key:"after",value:function(){var t;(t=this.$element).after.apply(t,arguments)}},{key:"insertAfter",value:function(t){this.$element.insertAfter(t)}},{key:"prependTo",value:function(t){this.$element.prependTo(t)}},{key:"appendTo",value:function(t){this.$element.appendTo(t)}}],[{key:"ready",value:function(){}}]),i}();n.init(c,h,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Keyboard,Svelto.Breakpoints,Svelto.Breakpoint),function(t,e,i,s,n,o){var a={name:"expander",plugin:!0,selector:".expander",options:{classes:{open:"open"},selectors:{content:".expander-content"},animations:{open:o.normal,close:o.normal},callbacks:{open:e.noop,close:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$expander=this.$element,this.$content=this.$expander.find(this.options.selectors.content),this._isOpen=this.$expander.hasClass(this.options.classes.open)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isOpen:arguments[0];!!t!==this._isOpen&&(this._isOpen=!!t,this.$expander.toggleClass(this.options.classes.open,this._isOpen),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),e}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s,n){var o={name:"accordion",plugin:!0,selector:".accordion",options:{multiple:!1,selectors:{expander:s.Expander.config.selector},callbacks:{open:e.noop,close:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(this.options.selectors.expander),this.instances=this.$expanders.get().map(function(e){return t(e).expander("instance")})}},{key:"_events",value:function(){this.___open(),this.___close()}},{key:"___open",value:function(){this._on(!0,this.$expanders,"expander:open",this.__open)}},{key:"__open",value:function(t){this._trigger("open",{index:this.$expanders.index(t.target)}),this.__multiple(t.target)}},{key:"___close",value:function(){this._on(!0,this.$expanders,"expander:close",this.__close)}},{key:"__close",value:function(t){this._trigger("close",{index:this.$expanders.index(t.target)})}},{key:"__multiple",value:function(t){this.options.multiple||this.instances.forEach(function(e){return e.element!==t?e.close():!1})}},{key:"enable",value:function(){_get(Object.getPrototypeOf(s.prototype),"enable",this).call(this),e.invoke(this.instances,"enable")}},{key:"disable",value:function(){e.invoke(this.instances,"disable")}},{key:"isOpen",value:function(t){return this.instances[t].isOpen()}},{key:"toggle",value:function(t,e){this.instances[t].toggle(e)}},{key:"open",value:function(t){this.toggle(t,!0)}},{key:"close",value:function(t){this.toggle(t,!1)}}]),s}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"autogrowInput",plugin:!0,selector:"input.autogrow",options:{callbacks:{change:e.noop}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$input=this.$element,this.ctx=document.createElement("canvas").getContext("2d")}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this.___inputChange()}},{key:"_getNeededWidth",value:function(){return this.ctx.font=this.$input.css("font"),this.ctx.measureText(this.$input.val()).width}},{key:"___inputChange",value:function(){this._on(!0,"input change",this._update)}},{key:"_update",value:function(){var t=this._getNeededWidth();t!==this._prevWidth&&(this._prevWidth=t,this.$input.width(t),this._trigger("change"))}}]),e}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"autogrowTextarea",plugin:!0,selector:"textarea.autogrow",options:{callbacks:{change:e.noop}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$textarea=this.$element,this.$tempTextarea=t("<textarea>").css({position:"fixed",visibility:"hidden",padding:0,"min-height":0,height:0})}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this.___inputChange()}},{key:"_getNeededHeight",value:function(){this.$tempTextarea.css("font",this.$textarea.css("font")).val(this.$textarea.val()).appendTo(this.$layout);var t=this.$tempTextarea[0].scrollHeight;return this.$tempTextarea.detach(),t}},{key:"___inputChange",value:function(){this._on(!0,"input change",this._update)}},{key:"_update",value:function(){var t=this._getNeededHeight();t!==this._prevHeight&&(this.$textarea.height(t),this._prevHeight=t,this._trigger("change"))}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){t.fn.blurred=function(t){return this.toggleClass("blurred",t)}}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n){var o={name:"boilerplate",plugin:!1,selector:!1,templates:{base:!1},options:{characters:{},regexes:{},errors:{},messages:{},attributes:{},datas:{},classes:{},selectors:{},animations:{},breakpoints:{},keyboard:!0,keystrokes:{},callbacks:{}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){}},{key:"_init",value:function(){}},{key:"_events",value:function(){}},{key:"_destroy",value:function(){}}],[{key:"widgetize",value:function(){}}]),e}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){t.fn.btEach=function(t,i){return e.btEach(this,t,i)}}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s=function(){function t(){_classCallCheck(this,t),this.set.apply(this,arguments)}return _createClass(t,[{key:"set",value:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this}},{key:"once",value:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){return e.action()},t),this}},{key:"play",value:function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remainingTime),this.isActive=!0),this}},{key:"pause",value:function(){return this.isActive&&(this.isActive=!1,this.remainingTime-=Date.now()-this.last,this.clearTimer()),this}},{key:"stop",value:function(){return this.isActive=!1,this.remainingTime=this.intervalTime,this.clearTimer(),this}},{key:"toggle",value:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this}},{key:"reset",value:function(){return this.isActive=!1,this.play(!0),this}},{key:"clearTimer",value:function(){clearTimeout(this.timeoutObject)}},{key:"setTimer",value:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remainingTime=t,this.last=Date.now(),this.clearTimer(),this.timeoutObject=setTimeout(function(){return e.go()},t)}},{key:"go",value:function(){this.isActive&&(this.action(),this.setTimer())}},{key:"remaining",value:function(t){return e.isUndefined(t)?this.remainingTime:(this.remainingTime=t,this)}}]),t}();i.Timer=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a,r){var l={name:"carousel",plugin:!0,selector:".carousel",options:{startIndex:0,wrap:!0,cycle:!1,interval:5e3,intervalMinimumRemaining:1e3,classes:{previous:"previous",current:"current"},selectors:{previous:".carousel-previous",next:".carousel-next",indicator:".carousel-indicator",itemsWrp:".carousel-items",item:".carousel-items > *"},animations:{cycle:r.normal},keystrokes:{"left, up":"previous","right, down, space":"next"},callbacks:{change:e.noop}}},h=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$carousel=this.$element,this.$previous=this.$carousel.find(this.options.selectors.previous),this.$next=this.$carousel.find(this.options.selectors.next),this.$indicators=this.$carousel.find(this.options.selectors.indicator),this.$itemsWrp=this.$carousel.find(this.options.selectors.itemsWrp),this.$items=this.$carousel.find(this.options.selectors.item),this.maxIndex=this.$items.length-1,this._previous=!1,this._current=!1,this.timer=new a(this.next.bind(this),this.options.interval,!1)}},{key:"_init",value:function(){var t=this.$items.filter("."+this.options.classes.current).first();t.length?this._current=this._getItemObj(this.$items.index(t)):this.set(this.options.startIndex)}},{key:"_events",value:function(){this.___previousTap(),this.___nextTap(),this.___indicatorTap(),this.___keydown(),this.___cycle()}},{key:"_destroy",value:function(){this.timer.stop()}},{key:"_sanitizeIndex",value:function(t){return t=Number(t),e.isNaN(t)?NaN:e.clamp(t,0,this.maxIndex)}},{key:"___previousTap",value:function(){this._on(this.$previous,o.tap,this.previous)}},{key:"___nextTap",value:function(){this._on(this.$next,o.tap,this.next)}},{key:"___indicatorTap",value:function(){this._on(this.$indicators,o.tap,this.__indicatorTap)}},{key:"__indicatorTap",value:function(t){this.set(this.$indicators.index(t.currentTarget))}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___cycle",value:function(){this._on(!0,this.$itemsWrp,o.enter,this.__cycleEnter),this._on(!0,this.$itemsWrp,o.leave,this.__cycleLeave)}},{key:"__cycleEnter",value:function(){this.options.cycle&&this.timer.pause()}},{key:"__cycleLeave",value:function(){this.options.cycle&&(this.timer.remaining(Math.max(this.options.intervalMinimumRemaining,this.timer.remaining())),this.timer.play())}},{key:"_getItemObj",value:function(t){return{index:t,$item:this.$items.eq(t),$indicator:this.$indicators.eq(t)}}},{key:"_getPrevIndex",value:function(t){return t>0?t-1:this.options.wrap?this.maxIndex:0}},{key:"_getNextIndex",value:function(t){return t<this.maxIndex?t+1:this.options.wrap?0:this.maxIndex}},{key:"_updatePreviousNext",value:function(){this.$previous.toggleClass(this.options.classes.disabled,0===this._current.index&&!this.options.wrap),this.$next.toggleClass(this.options.classes.disabled,this._current.index===this.maxIndex&&!this.options.wrap)}},{key:"enable",value:function(){_get(Object.getPrototypeOf(i.prototype),"enable",this).call(this),(this.options.cycle||this._wasCycling)&&this.play()}},{key:"disable",value:function(){_get(Object.getPrototypeOf(i.prototype),"disable",this).call(this),this._wasCycling=this.options.cycle,this.options.cycle&&this.stop()}},{key:"get",value:function(){return this._current.index}},{key:"set",value:function(t){t=this._sanitizeIndex(t),this._lock||e.isNaN(t)||this._current&&t===this._current.index||(this._lock=!0,this._current&&(this._current.$item.removeClass(this.options.classes.current).addClass(this.options.classes.previous),
this._current.$indicator.removeClass(this.options.classes.current),this._previous=this._current),this._current=this._getItemObj(t),this._current.$item.addClass(this.options.classes.current),this._current.$indicator.addClass(this.options.classes.current),this._updatePreviousNext(),this.options.cycle&&this.timer.stop(),this._delay(function(){this._previous&&this._previous.$item.removeClass(this.options.classes.previous),this.options.cycle&&this.timer.play(),this._lock=!1,this._trigger("change")},this.options.animations.cycle))}},{key:"previous",value:function(){this.set(this._getPrevIndex(this._current.index))}},{key:"next",value:function(){this.set(this._getNextIndex(this._current.index))}},{key:"play",value:function(){this.options.cycle=!0,this.timer.remaining(Math.max(this.options.intervalMinimumRemaining,this.timer.remaining())),this.timer.play()}},{key:"pause",value:function(){this.options.cycle=!1,this.timer.pause()}},{key:"stop",value:function(){this.options.cycle=!1,this.timer.stop()}},{key:"reset",value:function(){this.options.cycle=!0,this.timer.reset()}}]),i}(s.Widget);n.init(h,l,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Timer,Svelto.Animations),function(t,e,i,s,n){var o={name:"targeter",options:{widget:!1,target:!1,datas:{target:"target"}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this._targetSelector=this.options.target||this.$element.data(this.options.datas.target),this.$target=this._targetSelector?t(this._targetSelector):this.$element.closest(this.options.widget.config.selector),this._targetInstance=this.$target[this.options.widget.config.name]("instance")}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o){var a={name:"closer",options:{methods:{isOpen:"isOpen",close:"close"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this._on(o.tap,this.__tap)}},{key:"__tap",value:function(t){this.close(t)}},{key:"isOpen",value:function(){return this._targetInstance[this.options.methods.isOpen]()}},{key:"close",value:function(t){return this._targetInstance[this.options.methods.close](this.element,t)}}]),e}(s.Targeter);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i){var s=function(){function t(e,i){_classCallCheck(this,t),this.set(e,i)}return _createClass(t,[{key:"set",value:function(t,i){if(i)switch(i.toLowerCase()){case"hex":return this.setHex(t);case"rgb":return this.setRgb(t);case"hsv":return this.setHsv(t);case"hsl":return this.setHsl(t)}if(e.isPlainObject(t)){if("r"in t&&"g"in t&&"b"in t)return Number(t.r)>99||Number(t.g)>99||Number(t.b)>99?this.setRgb(t):this.setHex(t);if("h"in t&&"s"in t){if("l"in t)return this.setHsl(t);if("v"in t)return this.setHsv(t)}}else if(e.isString(t)){if(t=e.trim(t,"#"),/^[0-9a-f]{6}$/i.test(t))return this.setHex({r:t[0]+t[1],g:t[2]+t[3],b:t[4]+t[5]});if(/^[0-9a-f]{3}$/i.test(t))return this.setHex({r:t[0].repeat(2),g:t[1].repeat(2),b:t[2].repeat(2)})}throw new Error("Invalid color")}},{key:"setHex",value:function(t){this.hex=e.cloneDeep(t)}},{key:"setRgb",value:function(e){this.hex=t.rgb2hex(e)}},{key:"setHsv",value:function(e){this.hex=t.hsv2hex(e)}},{key:"setHsl",value:function(e){this.hex=t.hsl2hex(e)}},{key:"getHex",value:function(){return this.hex}},{key:"getRgb",value:function(){return t.hex2rgb(this.hex)}},{key:"getHsv",value:function(){return t.hex2hsv(this.hex)}},{key:"getHsl",value:function(){return t.hex2hsl(this.hex)}}],[{key:"hex2rgb",value:function(e){return{r:t.hex2dec(e.r),g:t.hex2dec(e.g),b:t.hex2dec(e.b)}}},{key:"hex2hsv",value:function(e){return t.rgb2hsv(t.hex2rgb(e))}},{key:"hex2hsl",value:function(e){return t.hsv2hsl(t.hex2hsv(e))}},{key:"rgb2hex",value:function(e){return{r:t.dec2hex(e.r),g:t.dec2hex(e.g),b:t.dec2hex(e.b)}}},{key:"rgb2hsv",value:function(t){var e=t.r/255,i=t.g/255,s=t.b/255,n=void 0,o=void 0,a=Math.max(e,i,s),r=a-Math.min(e,i,s),l=function(t){return(a-t)/6/r+.5};if(0===r)n=o=0;else{o=r/a;var h=l(e),c=l(i),u=l(s);e===a?n=u-c:i===a?n=1/3+h-u:s===a&&(n=2/3+c-h),0>n?n+=1:n>1&&(n-=1)}return{h:360*n,s:100*o,v:100*a}}},{key:"rgb2hsl",value:function(e){return t.hsv2hsl(t.rgb2hsv(e))}},{key:"hsv2hex",value:function(e){return t.rgb2hex(t.hsv2rgb(e))}},{key:"hsv2rgb",value:function(t){var e=void 0,i=void 0,s=void 0,n=t.h,o=t.s,a=t.v;if(o/=100,a/=100,0===o)e=i=s=a;else{var r=void 0,l=void 0,h=void 0,c=void 0,u=void 0;switch(n/=60,r=Math.floor(n),l=n-r,h=a*(1-o),c=a*(1-o*l),u=a*(1-o*(1-l)),r){case 0:e=a,i=u,s=h;break;case 1:e=c,i=a,s=h;break;case 2:e=h,i=a,s=u;break;case 3:e=h,i=c,s=a;break;case 4:e=u,i=h,s=a;break;default:e=a,i=h,s=c}}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}},{key:"hsv2hsl",value:function(t){var e=t.s/100,i=t.v/100,s=(2-e)*i,n=e*i;return{h:t.h,s:0!==n?n/(1>=s?s:2-s)*100:0,l:s/2*100}}},{key:"hsl2hex",value:function(e){return t.hsv2hex(t.hsl2hsv(e))}},{key:"hsl2rgb",value:function(e){return t.hsv2rgb(t.hsl2hsv(e))}},{key:"hsl2hsv",value:function(t){var e=t.l/100*2,i=t.s/100*(1>=e?e:2-e);return{h:t.h,s:e+i!==0?2*i/(e+i)*100:0,v:(e+i)/2*100}}},{key:"dec2hex",value:function(t){return e.padLeft(parseInt(t,10).toString(16),2,"0")}},{key:"hex2dec",value:function(t){return parseInt(t,16)}}]),t}();i.Color=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a){var r={name:"colorpicker",plugin:!0,selector:".colorpicker",options:{exporters:{hex:function h(t){var h=t.getHex();return"#"+h.r+h.g+h.b}},startColor:"#ff0000",format:{type:"hex",data:void 0},live:!1,selectors:{sb:{wrp:".colorpicker-sb",handler:".colorpicker-sb .colorpicker-handler"},hue:{wrp:".colorpicker-hue",handler:".colorpicker-hue .colorpicker-handler"},input:"input"},callbacks:{change:e.noop}}},l=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$colorpicker=this.$element,this.$sbWrp=this.$colorpicker.find(this.options.selectors.sb.wrp),this.$sbHandler=this.$colorpicker.find(this.options.selectors.sb.handler),this.$hueWrp=this.$colorpicker.find(this.options.selectors.hue.wrp),this.$hueHandler=this.$colorpicker.find(this.options.selectors.hue.handler),this.$input=this.$colorpicker.find(this.options.selectors.input),this.sbWrpSize=this.$sbWrp.width(),this.hueWrpHeight=this.sbWrpSize,this.hsv=!1}},{key:"_init",value:function(){this.set(this.$input.val()),this.hsv||this.set(this.options.startColor)}},{key:"_events",value:function(){this.___change(),this.___sbKeydown(),this.___sbDrag(),this.___hueKeydown(),this.___hueDrag()}},{key:"_destroy",value:function(){this.$sbHandler.draggable("destroy"),this.$hueHandler.draggable("destroy")}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"___sbKeydown",value:function(){this._onHover(this.$sbWrp,[this.$document,"keydown",this.__sbKeydown])}},{key:"__sbKeydown",value:function(t){switch(t.keyCode){case a.keys.UP:this.hsv.v=Math.min(100,this.hsv.v+1);break;case a.keys.RIGHT:this.hsv.s=Math.min(100,this.hsv.s+1);break;case a.keys.DOWN:this.hsv.v=Math.max(0,this.hsv.v-1);break;case a.keys.LEFT:this.hsv.s=Math.max(0,this.hsv.s-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateSb(),this._updateInput()}},{key:"___sbDrag",value:function(){this.$sbHandler.draggable({draggable:this.isEnabled.bind(this),proxy:{$element:this.$sbWrp},constrainer:{$element:this.$sbWrp,center:!0},callbacks:{move:this._throttle(this.__sbDragMove.bind(this),100),end:this.__sbDragEnd.bind(this)}})}},{key:"_sbDragSet",value:function(t,i){this.hsv.s=100*e.clamp(t.X,0,this.sbWrpSize)/this.sbWrpSize,this.hsv.v=100-100*e.clamp(t.Y,0,this.sbWrpSize)/this.sbWrpSize,this._updateSb(),i&&this._updateInput()}},{key:"__sbDragMove",value:function(t,e){this._sbDragSet(e.dragXY,this.options.live)}},{key:"__sbDragEnd",value:function(t,e){this._sbDragSet(e.dragXY,!0)}},{key:"___hueKeydown",value:function(){this._onHover(this.$hueWrp,[this.$document,"keydown",this.__hueKeydown])}},{key:"__hueKeydown",value:function(t){switch(t.keyCode){case a.keys.UP:this.hsv.h=Math.min(359,this.hsv.h+1);break;case a.keys.DOWN:this.hsv.h=Math.max(0,this.hsv.h-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateHue(),this._updateInput()}},{key:"___hueDrag",value:function(){this.$hueHandler.draggable({draggable:this.isEnabled.bind(this),axis:"y",proxy:{$element:this.$hueWrp},constrainer:{$element:this.$hueWrp},callbacks:{move:this._throttle(this.__hueDragMove.bind(this),50),end:this.__hueDragEnd.bind(this)}})}},{key:"_hueDragSet",value:function(t,i){this.hsv.h=359-359*e.clamp(t.Y,0,this.hueWrpHeight)/this.hueWrpHeight,this._updateHue(),i&&this._updateInput()}},{key:"__hueDragMove",value:function(t,e){this._hueDragSet(e.dragXY,this.options.live)}},{key:"__hueDragEnd",value:function(t,e){this._hueDragSet(e.dragXY,!0)}},{key:"_updateSb",value:function(){var t=o.hsv2hsl(this.hsv),e=this.sbWrpSize/100*this.hsv.s,i=this.sbWrpSize/100*(100-this.hsv.v);this.$sbHandler.hsl(t.h,t.s,t.l).translate(e,i)}},{key:"_updateHue",value:function(){var t=o.hsv2hsl(this.hsv),e=this.hueWrpHeight/100*(100-this.hsv.h/360*100);this.$hueHandler.hsl(this.hsv.h,100,50).translateY(e),this.$sbHandler.hsl(t.h,t.s,t.l),this.$sbWrp.hsl(this.hsv.h,100,50)}},{key:"_updateInput",value:function(){this.$input.val(this._export()).trigger("change"),this._trigger("change")}},{key:"_update",value:function(){this._updateSb(),this._updateHue(),this._updateInput()}},{key:"_export",value:function(){return this.options.exporters[this.options.format.type](new o(this.hsv,"hsv"),this.options.format.data)}},{key:"get",value:function(){return this._export()}},{key:"set",value:function(t){if(t=e.attempt(function(){return new o(t)}),!e.isError(t)){var i=t.getHsv();e.isEqual(this.hsv,i)||(this.hsv=i,this._update())}}}]),i}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Color,Svelto.Keyboard),function(t,e,i){var s={encoder:encodeURIComponent,decoder:decodeURIComponent,get:function(t){return t?this.decoder(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+this.encoder(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(t,e,i,s,n,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(i)switch(i.constructor){case Number:a=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:a="; expires="+i;break;case Date:a="; expires="+i.toUTCString()}return document.cookie=this.encoder(t)+"="+this.encoder(e)+a+(n?"; domain="+n:"")+(s?"; path="+s:"")+(o?"; secure":""),!0},remove:function(t,e,i){return this.has(t)?(document.cookie=this.encoder(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0):!1},has:function(t){return t?new RegExp("(?:^|;\\s*)"+this.encoder(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function n(){var n=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);return e.map(n,this.decoder)}};i.Cookie=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a){var r={name:"datepicker",plugin:!0,selector:".datepicker",options:{exporters:{YYYYMMDD:function(t,i){return[e.padLeft(t.getUTCFullYear(),4,0),e.padLeft(parseInt(t.getUTCMonth(),10)+1,2,0),e.padLeft(t.getUTCDate(),2,0)].join(i.separator)},UNIXTIMESTAMP:function(t){return Math.floor(t.getTime()/1e3)},ISO:function(t){return t.toISOString()},UTC:function(t){return t.toUTCString()}},importers:{YYYYMMDD:function(t,e){var i=t.split(e.separator);return new Date(Date.UTC(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10)))},UNIXTIMESTAMP:function(t){return new Date(e.isString(t)&&t.length?1e3*t:NaN)},ISO:function(t){return new Date(t)},UTC:function(t){return new Date(t)}},months:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDayOfWeek:0,date:{min:!1,max:!1,today:!1,current:!1,selected:!1},format:{type:"UNIXTIMESTAMP",data:{separator:"/"}},classes:{today:"datepicker-day-today",selected:"datepicker-day-selected",clamped:"datepicker-day-clamped"},selectors:{navigation:{previous:".datepicker-navigation .previous",next:".datepicker-navigation .next",today:".datepicker-navigation .today"},day:{previous:".datepicker-days .previous",current:".datepicker-days :not(.previous):not(.next)",next:".datepicker-days .next",today:".datepicker-day-today",selected:".datepicker-day-selected",clamped:".datepicker-day-clamped"},title:".datepicker-title",input:"input"},keystrokes:{"up, left":"previousMonth","right, down":"nextMonth"},callbacks:{change:e.noop}}},l=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$datepicker=this.$element,this.$input=this.$datepicker.find(this.options.selectors.input),this.$navigationPrev=this.$datepicker.find(this.options.selectors.navigation.previous),this.$navigationNext=this.$datepicker.find(this.options.selectors.navigation.next),this.$navigationToday=this.$datepicker.find(this.options.selectors.navigation.today),this.$navigationTitle=this.$datepicker.find(this.options.selectors.title),this.$daysPrev=this.$datepicker.find(this.options.selectors.day.previous),this.$daysCurrent=this.$datepicker.find(this.options.selectors.day.current),this.$daysNext=this.$datepicker.find(this.options.selectors.day.next),this.$daysAll=this.$daysPrev.add(this.$daysCurrent).add(this.$daysNext),this.$daySelected=this.$daysAll.filter(this.options.selectors.day.selected),this.$dayToday=this.$daysAll.filter(this.options.selectors.day.today)}},{key:"_init",value:function(){this._unhighlightSelected(),this._unhighlightToday(),this.options.date.today instanceof Date||(this.options.date.today=new Date),this.set(this.$input.val()),this.options.date.current=this._clampDate(this.options.date.current||this.options.date.selected||this.options.date.today),this._refresh()}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___navigation(),this.___dayTap()}},{key:"_cloneDate",value:function(t){return new Date(t.getTime())}},{key:"_clampDate",value:function(t){return new Date(e.clamp(t.getTime(),this.options.date.min?this.options.date.min.getTime():void 0,this.options.date.max?this.options.date.max.getTime():void 0))}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(t,e){e&&e._datepickerId===this.guid||this.set(this.$input.val())}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___navigation",value:function(){this._on(this.$navigationPrev,o.tap,this.previousMonth),this._on(this.$navigationNext,o.tap,this.nextMonth),this._on(this.$navigationToday,o.tap,this.navigateToToday)}},{key:"___dayTap",value:function(){this._on(o.tap,this.options.selectors.day.current,this.__dayTap)}},{key:"__dayTap",value:function(i){if(e.isUndefined(i.button)||i.button===a.buttons.LEFT){var s=t(i.currentTarget);if(!s.is(this.options.selectors.day.selected)&&!s.is(this.options.selectors.day.clamped)){var n=parseInt(s.text(),10),o=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),n,12);this.set(o)}}}},{key:"_buildCalendar",value:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,i-=this.options.firstDayOfWeek%7,i=0>i?7+i:i;var s=31-t,n=i,o=9-s-n;this.$daysPrev.slice(0,o).addClass(this.options.classes.hidden),this.$daysPrev.slice(o,o+n).removeClass(this.options.classes.hidden),this.$daysPrev.slice(o+n).addClass(this.options.classes.hidden),this.$daysCurrent.slice(28,e).removeClass(this.options.classes.hidden),this.$daysCurrent.slice(e).addClass(this.options.classes.hidden),this.$daysCurrent.removeClass(this.options.classes.clamped),this.options.date.min&&this.options.date.current.getFullYear()===this.options.date.min.getFullYear()&&this.options.date.current.getMonth()===this.options.date.min.getMonth()&&this.$daysCurrent.slice(0,this.options.date.min.getDate()-1).addClass(this.options.classes.clamped),this.options.date.max&&this.options.date.current.getFullYear()===this.options.date.max.getFullYear()&&this.options.date.current.getMonth()===this.options.date.max.getMonth()&&this.$daysCurrent.slice(this.options.date.max.getDate()).addClass(this.options.classes.clamped),n=(e+i)%7,n=0===n?0:7-n,this.$daysNext.slice(0,n).removeClass(this.options.classes.hidden),this.$daysNext.slice(n).addClass(this.options.classes.hidden)}},{key:"_highlightDay",value:function(t,e){if(t instanceof Date){var i=12*t.getFullYear()+t.getMonth()-(12*this.options.date.current.getFullYear()+this.options.date.current.getMonth());switch(i){case-1:return this.$daysPrev.eq(t.getDate()-23).addClass(e);case 0:return this.$daysCurrent.eq(t.getDate()-1).addClass(e);case 1:return this.$daysNext.eq(t.getDate()-1).addClass(e)}}return!1}},{key:"_unhighlightSelected",value:function(){this.$daySelected.length&&this.$daySelected.removeClass(this.options.classes.selected)}},{key:"_highlightSelected",value:function(){this.options.date.selected&&(this.$daySelected=this._highlightDay(this.options.date.selected,this.options.classes.selected))}},{key:"_unhighlightToday",value:function(){this.$dayToday.length&&this.$dayToday.removeClass(this.options.classes.today)}},{key:"_highlightToday",value:function(){this.options.date.today&&(this.$dayToday=this._highlightDay(this.options.date.today,this.options.classes.today))}},{key:"_updateNavigation",value:function(){if(this.options.date.min&&this.$navigationPrev.length){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0);this.$navigationPrev.toggleClass(this.options.classes.disabled,t.getTime()<this.options.date.min.getTime())}if(this.options.date.max&&this.$navigationNext.length){var e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,1);this.$navigationNext.toggleClass(this.options.classes.disabled,e.getTime()>this.options.date.max.getTime())}this.$navigationToday.length&&this.$navigationToday.toggleClass(this.options.classes.disabled,this.options.date.current.getFullYear()===this.options.date.today.getFullYear()&&this.options.date.current.getMonth()===this.options.date.today.getMonth())}},{key:"_updateTitle",value:function(){this.$navigationTitle.text(this.options.months[this.options.date.current.getMonth()]+" "+this.options.date.current.getFullYear())}},{key:"_updateInput",value:function(){this.options.date.selected&&this.$input.val(this._export(this.options.date.selected)).trigger("change",{_datepickerId:this.guid})}},{key:"_export",value:function(t){return this.options.exporters[this.options.format.type](t,this.options.format.data)}},{key:"_import",value:function(t){return this.options.importers[this.options.format.type](t,this.options.format.data)}},{key:"_refresh",value:function(){this._unhighlightSelected(),this._unhighlightToday(),this._buildCalendar(),this._updateNavigation(),this._highlightSelected(),this._highlightToday(),this._updateTitle()}},{key:"get",value:function(t){return this.options.date.selected?t?this._export(this.options.date.selected):this._cloneDate(this.options.date.selected):!1}},{key:"set",value:function(t){t=t instanceof Date?t:this._import(t),e.isNaN(t.valueOf())||(t=this._clampDate(t),this.options.date.selected&&t.getTime()===this.options.date.selected.getTime()||(this.options.date.selected&&this._unhighlightSelected(),this.options.date.selected=t,this.options.date.current&&(this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?this._highlightSelected():(this.options.date.current=this._cloneDate(this.options.date.selected),this._refresh())),this._updateInput(),this._trigger("change")))}},{key:"navigateToToday",value:function(){(this.options.date.current.getFullYear()!==this.options.date.today.getFullYear()||this.options.date.current.getMonth()!==this.options.date.today.getMonth())&&(this.options.date.current=this._clampDate(this.options.date.today),this._refresh())}},{key:"navigateMonth",value:function(t){e.isNaN(t)||(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this.options.date.current=this._clampDate(this.options.date.current),this._refresh())}},{key:"previousMonth",value:function(){this.navigateMonth(-1)}},{key:"nextMonth",value:function(){this.navigateMonth(1)}}]),s}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Mouse),function(t,e,i,s,n,o,a,r,l){var h={name:"draggable",plugin:!0,selector:".draggable",options:{draggable:e["true"],threshold:a.is.touchDevice?5:0,onlyHandlers:!1,revert:!1,axis:!1,$helper:!1,proxy:{$element:!1,noMotion:!0},constrainer:{$element:!1,center:!1,tolerance:{x:0,y:0}},modifiers:{x:e["true"],y:e["true"]},scroll:{active:!1,speed:20,sensitivity:50},classes:{dragging:"draggable-dragging",layoutDragging:"draggable-layout-dragging",reverting:"draggable-reverting"},selectors:{handler:".draggable-handler"},animations:{revert:o.fast},callbacks:{start:e.noop,move:e.noop,end:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.draggable=this.element,this.$draggable=this.$element,this.$handlers=this.options.onlyHandlers?this.$draggable.find(this.options.selectors.handler):this.$draggable}},{key:"_events",value:function(){this.___down(),this.___proxy()}},{key:"___down",value:function(){this._on(this.$handlers,r.down,this.__down)}},{key:"___proxy",value:function(){this.options.proxy.$element&&this._on(this.options.proxy.$element,r.down,this.__down)}},{key:"_centerToPoint",value:function(t,e){var i=this.$movable.offset(),s={X:t.X-(i.left+this.$movable.outerWidth()/2),Y:t.Y-(i.top+this.$movable.outerHeight()/2)};return this._actionMove(s,e)}},{key:"_actionMove",value:function(t,i){var s={X:this.proxyXY?this.proxyXY.X:this.initialXY.X,Y:this.proxyXY?this.proxyXY.Y:this.initialXY.Y};if(!this.inited){if(this.inited=!0,this.options.constrainer.$element){var n=this.options.constrainer.$element.offset(),o=this.$movable.offset();if("y"!==this.options.axis){var a=this.options.constrainer.center?this.$movable.outerWidth()/2:0;this.translateX_min=n.left-(o.left-s.X)-a,this.translateX_max=n.left+this.options.constrainer.$element.outerWidth()-(o.left-s.X+this.$movable.outerWidth())+a}if("x"!==this.options.axis){var r=this.options.constrainer.center?this.$movable.outerHeight()/2:0;this.translateY_min=n.top-(o.top-s.Y)-r,this.translateY_max=n.top+this.options.constrainer.$element.outerHeight()-(o.top-s.Y+this.$movable.outerHeight())+r}}i||this._addClasses()}var l=s.X,h=s.Y;"y"!==this.options.axis&&(l+=t.X,this.options.constrainer.$element&&(l=e.clamp(l,this.translateX_min-this.options.constrainer.tolerance.x,this.translateX_max+this.options.constrainer.tolerance.x))),"x"!==this.options.axis&&(h+=t.Y,this.options.constrainer.$element&&(h=e.clamp(h,this.translateY_min-this.options.constrainer.tolerance.y,this.translateY_max+this.options.constrainer.tolerance.y)));var c={X:this.options.modifiers.x(l),Y:this.options.modifiers.y(h)};if(c.X===!1&&c.Y===!1)return s;var u={X:e.isBoolean(c.X)?c.X?l:s.X:c.X,Y:e.isBoolean(c.Y)?c.Y?h:s.Y:c.Y};return this.$movable.translate(u.X,u.Y),this.motion=!0,u}},{key:"_toggleClasses",value:function(t){this.$layout.toggleClass(this.options.classes.layoutDragging,t),this.$movable.toggleClass(this.options.classes.dragging,t)}},{key:"_addClasses",value:function(){this._toggleClasses(!0)}},{key:"_removeClasses",value:function(){this._toggleClasses(!1)}},{key:"_getHelper",value:function(){return e.isFunction(this.options.$helper)?this.options.$helper():this.options.$helper instanceof t&&this.options.$helper.length?this.options.$helper:!1}},{key:"_initHelper",value:function(){this.$helper.appendTo(this.$layout)}},{key:"_destroyHelper",value:function(){this.$helper.remove()}},{key:"_autoscroll",value:function(t){if(this.options.scroll.active)if(this.scrollInited||(this.$scrollParent=this.$movable.scrollParent(),this.scrollParent=this.$scrollParent[0],this.scrollParentIsDocument=this.scrollParent===document||"HTML"===this.scrollParent.tagName,this.scrollInited=!0),this.scrollParentIsDocument){if("x"!==this.options.axis){var e=this.$document.scrollTop();t.Y-e<=this.options.scroll.sensitivity?this.$document.scrollTop(e-this.options.scroll.speed):this.$window.height()-(t.Y-e)<=this.options.scroll.sensitivity&&this.$document.scrollTop(e+this.options.scroll.speed)}if("y"!==this.options.axis){var i=this.$document.scrollLeft();t.X-i<=this.options.scroll.sensitivity?this.$document.scrollLeft(i-this.options.scroll.speed):this.$window.width()-(t.X-i)<=this.options.scroll.sensitivity&&this.$document.scrollLeft(i+this.options.scroll.speed)}}else{var s=this.$scrollParent.offset();"x"!==this.options.axis&&(s.top+this.scrollParent.offsetHeight-t.Y<=this.options.scroll.sensitivity?this.scrollParent.scrollTop+=this.options.scroll.speed:t.Y-s.top<=this.options.scroll.sensitivity&&(this.scrollParent.scrollTop-=this.options.scroll.speed)),"y"!==this.options.axis&&(s.left+this.scrollParent.offsetWidth-t.X<=this.options.scroll.sensitivity?this.scrollParent.scrollLeft+=this.options.scroll.speed:t.X-s.left<=this.options.scroll.sensitivity&&(this.scrollParent.scrollLeft-=this.options.scroll.speed))}}},{key:"_revert",value:function(){this._lock=!0,this._frame(function(){this.$movable.addClass(this.options.classes.reverting),this._frame(function(){this.$movable.translate(this.initialXY.X,this.initialXY.Y),this._delay(function(){this.$movable.removeClass(this.options.classes.reverting),this._lock=!1},this.options.animations.revert)})})}},{key:"__down",value:function(e){!this._lock&&this.options.draggable()&&(e.preventDefault(),e.stopImmediatePropagation(),this.inited=!1,this.motion=!1,this.scrollInited=!1,this.$helper=this._getHelper(),this.helper=this.$helper?this.$helper[0]:!1,this.$movable=this.$helper||this.$draggable,this.startEvent=e,this.startXY=t.eventXY(e),this.$helper?(this._initHelper(),this.initialXY=this.$movable.translate(),this.initialXY=this._centerToPoint(this.startXY)):this.initialXY=this.$movable.translate(),this.isProxyed=this.options.proxy.$element&&e.currentTarget===this.options.proxy.$element[0],this.proxyXY=!1,this._trigger("start",{draggable:this.draggable,helper:this.helper,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY}),this._on(!0,this.$document,r.move,this.__move),this._one(!0,this.$document,r.up,this.__up),this._one(!0,this.$document,r.cancel,this.__cancel))}},{key:"__move",value:function(e){var i=t.eventXY(e),s={X:i.X-this.startXY.X,Y:i.Y-this.startXY.Y},n={X:Math.abs(s.X),Y:Math.abs(s.Y)},o=void 0;if(!(n.X<this.options.threshold&&n.Y<this.options.threshold)){if(!this.inited&&this.isProxyed)this._centerToPoint(i),this.proxyXY=this.$movable.translate(),o=this.proxyXY;else{var a={X:i.X-this.startXY.X,Y:i.Y-this.startXY.Y};o=this._actionMove(a)}this._autoscroll(i),this._trigger("move",{draggable:this.draggable,helper:this.helper,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,moveEvent:e,moveXY:i,dragXY:o})}}},{key:"__up",value:function(i){var s=t.eventXY(i),n=this.initialXY;this.inited&&this._removeClasses(),this.$helper&&this._destroyHelper(),this.motion?this.options.revert?this._revert():n=this.$movable.translate():this.isProxyed&&this.options.proxy.noMotion&&(e.isUndefined(i.button)||i.button===l.buttons.LEFT)&&(n=this._centerToPoint(s,!0)),this._off(this.$document,r.move,this.__move),this._off(this.$document,r.cancel,this.__cancel),this._trigger("end",{draggable:this.draggable,helper:this.helper,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,endEvent:i,endXY:s,dragXY:n,motion:this.motion})}},{key:"__cancel",value:function(e){var i=t.eventXY(e),s=this.$movable.translate();this.inited&&this._removeClasses(),this.$helper&&this._destroyHelper(),this.motion&&this.options.revert&&(this._revert(),s=this.initialXY),this._off(this.$document,r.move,this.__move),this._off(this.$document,r.up,this.__up),this._trigger("end",{draggable:this.draggable,helper:this.helper,initialXY:this.initialXY,startEvent:this.startEvent,startXY:this.startXY,endEvent:e,endXY:i,dragXY:s,motion:this.motion})}}]),s}(s.Widget);n.init(c,h,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations,Svelto.Browser,Svelto.Pointer,Svelto.Mouse),function(t,e,i){var s="webkitTransform"in document.documentElement.style?"-webkit-transform":"transform";t.fn.matrix=function(t){if(t)return this.css(s,"matrix("+t.join(",")+")"),this;var e=this.css(s);return e&&"none"!==e?e.match(/[0-9., e-]+/)[0].split(", ").map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]};for(var n=["scaleX","skewY","skewX","scaleY","translateX","translateY"],o=0,a=n.length;a>o;o++)t.fn[n[o]]=function(t){return function(i){var s=this.matrix();return e.isUndefined(i)?s[t]:(s[t]=i,this.matrix(s))}}(o);t.fn.translate=function(t,i){var s=this.matrix();return e.isUndefined(t)||e.isUndefined(i)?{X:s[4],Y:s[5]}:(s[4]=t,s[5]=i,this.matrix(s))}}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s=t(window),n=function(t){return"left"===t||"right"===t},o=function(t){return!n(t)},a={axis:!1,strict:!1,$anchor:!1,$pointer:!1,point:!1,spacing:0,constrainer:{$element:!1,center:!1,tolerance:{x:0,y:0}},directions:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},alignment:{x:"center",y:"center"},callbacks:{change:e.noop}};t.fn.positionate=function(i){if(!this.length)return this;i=e.merge({},t.fn.positionate.defaults,i);var n=this[0],a=t(n),r=a.getRect(),l=s.width(),h=s.height(),c=e.unique(e.union(i.direction?[i.direction]:[],i.axis?i.directions[i.axis]:[],i.strict&&(i.direction||i.axis)?[]:i.directions.all)),u=i.$anchor?i.$anchor.getRect():{top:i.point.y,bottom:i.point.y,left:i.point.x,right:i.point.x,width:0,height:0},p=c.map(function(t){switch(t){case"top":return u.top;case"bottom":return h-u.bottom;case"left":return u.left;case"right":return l-u.right}});p.forEach(function(t,i){if(0>t){var s=e.getOppositeDirection(c[i]),n=c.indexOf(s);-1!==n&&(e.move(c,n,0),e.move(p,n,0))}});var d=c.map(function(t,e){switch(t){case"top":case"bottom":return Math.min(r.height,p[e])*Math.min(l,r.width);case"left":case"right":return Math.min(r.width,p[e])*Math.min(h,r.height)}}),v=d.indexOf(e.max(d)),g=c[v],_={};switch(g){case"top":_.top=u.top-r.height-i.spacing;break;case"bottom":_.top=u.bottom+i.spacing;break;case"left":_.left=u.left-r.width-i.spacing;break;case"right":_.left=u.right+i.spacing}switch(g){case"top":case"bottom":switch(i.alignment.x){case"left":_.left=u.left;break;case"center":_.left=u.left+u.width/2-r.width/2;break;case"right":_.left=u.right-r.width}break;case"left":case"right":switch(i.alignment.y){case"top":_.top=u.top;break;case"center":_.top=u.top+u.height/2-r.height/2;break;case"bottom":_.top=u.bottom-r.height}}if(i.$anchor){
var f=p[v],m=o(g)?h>=f:l>=f;m&&(_.top=e.clamp(_.top,i.spacing,h-r.height-i.spacing),_.left=e.clamp(_.left,i.spacing,l-r.width-i.spacing))}else if(i.constrainer.$element){var y=i.constrainer.$element.getRect(),b=i.constrainer.center?r.width/2:0,k=i.constrainer.center?r.height/2:0;_.top=e.clamp(_.top,y.top-k-i.constrainer.tolerance.y+i.spacing,y.bottom-r.height+k+i.constrainer.tolerance.y-i.spacing),_.left=e.clamp(_.left,y.left-b-i.constrainer.tolerance.x+i.spacing,y.right-r.width+b+i.constrainer.tolerance.x-i.spacing)}var $={positionable:n,coordinates:_,direction:g};a.translate(_.left,_.top);var S=n._prevDirection;if(S!==g&&(a.removeClass("positionate-"+S).addClass("positionate-"+g),n._prevDirection=g),i.$anchor&&i.$pointer)switch(g){case"top":case"bottom":i.$pointer.translateX(u.left-_.left+u.width/2);break;case"left":case"right":i.$pointer.translateY(u.top-_.top+u.height/2)}return i.callbacks.change($),this},t.fn.positionate.defaults=a}(Svelto.$,Svelto._,Svelto),function(t,e,i){var s=function(){function i(){_classCallCheck(this,i),this.$stylesheet=t('<style class="svelto-embedded svelto-embedded-'+t.guid++ +'">'),this.tree={}}return _createClass(i,[{key:"_cssfy",value:function(){var t="";for(var i in this.tree)if(this.tree.hasOwnProperty(i)){if(t+=i+"{",e.isPlainObject(this.tree[i]))for(var s in this.tree[i])this.tree[i].hasOwnProperty(s)&&(t+=s+":"+this.tree[i][s]+";");else e.isString(this.tree[i])&&(t+=this.tree[i]+";");t+="}"}return t}},{key:"_refresh",value:function(){this.$stylesheet.text(this._cssfy())}},{key:"get",value:function(t){return this.tree[t]}},{key:"set",value:function(t,i,s){if(i===!1)return this.remove(t);if(e.isPlainObject(i))this.tree[t]=e.extend(e.isPlainObject(this.tree[t])?this.tree[t]:{},i);else if(e.isString(i)){if(s)return this.set(t,{property:i,value:s});this.tree[t]=i}this._refresh()}},{key:"remove",value:function(t){t in this.tree&&(delete this.tree[t],this._refresh())}},{key:"clear",value:function(){e.size(this.tree)&&(this.tree={},this._refresh())}},{key:"attach",value:function(){this.$stylesheet.appendTo(t(document.head))}},{key:"detach",value:function(){this.$stylesheet.remove()}}]),i}();i.EmbeddedCSS=new s,t(function(){i.EmbeddedCSS.attach()})}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a,r){var l={name:"dropdown",plugin:!0,selector:".dropdown",options:{positionate:{},spacing:{attached:0,noTip:7,normal:14},classes:{anchorDirection:"dropdown-anchor-$2",noTip:"no-tip",attached:"attached",moving:"moving",show:"show",open:"open"},animations:{open:r.fast,close:r.fast},callbacks:{beforeopen:e.noop,open:e.noop,close:e.noop}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$dropdown=this.$element,this.$dropdown.addClass(this.guc),this.hasTip=!this.$dropdown.hasClass(this.options.classes.noTip),this.isAttached=this.$dropdown.hasClass(this.options.classes.attached),this._isOpen=!1}},{key:"_events",value:function(){this._isOpen&&(this.___resize(),this.___parentsScroll(),this.___layoutTap())}},{key:"_destroy",value:function(){this.close()}},{key:"___parentsScroll",value:function(){var t=this.$dropdown.parents().add(this.$anchor?this.$anchor.parents():void 0).add(this.$window);this._on(!0,t,"scroll",this._throttle(this._positionate,100))}},{key:"___resize",value:function(){this._on(!0,this.$window,"resize",this._throttle(this._positionate,100))}},{key:"___layoutTap",value:function(){this._on(!0,this.$layout,o.tap,this.__layoutTap)}},{key:"__layoutTap",value:function(e){e===this._openEvent||this.$dropdown.touching({point:t.eventXY(e)}).length||this.close()}},{key:"_positionate",value:function(){var i=this.$anchor&&this.$anchor.hasClass(this.options.classes.noTip)||!this.hasTip||this.isAttached,s=this.isAttached?this.options.spacing.attached:i?this.options.spacing.noTip:this.options.spacing.normal;this.$mockTip=i?!1:t("<div>"),this.$dropdown.positionate(e.extend({$anchor:this.$anchor,$pointer:this.$mockTip,spacing:s,callbacks:{change:this.__positionChange.bind(this)}},this.options.positionate))}},{key:"_toggleAnchorDirectonClass",value:function(t,i){this.$anchor&&this.$anchor.toggleClass(e.format(this.options.classes.anchorDirection,t),i)}},{key:"__positionChange",value:function(t){this._prevDirection!==t.direction&&(this._prevDirection&&this._toggleAnchorDirectonClass(this._prevDirection,!1),this._toggleAnchorDirectonClass(t.direction,!0),this._prevDirection=t.direction),this.$mockTip&&a.set("."+this.guc+":before",this.$mockTip.attr("style").slice(0,-1)+" rotate(45deg)")}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t,i,s){e.isBoolean(t)||(t=i&&(!this.$anchor||this.$anchor&&this.$anchor[0]!==i)?!0:this.$prevAnchor||this.$anchor||"point"in this.options.positionate?!this._isOpen:!1),this[t?"open":"close"](i,s)}},{key:"open",value:function(e,i){e||!this.$prevAnchor||"point"in this.options.positionate||(e=this.$prevAnchor[0]),this._lock||(!e||this._isOpen&&this.$anchor&&e===this.$anchor[0])&&!("point"in this.options.positionate)||(this._lock=!0,this._isOpen=!0,this._openEvent=i,this._wasMoving=!1,this.$anchor&&(this._toggleAnchorDirectonClass(this._prevDirection,!1),this._prevDirection=!1,this.$prevAnchor=this.$anchor,this._isOpen&&(this._wasMoving=!0,this.$dropdown.addClass(this.options.classes.moving))),this.$anchor=e?t(e):!1,this._trigger("beforeopen"),this._frame(function(){this.$dropdown.addClass("show"),this._positionate(),this._frame(function(){this.$dropdown.addClass(this.options.classes.open),this._lock=!1,this._trigger("open")})}),this._reset(),this.___layoutTap(),this.___resize(),this.___parentsScroll())}},{key:"close",value:function(){!this._lock&&this._isOpen&&(this._lock=!0,this._isOpen=!1,this._toggleAnchorDirectonClass(this._prevDirection,!1),this._prevDirection=!1,this.$prevAnchor=this.$anchor,this.$anchor=!1,this._frame(function(){this.$dropdown.removeClass(this.options.classes.open),this._wasMoving&&this.$dropdown.removeClass(this.options.classes.moving),this._delay(function(){this.$dropdown.removeClass(this.options.classes.show),this._lock=!1,this._trigger("close")},this.options.animations.close)}),this._reset())}}]),s}(s.Widget);n.init(h,l,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.EmbeddedCSS,Svelto.Animations),function(t,e,i,s,n){var o={name:"dropdownCloser",plugin:!0,selector:".dropdown-closer",options:{widget:s.Dropdown}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o,a){var r={name:"opener",options:{hover:{active:!1,delays:{open:750,close:250}},methods:{open:"open"}}},l=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_events",value:function(){this.___tap(),this.___hover()}},{key:"___tap",value:function(){this._on(a.tap,this.__tap)}},{key:"__tap",value:function(t){this.open(t)}},{key:"___hover",value:function(){this.options.hover.active&&!o.is.touchDevice&&this._on(a.enter,this.__hoverEnter)}},{key:"__hoverEnter",value:function(){this.isOpen()?this._isHoverOpen&&(this._hoverCloseTimeout&&(clearTimeout(this._hoverCloseTimeout),this._hoverCloseTimeout=!1),this._one(!0,a.leave,this.__hoverLeave)):(this._isHoverOpen=!1,this._hoverOpenTimeout=this._delay(this.__hoverOpen,this.options.hover.delays.open),this._one(!0,a.leave,this.__hoverLeave))}},{key:"__hoverOpen",value:function(){this.isOpen()||(this.open(),this._isHoverOpen=!0),this._hoverOpenTimeout=!1}},{key:"__hoverLeave",value:function(){this._hoverOpenTimeout&&(clearTimeout(this._hoverOpenTimeout),this._hoverOpenTimeout=!1),this.isOpen()&&this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close),this._one(!0,this.$target,a.enter,this.__hoverTargetEnter))}},{key:"__hoverClose",value:function(){this.isOpen()&&this._isHoverOpen&&this.close(),this._isHoverOpen=!1,this._hoverCloseTimeout=!1,this._off(this.$target,a.enter,this.__hoverTargetEnter)}},{key:"__hoverTargetEnter",value:function(){this._hoverCloseTimeout&&(clearTimeout(this._hoverCloseTimeout),this._hoverCloseTimeout=!1),this.isOpen()&&this._isHoverOpen&&this._one(!0,this.$target,a.leave,this.__hoverTargetLeave)}},{key:"__hoverTargetLeave",value:function(){this.isOpen()&&this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close),this._one(!0,this.$target,a.enter,this.__hoverTargetEnter))}},{key:"open",value:function(t){return this._targetInstance[this.options.methods.open](this.element,t)}}]),e}(s.Closer);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer),function(t,e,i,s,n){var o={name:"dropdownOpener",plugin:!0,selector:".dropdown-opener",options:{widget:s.Dropdown}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"toggler",options:{methods:{toggle:"toggle"}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"__tap",value:function(t){this.toggle(void 0,t)}},{key:"toggle",value:function(t,e){return this._targetInstance[this.options.methods.toggle](t,this.element,e)}}]),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"dropdownToggler",plugin:!0,selector:".dropdown-toggler",options:{widget:s.Dropdown}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){var s=function(t,e){var i=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),s=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));return i*s},n={startIndex:!1,point:!1,binarySearch:!0,$comparer:!1,$not:!1,onlyBest:!1};t.fn.touching=function(i){i=e.extend({},t.fn.touching.defaults,i);var n=i.$not?this.not(i.$not):this;if(i.$comparer){var o=i.$comparer.getRect(),a=[],r=[],l=!0,h=!1,c=void 0;try{for(var u,p=n[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,v=t.getRect(d),g=s(o,v);g>0&&(a.push(d),r.push(g))}}catch(_){h=!0,c=_}finally{try{!l&&p["return"]&&p["return"]()}finally{if(h)throw c}}return t(i.onlyBest?a[r.indexOf(e.max(r))]:a)}if(i.point){var f=void 0;if(i.binarySearch)return n.btEach(function(){var e=t.getRect(this);return i.point.Y>=e.top?i.point.Y<=e.bottom?i.point.X>=e.left?i.point.X<=e.right?(f=t(this),!1):1:-1:1:-1},i.startIndex),f||t();var m=!0,y=!1,b=void 0;try{for(var k,$=n[Symbol.iterator]();!(m=(k=$.next()).done);m=!0){var d=k.value,S=t.getRect(d);if(i.point.Y>=S.top&&i.point.Y<=S.bottom&&i.point.X>=S.left&&i.point.X<=S.right){f=t(d);break}}}catch(_){y=!0,b=_}finally{try{!m&&$["return"]&&$["return"]()}finally{if(y)throw b}}return f||t()}},t.fn.touching.defaults=n}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n){var o={name:"droppable",plugin:!0,selector:".droppable",options:{selector:"*",classes:{target:void 0,hover:void 0},callbacks:{enter:e.noop,leave:e.noop,drop:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.droppable=this.element,this.$droppable=this.$element,this.__isCompatible=void 0,this._wasHovering=!1}},{key:"_events",value:function(){this.___drag()}},{key:"_isCompatible",value:function(i){return e.isUndefined(this.__isCompatible)&&(this.__isCompatible=t(i).is(this.options.selector),this.__isCompatible&&this.$droppable.addClass(this.options.classes.target)),this.__isCompatible}},{key:"_isPointHovering",value:function(t){return!!this.$droppable.touching({point:t}).length}},{key:"___drag",value:function(){this.___dragMove(),this.___dragEnd()}},{key:"___dragMove",value:function(){this._on(this.$layout,"draggable:move",this._throttle(this.__dragMove,100))}},{key:"__dragMove",value:function(t,e){if(this._isCompatible(e.draggable)){var i=this._isPointHovering(e.moveXY);i!==this._wasHovering&&(this.$droppable.toggleClass(this.options.classes.hover,i),this._trigger(i?"enter":"leave",{draggable:e.draggable,helper:e.helper,droppable:this.droppable})),this._wasHovering=i}}},{key:"___dragEnd",value:function(){this._on(this.$layout,"draggable:end",this.__dragEnd)}},{key:"__dragEnd",value:function(t,e){this._isCompatible(e.draggable)&&(this.$droppable.removeClass(this.options.classes.target),this._isPointHovering(e.endXY)&&(this._wasHovering&&this.$droppable.removeClass(this.options.classes.hover),this._trigger("drop",{draggable:e.draggable,helper:e.helper,droppable:this.droppable}))),this.__isCompatible=void 0}}]),s}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"expanderCloser",plugin:!0,selector:".expander-closer",options:{widget:s.Expander}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"expanderOpener",plugin:!0,selector:".expander-opener",options:{widget:s.Expander}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"expanderToggler",plugin:!0,selector:".expander-toggler",options:{widget:s.Expander}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o){var a={name:"flickable",plugin:!0,selector:".flickable",options:{duration:150,threshold:5,callbacks:{flick:e.noop}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_events",value:function(){this.___down()}},{key:"___down",value:function(){this._on(o.down,this.__down)}},{key:"__down",value:function(e){this._startXY=t.eventXY(e),this._startTimestamp=e.timeStamp||Date.now(),this._motion=!1,this.___move(),this.___up(),this.___cancel()}},{key:"___move",value:function(){this._one(!0,this.$document,o.move,this.__move)}},{key:"__move",value:function(){this._motion=!0}},{key:"___up",value:function(){this._one(!0,this.$document,o.up,this.__up)}},{key:"__up",value:function(e){if(this._endTimestamp=e.timeStamp||Date.now(),this._motion&&this._endTimestamp-this._startTimestamp<=this.options.duration){var i=t.eventXY(e),s={X:i.X-this._startXY.X,Y:i.Y-this._startXY.Y},n={X:Math.abs(s.X),Y:Math.abs(s.Y)};if(n.X>=this.options.threshold||n.Y>=this.options.threshold){var a=void 0,r=void 0;n.X>n.Y?(a="horizontal",r=s.X>0?"right":"left"):(a="vertical",r=s.Y>0?"bottom":"top"),this._trigger("flick",{orientation:a,direction:r,startEvent:this._startEvent,startXY:this._startXY,endEvent:e,endXY:i})}}this._motion||this._off(this.$document,o.move,this.__move),this._off(this.$document,o.cancel,this.__cancel)}},{key:"___cancel",value:function(){this._one(!0,this.$document,o.cancel,this.__cancel)}},{key:"__cancel",value:function(){this._motion||this._off(this.$document,o.move,this.__move),this._off(this.$document,o.up,this.__up)}}]),i}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n){var o={name:"flippable",plugin:!0,selector:".flippable",options:{classes:{flip:"flipped"},callbacks:{front:e.noop,back:e.noop}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$flippable=this.$element,this._isFlipped=this.$flippable.hasClass(this.options.classes.flip)}},{key:"isFlipped",value:function(){return this._isFlipped}},{key:"flip",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isFlipped:arguments[0];!!t!==this._isFlipped&&(this._isFlipped=t,this.$flippable.toggleClass(this.options.classes.flip,this._isFlipped),this._trigger(this._isFlipped?"back":"front"))}},{key:"front",value:function(){this.flip(!1)}},{key:"back",value:function(){this.flip(!0)}}]),e}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"flippableFlipper",plugin:!0,selector:".flippable-flipper",options:{widget:s.Flippable,methods:{toggle:"flip",open:"front",close:"back"}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o){var a={name:"overlay",plugin:!0,selector:".overlay",options:{classes:{show:"show",open:"open"},animations:{open:o.fast,close:o.fast},keystrokes:{esc:"close"},callbacks:{open:e.noop,close:e.noop}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$overlay=this.$element,this._isOpen=this.$overlay.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._isOpen&&this.___keydown()}},{key:"___keydown",value:function(){this._onHover(!0,[this.$document,"keydown",this.__keydown])}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isOpen:arguments[0];!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this._lock||this._isOpen||(this._lock=!0,this._isOpen=!0,this._frame(function(){this.$overlay.addClass(this.options.classes.show),this._frame(function(){this.$overlay.addClass(this.options.classes.open),this._lock=!1,this._trigger("open")})}),this.___keydown())}},{key:"close",value:function(){!this._lock&&this._isOpen&&(this._lock=!0,this._isOpen=!1,this._frame(function(){this.$overlay.removeClass(this.options.classes.open),this._delay(function(){this.$overlay.removeClass(this.options.classes.show),this._lock=!1,this._trigger("close")},this.options.animations.close)}),this._reset())}}]),e}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s,n){var o={name:"spinnerOverlay",plugin:!0,templates:{overlay:'<div class="overlay spinner-overlay {%=(o.dimmer ? "dimmer" : "")%} {%=(o.blurrer ? "blurrer" : "")%}">{% if ( o.labeled ) { %}<div class="spinner-label {%=(o.multicolor ? "" : o.colors.labeled)%}">{% } %}<svg class="spinner {%=(o.multicolor ? "multicolor" : ( o.labeled ? "" : o.unlabeled ))%}"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg>{% if ( o.labeled ) { %}</div>{% } %}</div>'},options:{labeled:!0,dimmer:!1,blurrer:!1,multicolor:!1,colors:{labeled:"white",unlabeled:"secondary"},callbacks:{open:e.noop,close:e.noop}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$overlayed=this.$element,this.$overlay=t(this._tmpl("overlay",this.options)),this.instance=this.$overlay.overlay("instance")}},{key:"isOpen",value:function(){return this.instance.isOpen()}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this.isOpen():arguments[0];!!t!==this.isOpen()&&this[t?"open":"close"]()}},{key:"open",value:function(){this._lock||this.isOpen()||(this.$overlay.prependTo(this.$overlayed),this.instance.open(),this._trigger("open"))}},{key:"close",value:function(){!this._lock&&this.isOpen()&&(this._lock=!0,this.instance.close(),this._delay(function(){this.$overlay.detach(),this._lock=!1,this._trigger("close")},s.Overlay.config.options.animations.close))}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o,a,r){var l={},h={name:"noty",plugin:!0,selector:".noty",templates:{base:'<div class="noty {%=o.type%} {%=(o.type !== "action" ? "actionable" : "")%} {%=o.color%} {%=o.css%}"><div class="infobar">{% if ( o.img ) { %}<img src="{%=o.img%}" class="noty-img infobar-left">{% } %}{% if ( o.title || o.body ) { %}<div class="infobar-center">{% if ( o.title ) { %}<p class="infobar-title">{%#o.title%}</p>{% } %}{% if ( o.body ) { %}{%#o.body%}{% } %}</div>{% } %}{% if ( o.buttons.length === 1 ) { %}<div class="infobar-right">{% include ( "noty.button", o.buttons[0] ); %}</div>{% } %}</div>{% if ( o.buttons.length > 1 ) { %}<div class="noty-buttons multiple centered">{% for ( var i = 0; i < o.buttons.length; i++ ) { %}{% include ( "noty.button", o.buttons[i] ); %}{% } %}</div>{% } %}</div>',button:'<div class="button {%=(o.color || "white")%} {%=(o.size || "small")%} {%=(o.css || "")%}">{%#(o.text || "")%}</div>'},options:{anchor:{x:"left",y:"bottom"},title:!1,body:!1,img:!1,buttons:[],type:"alert",color:"black",css:"",persistent:!1,autoplay:!0,ttl:3500,ttlMinimumRemaining:1e3,classes:{open:"open"},selectors:{queues:".noty-queues",queue:".noty-queue",button:".noty-buttons .button, .infobar-right .button"},animations:{open:r.normal,close:r.normal},keystrokes:{esc:"close"},callbacks:{open:e.noop,close:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$noty=this.$element,this.$buttons=this.$noty.find(this.options.selectors.button),this.timer=!1,this._openUrl=!1,this._isOpen=this.$noty.hasClass(this.options.classes.open)}},{key:"_init",value:function(){this._isOpen?(this.___timer(),this.___tap(),this.___flick(),this.___buttonTap(),this.___hover(),this.___persistent(),this.___keydown(),this.___breakpoint()):this.options.autoplay&&this.open()}},{key:"_getUrl",value:function(){return window.location.href.split("#")[0]}},{key:"___timer",value:function(){"action"!==this.options.type&&e.isNumber(this.options.ttl)&&!e.isNaN(this.options.ttl)&&this.options.ttl!==1/0&&(this.timer?this.timer.reset():this.timer=new a(this.close.bind(this),this.options.ttl,!0),l[this.guid]=[this.timer,this.options.ttlMinimumRemaining])}},{key:"___tap",value:function(){"action"!==this.options.type&&this._on(o.tap,this.__tap)}},{key:"__tap",value:function(t){t.preventDefault(),this.close()}},{key:"___buttonTap",value:function(){this._on(this.$buttons,o.tap,this.__buttonTap)}},{key:"__buttonTap",value:function(e,i){var s=t(e.target),n=this.$buttons.index(s),o=this.options.buttons[n];o.onClick&&o.onClick.apply(s[0],[e,i])===!1||this.close()}},{key:"___hover",value:function(){this.$noty.hover(function(){e.forIn(l,function(t){return t[0].pause()})},function(){e.forIn(l,function(t){return t[0].remaining(Math.max(t[1],t[0].remaining())).play()})})}},{key:"___flick",value:function(){"action"!==this.options.type&&this.$noty.flickable({callbacks:{flick:this.__flick.bind(this)}})}},{key:"__flick",value:function(t,e){"horizontal"===e.orientation&&this.close()}},{key:"___persistent",value:function(){this.options.persistent||_get(Object.getPrototypeOf(s.prototype),"___route",this).call(this)}},{key:"__route",value:function(){var t=this._getUrl();this._openUrl&&this._openUrl!==t&&this.close()}},{key:"_reset",value:function(){delete l[this.guid],this.$noty.flickable("destroy"),_get(Object.getPrototypeOf(s.prototype),"_reset",this).call(this)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"open",value:function(){this._lock||this._isOpen||(this._lock=!0,this._isOpen=!0,this._frame(function(){t(this.options.selectors.queues+"."+this.options.anchor.y+" "+this.options.selectors.queue+"."+this.options.anchor.x).append(this.$noty),this._frame(function(){this.$noty.addClass(this.options.classes.open),this._lock=!1,this._trigger("open")})}),this.___timer(),this.___tap(),this.___flick(),this.___buttonTap(),this.___hover(),this.___persistent(),this.___keydown(),this.___breakpoint(),this._defer(function(){this._openUrl=this._getUrl()}))}},{key:"close",value:function(){!this._lock&&this._isOpen&&(this._lock=!0,this._isOpen=!1,this._openUrl=!1,this._frame(function(){this.$noty.removeClass(this.options.classes.open),this._delay(function(){this.$noty.remove(),this._lock=!1,this._trigger("close")},this.options.animations.close)}),this._reset())}}],[{key:"ready",value:function(){t(".layout, body").first().append('<div class="noty-queues top"><div class="noty-queue expanded"></div><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div></div><div class="noty-queues bottom"><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div><div class="noty-queue expanded"></div></div>')}}]),s}(s.Widget);n.init(c,h,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Timer,Svelto.Animations),function(t,e,i){var s={alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,hexadecimal:/^[a-fA-F0-9]+$/,integer:/^(?:-?(?:0|[1-9][0-9]*))$/,"float":/^-?(?:(?:\d+)(?:\.\d*)?|(?:\.\d+)+)$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,cc:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,ssn:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i};i.Regexes=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s){var n={alpha:function(t){return!!t.match(s.alpha)},alphanumeric:function(t){return!!t.match(s.alphanumeric)},hexadecimal:function(t){return!!t.match(s.hexadecimal)},number:function(t){return!!t.match(s.integer)||!!t.match(s["float"])},integer:function(t){return!!t.match(s.integer)},"float":function(t){return!!t.match(s["float"])},min:function(t,e){return Number(t)>=Number(e)},max:function(t,e){return Number(t)<=Number(e)},range:function(t,e,i){return t=Number(t),t>=Number(e)&&t<=Number(i)},minLength:function(t,e){return t.trim().length>=Number(e)},maxLength:function(t,e){return t.trim().length<=Number(e)},rangeLength:function(t,e,i){return t=t.trim(),t.length>=Number(e)&&t.length<=Number(i)},exactLength:function(t,e){return t.trim().length===Number(e)},email:function(t){return!!t.match(s.email)},cc:function(t){return!!t.match(s.cc)},ssn:function(t){return!!t.match(s.ssn)},ipv4:function(t){return!!t.match(s.ipv4)},url:function(t){return!!t.match(s.url)},empty:function(t){return e.isEmpty(t.trim())},included:function(t,i){return t=t.toLowerCase(),i=i.map(function(t){return t.toLowerCase()}),e.includes(i,t)}};i.Validator=n}(Svelto.$,Svelto._,Svelto,Svelto.Regexes),function(t,e,i,s,n,o){var a={name:"formValidate",plugin:!0,selector:"form.validate",templates:{message:'<p class="form-validate-message {%=o.validity%}">{%=o.message%}</p>',messages:'<ul class="form-validate-message {%=o.validity%}">{% for ( var i = 0, l = o.messages.length; i < l; i++ ) { %}<li>{%=o.messages[i]%}</li>{% } %}</ul>'},options:{validators:{required:function(t){return!o.empty(t)},values:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;e>s;s++)i[s-1]=arguments[s];return o.included(t,i)},field:function(t,i){var s=e.find(this.elements,{name:i}).value;return t===s},checked:function(){return this.element.$element.prop("checked")}},messages:{form:{invalid:"The form contains some errors"},validators:{invalid:{general:"This value is not valid",alpha:"Only alphabetical characters are allowed",alphanumeric:"Only alphanumeric characters are allowed",hexadecimal:"Only hexadecimal characters are allowed",number:"Only numbers are allowed",integer:"Only integers numbers are allowed","float":"Only floating point numbers are allowed",min:"The number must be at least $2",max:"The number must be at maximum $2",range:"The number must be between $2 and $3",minLength:"The lenght must be at least $2",maxLength:"The lenght must be at maximum $2",rangeLength:"The length must be between $2 and $3",exactLength:"The length must be exactly $2",email:"Enter a valid email address",cc:"Enter a valid credit card number",ssn:"Enter a valid Social Security Number",ipv4:"Enter a valid IPv4 address",url:"Enter a valid URL",required:"This field is required",values:"This value is not allowed",field:"The two fields don't match",checked:"This must be checked"}}},characters:{separators:{validations:"|",arguments:","}},regexes:{validation:/^([^\[]+)(?:\[(.*)\])?$/},datas:{id:"_fveid",validations:"validations",messages:{invalid:"invalid",valid:"valid"}},classes:{invalid:"invalid",valid:"valid"},selectors:{element:'input:not([type="button"]), textarea, select',textfield:'input:not([type="button"]):not([type="checkbox"]):not([type="radio"]), textarea',wrapper:".checkbox, .colorpicker, .datepicker, .radio, .select-toggler, .slider, .switch"}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$form=this.$element,this.$elements=this.$form.find(this.options.selectors.element),this.$textfields=this.$elements.filter(this.options.selectors.textfield),this.___elements()}},{key:"_events",value:function(){this.___change(),this.___focus(),this.___blur(),this.___submit()}},{key:"___elements",value:function(){this.elements={};var i=!0,s=!1,n=void 0;try{for(var a,r=this.$elements[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var l=a.value,h=t(l),c=h.parents(this.options.selectors.wrapper),u=c.length?c.first():h,p=t.guid++,d=h.data(this.options.datas.validations),v=!1;
if(d){v={};var g=d.split(this.options.characters.separators.validations),_=!0,f=!1,m=void 0;try{for(var y,b=g[Symbol.iterator]();!(_=(y=b.next()).done);_=!0){var k=y.value,$=k.match(this.options.regexes.validation);if($){var S=$[1],w=$[2]?$[2].split(this.options.characters.separators.arguments):[],C=this.options.validators[S]||o[S];C&&(v[S]={args:w,validator:C})}}}catch(x){f=!0,m=x}finally{try{!_&&b["return"]&&b["return"]()}finally{if(f)throw m}}e.isEmpty(v)&&(v=!1)}l[this.options.datas.id]=p,this.elements[p]={id:p,$element:h,$wrapper:u,$message:!1,name:l.name,value:h.val(),validations:v,isDirty:!1,isValid:void 0,messages:{invalid:u.data(this.options.datas.messages.invalid),valid:u.data(this.options.datas.messages.valid)}}}}catch(x){s=!0,n=x}finally{try{!i&&r["return"]&&r["return"]()}finally{if(s)throw n}}}},{key:"___change",value:function(){this._on(!0,this.$elements,"change",this.__change)}},{key:"__change",value:function(t){this._isValid=void 0;var i=this.elements[t.currentTarget[this.options.datas.id]];i.isDirty=!0,i.isValid=void 0,this._validateWorker(i);for(var s in this.elements)if(this.elements.hasOwnProperty(s)){if(s===i.id)continue;var n=this.elements[s],o=n.validations&&"field"in n.validations&&-1!==n.validations.field.args.indexOf(i.name),a=!e.isEmpty(i.name)&&n.name===i.name;(o||a)&&(n.isValid=void 0,this._validateWorker(n))}}},{key:"___focus",value:function(){this._on(this.$textfields,"focus",this.__focus)}},{key:"__focus",value:function(t){var e=this.elements[t.currentTarget[this.options.datas.id]];e.isValid=void 0,this.__indeterminate(e)}},{key:"___blur",value:function(){this._on(this.$textfields,"blur",this.__blur)}},{key:"__blur",value:function(t){var e=this.elements[t.currentTarget[this.options.datas.id]];this._validateWorker(e)}},{key:"___submit",value:function(){this._on(!0,"submit",this.__submit)}},{key:"__submit",value:function(e){this.isValid()||(e.preventDefault(),e.stopImmediatePropagation(),t.noty(this.options.messages.form.invalid))}},{key:"_validateWorker",value:function(t){if(e.isUndefined(t.isValid)){var i=this._validate(t),s=i===!0;t.isValid=s,s?this.__valid(t):this.__invalid(t,i)}}},{key:"_validate",value:function(t){var i=[],s=t.validations;if(t.isDirty&&(t.value=t.$element.val(),t.isDirty=!1),s)for(var n in s)if(s.hasOwnProperty(n)){var o=s[n],a=o.validator.apply({elements:this.elements,element:t},[t.value].concat(o.args));if(!a){var r=e.format.apply(e,[this.options.messages.validators.invalid[n]||this.options.messages.validators.invalid.general,t.value].concat(_toConsumableArray(o.args)));i.push(r)}}return e.isEmpty(i)?!0:i}},{key:"__indeterminate",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid+" "+this.options.classes.valid),this._updateMessage(t,!1)}},{key:"__valid",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid).addClass(this.options.classes.valid),this._updateMessage(t,t.messages.valid)}},{key:"__invalid",value:function(t,e){t.$wrapper.removeClass(this.options.classes.valid).addClass(this.options.classes.invalid),this._updateMessage(t,t.messages.invalid||e)}},{key:"_updateMessage",value:function(i,s){if(i.$message&&i.$message.remove(),s){var n=i.isValid?this.options.classes.valid:this.options.classes.invalid,o=e.isString(s)?this._tmpl("message",{message:s,validity:n}):1===s.length?this._tmpl("message",{message:s[0],validity:n}):this._tmpl("messages",{messages:s,validity:n});i.$message=t(o),i.$wrapper.after(i.$message)}else i.$message=!1}},{key:"isValid",value:function(){if(e.isUndefined(this._isValid)){for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var i=this.elements[t];e.isUndefined(i.isValid)&&this._validateWorker(i),i.isValid||(this._isValid=!1)}e.isUndefined(this._isValid)&&(this._isValid=!0)}return this._isValid}}]),s}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Validator),function(t,e,i,s,n){var o={name:"formAjax",plugin:!0,selector:"form.ajax",options:{spinnerOverlay:!0,timeout:31e3,messages:{error:"An error occurred, please try again later",success:"Done! A page refresh may be needed",refreshing:"Done! Refreshing the page...",redirecting:"Done! Redirecting..."},callbacks:{beforesend:e.noop,error:e.noop,success:e.noop,complete:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.form=this.element,this.$form=this.$element}},{key:"_events",value:function(){this.___submit()}},{key:"___submit",value:function(){this._on(!0,"submit",this.__submit)}},{key:"__submit",value:function(i){var s=this;i.preventDefault(),i.stopImmediatePropagation(),t.ajax({cache:!1,contentType:!1,data:new FormData(this.form),processData:!1,timeout:this.options.timeout,type:this.$form.attr("method")||"POST",url:this.$form.attr("action"),beforeSend:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("open"),s._trigger("beforesend")},error:function(i){var n=e.attempt(JSON.parse,i);e.isError(n)?t.noty(s.options.messages.error):t.noty(n.msg||s.options.messages.error),s._trigger("error")},success:function(i){var n=e.attempt(JSON.parse,i);e.isError(n)?t.noty(s.options.messages.success):n.refresh||n.url===window.location.href||e.trim(n.url,"/")===e.trim(window.location.pathname,"/")?(t.noty(n.msg||s.options.messages.refreshing),location.reload()):n.url?(t.noty(n.msg||s.options.messages.redirecting),location.assign(n.url)):t.noty(n.msg||s.options.messages.success),s._trigger("success")},complete:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("close"),s._trigger("complete")}})}}]),s}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"formSync",plugin:!0,selector:"form[data-sync-group]",options:{live:!1,attributes:{name:"name"},datas:{group:"sync-group"},selectors:{form:"form",elements:'input:not([type="button"]), textarea, select',checkable:'[type="radio"], [type="checkbox"]',radio:'[type="radio"]',checkbox:'[type="checkbox"]',textfield:'input:not([type="button"]):not([type="checkbox"]):not([type="radio"]), textarea'}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.$form=this.$element,this.$elements=this.$form.find(this.options.selectors.elements),this.group=this.$form.data(this.options.datas.group)}},{key:"_events",value:function(){this.___change(),this.___input()}},{key:"___change",value:function(){this._on(!0,this.$elements,"change",this._debounce(this.__sync,100))}},{key:"___input",value:function(){if(this.options.live){var t=this.$elements.filter(this.options.selectors.textfield);this._on(!0,t,"input",this._debounce(this.__sync,100))}}},{key:"__sync",value:function(e,i){if(!i||i._formSynced!==this.group){var s=t(e.target),n=s.attr(this.options.attributes.name),o=t(this.options.selectors.form+"[data-"+this.options.datas.group+'="'+this.group+'"]').not(this.$form).find("["+this.options.attributes.name+'="'+n+'"]').not(s);if(o.length){var a=s.val(),r=!!s.prop("checked"),l=!0,h=!1,c=void 0;try{for(var u,p=o[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,v=t(d),g=v.val(),_=!!v.prop("checked");(a!==g||r!==_)&&(!s.is(this.options.selectors.radio)||a===g&&r!==_)&&(s.is(this.options.selectors.checkable)?v.prop("checked",r).trigger("change",{_formSynced:this.group}):v.val(a).trigger("change",{_formSynced:this.group}))}}catch(f){h=!0,c=f}finally{try{!l&&p["return"]&&p["return"]()}finally{if(h)throw c}}}}}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(){var t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,n=i.length,o={};n>s;s++)if(t=i[s],t&&t[1]in document){for(s=0,e=t.length;e>s;s++)o[i[0][s]]=t[s];return o}return!1}(),i={request:function s(i){var s=e.requestFullscreen;i=i||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?i[s]():i[s](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:e};return e?(Object.defineProperties(i,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(window.screenfull=i)):void(window.screenfull=!1)}(),function(t,e,i,s,n,o,a,r){o.add(".scroll-to-top",function(t){var e=t.parent().closest(".layout, body");t.on(a.tap,function(){e.animate({scrollTop:0},r.normal)})}),o.add(".fullscreen-toggler",function(t){t.on(a.tap,screenfull.toggle)})}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Widgetize,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,n){var o={name:"infobar",plugin:!0,selector:".infobar",options:{callbacks:{close:e.noop}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$infobar=this.$element}},{key:"close",value:function(){this.$infobar.detach(),this._trigger("close")}}]),e}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"infobarCloser",plugin:!0,selector:".infobar-closer",options:{widget:s.Infobar}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o,a){var r={name:"modal",plugin:!0,selector:".modal",options:{classes:{show:"show",open:"open"},animations:{open:a.normal,close:a.normal},keystrokes:{esc:"close"},callbacks:{open:e.noop,close:e.noop}}},l=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_variables",value:function(){this.modal=this.element,this.$modal=this.$element,this._isOpen=this.$modal.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._isOpen&&(this.___keydown(),this.___tap(),this.___route())}},{key:"___tap",value:function(){this._on(!0,o.tap,this.__tap)}},{key:"__tap",value:function(t){t.target===this.modal&&this.close()}},{key:"__route",value:function(){this._isOpen&&!t.contains(this.layout,this.$modal[0])&&this.close()}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isOpen:arguments[0];!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this._lock||this._isOpen||(this._lock=!0,this._isOpen=!0,this.$layout.disableScroll(),this._frame(function(){this.$modal.addClass(this.options.classes.show),this._frame(function(){this.$modal.addClass(this.options.classes.open),this._lock=!1,this._trigger("open")})}),this.___keydown(),this.___tap(),this.___route())}},{key:"close",value:function(){!this.lock&&this._isOpen&&(this._lock=!0,this._isOpen=!1,this._frame(function(){this.$modal.removeClass(this.options.classes.open),this._delay(function(){this.$modal.removeClass(this.options.classes.show),this.$layout.enableScroll(),this._lock=!1,this._trigger("close")},this.options.animations.close)}),this._reset())}}]),i}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,n){var o={name:"modalCloser",plugin:!0,selector:".modal-closer",options:{widget:s.Modal}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"modalOpener",plugin:!0,selector:".modal-opener",options:{widget:s.Modal}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"modalToggler",plugin:!0,selector:".modal-toggler",options:{widget:s.Modal}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i){var s={buttons:{LEFT:0,MIDDLE:1,RIGHT:2}};i.Mouse=s}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n){var o=function l(t){if(t)switch(t.constructor){case Number:return t===1/0?!1:e.nowSecs()+t;case String:return l(new Date(t));case Date:var i=t.getTime();return e.isNaN(i)?!1:Math.floor(i/1e3)}return!1},a={encoder:JSON.stringify,decoder:JSON.parse},r=function(){function t(e){_classCallCheck(this,t),this.name=e.name,this.cookie=e.cookie,this.actions=n.Group.config.decoder(s.get(this.name)||"{}")}return _createClass(t,[{key:"get",value:function(t){var i=this.actions[t];if(i){if(!(i.x&&i.x<e.nowSecs()))return i.t;this.remove(t)}return 0}},{key:"set",value:function(t,i,s){if(i=Number(i),!e.isNaN(i)){if(t in this.actions){if(0===i&&!this.actions[t].x)return this.remove(t);this.actions[t].t=i}else this.actions[t]={t:i},s=o(s),s&&(this.actions[t].x=s);this.update()}}},{key:"update",value:function(){s.set(this.name,n.Group.config.encoder(this.actions),this.cookie.end,this.cookie.path,this.cookie.domain,this.cookie.secure)}},{key:"remove",value:function(t){t?e.size(this.actions)>1?(delete this.actions[t],this.update()):this.remove():(this.actions={},s.remove(this.name,this.cookie.path,this.cookie.domain))}}]),t}();n.Group=r,n.Group.config=a}(Svelto.$,Svelto._,Svelto,Svelto.Cookie,Svelto.NTA={}),function(t,e,i,s){var n=function(){function t(e){_classCallCheck(this,t),this.group=new s.Group({name:e.group,cookie:e.cookie}),this.name=e.name,this.expiry=e.expiry}return _createClass(t,[{key:"get",value:function(){return this.group.get(this.name)}},{key:"set",value:function(t,e){this.group.set(this.name,t,e||this.expiry)}},{key:"remove",value:function(){this.group.remove(this.name)}}]),t}();s.Action=n}(Svelto.$,Svelto._,Svelto,Svelto.NTA),function(t,e,i,s){var n={group:"nta",action:!1,times:1/0,expiry:!1,fn:!1,cookie:{end:1/0,path:void 0,domain:void 0,secure:void 0}};t.nTimesAction=function(i){if(i=e.merge({},t.nTimesAction.defaults,i),i.action){var n=new s.Action({group:i.group,name:i.action,expiry:i.expiry,cookie:i.cookie}),o=n.get();if(i.fn&&o<i.times){var a=i.fn(i.group,i.action,o+1);a!==!1&&n.set(o+1)}return n}return i.group?new s.Group({name:i.group,cookie:i.cookie}):void 0},t.nTimesAction.defaults=n}(Svelto.$,Svelto._,Svelto,Svelto.NTA),function(t,e,i,s){var n={title:!1,body:!1,img:!1,ttl:s.Noty.config.options.ttl};t.notification=function(i){i=e.extend({},t.notification.defaults,i),!document.hasFocus()&&window.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(s){"granted"===s?!function(){var t=new Notification(i.title,{body:i.body,icon:i.img});e.isNumber(i.ttl)&&!e.isNaN(i.ttl)&&i.ttl!==1/0&&setTimeout(function(){t.close()},i.ttl)}():t.noty(i)}):t.noty(i)},t.notification.defaults=n}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s){t.noty=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t=e.isString(t)?{body:t}:t,t.buttons&&(t.type="action"),new s.Noty(t)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i){t.oneTimeAction=function(i){return t.nTimesAction(e.extend({group:"ota"},i,{times:1}))}}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n){var o={name:"overlayCloser",plugin:!0,selector:".overlay-closer",options:{widget:s.Overlay}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"overlayOpener",plugin:!0,selector:".overlay-opener",options:{widget:s.Overlay}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"overlayToggler",plugin:!0,selector:".overlay-toggler",options:{widget:s.Overlay}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n,o,a){var r={name:"panel",plugin:!0,selector:".panel",options:{direction:"left",pin:!1,flick:{open:!1,close:!0,treshold:20},classes:{show:"show",open:"open",slim:"slim",pinned:"pinned",flickable:"flickable"},animations:{open:a.normal,close:a.normal},keystrokes:{esc:"__esc"},callbacks:{open:e.noop,close:e.noop}}},l=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"_variables",value:function(){var t=this;this.$panel=this.$element,this.panel=this.element,this.options.direction=e.getDirections().find(function(e){return t.$panel.hasClass(e)})||this.options.direction,this.options.flick.open=this.options.flick.open||this.$panel.hasClass(this.options.classes.flickable),this.options.pin&&e.merge(this.options.breakpoints,{up:_defineProperty({},this.options.pin,"_autopin"),down:_defineProperty({},this.options.pin,"_autounpin")}),this._isOpen=this.$panel.hasClass(this.options.classes.open),this._isPinned=this.$panel.hasClass(this.options.classes.pinned),this._isSlim=this.$panel.hasClass(this.options.classes.slim),this.layoutPinnedClass=s.Panel.config.name+"-"+(this._isSlim?this.options.classes.slim+"-":"")+this.options.classes.pinned+"-"+this.options.direction}},{key:"_events",value:function(){this._isOpen?(this.___breakpoint(),this.___tap(),this.___keydown(),this.___panelFlick(),this.___route()):(this.___layoutFlick(),this.___panelFlick())}},{key:"___tap",value:function(){this._on(!0,o.tap,this.__tap)}},{key:"__tap",value:function(t){t.target!==this.panel||this._isPinned||this.close()}},{key:"___keydown",value:function(){this._on(!0,this.$document,"keydown",this.__keydown)}},{key:"__esc",value:function(){this._isPinned||this.close()}},{key:"___layoutFlick",value:function(){this.options.flick.open&&(this.$layout.flickable(),this._on(this.$layout,"flickable:flick",this.__layoutFlick))}},{key:"__layoutFlick",value:function(t,i){if(!this._isOpen&&i.direction===e.getOppositeDirection(this.options.direction)){var s=this.$layout.offset();switch(this.options.direction){case"left":if(i.startXY.X-s.left>this.options.flick.treshold)return;break;case"right":if(this.$layout.outerWidth()+s.left-i.startXY.X>this.options.flick.treshold)return;break;case"top":if(i.startXY.Y-s.top>this.options.flick.treshold)return;break;case"bottom":if(this.$layout.outerHeight()+s.top-i.startXY.Y>this.options.flick.treshold)return}t.preventDefault(),t.stopImmediatePropagation(),this.open()}}},{key:"___panelFlick",value:function(){this.options.flick.close&&(this.$panel.flickable(),this._on(!0,"flickable:flick",this.__panelFlick))}},{key:"__panelFlick",value:function(t,e){this._isOpen&&e.direction===this.options.direction&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}},{key:"__route",value:function(){this._isOpen&&!t.contains(this.layout,this.$panel[0])&&this.$layout.enableScroll()}},{key:"_autopin",value:function(){this._isPinned||(this._wasAutoOpened=!this._isOpen,this.pin())}},{key:"_autounpin",value:function(){this._isPinned&&this[this._wasAutoOpened?"close":"unpin"]()}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isOpen:arguments[0];!!t!==this._isOpen&&this[t?"open":"close"]()}},{key:"open",value:function(){this._lock||this._isOpen||(this._lock=!0,this._isOpen=!0,this._isPinned||this.$layout.disableScroll(),this._frame(function(){this.$panel.addClass(this.options.classes.show),this._frame(function(){this.$panel.addClass(this.options.classes.open),this._lock=!1,this._trigger("open")})}),this._reset(),this.___breakpoint(),this.___tap(),this.___keydown(),this.___panelFlick(),this.___route())}},{key:"close",value:function(){!this._lock&&this._isOpen&&(this.unpin(!0),this._lock=!0,this._isOpen=!1,this._frame(function(){this.$panel.removeClass(this.options.classes.open),this._delay(function(){this.$panel.removeClass(this.options.classes.show),this.$layout.enableScroll(),this._lock=!1,this._trigger("close")},this.options.animations.close)}),this._reset(),this.___breakpoint(),this.___layoutFlick())}},{key:"isPinned",value:function(){return this._isPinned}},{key:"togglePin",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!this._isPinned:arguments[0];!!t!==this._isPinned&&this[t?"pin":"unpin"]()}},{key:"pin",value:function(){this._isPinned||(this._isPinned=!0,this.$panel.addClass(this.options.classes.pinned),this.$layout.addClass(this.layoutPinnedClass),this._isOpen?this.$layout.enableScroll():this.open())}},{key:"unpin",value:function(t){this._isOpen&&this._isPinned&&(this._isPinned=!1,this.$layout.removeClass(this.layoutPinnedClass).disableScroll(),this._delay(function(){this.$panel.removeClass(this.options.classes.pinned)},t?this.options.animations.close:0))}}]),n}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Animations),function(t,e,i,s,n){var o={name:"panelCloser",plugin:!0,selector:".panel-closer",options:{widget:s.Panel}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"panelOpener",plugin:!0,selector:".panel-opener",options:{widget:s.Panel}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"panelToggler",plugin:!0,selector:".panel-toggler",options:{widget:s.Panel}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory);var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=_self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function n(t){var i=e.util.type(t);switch(i){case"Object":var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=e.util.clone(t[s]));return n;case"Array":return t.map&&t.map(function(t){return e.util.clone(t)})}return t}},languages:{extend:function(t,i){var s=e.util.clone(e.languages[t]);for(var n in i)s[n]=i[n];return s},insertBefore:function(t,i,s,n){n=n||e.languages;var o=n[t];if(2==arguments.length){s=arguments[1];for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);return o}var r={};for(var l in o)if(o.hasOwnProperty(l)){if(l==i)for(var a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);r[l]=o[l]}return e.languages.DFS(e.languages,function(e,i){i===n[t]&&e!=t&&(this[e]=r)}),n[t]=r},DFS:function(t,i,s){for(var n in t)t.hasOwnProperty(n)&&(i.call(t,n,t[n],s||n),"Object"===e.util.type(t[n])?e.languages.DFS(t[n],i):"Array"===e.util.type(t[n])&&e.languages.DFS(t[n],i,n))}},plugins:{},highlightAll:function(t,i){for(var s,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;s=n[o++];)e.highlightElement(s,t===!0,i)},highlightElement:function(s,n,o){for(var a,r,l=s;l&&!t.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(t)||[,""])[1],r=e.languages[a]),s.className=s.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,l=s.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var h=s.textContent,c={element:s,language:a,grammar:r,code:h};if(!h||!r)return void e.hooks.run("complete",c);if(e.hooks.run("before-highlight",c),n&&_self.Worker){var u=new Worker(e.filename);u.onmessage=function(t){c.highlightedCode=i.stringify(JSON.parse(t.data),a),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(c.element),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=e.highlight(c.code,c.grammar,c.language),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(s),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},highlight:function(t,s,n){var o=e.tokenize(t,s);return i.stringify(e.util.encode(o),n)},tokenize:function(t,i,s){var n=e.Token,o=[t],a=i.rest;if(a){for(var r in a)i[r]=a[r];delete i.rest}t:for(var r in i)if(i.hasOwnProperty(r)&&i[r]){var l=i[r];l="Array"===e.util.type(l)?l:[l];for(var h=0;h<l.length;++h){var c=l[h],u=c.inside,p=!!c.lookbehind,d=0,v=c.alias;c=c.pattern||c;for(var g=0;g<o.length;g++){var _=o[g];if(o.length>t.length)break t;if(!(_ instanceof n)){c.lastIndex=0;var f=c.exec(_);if(f){p&&(d=f[1].length);var m=f.index-1+d,f=f[0].slice(d),y=f.length,b=m+y,k=_.slice(0,m+1),$=_.slice(b+1),S=[g,1];k&&S.push(k);var w=new n(r,u?e.tokenize(f,u):f,v);S.push(w),$&&S.push($),Array.prototype.splice.apply(o,S)}}}}}return o},hooks:{all:{},add:function(t,i){var s=e.hooks.all;s[t]=s[t]||[],s[t].push(i)},run:function(t,i){var s=e.hooks.all[t];if(s&&s.length)for(var n,o=0;n=s[o++];)n(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,s,n){if("string"==typeof t)return t;if("Array"===e.util.type(t))return t.map(function(e){return i.stringify(e,s,t)}).join("");var o={type:t.type,content:i.stringify(t.content,s,n),tag:"span",classes:["token",t.type],attributes:{},language:s,parent:n};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var a="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,a)}e.hooks.run("wrap",o);var r="";for(var l in o.attributes)r+=(r?" ":"")+l+'="'+(o.attributes[l]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+r+">"+o.content+"</"+o.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(t){var i=JSON.parse(t.data),s=i.language,n=i.code,o=i.immediateClose;_self.postMessage(JSON.stringify(e.util.encode(e.tokenize(n,e.languages[s])))),o&&_self.close()},!1),_self.Prism):_self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(e.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,
inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,function(t,e,i,s,n){var o={name:"progressbar",plugin:!0,selector:".progressbar",templates:{base:'<div class="progressbar {%=(o.striped ? "striped" : "")%} {%=(o.indeterminate ? "indeterminate" : "")%} {%=(o.labeled ? "labeled" : "")%} {%=o.colors.off%} {%=o.size%} {%=o.css%}"><div class="progressbar-highlight {%=o.colors.on%}"></div></div>'},options:{value:0,colors:{on:"",off:""},striped:!1,indeterminate:!1,labeled:!1,decimals:0,size:"",css:"",datas:{value:"value",decimals:"decimals"},selectors:{highlight:".progressbar-highlight"},callbacks:{change:e.noop,empty:e.noop,full:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$progressbar=this.$element,this.$highlight=this.$progressbar.find(this.options.selectors.highlight)}},{key:"_init",value:function(){this.options.value=this._sanitizeValue(this.$progressbar.data(this.options.datas.value)||this.options.value),this.options.decimals=Number(this.$progressbar.data(this.options.datas.decimals)||this.options.decimals),this._update()}},{key:"_sanitizeValue",value:function(t){var i=Number(t);return e.clamp(e.isNaN(i)?0:i,0,100)}},{key:"_roundValue",value:function(t){return Number(t.toFixed(this.options.decimals))}},{key:"_updateWidth",value:function(){this.$highlight.css("min-width",this.options.value+"%")}},{key:"_updateLabel",value:function(){this.$highlight.attr("data-"+this.options.datas.value,this._roundValue(this.options.value)+"%")}},{key:"_update",value:function(){this._updateWidth(),this._updateLabel()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){t=this._sanitizeValue(t),t!==this.options.value&&(this.options.value=t,this._update(),this._trigger("change"),0===this.options.value?this._trigger("empty"):100===this.options.value&&this._trigger("full"))}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s){t.progressbar=function(t){return t=e.isNumber(t)?{value:t}:t,new s.Progressbar(t)}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s,n,o){var a={name:"rater",plugin:!0,selector:".rater",templates:{base:'<div class="rater">{% include ( "rater.stars", o ); %}</div>',stars:'{% for ( var i = 1; i <= o.amount; i++ ) { %}<div class="rater-star {%=( o.value >= i ? "active" : ( o.value >= i - 0.5 ? "half-active" : "" ) )%}"></div>{% } %}'},options:{value:0,amount:5,url:!1,rated:!1,messages:{error:"An error occurred, please try again later"},datas:{value:"value",amount:"amount",url:"url"},classes:{rated:"rated"},selectors:{star:".rater-star"},callbacks:{change:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$rater=this.$element,this.doingAjax=!1}},{key:"_init",value:function(){this.options.value=Number(this.$rater.data(this.options.datas.value))||this.options.value,this.options.amount=Number(this.$rater.data(this.options.datas.amount))||this.options.amount,this.options.url=Number(this.$rater.data(this.options.datas.url))||this.options.url,this.options.rated=this.$rater.hasClass(this.options.classes.rated)}},{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this.options.rated||this._on(o.tap,this.options.selectors.star,this.__tap)}},{key:"__tap",value:function(i){var s=this;if(!this.options.rated&&!this.doingAjax&&this.options.url){var n=this.$stars.index(i.currentTarget)+1;t.ajax({data:{rating:n},type:"POST",url:this.options.url,beforeSend:function(){s.doingAjax=!0},error:function(i){var n=e.attempt(JSON.parse,i);t.noty(!e.isError(n)&&"msg"in n?n.msg:s.options.messages.error)},success:function(t){var i=e.attempt(JSON.parse,t);e.isError(i)||(e.merge(s.options,i),s.$rater.html(s._tmpl("stars",s.options)),s.options.rated=!0,s._trigger("change"))},complete:function(){s.doingAjax=!1}})}}},{key:"get",value:function(){return{value:this.options.value,amount:this.options.amount}}}]),s}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n){var o={name:"remote",options:{ajax:{cache:!0,method:"GET",timeout:31e3},callbacks:{beforesend:e.noop,complete:e.noop,error:e.noop,success:e.noop,abort:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_reset",value:function(){this.abort(),_get(Object.getPrototypeOf(s.prototype),"_reset",this).call(this)}},{key:"__beforesend",value:function(t){this.isAborted()||this._trigger("beforesend",t)}},{key:"__complete",value:function(t){this.isAborted()||this._trigger("complete",t)}},{key:"__error",value:function(t){this.isAborted()||this._trigger("error",t)}},{key:"__success",value:function(t){this.isAborted()||this._trigger("success",t)}},{key:"__abort",value:function(){this._trigger("abort")}},{key:"isRequesting",value:function(){return!!this.xhr&&![0,4].includes(this.xhr.readyState)}},{key:"request",value:function(){this._isAborted=!1,this.xhr=t.ajax(e.extend({},this.options.ajax,{beforeSend:this.__beforesend.bind(this),complete:this.__complete.bind(this),error:this.__error.bind(this),success:this.__success.bind(this)}))}},{key:"isAborted",value:function(){return!!this._isAborted}},{key:"abort",value:function(){this.xhr&&this.isRequesting()&&(this._isAborted=!0,this.xhr.abort(),this.__abort())}}]),s}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"remoteAction",options:{closingDelay:s.Noty.config.options.ttl/2,ajax:{cache:!1,method:"POST"},confirmation:{body:"Execute action?",buttons:[{text:"Cancel"},{text:"Execute",color:"secondary",isConfirmative:!0}]},messages:{error:"An error occurred, please try again later",success:"The action has been executed"},classes:{spinner:{color:"white",size:"small",css:""}}}},a=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"___confirmationNoty",value:function(){if(!this.$noty){var t=e.cloneDeep(this.options.confirmation),i=e.findIndex(t.buttons,"isConfirmative"),s=i>=0?t.buttons[i]:e.last(t.buttons);s.onClick=function(){return this.request(!0),!1}.bind(this),this._replaceNoty(t)}}},{key:"___loadingNoty",value:function(){this._replaceNoty('<svg class="spinner '+this.options.classes.spinner.color+" "+this.options.classes.spinner.size+" "+this.options.classes.spinner.css+'"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg>')}},{key:"_replaceNoty",value:function(i){var s=t.noty(e.isString(i)?{body:i,autoplay:!1}:e.extend({},i,{autoplay:!1}));s.close();var n=s.$element;this.$noty?this.$noty.html(n.html()).widgetize():(this.$noty=n,this.$noty.noty("open"))}},{key:"_destroyNoty",value:function(t){this.$noty&&this._delay(function(){this.$noty.noty("close"),this._delay(function(){this.$noty.remove(),this.$noty=!1},s.Noty.config.options.animations.close)},t?this.options.closingDelay:0)}},{key:"__beforesend",value:function(t){this.isAborted()||(this.___loadingNoty(),_get(Object.getPrototypeOf(n.prototype),"__beforesend",this).call(this,t))}},{key:"__error",value:function(t){if(!this.isAborted()){var i=e.attempt(JSON.parse,t);this._replaceNoty(!e.isError(i)&&"msg"in i?i.msg:this.options.messages.error),this._destroyNoty(!0),_get(Object.getPrototypeOf(n.prototype),"__error",this).call(this,t)}}},{key:"__success",value:function(t){if(!this.isAborted()){var i=e.attempt(JSON.parse,t);return e.isError(i)?this.__error(t):(this._replaceNoty("msg"in i?i.msg:this.options.messages.success),this._destroyNoty(!0),_get(Object.getPrototypeOf(n.prototype),"__success",this).call(this,t),void 0)}}},{key:"request",value:function(t){!t&&this.options.confirmation&&"buttons"in this.options.confirmation&&this.options.confirmation.buttons.length?this.___confirmationNoty():_get(Object.getPrototypeOf(n.prototype),"request",this).call(this)}},{key:"abort",value:function(){this._destroyNoty(),_get(Object.getPrototypeOf(n.prototype),"abort",this).call(this)}}]),n}(s.Remote);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s){t.remoteAction=function(t){new s.RemoteAction({ajax:t}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s,n,o){var a={name:"remoteTrigger",options:{widget:!1,ajax:{},attributes:{href:"href"},datas:{url:"url",data:"data",method:"method"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_variables",value:function(){this.$trigger=this.$element,this.options.ajax.url=this.$trigger.data(this.options.datas.url)||this.$trigger.attr(this.options.attributes.href)||this.options.ajax.url,this.options.ajax.data=this.$trigger.data(this.options.datas.data)||this.options.ajax.data,this.options.ajax.method=this.$trigger.data(this.options.datas.method)||this.options.ajax.method}},{key:"_events",value:function(){this.___tap()}},{key:"___tap",value:function(){this._on(o.tap,this.trigger)}},{key:"trigger",value:function(){new this.options.widget({ajax:this.options.ajax}).request()}}]),e}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n){var o={name:"remoteActionTrigger",plugin:!0,selector:".remote-action-trigger",options:{widget:s.RemoteAction}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteTrigger);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o){var a={name:"remoteModal",options:{ajax:{cache:!1,method:"POST"},messages:{error:"An error occurred, please try again later"},classes:{placeholder:"remote-modal-placeholder",loaded:"remote-modal-loaded",animating:"remote-modal-animating"},animations:{resize:o.normal}}},r=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"___loadingModal",value:function(){this.$modal=t('<div class="modal '+this.options.classes.placeholder+' card"><div class="card-block"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em"></svg></div></div>').appendTo(this.$layout)}},{key:"_destroyModal",value:function(){this.$modal&&(this.$modal.modal("close"),this._delay(function(){this.$modal.remove(),this.$modal=!1},s.Modal.config.options.animations.close))}},{key:"___abort",value:function(){this._on(!0,this.$modal,"modal:close",this.abort)}},{key:"__beforesend",value:function(t){this.isAborted()||(this.___loadingModal(),this.___abort(),this.$modal.modal("open"),_get(Object.getPrototypeOf(n.prototype),"__beforesend",this).call(this,t))}},{key:"__error",value:function(i){if(!this.isAborted()){var s=e.attempt(JSON.parse,i);t.noty(!e.isError(s)&&"msg"in s?s.msg:this.options.messages.error),this._destroyModal(),_get(Object.getPrototypeOf(n.prototype),"__error",this).call(this,i)}}},{key:"__success",value:function(i){var s=this;if(!this.isAborted()){var o=e.attempt(JSON.parse,i);return!e.isError(o)&&"modal"in o?void!function(){var e=s.$modal.getRect(),a=t(o.modal),r=Array.from(a.prop("attributes")),l=!0,h=!1,c=void 0;try{for(var u,p=r[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value;"class"!==d.name?s.$modal.attr(d.name,d.value):s.$modal.addClass(d.value)}}catch(v){h=!0,c=v}finally{try{!l&&p["return"]&&p["return"]()}finally{if(h)throw c}}s._frame(function(){this.$modal.addClass(this.options.classes.loaded).html(a.html()).widgetize();var t=this.$modal.getRect();this.$modal.css({width:e.width,height:e.height}),this._frame(function(){this.$modal.addClass(this.options.classes.animating),this.$modal.animate({width:t.width,height:t.height},this.options.animations.resize,function(){this.$modal.css({width:"",height:""}).removeClass(this.options.classes.placeholder+" "+this.options.classes.loaded+" "+this.options.classes.animating)}.bind(this))})}),_get(Object.getPrototypeOf(n.prototype),"__success",s).call(s,i)}():this.__error(i)}}},{key:"abort",value:function(){this._destroyModal(),_get(Object.getPrototypeOf(n.prototype),"abort",this).call(this)}}]),n}(s.Remote);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Animations),function(t,e,i,s){t.remoteModal=function(t){new s.RemoteModal({ajax:t}).request()}}(Svelto.$,Svelto._,Svelto,Svelto.Widgets),function(t,e,i,s,n){var o={name:"remoteModalTrigger",plugin:!0,selector:".remote-modal-trigger",options:{widget:s.RemoteModal}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.RemoteTrigger);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o,a,r,l){var h={name:"ripple",plugin:!0,selector:".ripple",templates:{circle:'<div class="ripple-circle"></div>'},options:{classes:{circle:{show:"ripple-circle-show",hide:"ripple-circle-hide"},centered:"ripple-centered"},animations:{show:l.xslow,hide:l.xslow,overlap:l.xslow/100*58},callbacks:{show:e.noop,hide:e.noop}}},c=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$ripple=this.$element,this.circles=[]}},{key:"_events",value:function(){this.___downTap()}},{key:"___downTap",value:function(){this._on(o.is.touchDevice?a.tap:a.down,this.__downTap)}},{key:"__downTap",value:function(i){if(e.isUndefined(i.button)||i.button===r.buttons.LEFT){if(this.$ripple.hasClass(this.options.classes.centered)){var s=this.$ripple.offset();this._show({X:s.left+this.$ripple.outerWidth()/2,Y:s.top+this.$ripple.outerHeight()/2})}else this._show(t.eventXY(i));this._one(!0,this.$document,a.up,this.__up)}}},{key:"__up",value:function(){var t=!0,e=!1,i=void 0;try{for(var s,n=this.circles[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var o=_slicedToArray(s.value,2),a=o[0],r=o[1];this._hide(a,r)}}catch(l){e=!0,i=l}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw i}}this.circles=[]}},{key:"_show",value:function(i){var s=t(this._tmpl("circle")),n=this.$ripple.offset(),o=i.X-n.left,a=i.Y-n.top,r=Math.max(o,this.$ripple.outerWidth()-o),l=Math.max(a,this.$ripple.outerHeight()-a),h=Math.sqrt(Math.pow(r,2)+Math.pow(l,2)),c=2*h;this.circles.push([s,e.now()]),this._frame(function(){s.css({width:c,height:c,top:a,left:o}).prependTo(this.$ripple),this._frame(function(){s.addClass(this.options.classes.circle.show),this._trigger("show")})})}},{key:"_hide",value:function(t,i){var s=Math.max(0,this.options.animations.show-this.options.animations.overlap+i-e.now());this._delay(function(){t.addClass(this.options.classes.circle.hide),this._delay(function(){t.remove(),this._trigger("hide")},this.options.animations.hide)},s)}}]),s}(s.Widget);n.init(c,h,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer,Svelto.Mouse,Svelto.Animations),function(t,e,i,s){t(function(){var i=t(window),n=s.pushState;s.pushState=function(t){return e.isFunction(s.onpushstate)&&s.onpushstate({state:t}),i.trigger("pushstate"),n.apply(s,arguments)}})}(Svelto.$,Svelto._,Svelto,window.history),function(t,e,i){t(function(){var i=t(window),s=window.location.href.split("#")[0];i.on("popstate pushstate",function(){e.defer(function(){var t=window.location.href.split("#")[0];t!==s&&(s=t,i.trigger("route"))})})})}(Svelto.$,Svelto._,Svelto),function(t,e,i,s,n,o,a){var r={name:"selectToggler",plugin:!0,selector:".select-toggler",templates:{base:'<div class="dropdown select-dropdown card {%=o.size%} {%=o.color%} {%=o.css%} {%=o.guc%}"><div class="card-block inherit">{% for ( var i = 0, l = o.options.length; i < l; i++ ) { %}{% include ( "selectToggler." + ( o.options[i].value ? "option" : "optgroup" ), { opt: o.options[i], color: o.color } ); %}{% } %}</div></div>',optgroup:'<div class="divider">{%=o.opt.prop%}</div>',option:'<div class="button {%=o.color%}" data-value="{%=o.opt.prop%}">{%=o.opt.value%}</div>'},options:{dropdown:{size:"",color:"white",css:"attached outlined"},classes:{selected:"active",attached:"attached"},datas:{value:"value"},selectors:{select:"select",option:"option",label:".select-label",valueholder:".valueholder",button:".button"},callbacks:{change:e.noop,open:e.noop,close:e.noop}}},l=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"_variables",value:function(){this.$toggler=this.$element,this.$select=this.$toggler.find(this.options.selectors.select),this.$options=this.$select.find(this.options.selectors.option),this.$label=this.$toggler.find(this.options.selectors.label),this.$valueholder=this.$toggler.find(this.options.selectors.valueholder),this.$valueholder.length||(this.$valueholder=this.$label),this.selectOptions=[],this.$dropdown=!1}},{key:"_init",value:function(){this._updateValueholder(),o.is.touchDevice||(this.$select.addClass(this.options.classes.hidden),this.___selectOptions(),this.___dropdown())}},{key:"_events",value:function(){this.___change()}},{key:"___change",value:function(){this._on(!0,this.$select,"change",this.__change)}},{key:"__change",value:function(){this._update(),this._trigger("change")}},{key:"___buttonTap",value:function(){o.is.touchDevice||this._on(this.$dropdown,a.tap,this.options.selectors.button,this.__buttonTap)}},{key:"__buttonTap",value:function(e){this.$dropdown.dropdown("close"),this.set(t(e.currentTarget).data(this.options.datas.value))}},{key:"___selectOptions",value:function(){var e=void 0,i=!0,s=!1,n=void 0;try{for(var o,a=this.$options[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value,l=t(r),h=l.parent();if(h.is("optgroup")){var c=h.attr("label");c!==e&&(e=c,this.selectOptions.push({prop:c}))}this.selectOptions.push({value:l.text(),prop:l.attr("value")})}}catch(u){s=!0,n=u}finally{try{!i&&a["return"]&&a["return"]()}finally{if(s)throw n}}}},{key:"___dropdown",value:function(){var i=this._tmpl("base",e.extend({guc:this.guc,options:this.selectOptions},this.options.dropdown));this.$dropdown=t(i).appendTo(this.$layout),this.$buttons=this.$dropdown.find(this.options.selectors.button),this.$dropdown.dropdown({positionate:{axis:"y",strict:!0},callbacks:{beforeopen:this.__setDropdownWidth.bind(this),open:this.__dropdownOpen.bind(this),close:this.__dropdownClose.bind(this)}}),this.$toggler.attr("data-"+s.Targeter.config.options.datas.target,"."+this.guc).dropdownToggler(),this._updateDropdown()}},{key:"__setDropdownWidth",value:function(){this.$dropdown.is("."+this.options.classes.attached)&&this.$dropdown.css("min-width",this.$toggler.outerWidth())}},{key:"__dropdownOpen",value:function(){this.___buttonTap(),this._trigger("open")}},{key:"__dropdownClose",value:function(){this._reset(),this.___change(),this._trigger("close")}},{key:"_updateValueholder",value:function(){var t=this.$select.val();if(t.length){var e=this.$options.filter('[value="'+t+'"]');this.$valueholder.text(e.text())}}},{key:"_updateDropdown",value:function(){this.$buttons.removeClass(this.options.classes.selected),this.$buttons.filter("[data-"+this.options.datas.value+'="'+this.$select.val()+'"]').addClass(this.options.classes.selected)}},{key:"_update",value:function(){this._updateValueholder(),o.is.touchDevice||this._updateDropdown()}},{key:"get",value:function(){return this.$select.val()}},{key:"set",value:function(t){var e=this.$buttons.filter("[data-"+this.options.datas.value+'="'+t+'"]');e.length&&this.$select.val(t).trigger("change")}}]),n}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Browser,Svelto.Pointer),function(t,e,i,s,n,o,a,r){var l={name:"selectable",plugin:!0,selector:"table.selectable",options:{moveThreshold:5,classes:{selected:"selected"},selectors:{element:"tbody tr:not(.empty)"},keystrokes:{"ctrl + a":"all","ctrl + shift + a":"clear","ctrl + i":"invert"},callbacks:{change:e.noop}}},h=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$selectable=this.$element,this.$elements=this._getElements()}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___downTap()}},{key:"_destroy",value:function(){this.clear()}},{key:"___change",value:function(){this._on(!0,"change tablehelper:change sortable:sort",this.__change)}},{key:"___keydown",value:function(){a.is.touchDevice||this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___downTap",value:function(){a.is.touchDevice?this._on(o.tap,this.options.selectors.element,this.__tapTouch):this._on(o.down,this.options.selectors.element,this.__down)}},{key:"__tapTouch",value:function(e){e.preventDefault(),t(e.currentTarget).toggleClass(this.options.classes.selected)}},{key:"__down",value:function(i){(e.isUndefined(i.button)||i.button===r.buttons.LEFT)&&(i.preventDefault(),this.startEvent=i,this.$startElement=t(i.currentTarget),this._on(!0,this.$document,o.move,this.__move),this._one(!0,this.$document,o.up,this.__up),this._one(!0,this.$document,o.cancel,this.__cancel))}},{key:"__move",value:function(e){e.preventDefault();var i=t.eventXY(this.startEvent),s=t.eventXY(e),n={X:s.X-i.X,Y:s.Y-i.Y},a={X:Math.abs(n.X),Y:Math.abs(n.Y)};(a.X>=this.options.moveThreshold||a.Y>=this.options.moveThreshold)&&(this._off(this.$document,o.move,this.__move),this._off(this.$document,o.up,this.__up),this._off(this.$document,o.cancel,this.__cancel),this._resetPrev(),t.hasCtrlOrCmd(e)||this.$elements.removeClass(this.options.classes.selected),this.$startElement.toggleClass(this.options.classes.selected),this._on(!0,o.enter,this.options.selectors.element,this.__dragEnter),this._one(!0,this.$document,o.up+" "+o.cancel,this.__dragEnd),this._trigger("change"))}},{key:"__dragEnter",value:function(e){this._toggleGroup(this.$startElement,t(e.currentTarget)),this._trigger("change")}},{key:"__dragEnd",value:function(){this._off(o.enter,this.__dragEnter)}},{key:"__up",value:function(e){if(this._off(this.$document,o.move,this.__move),this._off(this.$document,o.cancel,this.__cancel),e.shiftKey)this._toggleGroup(this.$prevElement,this.$startElement);else if(t.hasCtrlOrCmd(e))this.$startElement.toggleClass(this.options.classes.selected),this._resetPrev(this.$startElement);else{var i=this.get(),s=i.not(this.$startElement);s.length?(s.removeClass(this.options.classes.selected),this.$startElement.addClass(this.options.classes.selected)):this.$startElement.toggleClass(this.options.classes.selected),this._resetPrev(this.$startElement)}this._trigger("change")}},{key:"__cancel",value:function(){this._off(this.$document,o.move,this.__move),this._off(this.$document,o.up,this.__up)}},{key:"__change",value:function(){this.$elements=this._getElements(),this._resetPrev()}},{key:"_toggleGroup",value:function(t,e){var i=t?this.$elements.index(t):0,s=this.$elements.index(e),n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var a=this.$elements.slice(n,o);this.$prevGroup?(a.not(this.$prevGroup).toggleClass(this.options.classes.selected),this.$prevGroup.not(a).toggleClass(this.options.classes.selected)):a.toggleClass(this.options.classes.selected),this.$prevGroup=a}},{key:"_getElements",value:function(){return this.$element.find(this.options.selectors.element)}},{key:"_resetPrev",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.$prevElement=t,this.$prevGroup=e}},{key:"get",value:function(){return this.$elements.filter("."+this.options.classes.selected)}},{key:"all",value:function(){this.$elements.addClass(this.options.classes.selected),this._resetPrev(),this._trigger("change")}},{key:"clear",value:function(){this.$elements.removeClass(this.options.classes.selected),this._resetPrev(),this._trigger("change")}},{key:"invert",value:function(){this.$elements.toggleClass(this.options.classes.selected),this._resetPrev(),this._trigger("change")}}]),s}(s.Widget);n.init(h,l,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Browser,Svelto.Mouse),function(t,e,i,s,n,o){var a={name:"slider",plugin:!0,selector:".slider",options:{min:0,max:100,value:0,step:1,decimals:0,live:!1,datas:{min:"min",max:"max",step:"step",decimals:"decimals"},selectors:{input:"input",min:".slider-min",max:".slider-max",bar:".slider-bar",unhighlight:".slider-unhighlight",highlight:".slider-highlight",handlerWrp:".slider-handler-wrp",label:".slider-handler-wrp .slider-label"},keystrokes:{"left, down":"decrease","right, up":"increase"},callbacks:{change:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$slider=this.$element,this.$input=this.$slider.find(this.options.selectors.input),this.$min=this.$slider.find(this.options.selectors.min),this.$max=this.$slider.find(this.options.selectors.max),this.$bar=this.$slider.find(this.options.selectors.bar),this.$unhighlight=this.$slider.find(this.options.selectors.unhighlight),this.$highlight=this.$slider.find(this.options.selectors.highlight),this.$handlerWrp=this.$slider.find(this.options.selectors.handlerWrp),this.$label=this.$slider.find(this.options.selectors.label)}},{key:"_init",value:function(){var t=this.$input.val();this.options.min=Number(this.$min.data(this.options.datas.min)||this.options.min),this.options.max=Number(this.$max.data(this.options.datas.max)||this.options.max),this.options.value=this._sanitizeValue(t||this.options.value),this.options.step=Number(this.$slider.data(this.options.datas.step)||this.options.step),this.options.decimals=Number(this.$slider.data(this.options.datas.decimals)||this.options.decimals),this.stepsNr=(this.options.max-this.options.min)/this.options.step,this._updateVariables(),Number(t)!==this.options.value?this._update():(this._updatePositions(),this._updateLabel())}},{key:"_events",value:function(){this.___change(),this.___resize(),this.___keydown(),this.___minTap(),this.___maxTap(),this.___drag()}},{key:"_sanitizeValue",value:function(t){return e.clamp(Number(Number(t).toFixed(this.options.decimals)),this.options.min,this.options.max)}},{key:"_updateVariables",value:function(){this.unhighlightWidth=this.$unhighlight.width(),this.stepWidth=this.unhighlightWidth/this.stepsNr}},{key:"_updatePositions",value:function(){var t=(this.options.value-this.options.min)/this.options.step*100/this.stepsNr,e=this.unhighlightWidth/100*t;this.$handlerWrp.translateX(e),this.$highlight.translateX(e)}},{key:"_updateLabel",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.options.value:arguments[0];this.$label.text(t)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"_update",value:function(){this._updatePositions(),this._updateLabel(),this._updateInput()}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"___resize",value:function(){this._on(!0,this.$window,"resize",this._debounce(this.__resize,100))}},{key:"__resize",value:function(){this._updateVariables(),this._updatePositions()}},{key:"___keydown",value:function(){this._onHover([$document,"keydown",this.__keydown])}},{key:"___minTap",value:function(){this._on(this.$min,o.tap,this.decrease)}},{key:"___maxTap",value:function(){this._on(this.$max,o.tap,this.increase)}},{key:"___drag",value:function(){this.$handlerWrp.draggable({draggable:this.isEnabled.bind(this),axis:"x",proxy:{$element:this.$bar},constrainer:{$element:this.$bar,center:!0},modifiers:{x:this._dragModifierX.bind(this)},callbacks:{move:this.__dragMove.bind(this),end:this.__dragEnd.bind(this)}})}},{key:"_dragModifierX",value:function(t){return e.roundCloser(t,this.stepWidth)}},{key:"__dragMove",value:function(t,e){this.options.live?this.set(this.options.min+e.dragXY.X/this.stepWidth*this.options.step):(this.$highlight.translateX(e.dragXY.X),this._updateLabel(this._sanitizeValue(this.options.min+e.dragXY.X/this.stepWidth*this.options.step)))}},{key:"__dragEnd",value:function(t,e){this.set(this.options.min+e.dragXY.X/this.stepWidth*this.options.step)}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){t=this._sanitizeValue(t),e.isNaN(t)||t===this.options.value||(this.options.value=t,this._update(),this._trigger("change"))}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),i}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n,o){var a={name:"sortable",plugin:!0,selector:"table.sortable",options:{sorters:{"int":function(t,e){return parseInt(t,10)-parseInt(e,10)},"float":function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}},datas:{sorter:"sort",value:"sort-value"},classes:{sort:{asc:"sort-asc",desc:"sort-desc"}},selectors:{header:"thead th",sortable:"[data-sort]",body:"tbody",notEmptyRow:"tr:not(.table-row-empty)",rowCell:"td"},callbacks:{sort:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$table=this.$element,this.$headers=this.$table.find(this.options.selectors.header),this.$sortables=this.$headers.filter(this.options.selectors.sortable),this.$tbody=this.$table.find(this.options.selectors.body),this.table=this.element,this.tbody=this.$tbody[0],this.sortData={},this.isDirty=!0,this.$currentSortable=!1,this.currentIndex=!1,this.currentDirection=!1}},{key:"_init",value:function(){var t=this.$headers.filter("."+this.options.classes.sort.asc+", ."+this.options.classes.sort.desc).first();1===t.length&&this.sort(this.$headers.index(t),t.hasClass(this.options.classes.sort.asc)?"asc":"desc")}},{key:"_events",value:function(){this.___change(),this.___tap()}},{key:"___change",value:function(){this._on(!0,"change tablehelper:change",this.__change)}},{key:"__change",value:function(){this.currentIndex!==!1&&(this.sortData={},this.isDirty=!0,this.sort(this.currentIndex,this.currentDirection))}},{key:"___tap",value:function(){this._on(this.$sortables,o.tap,this.__tap)}},{key:"__tap",value:function(t){var e=this.$headers.index(t.target),i=this.currentIndex===e&&"asc"===this.currentDirection?"desc":"asc";this.sort(e,i)}},{key:"sort",value:function(t,i){var s=this.$headers.eq(t);if(s.length){var n=s.data(this.options.datas.sorter);if(n){var o=this.options.sorters[n];if(o){if(i=i&&"desc"===i.toLowerCase()?"desc":"asc",e.isUndefined(this.sortData[t])||this.isDirty){
var a=this.$tbody.find(this.options.selectors.notEmptyRow);this.sortData[t]=new Array(a.length);for(var r=0,l=a.length;l>r;r++){var h=a.eq(r).find(this.options.selectors.rowCell).eq(t),c=h.data(this.options.datas.value)||h.text();this.sortData[t][r]=[a[r],c]}}(t!==this.currentIndex||this.isDirty)&&this.sortData[t].sort(function(t,e){return o(t[1],e[1])});var u=!1;if(u=this.isDirty||t!==this.currentIndex||this.currentDirection===!1?"desc"===i:i!==this.currentDirection,u&&this.sortData[t].reverse(),t!==this.currentIndex||i!==this.currentDirection||this.isDirty){this.table.removeChild(this.tbody);for(var r=0,l=this.sortData[t].length;l>r;r++)this.tbody.appendChild(this.sortData[t][r][0]);this.table.appendChild(this.tbody)}(t!==this.currentIndex||i!==this.currentDirection)&&(this.$currentSortable&&this.$currentSortable.removeClass(this.options.classes.sort[this.currentDirection]),s.addClass(this.options.classes.sort[i])),this.isDirty=!1,this.$currentSortable=s,this.currentIndex=t,this.currentDirection=i,this._trigger("sort",{index:this.currentIndex,direction:this.currentDirection})}}}}}]),i}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n,o){var a={name:"stepper",plugin:!0,selector:".stepper",options:{min:0,max:100,value:0,step:1,datas:{min:"min",max:"max",step:"step"},selectors:{decreaser:".stepper-decreaser",increaser:".stepper-increaser",input:"input"},keystrokes:{"left, down":"decrease","right, up":"increase"},callbacks:{change:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$stepper=this.$element,this.$input=this.$stepper.find(this.options.selectors.input),this.$decreaser=this.$stepper.find(this.options.selectors.decreaser),this.$increaser=this.$stepper.find(this.options.selectors.increaser),this._prevValue=!1}},{key:"_init",value:function(){var t=this.$input.val();this.options.min=Number(this.$stepper.data(this.options.datas.min)||this.options.min),this.options.max=Number(this.$stepper.data(this.options.datas.max)||this.options.max),this.options.step=Number(this.$stepper.data(this.options.datas.step)||this.options.step),this.options.value=this._sanitizeValue(t||this.options.value),Number(t)!==this.options.value?this._update():this._updateButtons()}},{key:"_events",value:function(){this.___inputChange(),this.___keydown(),this.___increaser(),this.___decreaser()}},{key:"_sanitizeValue",value:function(t){return t=Number(t),t=e.isNaN(t)?0:e.roundCloser(t,this.options.step),e.clamp(t,this.options.min,this.options.max)}},{key:"___inputChange",value:function(){this._on(!0,this.$input,"input change",this.__inputChange)}},{key:"__inputChange",value:function(){this.set(this.$input.val())}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___increaser",value:function(){this._on(this.$decreaser,o.tap,this.decrease)}},{key:"___decreaser",value:function(){this._on(this.$increaser,o.tap,this.increase)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"_updateButtons",value:function(){var t=this.options.value===this.options.min,e=this.options.value===this.options.max;t||this._prevValue===this.options.min?this.$decreaser.toggleClass(this.options.classes.disabled,t):(e||this._prevValue===this.options.max)&&this.$increaser.toggleClass(this.options.classes.disabled,e)}},{key:"_update",value:function(){this._updateInput(),this._updateButtons()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){return t=Number(t),e.isNaN(t)||(t=this._sanitizeValue(t),t===this.options.value)?void(this.$input.val()!==String(this.options.value)&&this._updateInput()):(this._prevValue=this.options.value,this.options.value=t,this._update(),void this._trigger("change"))}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),i}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n){var o={name:"switch",plugin:!0,selector:".switch",options:{colors:{on:"secondary",off:"gray"},datas:{colors:{on:"color-on",off:"color-off"}},classes:{checked:"checked"},selectors:{input:"input",bar:".switch-bar",handler:".switch-handler"},keystrokes:{left:"uncheck",right:"check",spacebar:"toggle"},callbacks:{change:e.noop,check:e.noop,uncheck:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$switch=this.$element,this.$input=this.$switch.find(this.options.selectors.input),this.$bar=this.$switch.find(this.options.selectors.bar),this.$handler=this.$switch.find(this.options.selectors.handler),this.isChecked=!1,this.switchWidth=this.$switch.width(),this.handlerWidth=this.$handler.width()}},{key:"_init",value:function(){this.options.colors.on=this.$switch.data(this.options.datas.colors.on)||this.options.colors.on,this.options.colors.off=this.$switch.data(this.options.datas.colors.off)||this.options.colors.off,this.$input.prop("checked")&&this.check()}},{key:"_events",value:function(){this.___change(),this.___keydown(),this.___drag()}},{key:"_destroy",value:function(){this.$handler.draggable("destroy")}},{key:"___change",value:function(){this._on(!0,this.$input,"change",this.__change)}},{key:"__change",value:function(){this.toggle(this.$input.prop("checked"))}},{key:"___keydown",value:function(){this._onHover([this.$document,"keydown",this.__keydown])}},{key:"___drag",value:function(){this.$handler.draggable({draggable:this.isEnabled.bind(this),axis:"x",proxy:{$element:this.$switch,noMotion:!1},constrainer:{$element:this.$switch},callbacks:{end:this.__dragEnd.bind(this)}})}},{key:"__dragEnd",value:function(t,e){if(e.motion){var i=e.dragXY.X+this.handlerWidth/2>=this.switchWidth/2;this.toggle(i,!0)}else this.toggle()}},{key:"_updatePosition",value:function(){this.$handler.translateX(this.isChecked?this.switchWidth-this.handlerWidth:0)}},{key:"_updateColors",value:function(){this.$bar.toggleClass(this.options.colors.on,this.isChecked),this.$bar.toggleClass(this.options.colors.off,!this.isChecked),this.$handler.toggleClass(this.options.colors.on,this.isChecked),this.$handler.toggleClass(this.options.colors.off,!this.isChecked)}},{key:"_updateInput",value:function(){this.$input.prop("checked",this.isChecked).trigger("change")}},{key:"_update",value:function(){this._updatePosition(),this._updateColors(),this._updateInput()}},{key:"get",value:function(){return this.isChecked}},{key:"toggle",value:function(t,i){e.isBoolean(t)||(t=!this.isChecked),t!==this.isChecked?(this.isChecked=t,this.$switch.toggleClass(this.options.classes.checked,this.isChecked),this._update(),this._trigger("change"),this._trigger(this.isChecked?"check":"uncheck")):i&&this._updatePosition()}},{key:"check",value:function(){this.toggle(!0)}},{key:"uncheck",value:function(){this.toggle(!1)}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"tableHelper",plugin:!0,selector:"table.table",templates:{row:'<tr {%= ( o.id ? "class=" + o.id : "" ) %} >{% for ( var i = 0, l = o.datas.length; i < l; i++ ) { %}<td>{%=o.datas[i]%}</td>{% } %}{% for ( var i = 0, l = o.missing; i < l; i++ ) { %}<td></td>{% } %}</tr>'},options:{rowIdPrefix:"srid",selectors:{header:"thead",body:"tbody",headerCell:"th",rowCell:"td",emptyRow:"tr.table-row-empty",notEmptyRow:"tr:not(.table-row-empty)"},callbacks:{change:e.noop,add:e.noop,update:e.noop,remove:e.noop,clear:e.noop}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$table=this.$element,this.$header=this.$table.find(this.options.selectors.header),this.$body=this.$table.find(this.options.selectors.body),this.$headerCells=this.$header.find(this.options.selectors.headerCell),this.$emptyRow=this.$body.find(this.options.selectors.emptyRow),this.columnsNr=this.$headerCells.length}},{key:"_init",value:function(){this._checkEmpty()}},{key:"_checkEmpty",value:function(){var t=!!this.$body.find(this.options.selectors.notEmptyRow).length;this.$emptyRow.toggleClass(this.options.classes.hidden,t)}},{key:"_getRowId",value:function(t){return this.options.rowIdPrefix+"_"+this.guid+"_"+t}},{key:"add",value:function(i){for(var s=i?this._getRowId(i):!1,n=arguments.length,o=Array(n>1?n-1:0),a=1;n>a;a++)o[a-1]=arguments[a];if(o.length){if(s&&1===t("."+s).length)return this;var r=e.chunk(o,this.columnsNr),l=t(),h=!0,c=!1,u=void 0;try{for(var p,d=r[Symbol.iterator]();!(h=(p=d.next()).done);h=!0){var v=p.value,g=this._tmpl("row",{id:s,datas:v,missing:this.columnsNr-v.length});l=l.add(g)}}catch(_){c=!0,u=_}finally{try{!h&&d["return"]&&d["return"]()}finally{if(c)throw u}}this.$body.append(l),this._checkEmpty(),this._trigger("change"),this._trigger("add",{$rows:l})}}},{key:"update",value:function(i){for(var s=t("."+this._getRowId(i)),n=arguments.length,o=Array(n>1?n-1:0),a=1;n>a;a++)o[a-1]=arguments[a];if(o.length&&1===s.length){for(var r=s.find(this.options.selectors.rowCell),l=0,h=o.length;h>l;l++)e.isString(o[l])&&r.eq(l).html(o[l]);this._trigger("change"),this._trigger("update",{$row:s})}}},{key:"remove",value:function(e){var i=t("."+this._getRowId(e));1===i.length&&(i.remove(),this._checkEmpty(),this._trigger("change"),this._trigger("remove",{$row:i}))}},{key:"clear",value:function(){var t=this.$body.find(this.options.selectors.notEmptyRow);t.length&&(t.remove(),this._checkEmpty(),this._trigger("change"),this._trigger("clear",{$rows:t}))}}]),s}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n,o){var a={name:"tabs",plugin:!0,selector:".tabs",options:{direction:"top",highlight:!0,classes:{active:{trigger:"active",container:"active"}},selectors:{triggers:".tabs-triggers > *",containers:".tabs-containers > *"},callbacks:{change:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){var t=this;this.$tabs=this.$element,this.$triggers=this.$tabs.find(this.options.selectors.triggers),this.$containers=this.$tabs.find(this.options.selectors.containers),this.options.direction=e.getDirections().find(function(e){return t.$tabs.hasClass(e)})||this.options.direction,this.index=!1}},{key:"_init",value:function(){var t=this.$triggers.filter("."+this.options.classes.active.trigger).first(),e=this.$triggers.index(t);this.set(e)}},{key:"_events",value:function(){this.___tap()}},{key:"_sanitizeIndex",value:function(t){return e.clamp(t,0,this.$triggers.length)}},{key:"___tap",value:function(){this._on(this.$triggers,o.tap,this.__tap)}},{key:"__tap",value:function(e){var i=this.$triggers.index(t(e.currentTarget));this.set(i)}},{key:"_toggleSelection",value:function(t,i){var s=this.$triggers.eq(t),n=this.$containers.eq(t);s.toggleClass(this.options.classes.active.trigger,i),n.toggleClass(this.options.classes.active.container,i),this.options.highlight&&s.toggleClass("highlighted highlight-"+e.getOppositeDirection(this.options.direction),i)}},{key:"_select",value:function(t){this._toggleSelection(t,!0)}},{key:"_unselect",value:function(t){this._toggleSelection(t,!1)}},{key:"get",value:function(){return this.index}},{key:"set",value:function(t){t=this._sanitizeIndex(t),t!==this.index&&(e.isNumber(this.index)&&this._unselect(this.index),this.index=t,this._select(this.index),this._trigger("change"))}}]),s}(s.Widget);n.init(r,a,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer),function(t,e,i,s,n,o,a){var r={name:"tagbox",plugin:!0,selector:".tagbox",templates:{tag:'<div class="label tagbox-tag {%=o.color%} {%=o.size%} {%=o.css%}" data-tag-value="{%=o.value%}"><span>{%=o.value%}</span><div class="button gray compact rounded xxsmall tagbox-tag-remover"><i class="icon">close</i></div></div>'},options:{init:"",tags:[],tag:{minLength:3,color:"",size:"",css:"compact outlined"},characters:{forbid:!0,forbidden:["<",">",";","`"],separator:",",inserters:[a.keys.ENTER,a.keys.TAB]},sort:!1,escape:!1,deburr:!1,messages:{tooShort:"`$1` is shorter than $2 characters",duplicate:"`$1` is a duplicate",forbidden:"The character you entered is forbidden"},datas:{value:"tag-value"},selectors:{input:"input.hidden",partial:"input.tagbox-partial, .tagbox-partial input",tags:".tagbox-tags",tag:".tagbox-tag",tagLabel:"span",tagRemover:".tagbox-tag-remover"},callbacks:{change:e.noop,add:e.noop,remove:e.noop,empty:e.noop}}},l=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_variables",value:function(){this.$tagbox=this.$element,this.$tags=this.$tagbox.find(this.options.selectors.tags),this.$input=this.$tagbox.find(this.options.selectors.input),this.$partial=this.$tagbox.find(this.options.selectors.partial)}},{key:"_init",value:function(t){this.options.init=this.$input.val()||this.options.init,this.add(this.options.init,t)}},{key:"_events",value:function(){this.___partial(),this.___tapOnEmpty(),this.___tapOnTagRemover()}},{key:"_sanitizeTag",value:function(t){return t=e.trim(t),this.options.escape&&(t=e.escape(t)),this.options.deburr&&(t=e.deburr(t)),t}},{key:"_getTagHtml",value:function(t){return this._tmpl("tag",e.extend({value:t},this.options.tag))}},{key:"_clearPartial",value:function(){this.$partial.val("").trigger("change")}},{key:"_updateInput",value:function(){this.$input.val(this.options.tags.join(this.options.characters.separator)).trigger("change")}},{key:"_add",value:function(i){var s=e.trim(i);if(i=this._sanitizeTag(i),s.length<this.options.tag.minLength)s.length&&t.noty(e.format(this.options.messages.tooShort,i,this.options.tag.minLength));else{if(!e.contains(this.options.tags,i)){this.options.tags.push(i),this.options.sort&&this.options.tags.sort();var n=this._getTagHtml(i);if(1===this.options.tags.length)this.$tags.prepend(n);else if(this.options.sort){var o=this.options.tags.indexOf(i);0===o?this.$tagbox.find(this.options.selectors.tag).first().before(n):this.$tagbox.find(this.options.selectors.tag).eq(o-1).after(n)}else this.$tagbox.find(this.options.selectors.tag).last().after(n);return!0}t.noty(e.format(this.options.messages.duplicate,i))}return!1}},{key:"_remove",value:function(t,i){t.remove(),e.pull(this.options.tags,i)}},{key:"___partial",value:function(){this._on(this.$partial,"keypress keydown",this.__keypressKeydown),this._on(this.$partial,"paste",this.__paste)}},{key:"__keypressKeydown",value:function(i){var s=this.$partial.val();if(e.contains(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var n=this.add(s);n&&this._clearPartial(),i.preventDefault(),i.stopImmediatePropagation()}else if(i.keyCode===a.keys.BACKSPACE){if(!s.length&&this.options.tags.length){var o=this.$tagbox.find(this.options.selectors.tag).last(),r=!t.hasCtrlOrCmd(i);this.remove(o,r),i.preventDefault(),i.stopImmediatePropagation()}}else this.options.characters.forbid&&e.contains(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.noty(this.options.messages.forbidden),i.preventDefault(),i.stopImmediatePropagation())}},{key:"__paste",value:function(t){this.add(t.originalEvent.clipboardData.getData("text")),t.preventDefault(),t.stopImmediatePropagation()}},{key:"___tapOnTagRemover",value:function(){this._on(o.tap,this.options.selectors.tagRemover,this.__tapOnTagRemover)}},{key:"__tapOnTagRemover",value:function(e){var i=t(e.currentTarget).closest(this.options.selectors.tag);this.remove(i)}},{key:"___tapOnEmpty",value:function(){this._on(o.tap,this.__tapOnEmpty)}},{key:"__tapOnEmpty",value:function(e){document.activeElement===this.$partial[0]||t(e.target).is(this.options.selectors.partial+","+this.options.selectors.tagLabel)||this.$partial.focus()}},{key:"get",value:function(){return e.clone(this.options.tags)}},{key:"add",value:function(t,i){e.isArray(t)&&(t=e.flatten(t).join(this.options.characters.separator));var s=t.split(this.options.characters.separator),n=e.map(s,this._add,this),o=!!e.compact(n).length;if(o&&(this._updateInput(),!i)){this._trigger("change");var a=e.filter(s,function(t,e){return n[e]});this._trigger("add",a)}return o}},{key:"remove",value:function(i,s,n){var o=[],a=[];if(i instanceof t)o=[i],a=[i.data(this.options.datas.value)];else{e.isArray(i)&&(i=e.flatten(i).join(this.options.characters.separator)),i=i.split(this.options.characters.separator);for(var r=0,l=i.length;l>r;r++){var h=this._sanitizeTag(i[r]),c=this.$tagbox.find(this.options.selectors.tag+"[data-"+this.options.datas.value+'="'+h.replace(/"/g,'\\"')+'"]');1===c.length&&(o.push(c),a.push(h))}}if(a.length){for(var r=0,l=a.length;l>r;r++)this._remove(o[r],a[r]);this._updateInput(),1===a.length&&s===!0&&this.$partial.val(a[0]).trigger("change"),n||(this._trigger("change"),this._trigger("remove",a),this.options.tags.length||this._trigger("empty"))}}},{key:"clear",value:function(t){if(this.options.tags.length){var e=this.options.tags;this.options.tags=[],this.$tagbox.find(this.options.selectors.tag).remove(),this._clearPartial(),this._updateInput(),t||(this._trigger("change"),this._trigger("remove",e),this._trigger("empty"))}}},{key:"reset",value:function(){var t=this.options.tags;if(this.clear(!0),this._init(!0),!e.isEqual(t,this.options.tags)){this._trigger("change");var i=e.difference(this.options.tags,t);i.length&&this._trigger("add",i);var s=e.difference(t,this.options.tags);s.length&&this._trigger("remove",s),this.options.tags.length||this._trigger("empty")}}}]),s}(s.Widget);n.init(l,r,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Pointer,Svelto.Keyboard),function(t,e,i,s,n){var o={name:"timeAgo",plugin:!0,selector:".timeago, .time-ago",options:{timestamp:!1,title:!1,datas:{timestamp:"timestamp"},callbacks:{change:e.noop}}},a=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_variables",value:function(){this.$timeAgoElement=this.$element}},{key:"_init",value:function(){this.options.timestamp||(this.options.timestamp=this.$timeAgoElement.data(this.options.datas.timestamp)),this.isEnabled()&&this._loop()}},{key:"_destroy",value:function(){clearTimeout(this.loopId)}},{key:"_loop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.loopId=this._delay(function(){this._loop(this._update().next)},1e3*t)}},{key:"_update",value:function(){var t=e.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgoElement.attr("title",t.str):this.$timeAgoElement.text(t.str),this._trigger("change"),t}},{key:"enable",value:function(){_get(Object.getPrototypeOf(i.prototype),"enable",this).call(this),this._loop()}},{key:"disable",value:function(){_get(Object.getPrototypeOf(i.prototype),"disable",this).call(this),clearTimeout(this.loopId)}}]),i}(s.Widget);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory,Svelto.Timer),function(t,e,i,s,n){var o={name:"tooltip",selector:".tooltip"},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Dropdown);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"tooltipCloser",plugin:!0,selector:".tooltip-closer",options:{widget:s.Tooltip}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Closer);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"tooltipOpener",plugin:!0,selector:".tooltip-opener",options:{widget:s.Tooltip,hover:{active:!0}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Opener);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory),function(t,e,i,s,n){var o={name:"tooltipToggler",plugin:!0,selector:".tooltip-toggler",options:{widget:s.Tooltip,hover:{active:!0}}},a=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(s.Toggler);n.init(a,o,s)}(Svelto.$,Svelto._,Svelto,Svelto.Widgets,Svelto.Factory);