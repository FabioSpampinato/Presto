!function(n,e,t,r){"use strict";n.mixin({nowSecs:function(){return n.floor(n.now()/1e3)},timeAgo:function(e){var t=n.nowSecs()-e,r=5,o=["year","month","week","day","hour","minute","second"],i=[31536e3,2592e3,604800,86400,3600,60,1];if(r>t)return{str:"Just now",next:r-t};for(var u=0,f=i.length;f>u;u++){var c=o[u],a=i[u],s=n.floor(t/a);if(s>=1)return{str:s+" "+c+(s>1?"s":"")+" ago",next:a-(t-s*a)}}},fuzzyMatch:function(n,e,t){t!==!1&&(n=n.toLowerCase(),e=e.toLowerCase());for(var r=-1,o=n.length,i=0,u=e.length;u>i;i++){for(var f=r+1;o>f;f++)n[f]===e[i]&&(r=f,f=o+1);if(f===o)return!1}return!0},clamp:function(e,t,r){return n.isUndefined(e)||e>t&&(t=e),n.isUndefined(r)||t>r&&(t=r),t},btEach:function(e,t,r){for(var o,i=0,u=e.length-1,f=n.isNumber(r)?r:n.ceil((i+u)/2);u>=i;){if(o=t.call(e[f],f,e[f]),0>o)u=f-1;else{if(!(o>0))return f;i=f+1}f=n.ceil((i+u)/2)}return-1},"true":n.constant(!0),"false":n.constant(!1)})}(_,window,document);
!function(n,t,e,u,r){"use strict";n.easing={def:"easeOutQuad",swing:function(t,e,u,r,a){return n.easing[n.easing.def](t,e,u,r,a)},linear:function(n,t,e,u,r){return(u-e)/r*t+e},easeInQuad:function(n,t,e,u,r){return u*(t/=r)*t+e},easeOutQuad:function(n,t,e,u,r){return-u*(t/=r)*(t-2)+e},easeInOutQuad:function(n,t,e,u,r){return(t/=r/2)<1?u/2*t*t+e:-u/2*(--t*(t-2)-1)+e},easeInCubic:function(n,t,e,u,r){return u*(t/=r)*t*t+e},easeOutCubic:function(n,t,e,u,r){return u*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(n,t,e,u,r){return(t/=r/2)<1?u/2*t*t*t+e:u/2*((t-=2)*t*t+2)+e},easeInQuart:function(n,t,e,u,r){return u*(t/=r)*t*t*t+e},easeOutQuart:function(n,t,e,u,r){return-u*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(n,t,e,u,r){return(t/=r/2)<1?u/2*t*t*t*t+e:-u/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(n,t,e,u,r){return u*(t/=r)*t*t*t*t+e},easeOutQuint:function(n,t,e,u,r){return u*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(n,t,e,u,r){return(t/=r/2)<1?u/2*t*t*t*t*t+e:u/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(n,t,e,u,r){return-u*Math.cos(t/r*(Math.PI/2))+u+e},easeOutSine:function(n,t,e,u,r){return u*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(n,t,e,u,r){return-u/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(n,t,e,u,r){return 0==t?e:u*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(n,t,e,u,r){return t==r?e+u:u*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(n,t,e,u,r){return 0==t?e:t==r?e+u:(t/=r/2)<1?u/2*Math.pow(2,10*(t-1))+e:u/2*(-Math.pow(2,-10*--t)+2)+e}}}(jQuery,_,window,document);
!function(e,n,t,o,i){"use strict";e.reflow=function(){o.documentElement.offsetHeight},e.eventXY=function(n){return n.isPointerEvent&&(n=n.originalEvent),e.browser.hasTouch&&n.originalEvent.touches&&(n=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n.originalEvent.touches[0]),{X:n.pageX,Y:n.pageY}},e(function(){t.$window=e(t),t.$document=e(o),t.$html=e(o.documentElement),t.$body=e(o.body),t.$empty=e()})}(jQuery,_,window,document);
!function(i,e,o,s,t){"use strict";var r=navigator.userAgent.toLowerCase();i.browser={isMobile:/iphone|ipad|android|ipod|opera mini|opera mobile|blackberry|iemobile|webos|windows phone|playbook|tablet|kindle/i.test(r),isTablet:/ipad|playbook|tablet|kindle/i.test(r),isAndroid:/android/i.test(r),isIOS:/(iphone|ipad|ipod)/i.test(r),isMac:/mac/i.test(r),isIE:/msie [\w.]+/.test(r),isChrome:/chrome/i.test(r)},i.browser.hasTouch="ontouchstart"in o&&!(i.browser.isChrome&&!i.browser.isAndroid)}(jQuery,_,window,document);
!function(E,A,P,u,D){"use strict";E.ui={keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},mouseButton:{LEFT:0,MIDDLE:1,RIGHT:2}}}(jQuery,_,window,document);

!function(n,e,s,i,t){"use strict";n.widget("presto.accordion",{_variables:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(".expander"),this.expanders_instances=Array(this.$expanders.length),this.isMultiple=this.$accordion.hasClass("multiple")},_init:function(){for(var n=0,e=this.$expanders.length;e>n;n++)this.expanders_instances[n]=this.$expanders.eq(n).expander("instance")},_events:function(){this._on("expander:open",".expander",this._handler_open)},_handler_open:function(n,e,s){if(!this.isMultiple)for(var i=0,t=this.$expanders.length;t>i;i++)this.$expanders[i]!==s&&this.expanders_instances[i].close()},toggle:function(n){this.expanders_instances[n].toggle()},toggleAll:function(){e.each(this.expanders_instances,function(n){n.toggle()})},open:function(n){this.expanders_instances[n].open()},openAll:function(){e.each(this.expanders_instances,function(n){n.open()})},close:function(n){this.expanders_instances[n].close()},closeAll:function(){e.each(this.expanders_instances,function(n){n.close()})}}),n(function(){n(".accordion").accordion()})}(jQuery,_,window,document);
!function(t,i,e,a,o){"use strict";t.widget("presto.autogrow",{options:{minimum_width:0,minimum_height:0,callbacks:{update:i.noop}},_variables:function(){this.$growable=this.$element,this.isInput=this.$growable.is("input"),this.isTextarea=this.$growable.is("textarea")},_init:function(){this.update()},_events:function(){this._on("input change",this.update)},_update_input_width:function(){var t=this._get_input_needed_width(this.$growable);this.$growable.width(Math.max(t,this.options.minimum_width))},_get_input_needed_width:function(){var i=t("<span>"+this.$growable.val()+"</span>");i.css({font:this.$growable.css("font"),position:"absolute",opacity:0}),i.appendTo($body);var e=i.width();return i.remove(),e},_update_textarea_height:function(){var t=this.$growable.height(1).get(0).scrollHeight-parseFloat(this.$growable.css("padding-top"))-parseFloat(this.$growable.css("padding-bottom"));this.$growable.height(Math.max(t,this.options.minimum_height))},update:function(){this.isInput?(this._update_input_width(),this._trigger("update")):this.isTextarea&&(this._update_textarea_height(),this._trigger("update"))}}),t(function(){t("input.autogrow, textarea.autogrow, .input-wrp.autogrow input, .textarea-wrp.autogrow textarea").autogrow()})}(jQuery,_,window,document);
!function(n,r,t,u,e){"use strict";n.fn.blurred=function(n){return this.toggleClass("blurred",n)}}(jQuery,_,window,document);
!function(t,n,c,u,i){"use strict";t.fn.btEach=function(t,c){return n.btEach(this,t,c)}}(jQuery,_,window,document);
!function(e,c,t,h,i){"use strict";e.widget("presto.checkbox",{options:{callbacks:{checked:c.noop,unchecked:c.noop}},_variables:function(){this.$checkbox=this.$element,this.$input=this.$checkbox.find("input")},_init:function(){var e=this.$checkbox.hasClass("checked");this.get()?e||this.$checkbox.addClass("checked"):e&&this.$checkbox.removeClass("checked")},_events:function(){this._on("click",function(){this.toggle()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var e=this.get();this.$checkbox.toggleClass("checked",e),this._trigger(e?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},toggle:function(e){var t=this.get();c.isUndefined(e)&&(e=!t),e!==t&&(this.$input.prop("checked",e).trigger("change"),this._trigger(e?"checked":"unchecked"))},check:function(){this.toggle(!0)},uncheck:function(){this.toggle(!1)}}),e(function(){e(".checkbox").checkbox()})}(jQuery,_,window,document);
!function(r,e,t,h){"use strict";e.ColorHelper={hex2rgb:function(r){return{r:this.hex2dec(r.r),g:this.hex2dec(r.g),b:this.hex2dec(r.b)}},hex2hsv:function(r){return this.rgb2hsv(this.hex2rgb(r))},rgb2hex:function(r){return{r:this.dec2hex(r.r),g:this.dec2hex(r.g),b:this.dec2hex(r.b)}},rgb2hsv:function(r){var e,t,h=r.r/255,n=r.g/255,s=r.b/255,i=Math.max(h,n,s),u=i-Math.min(h,n,s),c=function(r){return(i-r)/6/u+.5};if(0===u)e=t=0;else{t=u/i;var a=c(h),o=c(n),b=c(s);h===i?e=b-o:n===i?e=1/3+a-b:s===i&&(e=2/3+o-a),0>e?e+=1:e>1&&(e-=1)}return{h:360*e,s:100*t,v:100*i}},hsv2hex:function(r){return this.rgb2hex(this.hsv2rgb(r))},hsv2rgb:function(r){var e,t,h,n=r.h,s=r.s,i=r.v;if(s/=100,i/=100,0===s)e=t=h=i;else{var u,c,a,o,b;switch(n/=60,u=Math.floor(n),c=n-u,a=i*(1-s),o=i*(1-s*c),b=i*(1-s*(1-c)),u){case 0:e=i,t=b,h=a;break;case 1:e=o,t=i,h=a;break;case 2:e=a,t=i,h=b;break;case 3:e=a,t=o,h=i;break;case 4:e=b,t=a,h=i;break;default:e=i,t=a,h=o}}return{r:Math.round(255*e),g:Math.round(255*t),b:Math.round(255*h)}},hsv2hsl:function(r){var e=r.s/100,t=r.v/100,h=(2-e)*t,n=e*t;return{h:r.h,s:n/(1>=h?h:2-h)*100,l:h/2*100}},hsl2hsv:function(r){var e=r.l/100*2,t=r.s/100*(1>=e?e:2-e);return{h:r.h,s:2*t/(e+t)*100,v:(e+t)/2*100}},dec2hex:function(e){return r.padLeft(e.toString(16),2,"0")},hex2dec:function(r){return parseInt(r,16)}}}(_,window,document);
!function(e,t,i,r){"use strict";t.HexColor=function(t){if(e.isString(t)){if(t=t.replace("#",""),/^([0-9a-f]{3}){2}$/i.test(t))this.hsv=ColorHelper.hex2hsv({r:t[0]+t[1],g:t[2]+t[3],b:t[4]+t[5]});else{if(!/^[0-9a-f]{3}$/i.test(t))return this;this.hsv=ColorHelper.hex2hsv({r:t[0]+t[0],g:t[1]+t[1],b:t[2]+t[2]})}this.isValid=!0}},HexColor.prototype={isValid:!1,hsv:{h:0,s:0,v:0},getHexStr:function(){var e=ColorHelper.hsv2hex(this.hsv);return"#"+e.r+e.g+e.b}}}(_,window,document);
!function(s,t,e,h,i){"use strict";s.widget("presto.colorpicker",{options:{default_color:"#ff0000",live:!0,callbacks:{change:t.noop}},_variables:function(){this.$colorpicker=this.$element,this.$sb_wrp=this.$colorpicker.find(".colorpicker-saturation-brightness-wrp"),this.$handler_sb=this.$sb_wrp.find(".colorpicker-handler"),this.$hue_wrp=this.$colorpicker.find(".colorpicker-hue-wrp"),this.$handler_hue=this.$hue_wrp.find(".colorpicker-handler"),this.id=this.$colorpicker.attr("id"),this.$inputs=s('input[name="'+this.id+'"]'),this.color=new HexColor,this.hex="",this._update_variables(),this.sb_wrp_size=this.$sb_wrp.width(),this.hue_wrp_height=this.sb_wrp_size},_init:function(){this.set(this.$inputs.val())||(this.color=new HexColor(this.options.default_color),this._update_sb(),this._update_hue())},_events:function(){this._on($window,"resize",this._handler_resize),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$sb_wrp,"mouseenter",this._handler_sb_wrp_arrows_in),this._on(this.$sb_wrp,"mouseleave",this._handler_sb_wrp_arrows_out),this._on(this.$sb_wrp,s.Pointer.dragmove,this._handler_sb_drag_move),this._on(this.$sb_wrp,s.Pointer.dragend,this._handler_sb_drag_end),this._on(this.$hue_wrp,"mouseenter",this._handler_hue_wrp_arrows_in),this._on(this.$hue_wrp,"mouseleave",this._handler_hue_wrp_arrows_out),this._on(this.$hue_wrp,s.Pointer.dragmove,this._handler_hue_drag_move),this._on(this.$hue_wrp,s.Pointer.dragend,this._handler_hue_drag_end)},_update_variables:function(){this.sb_wrp_offset=this.$sb_wrp.offset(),this.hue_wrp_offset=this.$hue_wrp.offset()},_handler_resize:function(){this._update_variables()},_handler_sb_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_keydown:function(){switch(event.keyCode){case s.ui.keyCode.UP:this.color.hsv.v=Math.min(100,this.color.hsv.v+1);break;case s.ui.keyCode.RIGHT:this.color.hsv.s=Math.min(100,this.color.hsv.s+1);break;case s.ui.keyCode.DOWN:this.color.hsv.v=Math.max(0,this.color.hsv.v-1);break;case s.ui.keyCode.LEFT:this.color.hsv.s=Math.max(0,this.color.hsv.s-1);break;default:return}this._update_sb(),this._update_input()},_sb_drag_set:function(s,e){this.color.hsv.s=100*t.clamp(0,s.X-this.sb_wrp_offset.left,this.sb_wrp_size)/this.sb_wrp_size,this.color.hsv.v=100-100*t.clamp(0,s.Y-this.sb_wrp_offset.top,this.sb_wrp_size)/this.sb_wrp_size,this._update_sb(),e&&this._update_input()},_handler_sb_drag_move:function(s,t){this._sb_drag_set(t.moveXY,this.options.live)},_handler_sb_drag_end:function(s,t){this._sb_drag_set(t.endXY,!0)},_handler_hue_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_keydown:function(){switch(event.keyCode){case s.ui.keyCode.UP:this.color.hsv.h=Math.min(359,this.color.hsv.h+1);break;case s.ui.keyCode.DOWN:this.color.hsv.h=Math.max(0,this.color.hsv.h-1);break;default:return}this._update_hue(),this._update_input()},_hue_drag_set:function(s,e){this.color.hsv.h=359-359*t.clamp(0,s.Y-this.hue_wrp_offset.top,this.hue_wrp_height)/this.hue_wrp_height,this._update_hue(),e&&this._update_input()},_handler_hue_drag_move:function(s,t){this._hue_drag_set(t.moveXY,this.options.live)},_handler_hue_drag_end:function(s,t){this._hue_drag_set(t.endXY,!0)},_handler_input_keydown:function(t){t.keyCode===s.ui.keyCode.ENTER&&(this.set(this.$inputs.val())||this.$inputs.val(this.hex))},_update_input:function(){this.hex=this.color.getHexStr(),this.$inputs.val(this.hex).css("background-color",this.hex).trigger("change"),this._trigger("change")},_update_sb:function(){var s=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_sb.css({"background-color":"hsl("+s.h+","+s.s+"%,"+s.l+"%)",transform:"translate3d("+this.sb_wrp_size/100*this.color.hsv.s+"px,"+this.sb_wrp_size/100*(100-this.color.hsv.v)+"px,0)"})},_update_hue:function(){var s=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_hue.css({"background-color":"hsl("+this.color.hsv.h+",100%,50%)",transform:"translate3d(0,"+this.hue_wrp_height/100*(100-this.color.hsv.h/360*100)+"px,0)"}),this.$handler_sb.css("background-color","hsl("+s.h+","+s.s+"%,"+s.l+"%)"),this.$sb_wrp.css("background-color","hsl("+this.color.hsv.h+",100%,50%)")},_update:function(){this._update_sb(),this._update_hue(),this._update_input()},get:function(){return this.color.getHexStr()},set:function(s){var e=new HexColor(s);return e.isValid&&!t.isEqual(e.hsv,this.color.hsv)&&(this.color=e,this._update()),e.isValid}}),s(function(){s(".colorpicker").colorpicker()})}(jQuery,_,window,document);
!function(e,r,n,t,o){"use strict";var s=encodeURIComponent,i=decodeURIComponent;e.cookie={get:function(e){return e?i(t.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+s(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(e,r,n,o,i,c){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return t.cookie=s(e)+"="+s(r)+a+(i?"; domain="+i:"")+(o?"; path="+o:"")+(c?"; secure":""),!0},remove:function(e,r,n){return this.has(e)?(t.cookie=s(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(r?"; path="+r:""),!0):!1},has:function(e){return e?new RegExp("(?:^|;\\s*)"+s(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(t.cookie):!1},keys:function(){for(var e=t.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),r=0,n=e.length;n>r;r++)e[r]=i(e[r]);return e}}}(jQuery,_,window,document);
!function(t,e,i,s,n){"use strict";t.widget("presto.datepicker",{options:{names:{months:["January","February","March","April","May","June","July","August","September","October","November","December"]},date:{today:!1,current:!1,selected:null},callbacks:{change:e.noop,refresh:e.noop}},_variables:function(){this.$datepicker=this.$element,this.id=this.$datepicker.attr("id"),this.$inputs=this.id?t('input[name="'+this.id+'"]'):$empty,this.$navigation_prev=this.$datepicker.find(".datepicker-navigation-prev"),this.$navigation_title=this.$datepicker.find(".datepicker-navigation-title"),this.$navigation_next=this.$datepicker.find(".datepicker-navigation-next"),this.$days_prev=this.$datepicker.find(".datepicker-day-prev"),this.$days_current=this.$datepicker.find(".datepicker-day"),this.$days_next=this.$datepicker.find(".datepicker-day-next"),this.$days_all=this.$days_prev.add(this.$days_current).add(this.$days_next),this.options.date.today===!1&&(this.options.date.today=new Date),this.options.date.current===!1&&(this.options.date.current=new Date),this.$day_today=!1,this.$day_selected=!1},_init:function(){this._refresh()},_events:function(){this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$navigation_prev,"click",this._handler_prev_click),this._on(this.$navigation_next,"click",this._handler_next_click),this._on("click",".datepicker-day",this._handler_day_current_click)},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){switch(e.keyCode){case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:this.navigate_month(-1);break;case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:this.navigate_month(1)}},_handler_input_keydown:function(e){e.keyCode===t.ui.keyCode.ENTER&&this.set(this.$inputs.val())},_handler_prev_click:function(){this.navigate_month(-1)},_handler_next_click:function(){this.navigate_month(1)},_handler_day_current_click:function(e,i){this._unhighlight_selected();var s=parseInt(t(i).html(),10);this.options.date.selected=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),s),this._highlight_selected(),this._update_input()},_build_calendar:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,this.$days_all.removeClass("hidden");var s=31-t,n=i,a=9-s-n;this.$days_prev.slice(a+n,this.$days_prev.length).addClass("hidden"),this.$days_prev.slice(0,a).addClass("hidden"),this.$days_current.slice(e,this.$days_current.lenght).addClass("hidden");var a=(e+i)%7;this.$days_next.slice(0===a?0:7-a).addClass("hidden")},_highlight_day:function(t,e){if(t&&t.getFullYear()===this.options.date.current.getFullYear()){var i=t.getMonth()-this.options.date.current.getMonth();switch(i){case-1:return this.$days_prev.eq(t.getDate()-23).addClass(e);case 0:return this.$days_current.eq(t.getDate()-1).addClass(e);case 1:return this.$days_next.eq(t.getDate()-1).addClass(e)}}return!1},_unhighlight_selected:function(){this.$day_selected&&this.$day_selected.removeClass("datepicker-day-selected")},_highlight_selected:function(){this.$day_selected=this._highlight_day(this.options.date.selected,"datepicker-day-selected")},_unhighlight_today:function(){this.$day_today&&this.$day_today.removeClass("datepicker-day-today")},_highlight_today:function(){this.$day_today=this._highlight_day(this.options.date.today,"datepicker-day-today")},_update_title:function(){this.$navigation_title.html(this.options.names.months[this.options.date.current.getMonth()]+", "+this.options.date.current.getFullYear())},_update_input:function(){this.options.date.selected&&this.$inputs.val(this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate()).change()},_refresh:function(){this._unhighlight_selected(),this._unhighlight_today(),this._build_calendar(),this._highlight_selected(),this._highlight_today(),this._update_title(),this._trigger("refresh")},get:function(t){return t&&this.options.date.selected?this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate():this.options.date.selected},set:function(t){if(e.isString(t))var i=t.split("-"),t=new Date(i[0],i[1],i[2]);else var t=new Date(t);e.isNaN(t.valueOf())||(this.options.date.selected=t,this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?(this._unhighlight_selected(),this._highlight_selected()):(this.options.date.current.setFullYear(this.options.date.selected.getFullYear()),this.options.date.current.setMonth(this.options.date.selected.getMonth()),this._refresh()),this._update_input())},navigate_month:function(t){t&&(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this._refresh())},prev_month:function(){this.navigate_month(-1)},next_month:function(){this.navigate_month(1)}}),t(function(){t(".datepicker").datepicker()})}(jQuery,_,window,document);
!function(t,i,s,n,a){"use strict";t.widget("presto.draggable",{options:{selectors:{handler:".draggable-handler"},draggable:i["true"],only_handlers:!1,revertable:!1,axis:!1,constrainer:{$element:!1,coordinates:!1,constrain_center:!1,axis:!1,tollerance:{x:0,y:0}},modifiers:{x:i["true"],y:i["true"]},callbacks:{beforestart:i.noop,start:i.noop,move:i.noop,end:i.noop}},_variables:function(){this.draggable=this.element,this.$draggable=this.$element,this.options.only_handlers&&(this.$handlers=this.$draggable.find(this.options.selectors.handler))},_events:function(){this.options.only_handlers?(this._on(this.$handlers,t.Pointer.dragstart,this._start),this._on(this.$handlers,t.Pointer.dragmove,this._move),this._on(this.$handlers,t.Pointer.dragend,this._end)):(this._on(t.Pointer.dragstart,this._start),this._on(t.Pointer.dragmove,this._move),this._on(t.Pointer.dragend,this._end))},_start:function(t,s){if(this.isDraggable=this.options.draggable(),this.isDraggable){this._trigger("beforestart"),this.motion=!1;var n=this.$draggable.css("transform"),a="none"!==n?n.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0];this.initialXY={X:parseInt(a[4],10),Y:parseInt(a[5],10)},this._trigger("start",i.merge(s,{initialXY:this.initialXY,draggable:this.draggable,$draggable:this.$draggable}))}},_move:function(t,s){if(this.isDraggable){if(this.motion===!1){if(this.motion=!0,this.options.constrainer.$element){var n=this.options.constrainer.$element.offset(),e=this.$draggable.offset();this.translateX_min=n.left-(e.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0),this.translateX_max=n.left+this.options.constrainer.$element.width()-(e.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0),this.translateY_min=n.top-(e.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0),this.translateY_max=n.top+this.options.constrainer.$element.height()-(e.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?this.$draggable.height()/2:0)}else if(this.options.constrainer.coordinates){var e=this.$draggable.offset();i.isUndefined(this.options.constrainer.coordinates.x1)||(this.translateX_min=this.options.constrainer.coordinates.x1-(e.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0)),i.isUndefined(this.options.constrainer.coordinates.x2)||(this.translateX_max=this.options.constrainer.coordinates.x2-(e.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0)),i.isUndefined(this.options.constrainer.coordinates.y1)||(this.translateY_min=this.options.constrainer.coordinates.y1-(e.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0)),i.isUndefined(this.options.constrainer.coordinates.y2)||(this.translateY_max=this.options.constrainer.coordinates.y2-(e.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0))}$html.addClass("dragging"),this.$draggable.addClass("dragging")}var r=this.initialXY.X+("y"===this.options.axis?0:s.deltaXY.X),o=this.initialXY.Y+("x"===this.options.axis?0:s.deltaXY.Y);(this.options.constrainer.$element||this.options.constrainer.coordinates)&&("y"!==this.options.constrainer.axis&&(r=i.clamp(i.isUndefined(this.translateX_min)?a:this.translateX_min-this.options.constrainer.tollerance.x,r,i.isUndefined(this.translateX_max)?a:this.translateX_max+this.options.constrainer.tollerance.x)),"x"!==this.options.constrainer.axis&&(o=i.clamp(i.isUndefined(this.translateY_min)?a:this.translateY_min-this.options.constrainer.tollerance.y,o,i.isUndefined(this.translateY_max)?a:this.translateY_max+this.options.constrainer.tollerance.y)));var h={X:this.options.modifiers.x(r),Y:this.options.modifiers.y(o)};this.$draggable.css("transform","translate3d("+(i.isBoolean(h.X)?h.X?r:this.initialXY.X:h.X)+"px,"+(i.isBoolean(h.Y)?h.Y?o:this.initialXY.Y:h.Y)+"px,0)"),this._trigger("move",i.merge(s,{initialXY:this.initialXY,modifiedXY:h,draggable:this.draggable,$draggable:this.$draggable}))}},_end:function(t,s){this.isDraggable&&(this.motion===!0&&($html.removeClass("dragging"),this.$draggable.removeClass("dragging"),this.options.revertable&&this.$draggable.css("transform","translate3d("+this.initialXY.X+"px,"+this.initialXY.Y+"px,0)")),this._trigger("end",i.merge(s,{initialXY:this.initialXY,draggable:this.draggable,$draggable:this.$draggable,dragged:this.motion})))}}),t(function(){t(".draggable").draggable()})}(jQuery,_,window,document);
!function(t,o,e,i,a){"use strict";t.fn.positionate=function(e){var i=o.merge({direction:!1,axis:!1,$anchor:!1,$pointer:!1,point:!1,ranks:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},callbacks:{positionated:o.noop}},e);this.removeClass("positionate-top positionate-bottom positionate-left positionate-right");var a=o.unique(o.union(i.direction?[i.direction]:[],i.axis?i.ranks[i.axis]:[],i.ranks.all)),n=$window.width(),r=$window.height(),s=$html.scrollTop(),p=$html.scrollLeft(),c=(this.offset(),this.outerWidth()),h=this.outerHeight(),l=i.$anchor?i.$anchor.offset():{top:i.point.y,left:i.point.x},f=i.$anchor?i.$anchor.outerWidth():0,m=i.$anchor?i.$anchor.outerHeight():0,u=o.map(a,function(t){switch(t){case"top":return l.top-s;case"bottom":return r-l.top-m+s;case"left":return l.left-p;case"right":return n-l.left-f+p}}),d=o.map(a,function(t,o){switch(t){case"top":case"bottom":return Math.min(h,u[o])*Math.min(n,c);case"left":case"right":return Math.min(c,u[o])*Math.min(r,h)}}),$=a[d.indexOf(o.max(d))];switch($){case"top":case"bottom":var g={left:l.left+f/2-c/2,top:"top"===$?l.top-h:l.top+m};break;case"left":case"right":var g={top:l.top+m/2-h/2,left:"left"===$?l.left-c:l.left+f}}g.top=o.clamp(0,g.top,r-h),g.left=o.clamp(0,g.left,n-c);var w={coordinates:g,direction:$};if(this.css("transform","translate3d("+g.left+"px,"+g.top+"px,0)"),this.addClass("positionate-"+$),i.$anchor&&i.$pointer){var b=o.isFunction(i.$pointer)?i.$pointer(w):i.$pointer;if(b instanceof t){var x=b.css("transform"),v="none"!==x?x.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],k=b.position();switch($){case"top":case"bottom":var I=b.width(),M=parseInt(v[4],10)+(l.left+f/2-p-(g.left+k.left+I/2)),y=parseInt(v[5],10);break;case"left":case"right":var C=b.height(),M=parseInt(v[4],10),y=parseInt(v[5],10)+(l.top+m/2-s-(g.top+k.top+C/2))}b.css("transform","translate3d("+M+"px,"+y+"px,0)")}}return i.callbacks.positionated(w),this}}(jQuery,_,window,document);
!function(i,t,o,s,n){"use strict";var e={};i.widget("presto.dropdown",{options:{callbacks:{open:t.noop,close:t.noop}},_variables:function(){this.$dropdown=this.$element,this.$tips=this.$dropdown.find(".dropdown-tip"),this.$top_tip=this.$tips.filter(".top"),this.$right_tip=this.$tips.filter(".right"),this.$bottom_tip=this.$tips.filter(".bottom"),this.$left_tip=this.$tips.filter(".left"),this.$actionables=this.$dropdown.find(".actionable"),this.id=this.$dropdown.attr("id"),this.$triggers=i('.dropdown-trigger[data-dropdown="'+this.id+'"]'),this.hasTips=!this.$dropdown.hasClass("no-tip"),this.isAttached=this.$dropdown.hasClass("attached"),this.opened=!1},_events:function(){this._on(this.$triggers,"click",this.toggle),this._on(this.$actionables,"click",this.close)},_bind_window_resize_scroll:function(){this._on($window,"resize scroll",this._update)},_unbind_window_resize_scroll:function(){this._off($window,"resize scroll",this._update)},_bind_window_click:function(){this._on($window,"click",this._handler_window_click)},_unbind_window_click:function(){this._off($window,"click",this._handler_window_click)},_handler_window_click:function(t){var o=i(t.target).parents();if(-1===o.index(this.$dropdown)){for(var s=0,n=this.$triggers.length;n>s;s++)if(t.target===this.$triggers.get(s)||-1!==o.index(this.$triggers.get(s)))return;this.close()}},_positionate:function(){var t=i(e[this.id]),o=t.hasClass("no-tip")||!this.hasTips||this.isAttached,s=this;this.$dropdown.positionate({$anchor:t,$pointer:function(i){return o?void 0:s["$"+s._get_opposite_direction(i.direction)+"_tip"]},callbacks:{positionated:function(i){t.addClass("dropdown-trigger-"+i.direction)}}})},_get_opposite_direction:function(i){switch(i){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},_update:function(){this.opened&&this._positionate()},toggle:function(i,t){this[this.opened&&e[this.id]===t?"close":"open"](i,t)},open:function(t,o){o&&(i(e[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.opened&&e[this.id]!==o&&this.$dropdown.addClass("moving"),e[this.id]=o,i(o).addClass("active")),this._positionate(),this.$dropdown.addClass("active"),this.opened=!0,this._delay(this._bind_window_click),this._bind_window_resize_scroll(),this._trigger("open")},close:function(){i(e[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.$dropdown.removeClass("active moving"),this.opened=!1,this._unbind_window_click(),this._unbind_window_resize_scroll(),this._trigger("close")}}),i(function(){i(".dropdown").dropdown()})}(jQuery,_,window,document);
!function(e,t,n,o,s){"use strict";e.widget("presto.expander",{options:{selectors:{toggler:".expander-toggler",content:".container-content"},delay:{open:250,close:250},callbacks:{open:t.noop,close:t.noop}},_variables:function(){this.$expander=this.$element,this.$content=this.$expander.find(this.options.selectors.content),this.opened=!1},_init:function(){this.$expander.hasClass("opened")&&this.open()},_events:function(){this._on("click",this.options.selectors.toggler,this.toggle)},toggle:function(e){t.isBoolean(e)||(e=!this.opened),e!==this.opened&&(this.opened=e,this.$expander.toggleClass("opened",this.opened),this.$content[this.opened?"slideDown":"slideUp"](this.options.delay.close),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),e(function(){e(".expander").expander()})}(jQuery,_,window,document);
!function(i,p,l,t,e){"use strict";i.widget("presto.flippable",{options:{selectors:{flipper:".flipper"},callbacks:{font:p.noop,back:p.noop,flipped:p.noop}},_variables:function(){this.$flippable=this.$element,this.$front=this.$flippable.find(".flippable-front"),this.$back=this.$flippable.find(".flippable-back"),this.isFlipped=this.$flippable.hasClass("flipped")},_events:function(){this._on("click",this.options.selectors.flipper,this.flip)},flip:function(){this.isFlipped=!this.isFlipped,this.$flippable.toggleClass("flipped",this.isFlipped),this._trigger(this.isFlipped?"front":"back"),this._trigger("flipped")}}),i(function(){i(".flippable-wrp").flippable()})}(jQuery,_,window,document);
!function(n,e,t,r,a){"use strict";var c=[];n.fn.formSync=function(){this.each(function(){var e=n(this),t=e.data("sync-group");if(-1===c.indexOf(t)){c.push(t);var r=n('form[data-sync-group="'+t+'"]'),a=r.find("input, textarea, select");a.each(function(){var e=n(this),t=e.attr("name"),a=e.is('[type="radio"], [type="checkbox"]'),c=a&&e.is('[type="radio"]'),i=e.is("input, textarea"),o=i?"input change":"change",f=e.parent("form"),u=r.not(f),p=u.find('[name="'+t+'"]');e.on(o,function(){var t=e.val(),r=!!e.prop("checked");p.each(function(){var e=n(this),i=e.val(),o=!!e.prop("checked");if(c){if(t!==i||r===o)return}else if(t===i&&r===o)return;a?e.prop("checked",r).trigger("change"):e.val(t).trigger("change")})})})}})},n(function(){n("form[data-sync-group]").formSync()})}(jQuery,_,window,document);
!function(i,r,s,e,n){"use strict";i.fn.loading=function(s,e){var n=r.merge({color:{wrapper:"inherit",spinner:"secondary"}},e);this.addClass("spinner-overlay-activable"),r.isUndefined(s)&&(s=!this.hasClass("spinner-overlay-active"));var l=this.children(".spinner-overlay");return 0===l.length?this.prepend('<div class="spinner-overlay '+n.color.wrapper+'"><div class="spinner-wrp"><div class="spinner '+n.color.spinner+'"><div class="circle-wrp left"><div class="circle"></div></div><div class="circle-wrp right"><div class="circle"></div></div></div></div></div>'):s&&(l.attr("class","spinner-overlay "+n.color.wrapper),l.find(".spinner").attr("class","spinner "+n.color.spinner)),i.reflow(),this.toggleClass("spinner-overlay-active",s),this}}(jQuery,_,window,document);
!function(t,i,o,n,e){"use strict";var s=[];t.noty=function(o){var n={autoplay:!0};i.isString(o)?n.body=o:i.isPlainObject(o)&&i.merge(n,o),n.buttons&&(n.type="action");var e=new t.presto.noty(n);return n.autoplay&&e.open(),e},t.widget("presto.noty",{templates:{base:'<div class="noty container {%=o.type%} {%=o.color%} {%=o.css%}"><div class="container-content"><div class="infobar-wrp inset {%=o.color%}">{% if ( o.img ) include ( "presto.noty.img", o.img ); %}<div class="infobar-center">{% if ( o.title ) include ( "presto.noty.title", o.title ); %}{% if ( o.body ) include ( "presto.noty.body", o.body ); %}</div>{% if ( o.buttons.length === 1 ) include ( "presto.noty.single_button", o.buttons[0] ); %}</div>{% if ( o.buttons.length > 1 ) include ( "presto.noty.buttons", o.buttons ); %}</div></div>',img:'<div class="noty-img infobar-left"><img src="{%=o%}" class="smooth" /></div>',title:'<p class="infobar-title">{%#o%}</p>',body:"{%#o%}",single_button:'<div class="infobar-right">{% include ( "presto.noty.button", o ); %}</div>',buttons:'<div class="noty-buttons multiple-wrp centered"><div class="multiple">{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.noty.button", o[i] ); %}{% } %}</div></div>',button:'<div class="label-wrp button-wrp"><div class="label actionable {%=(o.color || "white")%} {%=(o.size || "small")%} {%=(o.css || "")%}"><div class="label-center">{%#(o.text || "")%}</div></div></div>'},options:{anchor:{y:"bottom",x:"left"},delay:{remove:200},title:!1,body:!1,img:!1,buttons:[],type:"alert",color:"black",css:"",ttl:3500,callbacks:{open:i.noop,close:i.noop}},_variables:function(){this.$noty=this.$element,this.timer=!1,this.isOpen=!1,this.neverOpened=!0},_init_click:function(){this.options.buttons.length||this._on("click",this.close)},_init_buttons_click:function(){if(this.options.buttons.length){var t=this.$noty.find(".button-wrp .label"),o=this;i.each(this.options.buttons,function(i,n){var e=t.eq(n);e.on("click",function(t){i.onClick&&i.onClick.call(this,t),o.close()})})}},_init_timer:function(){0===this.options.buttons.length&&"forever"!==this.options.ttl&&(this.timer=t.timer(this.close.bind(this),this.options.ttl,!0),s.push(this.timer))},_init_hover:function(){this.$noty.hover(function(){i.each(s,function(t){t.pause()})},function(){i.each(s,function(t){t.remaining(Math.max(1e3,t.remaining()||0)),t.play()})})},open:function(){this.isOpen||(t(".noty-queues."+this.options.anchor.y+" .noty-queue."+this.options.anchor.x).first().append(this.$noty),t.reflow(),this.$noty.addClass("active"),this.neverOpened&&(this._init_click(),this._init_buttons_click(),this._init_hover(),this.neverOpened=!1),this._init_timer(),this._trigger("open"),this.isOpen=!0)},close:function(){this.timer&&(i.pull(s,this.timer),this.timer.stop()),this.$noty.removeClass("active"),this._delay(function(){this.$noty.remove()},this.options.delay.remove),this._trigger("close"),this.isOpen=!1}}),t(function(){$body.append('<div class="noty-queues top"><div class="noty-queue expanded"></div><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div></div><div class="noty-queues bottom"><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div><div class="noty-queue expanded"></div></div>')})}(jQuery,_,window,document);
!function(e,t,n,o,a){"use strict";e.fn.formAjax=function(){this.on("submit",function(o){var a=e(this);o.preventDefault(),e.ajax({cache:!1,contentType:"multipart/form-data",data:new FormData(this),processData:!1,type:a.attr("method")||"POST",url:a.attr("action"),beforeSend:function(){a.loading(!0)},error:function(n){t.isString(n)?"<"===n[0]?(e.noty("There was an error, please try again or report the problem"),$body.append(n)):e.noty(n):e.noty("There was an error, please try again or report the problem")},success:function(o){t.isString(o)?"refresh"===o?(e.noty("Done! Refreshing the page..."),location.reload()):/^((\S*)?:\/\/)?\/?\S*$/.test(o)?o===n.location.href||o===n.location.pathname?(e.noty("Done! Refreshing the page..."),location.reload()):(e.noty("Done! Redirecting..."),location.assign(o)):"<"===o[0]?(e.noty("Done! A page refresh may be needed to see the changes"),$body.append(o)):e.noty(o):e.noty("Done! A page refresh may be needed to see the changes")},complete:function(){a.loading(!1)}})})},e(function(){e("form.ajax").formAjax()})}(jQuery,_,window,document);
!function(o,s,e,i,t){"use strict";o.widget("presto.infobar",{options:{selectors:{closer:".infobar-closer"},delay:{close:250},callbacks:{close:s.noop}},_variables:function(){this.$infobar=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},close:function(){this.$infobar.addClass("remove").slideUp(this.options.delay.close),this._delay(function(){this.$infobar.remove(),this._trigger("close")},this.options.delay.close)}}),o(function(){o(".infobar-wrp").infobar()})}(jQuery,_,window,document);
!function(o,e,t,n,s){"use strict";o.widget("presto.modal",{options:{selectors:{closer:".modal-closer"},callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$modal=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},_handler_esc_keydown:function(e){e.keyCode===o.ui.keyCode.ESCAPE&&this.close()},open:function(){this.$modal.addClass("active"),this._on($document,"keydown",this._handler_esc_keydown),this._trigger("open")},close:function(){this.$modal.removeClass("active"),this._off($document,"keydown",this._handler_esc_keydown),this._trigger("close")}}),o(function(){o(".modal").modal(),o("[data-modal-trigger]").on("click",function(){o("#"+o(this).data("modal-trigger")).modal("instance").open()})})}(jQuery,_,window,document);
!function(t,i,s,e,n){"use strict";t.widget("presto.navbar",{options:{callbacks:{open:i.noop,close:i.noop}},_variables:function(){this.$navbar=this.$element,this.$wrp=this.$navbar.parent(),this.id=this.$navbar.attr("id"),this.$closers=this.$wrp.find(".navbar-closer"),this.$triggers=t('.navbar-trigger[data-navbar="'+this.id+'"]'),this.opened=this.$wrp.hasClass("opened")},_events:function(){this._on(this.$closers,"click",this.close),this._on(this.$triggers,"click",this.open)},toggle:function(t){i.isUndefined(t)&&(t=!this.opened),t!==this.opened&&(this.opened=t,this.$wrp.toggleClass("opened",this.opened),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),t(function(){t(".navbar").navbar()})}(jQuery,_,window,document);
!function(i,o,t,n,e){"use strict";i.notification=function(e){var c=o.merge({title:!1,body:!1,img:!1},e);!n.hasFocus()&&t.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(o){if("granted"===o){new Notification(c.title,{body:c.body,icon:c.img})}else i.noty(c)}):i.noty(c)}}(jQuery,_,window,document);
!function(t,n,i,e,o){"use strict";t.oneTimeAction=function(t,i){var e={container:"ota",expiry:1/0,name:!1,action:!1};if(n.isString(t)?(e.name=t,n.isFunction(i)&&(e.action=i)):n.isPlainObject(t)&&n.merge(e,t),e.name){var i=new a(e.container,e.name);return e.action&&!i.get()&&(e.action(),i.set()),i}return e.container?new s(e.container,e.expiry):void 0};var s=function(n,i){this.name=n,this.expiry=i,this.actionsStr=t.cookie.get(this.name)||"",this.actions=this.actionsStr.length>0?this.actionsStr.split("|"):[]};s.prototype={get:function(t){return n.contains(this.actions,t)},set:function(t){this.get(t)||(this.actions.push(t),this.update())},update:function(){this.actionsStr=this.actions.join("|"),t.cookie.set(this.name,this.actionsStr,this.expiry)},reset:function(i){i?(n.pull(this.actions,i),this.update()):t.cookie.remove(this.name)}};var a=function(t,n,i){this.container=new s(t),this.name=n};a.prototype={get:function(){return this.container.get(this.name)},set:function(){this.container.set(this.name)},reset:function(){this.container.reset(this.name)}}}(jQuery,_,window,document);
!function(t,e,r,o,n){"use strict";t.Pointer={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var i=["tap","dbltap","press","dragstart","dragmove","dragend","flick"],a="pointer";e.each(i,function(e){var r=a+e;t.Pointer[e]=r,t.fn[e]=function(t){return t?this.on(r,t):this.trigger(r)}});var s,u,c,d,h,g,l,m,X,Y,v,f,p=t.browser.hasTouch?"touchstart":"mousedown",P=t.browser.hasTouch?"touchmove":"mousemove",b=t.browser.hasTouch?"touchend touchcancel":"mouseup mouseleave",T=t(o.documentElement),w=0,k=function(e,r){var o=t.Event(e);return o.originalEvent=r,o.isPointerEvent=!0,o},D=function(r){s=t.eventXY(r),h=r.target,g=t(h),l=r.timeStamp||e.now(),X=!1,f=setTimeout(e.wrap(r,E),t.Pointer.pressDuration),g.trigger(k(t.Pointer.dragstart,r),{startXY:s}),T.on(P,M),T.on(b,I)},E=function(e){g.trigger(k(t.Pointer.press,e))},M=function(e){clearTimeout(f),u=t.eventXY(e),c={X:u.X-s.X,Y:u.Y-s.Y},(Math.abs(c.X)>t.Pointer.motionThreshold||Math.abs(c.Y)>t.Pointer.motionThreshold)&&(X=!0,g.trigger(k(t.Pointer.dragmove,e),{startXY:s,moveXY:u,deltaXY:c}))},I=function(r){clearTimeout(f),d=t.eventXY(r),c={X:d.X-s.X,Y:d.Y-s.Y},h===r.target&&(m=r.timeStamp||e.now(),t.browser.hasTouch&&X||(g.trigger(k(t.Pointer.tap,r)),m-w<=t.Pointer.doubleTapInterval&&g.trigger(k(t.Pointer.dbltap,r)),w=m),X&&m-l<=t.Pointer.flickDuration&&(Math.abs(c.X)>Math.abs(c.Y)?(Y="horizontal",v=c.X>0?1:-1):(Y="vertical",v=c.Y>0?1:-1),g.trigger(k(t.Pointer.flick,r),{startXY:s,endXY:d,deltaXY:c,orientation:Y,direction:v}))),T.off(P,M),T.off(b,I),g.trigger(k(t.Pointer.dragend,r),{startXY:s,endXY:d,deltaXY:c})};T.on(p,D)}(jQuery,_,window,document);
self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var a=t.util.type(e);switch(a){case"Object":var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.util.clone(e[r]));return n;case"Array":return e.slice()}return e}},languages:{extend:function(e,a){var n=t.util.clone(t.languages[e]);for(var r in a)n[r]=a[r];return n},insertBefore:function(e,a,n,r){r=r||t.languages;var i=r[e];if(2==arguments.length){n=arguments[1];for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i}var l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==a)for(var s in n)n.hasOwnProperty(s)&&(l[s]=n[s]);l[o]=i[o]}return t.languages.DFS(t.languages,function(t,a){a===r[e]&&t!=e&&(this[t]=l)}),r[e]=l},DFS:function(e,a,n){for(var r in e)e.hasOwnProperty(r)&&(a.call(e,r,e[r],n||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],a):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],a,r))}},highlightAll:function(e,a){for(var n,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0;n=r[i++];)t.highlightElement(n,e===!0,a)},highlightElement:function(n,r,i){for(var s,l,o=n;o&&!e.test(o.className);)o=o.parentNode;if(o&&(s=(o.className.match(e)||[,""])[1],l=t.languages[s]),l){n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,o=n.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+s);var g=n.textContent;if(g){var u={element:n,language:s,grammar:l,code:g};if(t.hooks.run("before-highlight",u),r&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){u.highlightedCode=a.stringify(JSON.parse(e.data),s),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(u.element),t.hooks.run("after-highlight",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(n),t.hooks.run("after-highlight",u)}}},highlight:function(e,n,r){var i=t.tokenize(e,n);return a.stringify(t.util.encode(i),r)},tokenize:function(e,a,n){var r=t.Token,i=[e],s=a.rest;if(s){for(var l in s)a[l]=s[l];delete a.rest}e:for(var l in a)if(a.hasOwnProperty(l)&&a[l]){var o=a[l];o="Array"===t.util.type(o)?o:[o];for(var g=0;g<o.length;++g){var u=o[g],c=u.inside,p=!!u.lookbehind,f=0,d=u.alias;u=u.pattern||u;for(var m=0;m<i.length;m++){var h=i[m];if(i.length>e.length)break e;if(!(h instanceof r)){u.lastIndex=0;var y=u.exec(h);if(y){p&&(f=y[1].length);var w=y.index-1+f,y=y[0].slice(f),v=y.length,b=w+v,k=h.slice(0,w+1),P=h.slice(b+1),A=[m,1];k&&A.push(k);var N=new r(l,c?t.tokenize(y,c):y,d);A.push(N),P&&A.push(P),Array.prototype.splice.apply(i,A)}}}}}return i},hooks:{all:{},add:function(e,a){var n=t.hooks.all;n[e]=n[e]||[],n[e].push(a)},run:function(e,a){var n=t.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(a)}}},a=t.Token=function(e,t,a){this.type=e,this.content=t,this.alias=a};if(a.stringify=function(e,n,r){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return a.stringify(t,n,e)}).join("");var i={type:e.type,content:a.stringify(e.content,n,r),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:r};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var s="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,s)}t.hooks.run("wrap",i);var l="";for(var o in i.attributes)l+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+l+">"+i.content+"</"+i.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var a=JSON.parse(e.data),n=a.language,r=a.code;self.postMessage(JSON.stringify(t.util.encode(t.tokenize(r,t.languages[n])))),self.close()},!1),self.Prism):self.Prism;var n=document.getElementsByTagName("script");return n=n[n.length-1],n&&(t.filename=n.src,document.addEventListener&&!n.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}});
!function(e,s,r,t,i){"use strict";var a=function(e,r){if(s.isUndefined(r))var t=s.isNumber(e)?{percentages:[{value:e}]}:e.percentages?e:{percentages:[e]};else for(var t={percentages:Array(arguments.length)},i=0,a=arguments.length;a>i;i++)t.percentages[i]=s.isNumber(arguments[i])?{value:arguments[i]}:arguments[i];return t};e.progressBar=function(s,r){return s=a.apply(null,arguments),new e.presto.progressBar(s)},e.widget("presto.progressBar",{templates:{base:'<div class="progressBar {%=(o.striped ? "striped" : "")%} {%=o.color%} {%=o.size%} {%=o.css%}"><div class="progressBar-unhighlighted">{% include ( "presto.progressBar.percentages" + ( o.labeled ? "_labeled" : "" ), o.percentages ); %}</div><div class="progressBar-stripes"></div></div>',percentages:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage", o[i] ); %}{% } %}',percentages_labeled:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage_labeled", o[i] ); %}{% } %}',percentage:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}"></div>',percentage_labeled:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}">{% include ( "presto.progressBar.label", {} ); %}</div>',label:'<div class="progressBar-label"></div>'},options:{percentages:[],color:"",size:"",css:"",striped:!1,labeled:!1,decimals:0,callbacks:{update:s.noop,full:s.noop}},_variables:function(){this.$progressBar=this.$element,this.$highlighteds=this.$progressBar.find(".progressBar-highlighted"),this.$stripes=this.$progressBar.find(".progressBar-stripes")},_init:function(){"element"!==this.initializationType&&this._update()},_update:function(){for(var e=0,r=this.options.percentages.length;r>e;e++){var t=this.$highlighteds.eq(e);if(t.width(this.options.percentages[e].value+"%"),this.options.labeled){var i=t.find(".progressBar-label");i.html(+this.options.percentages[e].value.toFixed(this.options.decimals))}}var a=s.clamp(0,s.sum(this.get().slice(0,this.$highlighteds.length)),100);this.options.striped&&this.$stripes.width(a+"%"),100===a&&this._trigger("full")},get:function(){return s.map(this.options.percentages,function(e){return e.value})},set:function(e,r){e=a.apply(null,arguments),s.merge(this.options,e),this._update(),this._trigger("update")}}),e(function(){e(".progressBar").each(function(){var s=e(this),r={percentages:[],striped:s.hasClass("striped"),labeled:!!s.find(".progressBar-label").length};s.find(".progressBar-highlighted").each(function(){r.percentages.push({value:parseFloat(this.style.width)})}),s.progressBar(r)})})}(jQuery,_,window,document);
!function(i,t,e,n,h){"use strict";i.widget("presto.radio",{options:{callbacks:{checked:t.noop}},_variables:function(){this.$radio=this.$element,this.$input=this.$radio.find("input"),this.name=this.$input.attr("name"),this.$container=this.$radio.parents("form").first(),0===this.$container.length&&(this.$container=$document),this.$other_radios=this.$container.find('input[name="'+this.name+'"]').parent(".radio").not(this.$radio)},_init:function(){var i=this.$radio.hasClass("checked");this.get()?i||this.$radio.addClass("checked"):i&&this.$radio.removeClass("checked")},_events:function(){this._on("click",function(){this.check()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var i=this.get();i&&this.$other_radios.removeClass("checked"),this.$radio.toggleClass("checked",i),this._trigger(i?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},check:function(){this.get()||(this.$input.prop("checked",!0).trigger("change"),this._trigger("checked"))}}),i(function(){i(".radio").radio()})}(jQuery,_,window,document);
!function(e,o,i,n,t){"use strict";var s={delay:{show:350,hide:400},show:function(i,n){var t=e('<div class="ripple-circle"></div>').appendTo(n),u=n.offset(),d=e.eventXY(i),c=o.now();t.css({top:d.Y-u.top,left:d.X-u.left}).addClass("ripple-circle-show"),n.on("mouseup mouseleave",function(){s.hide(t,c)})},hide:function(e,i){var n=Math.max(0,s.delay.show+i-o.now());setTimeout(function(){e.addClass("ripple-circle-hide"),setTimeout(function(){e.remove()},s.delay.hide)},n)}};e(function(){$body.on("mousedown",".ripple",function(o){o.button!==e.ui.mouseButton.RIGHT&&s.show(o,e(this))})})}(jQuery,_,window,document);
!function(t,i,o,e,s){"use strict";t.widget("presto.select",{templates:{base:'<div id="dropdown-{%=o.id%}" class="dropdown select-dropdown attached"><div class="container"><div class="container-content"><div class="multiple-wrp vertical stretched joined"><div class="multiple">{% for ( var i = 0, l = o.options.length; i < l; i++ ) { %}{% include ( "presto.select." + ( o.options[i].value ? "option" : "optgroup" ), o.options[i] ); %}{% } %}</div></div></div></div></div>',optgroup:'<div class="divider-wrp block"><div class="divider">{%=o.prop%}</div></div>',option:'<div class="label-wrp button-wrp" data-value="{%=o.prop%}"><div class="label actionable sharp"><div class="label-center">{%=o.value%}</div></div></div>'},options:{callbacks:{open:i.noop,close:i.noop,change:i.noop}},_variables:function(){this.$trigger=this.$element,this.$select=this.$trigger.find("select"),this.$options=this.$select.find("option"),this.$select_label=this.$trigger.find(".select-label"),this.$valueholder=this.$trigger.find(".valueholder"),this.id=this.$trigger.data("select"),0===this.$valueholder.length&&(this.$valueholder=this.$select_label),this.select_options=[],this.$dropdown=!1,this.$dropdown_container=!1,this.$buttons=!1},_init:function(){this._update_valueholder(),t.browser.isMobile||(this.$select.addClass("hidden"),this._init_select_options(),this._init_dropdown())},_events:function(){this._on(this.$select,"change",function(){this.update(),this._trigger("change")}),t.browser.isMobile||this._on(this.$buttons,"click",this._handler_button_click)},_handler_button_click:function(i,o){this.$select.val(t(o).data("value")).trigger("change")},_init_select_options:function(){for(var t,i,o=0,e=this.$options.length;e>o;o++){var s=this.$options.eq(o),n=s.parent();n.is("optgroup")&&(i=n.attr("label"),i!==t&&(t=i,this.select_options.push({prop:i}))),this.select_options.push({value:s.html(),prop:s.attr("value")})}},_init_dropdown:function(){var i=this._tmpl("base",{id:this.id,options:this.select_options});$body.append(i),this.$dropdown=t("#dropdown-"+this.id),this.$dropdown_container=this.$dropdown.find(".container"),this.$buttons=this.$dropdown.find(".button-wrp"),this.$trigger.addClass("dropdown-trigger").attr("data-dropdown","dropdown-"+this.id);var o=this;this.$dropdown.dropdown({callbacks:{open:function(){o._set_dropdown_width.bind(o)(),o._trigger("open")},close:o.options.callbacks.close}}),this._update_dropdown()},_update_valueholder:function(){var t=this.$options.filter('[value="'+this.$select.val()+'"]');this.$valueholder.html(t.html())},_update_dropdown:function(){this.$buttons.removeClass("active"),this.$buttons.filter('[data-value="'+this.$select.val()+'"]').addClass("active")},_set_dropdown_width:function(){this.$dropdown_container.css("min-width",this.$trigger.width())},select:function(t){this.$buttons.filter('[data-value="'+t+'"]').click()},update:function(){t.browser.isMobile||this._update_dropdown(),this._update_valueholder()}}),t(function(){t(".select-trigger").select()})}(jQuery,_,window,document);
!function(e,s,t,o,i){"use strict";var r=function(){o.selection?o.selection.empty():t.getSelection&&t.getSelection().removeAllRanges()};e.widget("presto.selectable",{options:{selector:"tbody tr:not(.empty)",selected_class:"selected",callbacks:{select:s.noop}},_variables:function(){this.$rows=this._get_rows(),this.$start_row=!1,this.$end_row=!1},_init:function(){this._reset_prevs()},_events:function(){this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on("mousedown",this.options.selector,this._handler_mousedown),this._on("change sort",this._handler_change),this._on("mousedown mouseup",this._handler_clear_selection)},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown)},_handler_keys_keydown:function(s){(e.browser.isMac&&s.metaKey||!e.browser.isMac&&s.ctrlKey)&&(65===s.keyCode?(s.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class,!s.shiftKey),this._trigger("select")):73===s.keyCode&&(s.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class),this._trigger("select")))},_handler_mousedown:function(s){0===s.button&&(this.$start_row=e(s.currentTarget),this._on($document,"mousemove",this._handler_mousemove),this._on("mouseup",this.options.selector,this._handler_mouseup))},_handler_mousemove:function(s){e.browser.isMac&&!s.metaKey||!e.browser.isMac&&!s.ctrlKey||(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),this._reset_prevs(),this.$prev_row=this.$start_row,this.$start_row.toggleClass(this.options.selected_class),$html.addClass("dragging"),this._on("mouseenter",this.options.selector,this._handler_drag_mouseenter),this._on($document,"mouseup",this._handler_drag_mouseup),this._trigger("select"))},_handler_drag_mouseenter:function(s){this.$end_row=e(s.currentTarget);var t=this.$rows.index(this.$start_row),o=this.$rows.index(this.$end_row),i=Math.min(t,o),r=Math.max(t,o);i===t&&(i+=1,r+=1);var _=this.$rows.slice(i,r);this.$prev_dragged?(_.not(this.$prev_dragged).toggleClass(this.options.selected_class),this.$prev_dragged.not(_).toggleClass(this.options.selected_class)):_.toggleClass(this.options.selected_class),this.$prev_dragged=_,this._trigger("select")},_handler_drag_mouseup:function(){this._off("mouseenter",this._handler_drag_mouseenter),this._off($document,"mouseup",this._handler_drag_mouseup),this.$prev_dragged=!1,$html.removeClass("dragging")},_handler_mouseup:function(s){if(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),s.shiftKey){var t=this.$rows.index(this.$prev_row),o=this.$prev_row?this.$rows.index(this.$start_row):0,i=Math.min(t,o),r=Math.max(t,o);i===t&&(i+=1,r+=1);var _=this.$rows.slice(i,r);this.$prev_shifted?(_.not(this.$prev_shifted).toggleClass(this.options.selected_class),this.$prev_shifted.not(_).toggleClass(this.options.selected_class)):_.toggleClass(this.options.selected_class),this.$prev_shifted=_}else e.browser.isMac&&s.metaKey||!e.browser.isMac&&s.ctrlKey||e.browser.isMobile?(this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row):(this.$rows.not(this.$start_row).removeClass(this.options.selected_class),this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row);this._trigger("select")},_handler_change:function(){this.$rows=this._get_rows()},_handler_clear_selection:function(){e.reflow(),r()},_reset_prevs:function(){this.$prev_row=!1,this.$prev_shifted=!1,this.$prev_dragged=!1},_get_rows:function(){return this.$element.find(this.options.selector)}}),e(function(){e("table.selectable").selectable()})}(jQuery,_,window,document);
!function(i,t,s,e,n){"use strict";i.widget("presto.slider",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increased:t.noop,decreased:t.noop}},_variables:function(){this.$slider=this.$element,this.$min=this.$slider.find(".slider-min"),this.$max=this.$slider.find(".slider-max"),this.$input=this.$slider.find("input"),this.$bar_wrp=this.$slider.find(".slider-bar-wrp"),this.$unhighlighted=this.$slider.find(".slider-unhighlighted"),this.$highlighted=this.$slider.find(".slider-highlighted"),this.$handler_wrp=this.$slider.find(".slider-handler-wrp"),this.$label=this.$handler_wrp.find(".slider-label"),this.steps_nr=(this.options.max-this.options.min)/this.options.step,this._update_variables()},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on($window,"resize",this._handler_resize),this._on(this.$slider,"mouseenter",this._handler_arrows_in),this._on(this.$slider,"mouseleave",this._handler_arrows_out),this._on(this.$min,"click",this.decrease),this._on(this.$max,"click",this.increase),this.$handler_wrp.draggable({draggable:this._draggable.bind(this),axis:"x",constrainer:{$element:this.$bar_wrp,constrain_center:!0,axis:"x"},modifiers:{x:this.modifier_x.bind(this)},callbacks:{beforestart:this._handler_drag_beforestart.bind(this),move:this._handler_drag_move.bind(this),end:this._handler_drag_end.bind(this)}}),this._on(this.$unhighlighted,"click",this._handler_click)},_round_value:function(i){return Number(Number(i).toFixed(this.options.decimals))},_update_positions:function(){var i=(this.options.value-this.options.min)/this.options.step*100/this.steps_nr;this.$handler_wrp.css({left:i+"%",transform:"none"}),this.$highlighted.css({right:100-i+"%",transform:"none"})},_update_label:function(i){this.$label.html(t.isUndefined(i)?this.options.value:i)},_update_variables:function(){this.unhighlighted_width=this.$unhighlighted.width(),this.unhighlighted_offset=this.$unhighlighted.offset(),this.step_width=this.unhighlighted_width/this.steps_nr},_handler_change:function(){this.set(this.$input.val())},_handler_resize:function(){this._update_variables()},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(t){t.keyCode===i.ui.keyCode.LEFT||t.keyCode===i.ui.keyCode.DOWN?this.decrease():(t.keyCode===i.ui.keyCode.RIGHT||t.keyCode===i.ui.keyCode.UP)&&this.increase()},_draggable:function(){return!this.options.disabled},modifier_x:function(i){var t=i%this.step_width;return t>=this.step_width/2?i-t+this.step_width:i-t},_handler_drag_beforestart:function(){var i=parseFloat(this.$handler_wrp.css("left"),10);this.$handler_wrp.css({left:0,transform:"translate3d("+i+"px,0,0)"}),this.$highlighted.css({right:"100%",transform:"translate3d("+i+"px,0,0)"})},_handler_drag_move:function(i){this.$highlighted.css("transform","translate3d("+i.modifiedXY.X+"px,0,0)"),this._update_label(this._round_value(this.options.min+i.modifiedXY.X/this.step_width*this.options.step))},_handler_drag_end:function(i){var t=this.$handler_wrp.css("transform"),s="none"!==t?t.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],e=this.set(this.options.min+parseFloat(s[4],10)/this.step_width*this.options.step);e||this._update_positions()},_handler_click:function(t){if(t.target!==this.$handler_wrp.get(0)){var s=i.eventXY(t),e=this.modifier_x(s.X-this.unhighlighted_offset.left);this.set(this.options.min+e/this.step_width*this.options.step)}},get:function(){return this.options.value},set:function(i){if(i=t.clamp(this.options.min,this._round_value(i),this.options.max),i!==this.options.value){var s=i>this.options.value?"increased":"decreased";return this.options.value=i,this._update_positions(),this._update_label(),this.$input.val(i).trigger("change"),this._trigger(s),!0}return!1},increase:function(){return this.set(this.options.value+this.options.step)},decrease:function(){return this.set(this.options.value-this.options.step)}}),i(function(){i(".slider").each(function(){var t=i(this),s={min:Number(t.find(".slider-min").data("min")||0),max:Number(t.find(".slider-max").data("max")||100),value:Number(t.find("input").val()||0),step:Number(t.data("step")||1),decimals:Number(t.data("decimals")||0)};t.slider(s)})})}(jQuery,_,window,document);
!function(t,s,e,i,r){"use strict";t.widget("presto.sortable",{options:{sorters:{"int":function(t,s){return parseInt(t,10)-parseInt(s,10)},"float":function(t,s){return parseFloat(t)-parseFloat(s)},string:function(t,s){return t=t.toLocaleLowerCase(),s=s.toLocaleLowerCase(),t.localeCompare(s)}},callbacks:{sort:s.noop}},_variables:function(){this.$table=this.$element,this.$headers=this.$table.find("thead th"),this.$sortables=this.$headers.filter("[data-sort]"),this.$tbody=this.$table.find("tbody"),this.table=this.element,this.tbody=this.$tbody.get(0),this.sort_datas={},this.current_index=!1,this.current_direction=!1},_init:function(){var t=this.$headers.filter(".asc, .desc").first();t.length&&this.sort(this.$headers.index(t),t.hasClass("asc")?"asc":"desc")},_events:function(){this._on(!0,"change",this._handler_change),this._on(this.$sortables,"click",this._handler_click)},_handler_change:function(){this.current_index&&(this.sort_datas={},this.sort(this.current_index,this.current_direction))},_handler_click:function(t){var s=this.$headers.index(t.target),e=this.current_index===s&&"asc"===this.current_direction?"desc":"asc";this.sort(s,e)},sort:function(t,e){var i=this.$headers.eq(t);if(i.length){var r=i.data("sort");if(r){var n=this.options.sorters[r];if(n){if(e=e&&"desc"===e.toLowerCase()?"desc":"asc",this.current_index!==!1&&this.$sortables.eq(this.current_index).removeClass(this.current_direction),i.addClass(e),s.isUndefined(this.sort_datas[t])){var a=this.$tbody.find("tr:not(.empty)");this.sort_datas[t]=Array(a.length);for(var o=0,h=a.length;h>o;o++){var d=a.eq(o).find("td").eq(t),c=d.data("sort-value")||d.text();this.sort_datas[t][o]=[a.get(o),c]}}this.sort_datas[t].sort(function(t,s){return n(t[1],s[1])}),"desc"===e&&this.sort_datas[t].reverse(),this.table.removeChild(this.tbody);for(var o=0,h=this.sort_datas[t].length;h>o;o++)this.tbody.appendChild(this.sort_datas[t][o][0]);this.table.appendChild(this.tbody),this.current_index=t,this.current_direction=e,this._trigger("sort",{index:this.current_index,direction:this.current_direction})}}}}}),t(function(){t("table.sortable").sortable()})}(jQuery,_,window,document);
!function(e,i,t,s,n){"use strict";e.widget("presto.stepper",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increase:i.noop,decrease:i.noop}},_variables:function(){this.$stepper=this.$element,this.$input=this.$stepper.find("input"),this.$decreaser=this.$stepper.find(".stepper-decreaser"),this.$increaser=this.$stepper.find(".stepper-increaser")},_events:function(){this._on(!0,this.$input,"input change",this._handler_input_change),this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$decreaser,"click",this.decrease),this._on(this.$increaser,"click",this.increase)},_round_value:function(e){return Number(Number(e).toFixed(this.options.decimals))},_handler_input_change:function(){this.set_value(this.$input.val())},_handler_arrows_in:function(e){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(e){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(i){i.keyCode===e.ui.keyCode.LEFT||i.keyCode===e.ui.keyCode.DOWN?this.decrease():(i.keyCode===e.ui.keyCode.RIGHT||i.keyCode===e.ui.keyCode.UP)&&this.increase()},set_value:function(e){if(e=this._round_value(e),e!==this.options.value||0===this.$input.val().length){var t=i.clamp(this.options.min,e,this.options.max);this.options.value=t,this.$input.val(t).trigger("change"),this.$decreaser.toggleClass("disabled",t===this.options.min),this.$increaser.toggleClass("disabled",t===this.options.max),this._trigger(t>this.options.value?"increase":"decrease")}},increase:function(){this.navigate(this.options.step)},decrease:function(){this.navigate(-this.options.step)},navigate:function(e){var i=this.options.value+e;this.set_value(i)}}),e(function(){e(".stepper").each(function(){var i=e(this),t=i.find("input"),s={min:Number(i.data("min")||0),max:Number(i.data("max")||100),value:Number(t.val()||0),step:Number(i.data("step")||1),decimals:Number(i.data("decimals")||0)};i.stepper(s)})})}(jQuery,_,window,document);
!function(t,e,i,h){"use strict";t.widget("presto.switch",{options:{colors:{on:"secondary",off:"gray"},callbacks:{checked:_.noop,unchecked:_.noop}},_variables:function(){this.$switch=this.$element,this.$input=this.$switch.find("input"),this.$bar_wrp=this.$switch.find(".switch-bar-wrp"),this.$bar=this.$switch.find(".switch-bar"),this.$handler=this.$switch.find(".switch-handler"),this.$icon=this.$handler.find(".icon"),this.checked=this.$input.prop("checked"),this.dragging=!1},_init:function(){this._set_check(this.checked,!0)},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on(this.$bar,"click",this._handler_click),this.$handler.draggable({axis:"x",constrainer:{$element:this.$bar_wrp},callbacks:{end:this._handler_drag_end.bind(this)}})},_handler_change:function(){var t=this.$input.prop("checked");this.checked!==t&&(this.checked=t,this._set_check(this.checked,!0))},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown)},_handler_keys_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT?this.uncheck():e.keyCode===t.ui.keyCode.RIGHT?this.check():e.keyCode===t.ui.keyCode.SPACE&&this.toggle()},_handler_click:function(){return this.dragging?void(this.dragging=!1):void this.toggle()},_handler_drag_end:function(t){if(t.dragged){this.dragging=!0;var e=this.$handler.offset().left-this.$bar_wrp.offset().left+this.$handler.width()/2>=this.$bar_wrp.width()/2;this.checked=e?!0:!1,this._set_check(this.checked,!0)}},_set_check:function(t,e){(t!==this.$input.prop("checked")||e)&&(this.$switch.toggleClass("checked",t),this.$handler.css("transform","translate3d("+(t?"1.73333em":"0")+",0,0)"),this.$bar.toggleClass(this.options.colors.on,t),this.$handler.toggleClass(this.options.colors.on,t),this.$bar.toggleClass(this.options.colors.off,!t),this.$handler.toggleClass(this.options.colors.off,!t),this.$input.prop("checked",t).trigger("change"),this._trigger(t?"checked":"unchecked"))},check:function(){this._set_check(!0)},uncheck:function(){this._set_check(!1)},toggle:function(){this.checked=!this.checked,this._set_check(this.checked)}}),t(function(){t(".switch").each(function(){var e=t(this),i={colors:{on:e.data("color-on")||"secondary",off:e.data("color-off")||"gray"}};e["switch"](i)})})}(jQuery,_,window,document);
!function(t,e,i,n,h){"use strict";t.widget("presto.tableHelper",{options:{callbacks:{add:e.noop,update:e.noop,remove:e.noop,clear:e.noop}},_variables:function(){this.$table=this.$element,this.$thead=this.$table.find("thead"),this.$tfoot=this.$table.find("tfoot"),this.$tbody=this.$table.find("tbody"),this.$headers=this.$thead.find("th"),this.$empty_row=this.$tbody.find("tr.empty"),this.columns_nr=this.$headers.length},_init:function(){this._check_empty()},_check_empty:function(){this.$empty_row.toggleClass("hidden",this.$tbody.find("tr:not(.empty)").length>0)},_get_row_id:function(t){return"rid_"+this.uuid+"_"+t},add:function(i){var n=e.tail(arguments);if(n.length){var h=this.$tbody.find("td.fillable");if(h.length){var r=e.slice(n,0,h.length);n=e.slice(n,r.length-1,n.length);for(var s=0,o=r.length;o>s;s++)h.eq(s).html(r[s]).removeClass("fillable")}if(i&&t("."+this._get_row_id(i)).length)return t.noty("A table cannot contain 2 rows with the same ID"),this;for(var a=e.chunk(n,this.columns_nr),l=0,d=a.length;d>l;l++){for(var g=a[l],c="<tr "+(i?'class="'+this._get_row_id(i)+'"':"")+">",s=0,o=g.length;o>s;s++)c+="<td>"+(g[s]||"")+"</td>";for(var s=g.length,o=this.columns_nr;o>s;s++)c+='<td class="fillable"></td>';c+="</tr>",this.$tbody.append(c)}this._check_empty(),this.$table.trigger("change"),this._trigger("add")}return this},update:function(i){var n=e.tail(arguments),h=t("."+this._get_row_id(i));if(n.length&&h.length){var r=h.find("td");e.each(n,function(t,i){e.isString(t)&&r.eq(i).html(t)}),this.$table.trigger("change"),this._trigger("update")}return this},remove:function(e){var i=t("."+this._get_row_id(e));return i.length&&(i.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("remove")),this},clear:function(){var t=this.$tbody.find("tr:not(.empty)");return t.length&&(t.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("clear")),this}}),t(function(){t("table").tableHelper()})}(jQuery,_,window,document);
!function(t,s,i,n,e){"use strict";t.widget("presto.tabs",{options:{selectors:{buttons_wrp:".tabs-buttons",buttons:".button-wrp > .label",button_active_class:"active",indicator:".tabs-buttons-indicator",containers_wrp:".tabs-containers",containers:"> .container",container_active_class:"active"},indicator_delay:40,callbacks:{select:s.noop}},_variables:function(){this.$tabs=this.$element,this.isVertical=this.$tabs.hasClass("vertical"),this.$tabs_buttons=this.$tabs.find(this.options.selectors.buttons_wrp),this.$buttons=this.$tabs_buttons.find(this.options.selectors.buttons),this.$indicator=this.$tabs.find(this.options.selectors.indicator),this.$tabs_containers=this.$tabs.find(this.options.selectors.containers_wrp),this.$containers=this.$tabs_containers.find(this.options.selectors.containers);var t=this.$buttons.filter("."+this.options.selectors.button_active_class).first();t=t.length>0?t:this.$buttons.first(),this.prev_index=0,this.current_index=this.$buttons.index(t)},_init:function(){this.select(this.current_index,!0)},_events:function(){this._on(this.$tabs_buttons,"click",this.options.selectors.buttons,this._hander_button_click),this._on($window,"resize",this._positionate_indicator)},_hander_button_click:function(s,i){var n=this.$buttons.index(t(i));this.select(n)},_positionate_indicator:function(){var t=this.$buttons.filter("."+this.options.selectors.button_active_class),s=t.position();if(this.isVertical){var i=this.$tabs_buttons.height();this._delay(function(){var n=s.top+(0===this.$buttons.index(t)?1:0);this.$indicator.css("top",100*n/i+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var n=i-s.top-t.height()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("bottom",100*n/i+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}else{var n=this.$tabs_buttons.width();this._delay(function(){var i=s.left+(0===this.$buttons.index(t)?1:0);this.$indicator.css("left",100*i/n+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var i=n-s.left-t.width()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("right",100*i/n+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}},select:function(t,s){(this.current_index!==t||s)&&(this.$buttons.eq(this.current_index).removeClass(this.options.selectors.button_active_class),this.$buttons.eq(t).addClass(this.options.selectors.button_active_class),this.$containers.eq(this.current_index).removeClass(this.options.selectors.container_active_class),this.$containers.eq(t).addClass(this.options.selectors.container_active_class),this.current_index!==t&&(this.prev_index=this.current_index,this.current_index=t),this._positionate_indicator())}}),t(function(){t(".tabs").tabs()})}(jQuery,_,window,document);
!function(t,a,i,s,e){"use strict";t.widget("presto.tagbox",{templates:{tag:'<div class="multiple-wrp joined tagbox-tag" data-tag-value="{%=o.str%}"><div class="multiple"><div class="label-wrp"><div class="label compact {%=(o.color ? o.color : "")%} {%=(o.size ? o.size : "")%} {%=(o.css ? o.css : "")%}"><div class="label-center">{%=o.str%}<div class="icon icon-navigation-close right tagbox-tag-remover"></div></div></div></div></div></div>'},options:{tags:{init:"",str:"",arr:[]},tag:{min_length:3,color:"",size:"medium",css:"outlined"},characters:{forbidden:["<",">",";","`"],separator:",",inserters:[t.ui.keyCode.ENTER,t.ui.keyCode.TAB]},sort:!1,escape:!0,deburr:!1,callbacks:{update:a.noop,add:a.noop,remove:a.noop}},_variables:function(){this.$tagbox=this.$element;var t=this.$tagbox.find("input");this.$input=t.eq(0),this.$partial=t.eq(1),this.partial=this.$partial.get(0),this.$partial_wrp=this.$partial.parent(".input-wrp")},_init:function(){this.add(this.options.tags.init)},_events:function(){this._on(this.$partial,"keypress keydown",this._handler_keypress_keydown),this._on(this.$partial,"paste",this._handler_paste),this._on("click",this._handler_click_on_empty),this._on("click",".tagbox-tag-remover",this._handler_click_on_tag_remover)},_get_tag_html:function(t){return this._tmpl("tag",a.merge({str:t},this.options.tag))},_update_tags_str:function(){this.options.tags.str=this.options.tags.arr.join(this.options.characters.separator)},_sanitize_tag_str:function(t){return t=a.trim(t),this.options.escape&&(t=a.escape(t)),this.options.deburr&&(t=a.deburr(t)),t},_update_input:function(){this.$input.val(this.options.tags.str).trigger("change")},_clear_partial:function(){this.$partial.val("").trigger("change")},_partial_add_tag:function(i){var s=a.trim(i),i=this._sanitize_tag_str(i);if(s.length<this.options.tag.min_length)s.length>0&&t.noty("`"+i+"` is shorter than "+this.options.tag.min_length+" characters");else{if(!a.contains(this.options.tags.arr,i)){this.options.tags.arr.push(i),this.options.sort&&this.options.tags.arr.sort();var e=this._get_tag_html(i);if(1!==this.options.tags.arr.length&&this.options.sort){var r=this.options.tags.arr.indexOf(i);0===r?this.$tagbox.find(".tagbox-tag").first().before(e):this.$tagbox.find(".tagbox-tag").eq(r-1).after(e)}else this.$partial_wrp.before(e);return!0}t.noty("`"+i+"` is a duplicate")}return!1},_partial_remove_tag:function(t,i){t.remove(),a.pull(this.options.tags.arr,i)},_handler_keypress_keydown:function(i){var s=this.$partial.val();if(a.contains(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var e=this.add(s);e&&this._clear_partial(),i.preventDefault()}else if(i.keyCode===t.ui.keyCode.BACKSPACE){if(0===s.length&&this.options.tags.arr.length>0){var r=this.$tagbox.find(".tagbox-tag").last(),o=!(t.browser.isMac&&i.metaKey||!t.browser.isMac&&i.ctrlKey);this.remove(r,o),i.preventDefault()}}else a.contains(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.noty("The character you entered is forbidden"),i.preventDefault())},_handler_paste:function(t){this._delay(function(){this.add(this.$partial.val()),this._clear_partial()})},_handler_click_on_tag_remover:function(a,i){var s=t(i).parents(".tagbox-tag");this.remove(s)},_handler_click_on_empty:function(a){s.activeElement===this.partial||t(a.target).is("input, .tagbox-tag-label")||this.$partial.focus()},get:function(){return this.options.tags.str},add:function(t){for(var i=t.split(this.options.characters.separator),s=[],e=0,r=i.length;r>e;e++)s.push(this._partial_add_tag(i[e]));var o=a.compact(s).length>0;return o&&(this._update_tags_str(),this._update_input()),o},remove:function(t,a){if(t instanceof jQuery)var i=[t],s=[t.data("tag-value")];else{var i=[],s=[];t=t.split(this.options.characters.separator);for(var e=0,r=t.length;r>e;e++){var o=this._sanitize_tag_str(t[e]),n=this.$tagbox.find('.tagbox-tag[data-tag-value="'+o+'"]');n.length&&(i.push(n),s.push(o))}}if(i.length){for(var e=0,r=i.length;r>e;e++)this._partial_remove_tag(i[e],s[e]);this._update_tags_str(),this._update_input(),1===r&&a===!0&&this.$partial.val(s[0]).trigger("change")}},clear:function(){this.options.tags.arr.length&&(this.options.tags.str="",this.options.tags.arr=[],this.$tagbox.find(".tagbox-tag").remove(),this._clear_partial(),this._update_input())},reset:function(){this.clear(),this._init()}}),t(function(){t(".tagbox").each(function(){var a=t(this),i=a.find("input").eq(0),s={tags:{init:i.val(),str:"",arr:[]}};a.tagbox(s)})})}(jQuery,_,window,document);
!function(t,i,e,o,s){"use strict";t.widget("presto.timeAgo",{options:{timestamp:!1,title:!1,callbacks:{update:i.noop}},_variables:function(){this.$timeAgo_wrp=this.$element,this.options.timestamp=this.$timeAgo_wrp.data(this.options.title?"timestamp-title":"timestamp")},_init:function(){this._update_loop(0)},_update_loop:function(t){this._delay(function(){this._update_loop(this.update().next)},1e3*t)},update:function(){var t=i.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgo_wrp.attr("title",t.str):this.$timeAgo_wrp.html(t.str),this._trigger("update"),t}}),t(function(){t("[data-timestamp]").timeAgo(),t("[data-timestamp-title]").timeAgo({title:!0})})}(jQuery,_,window,document);
!function(i,t,e,s,n){"use strict";i.timer=function(i,t,e){return new r(i,t,e)};var r=function(i,t,e){return this.set(i,t,e)};r.prototype={set:function(i,t,e){return this.init=!0,this.action=i,isNaN(t)||(this.intervalTime=t),e&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},once:function(i){var t=this;return isNaN(i)&&(i=0),setTimeout(function(){t.action()},i),this},play:function(i){return this.isActive||(i?this.setTimer():this.setTimer(this.remaining_time),this.isActive=!0),this},pause:function(){return this.isActive&&(this.isActive=!1,this.remaining_time-=new Date-this.last,this.clearTimer()),this},stop:function(){return this.isActive=!1,this.remaining_time=this.intervalTime,this.clearTimer(),this},toggle:function(i){return this.isActive?this.pause():i?this.play(!0):this.play(),this},reset:function(){return this.isActive=!1,this.play(!0),this},clearTimer:function(){clearTimeout(this.timeoutObject)},setTimer:function(i){var t=this;isNaN(i)&&(i=this.intervalTime),this.remaining_time=i,this.last=new Date,this.clearTimer(),this.timeoutObject=setTimeout(function(){t.go()},i)},go:function(){this.isActive&&(this.action(),this.setTimer())},remaining:function(i){return t.isUndefined(i)?this.remaining_time:(this.remaining_time=i,this)}}}(jQuery,_,window,document);
!function(e,n,r,t,c){"use strict";var u=function(e,n){var r=/[^\w\-\.:]/.test(e)?new Function(u.arg+",tmpl","var _e=_.escape"+u.helper+",_s='"+e.replace(u.regexp,u.func)+"';return _s;"):u.cache[e]=u.cache[e]||u(t.getElementById(e).innerHTML);return n?r(n,u):function(e){return r(e,u)}};u.cache={},u.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,u.func=function(e,n,r,t,c,u){return n?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[n]||"\\"+n:r?"="===r?"'+_e("+t+")+'":"'+("+t+"==null?'':"+t+")+'":c?"';":u?"_s+='":void 0},u.arg="o",u.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",e.tmpl=u}(jQuery,_,window,document);
!function(t,n,r,a,e){"use strict";var i=function(t){var n=t.offset();return{X1:n.left,X2:n.left+t.width(),Y1:n.top,Y2:n.top+t.height()}},o=function(t,n){var r=Math.max(0,Math.min(t.X2,n.X2)-Math.max(t.X1,n.X1)),a=Math.max(0,Math.min(t.Y2,n.Y2)-Math.max(t.Y1,n.Y1));return r*a};t.fn.touching=function(r){var a=n.merge({startIndex:!1,point:!1,binarySearch:!0,$comparer:!1,$not:!1,select:"all"},r),e=a.$not?this.not(a.$not):this;if(a.$comparer){var h=i(a.$comparer),c=[],u=[];switch(e.each(function(){var n=i(t(this)),r=o(h,n);r>0&&(c.push(this),u.push(r))}),a.select){case"all":return t(c);case"most":return t(c[u.indexOf(n.max(u))]);default:return $empty}}if(a.point){var p;return a.binarySearch?(e.btEach(function(){var n=t(this),r=i(n);return a.point.Y>=r.Y1?a.point.Y<=r.Y2?a.point.X>=r.X1?a.point.X<=r.X2?(p=n,!1):1:-1:1:-1},a.startIndex),p||$empty):(e.each(function(){var n=t(this),r=i(n);return a.point.Y>=r.Y1&&a.point.Y<=r.Y2&&a.point.X>=r.X1&&a.point.X<=r.X2?(p=n,!1):void 0}),p||$empty)}}}(jQuery,_,window,document);
!function(t,e,i,n,s){"use strict";t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetOriginalName:"widget",widgetName:"widget",widgetFullName:"widget",defaultElement:!1,templates:{},options:{callbacks:{}},_createWidget:function(i,n){this.initializationType=n?"element":this.defaultElement?"html":this.templates.base?"template":"none",this.options=e.merge({},this.options,this._getCreateOptions(),i),"element"===this.initializationType&&e.merge(this.options,t(n).data(this.widgetName)),n=t(n||this.defaultElement||(this.templates.base?this._tmpl("base",this.options):!1)||this).get(0),this.element=n,this.$element=t(n),this.guid=e.uniqueId(),this.options.disabled=i&&i.disabled?i.disabled:this.$element.hasClass(this.widgetName+"-disabled"),t.data(this.element,this.widgetFullName,this),this._on(!0,this.$element,"remove",function(t){t.target===this.element&&this.destroy()}),this._create(),this._trigger("create",this._getCreateEventData()),this._variables(),this._init(),this._events()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_variables:e.noop,_init:e.noop,_events:e.noop,destroy:function(){this._destroy(),t.removeData(this.element,this.widgetFullName)},_destroy:e.noop,widget:function(){return this.$element},option:function(t,i){if(0===arguments.length)return e.cloneDeep(this.options);var n,o,a,r=t;if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(o=r[t]=e.extend({},this.options[t]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(t=n.pop(),1===arguments.length)return o[t]===s?null:o[t];o[t]=i}else{if(1===arguments.length)return this.options[t]===s?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.$element.toggleClass(this.widgetName+"-disabled",!!e),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(i,n,s,o,a){function r(){if(i||!l.options.disabled&&!l.$element.hasClass(l.widgetName+"-disabled")){var t=e.slice(arguments);return t.push(this),a.apply(l,t)}}var l=this;"boolean"!=typeof i&&(a=o,o=s,s=n,n=i,i=!1),n instanceof t||(a=o,o=s,s=n,n=this.$element),o&&!a&&(a=o,o=!1),a=e.isString(a)?this[a]:a,r.guid=a.guid=a.guid||r.guid||t.guid++,o?n.on(s,o,r):n.on(s,r)},_off:function(t,i,n){n||(n=i,i=t,t=this.$element),n=e.isString(n)?this[n]:n,t.off(i,n)},_trigger:function(t,e){e=e||{},t=t.split(" ");for(var i=0,n=t.length;n>i;i++)this.$element.trigger(this.widgetName+":"+t[i],e),"function"==typeof this.options.callbacks[t[i]]&&this.options.callbacks[t[i]].call(this.element,e)},_delay:function(t,e){var i=this;return setTimeout(function(){t.apply(i,arguments)},e||0)},_tmpl:function(e,i){return t.tmpl(this.widgetOriginalName+"."+e,i)},insertBefore:function(t){return this.$element.insertBefore(t),this},insertAfter:function(t){return this.$element.insertAfter(t),this},prependTo:function(t){return this.$element.prependTo(t),this},appendTo:function(t){return this.$element.appendTo(t),this}}}(jQuery,_,window,document);
!function(t,e,n,r,i){"use strict";t.widget=function(n,r,i){var o,s,p,a,u={},c=n.split("."),l=c.length>1?c[0]:!1,h=c.length>1?c[1]:c[0];o=l?l+"-"+h:h,i||(i=r,r=t.Widget),l&&(t[l]=t[l]||{}),s=l?t[l][h]:t[h],p=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new p(t,e)},l?t[l][h]=p:t[h]=p,e.extend(p,s,{_proto:e.extend({},i),_childConstructors:[]}),a=new r,a.options=e.extend({},a.options);for(var d in i)"function"==typeof i[d]?u[d]=function(t){var e=function(){return r.prototype[t].apply(this,arguments)},n=function(e){return r.prototype[t].apply(this,e)};return function(){var r,o=this._super,s=this._superApply;return this._super=e,this._superApply=n,r=i[t].apply(this,arguments),this._super=o,this._superApply=s,r}}(d):u[d]=i[d];p.prototype=e.extend(a,u,{constructor:p,namespace:l,widgetOriginalName:n,widgetName:h,widgetFullName:o});for(var g in i.templates)t.tmpl.cache[n+"."+g]=t.tmpl(i.templates[g]);if(s){for(var f=0,m=s._childConstructors.length;m>f;f++){var y=s._childConstructors[f].prototype;t.widget(y.namespace?y.namespace+"."+y.widgetName:y.widgetName,p,s._childConstructors[f]._proto)}delete s._childConstructors}else r._childConstructors.push(p);return t.widget.bridge(h,p),p},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(n){if(0!==this.length||r.prototype.defaultElement||r.prototype.templates.base){var s="string"==typeof n,p=e.tail(arguments),a=this;return s?this.each(function(){var e,r=t.data(this,o);if("instance"===n)return a=r,!1;if(r&&"function"==typeof r[n]&&"_"!==n.charAt(0))return e=r[n].apply(r,p),e!==r&&e!==i?(a=e,!1):void 0}):(p.length&&(n=e.extend.apply(null,[n].concat(p))),this.each(function(){var e=t.data(this,o);e?e.option(n||{}):t.data(this,o,new r(n,this))})),a}}}}(jQuery,_,window,document);