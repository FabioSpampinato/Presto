"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function t(t,e){var i=[],s=!0,n=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(s=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(l){n=!0,o=l}finally{try{!s&&a["return"]&&a["return"]()}finally{if(n)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();!function(t,e,i){if(t.Svelto={version:"0.2.0-beta.2",$:jQuery||Zepto||$||!1,_:lodash||underscore||_||!1},!Svelto.$)throw"Svelto depends upon jQuery, dependency unmet.";if(!Svelto._)throw"Svelto depends upon lo-dash, dependency unmet."}(window,document),function(t,e,i,s){t.mixin({nowSecs:function(){return t.floor(t.now()/1e3)},timeAgo:function(e){var i=t.nowSecs()-e,s=5,n=["year","month","week","day","hour","minute","second"],o=[31536e3,2592e3,604800,86400,3600,60,1];if(s>i)return{str:"Just now",next:s-i};for(var r=0,a=o.length;a>r;r++){var l=n[r],h=o[r],c=t.floor(i/h);if(c>=1)return{str:c+" "+l+(c>1?"s":"")+" ago",next:h-(i-c*h)}}},fuzzyMatch:function(t,e,i){i!==!1&&(t=t.toLowerCase(),e=e.toLowerCase());for(var s=-1,n=t.length,o=0,r=e.length;r>o;o++){for(var a=s+1;n>a;a++)t[a]===e[o]&&(s=a,a=n+1);if(str_i===n)return!1}return!0},clamp:function(e,i,s){return t.isUndefined(e)||e>i&&(i=e),t.isUndefined(s)||i>s&&(i=s),i},btEach:function(e,i,s){for(var n=0,o=e.length-1,r=t.isNumber(s)?s:t.ceil((n+o)/2),a=void 0;o>=n;){if(a=i.call(e[r],r,e[r]),0>a)o=r-1;else{if(!(a>0))return r;n=r+1}r=t.ceil((n+o)/2)}return-1},move:function(t,e,i){t.splice(i,0,t.splice(e,1)[0])},mkize:function(t){return t>=1e6?t/1e6+"M":t>=1e3?t/1e3+"K":t},roundCloser:function(e,i){t.isUndefined(i)&&(i=1);var s=e%i,n=i/2;return e-s+(s>=n?i:0)},"true":t.constant(!0),"false":t.constant(!1)})}(Svelto._,window,document),function(t,e,i,s,n){var o=navigator.userAgent.toLowerCase(),r=navigator.vendor?navigator.vendor.toLowerCase():"",a=navigator.appVersion.toLowerCase(),l=/ipod/i.test(o),h=!l&&/iphone/i.test(o),c=/ipad/i.test(o),u=/android/i.test(o),p=u&&/mobile/i.test(o),d=u&&!p,v=/blackberry/i.test(o)||/BB10/i.test(o),f=/win/i.test(a),g=f&&/phone/i.test(o),m=f&&!g&&/touch/i.test(o),_=h||l||p||v||g,y=c||d||m;t.browser={is:{chrome:/chrome|chromium/i.test(o)&&/google inc/.test(r),firefox:/firefox/i.test(o),edge:/(edge)\/((\d+)?[\w\.]+)/i.test(o),ie:/msie/i.test(o)||"ActiveXObject"in i,opera:/^Opera\//i.test(o)||/\x20OPR\//i.test(o),safari:/safari/i.test(o)&&/apple computer/i.test(r),yandex:/(yabrowser)\/([\w\.]+)/i.test(o),iphone:h,ipad:c,ipod:l,ios:h||c||l,android:u,androidPhone:p,androidTablet:d,blackberry:v,linux:/linux/i.test(a),mac:!(h||c||l)&&/mac/i.test(a),windows:f,windowsPhone:g,windowsTablet:m,mobile:_,tablet:y,desktop:!_&&!y,online:function(){return navigator.onLine},offline:function(){return!navigator.onLine},touchDevice:"ontouchstart"in i||"DocumentTouch"in i&&s instanceof DocumentTouch}}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.eventXY=function(e){if("originalEvent"in e)return t.eventXY(e.originalEvent);if("changedTouches"in e&&e.changedTouches.length>0)return{X:e.changedTouches[0].pageX,Y:e.changedTouches[0].pageY};if("touches"in e&&e.touches.length>0)return{X:e.touches[0].pageX,Y:e.touches[0].pageY};if("pageX"in e)return{X:e.pageX,Y:e.pageY};throw"UngettableEventXY"},t.frame=function(t){return requestAnimationFrame(t)},t.hasCtrlOrCmd=function(e){return!t.browser.is.mac&&e.ctrlKey||t.browser.is.mac&&e.metaKey},t.getRect=function(t){return t.getBoundingClientRect()},t.fn.getRect=function(){return this.length>0?this[0].getBoundingClientRect():n},t.getOverlappingArea=function(t,e){var i=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),s=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));return i*s},t.fn.hsl=function(t,e,i){return this.css("background-color","hsl("+t+","+e+"%,"+i+"%)")},t.fn.onHover=function(){for(var t=this,e=arguments.length,i=Array(e),s=0;e>s;s++)i[s]=arguments[s];this.on(Pointer.enter,function(){return t.on.apply(t,i)}),this.on(Pointer.leave,function(){return t.off.apply(t,i)})},t(function(){i.$window=t(i),i.$document=t(s),i.$html=t(s.documentElement),i.$head=t(s.head),i.$body=t(s.body),i.$empty=t(),function(t){var i=t.pushState;t.pushState=function(s){return e.isFunction(t.onpushstate)&&t.onpushstate({state:s}),$window.trigger("pushstate"),i.apply(t,arguments)}}(i.history),function(){var t=i.location.href.split("#")[0];$window.on("popstate pushstate",function(){e.defer(function(){var e=i.location.href.split("#")[0];e!==t&&(t=e,$window.trigger("route",{url:e}))})})}()})}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){i.UI={},UI.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},UI.mouseButton={LEFT:0,MIDDLE:1,RIGHT:2},UI.animation={slow:500,normal:350,fast:150},UI.colors={primary:"#1565c0",secondary:"#ef6c00",tertiary:"#6a1b9a",quaternary:"#2e7d32",white:"#ffffff",gray:"#e0e0e0",black:"#212121",yellow:"#fabf40",olive:"#cddc39",green:"#4caf50",blue:"#2196f3",violet:"#673ab7",orange:"#ff9800",purple:"#9c27b0",red:"#f44336",pink:"#e91e63",teal:"#009688",brown:"#795548",error:"#f44336",warning:"#fabf40",success:"#4caf50",transparent:"rgba(0, 0, 0, 0)",base:"#eceff1"}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=function r(t,e){var i=/[^\w\-\.:]/.test(t)?new Function(r.arg+",tmpl","var _e=_.escape"+r.helper+",_s='"+t.replace(r.regexp,r.func)+"';return _s;"):r.cache[t]=r.cache[t]||r(s.getElementById(t).innerHTML);return e?i(e,r):function(t){return i(t,r)}};o.cache={},o.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,o.func=function(t,e,i,s,n,o){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+s+")+'":"'+("+s+"==null?'':"+s+")+'":n?"';":o?"_s+='":void 0},o.arg="o",o.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",t.tmpl=o}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"widget",disabled:!1,templates:{base:!1},options:{errors:{uninitializable:"WidgetUninitializable"},datas:{},classes:{disabled:"disabled"},selectors:{},animations:{},callbacks:{}}},r=function(){function i(s,n){if(_classCallCheck(this,i),e.extend(this,this._getConfig(s)),!n&&!this.templates.base)throw this.errors.uninitializable;this.$element=t(n||this._tmpl("base",this.options)),this.element=this.$element[0],t.data(this.element,"instance."+this.name,this),this.guid=t.guid++,this.disabled=this.$element.hasClass(this.options.classes.disabled),this._variables(),this._init(),this._events()}return _createClass(i,[{key:"_getConfig",value:function(t){for(var i=[],s=Object.getPrototypeOf(this);s;)s.constructor.config&&i.push(s.constructor.config),s=Object.getPrototypeOf(s);i.push({}),i.reverse(),t&&i.push({options:t});var n=this._createOptions();return n&&i.push({options:n}),e.merge.apply(e,i)}},{key:"destroy",value:function(){return this._destroy(),t.removeData(this.element,"instance."+this.name),this}},{key:"_createOptions",value:function(){}},{key:"_widgetize",value:function(){}},{key:"_variables",value:function(){}},{key:"_init",value:function(){}},{key:"_events",value:function(){}},{key:"_destroy",value:function(){}},{key:"widget",value:function(){return this.$element}},{key:"instance",value:function(){return this}},{key:"option",value:function(t,i){if(!t)return e.cloneDeep(this.options);if(e.isString(t)){var s={},o=t.split(".");if(t=o.shift(),o.length){var r=s[t]=e.extend({},this.options[t]),a=!0,l=!1,h=n;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;r[p]=r[p]||{},r=r[p]}}catch(d){l=!0,h=d}finally{try{!a&&u["return"]&&u["return"]()}finally{if(l)throw h}}if(t=o.pop(),1===arguments.length)return e.isUndefined(r[t])?null:r[t];r[t]=i}else{if(1===arguments.length)return e.isUndefined(this.options[t])?null:this.options[t];s[t]=i}}else e.isPlainObject(t)&&this._setOptions(t);return this}},{key:"_setOptions",value:function(t){for(var e in t)this._setOption(e,t[e]);return this}},{key:"_setOption",value:function(t,e){return this.options[t]=e,this}},{key:"enable",value:function(){return this.disabled&&(this.disabled=!1,this.$element.removeClass(this.options.classes.disabled)),this}},{key:"isEnabled",value:function(){return!this.disabled}},{key:"disable",value:function(){return this.disabled||(this.disabled=!0,this.$element.addClass(this.options.classes.disabled)),this}},{key:"isDisabled",value:function(){return this.disabled}},{key:"_on",value:function(i,s,n,o,r,a){var l=this;e.isBoolean(i)||(a=r,r=o,o=n,n=s,s=i,i=!1),s instanceof t||(a=r,r=o,o=n,n=s,s=this.$element),e.isString(o)||(a=r,r=o,o=!1);var h=function(){for(var t=arguments.length,e=Array(t),s=0;t>s;s++)e[s]=arguments[s];if(i||!l.disabled)return r.apply(l,e)};return h.guid=r.guid=r.guid||t.guid++,s[a?"one":"on"](n,o,h),this}},{key:"_one",value:function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return this._on.apply(this,e.concat([!0]))}},{key:"_onHover",value:function(t,e){var i=this;return e||(e=t,t=this.$element),this._on(t,Pointer.enter,function(){return i._on.apply(i,_toConsumableArray(e))}),this._on(t,Pointer.leave,function(){return i._off.apply(i,_toConsumableArray(e))}),this}},{key:"_off",value:function(t,e,i){return i||(i=e,e=t,t=this.$element),t.off(e,i),this}},{key:"_trigger",value:function(t){var e=arguments.length<=1||arguments[1]===n?{}:arguments[1],i=this.name.toLowerCase();t=t.split(" ");var s=!0,o=!1,r=n;try{for(var a,l=t[Symbol.iterator]();!(s=(a=l.next()).done);s=!0){var h=a.value;this.$element.trigger(i+":"+h,e),this.options.callbacks[h].call(this.element,e)}}catch(c){o=!0,r=c}finally{try{!s&&l["return"]&&l["return"]()}finally{if(o)throw r}}return this}},{key:"_delay",value:function(t,e){var i=this;return setTimeout(function(){return t.apply(i)},e||0)}},{key:"_defer",value:function(t){return this._delay(t)}},{key:"_frame",value:function(e){return t.frame(function(){return e()})}},{key:"_debounce",value:function(i,s,n){var o=e.debounce(i,s,n);return o.guid=i.guid=i.guid||t.guid++,o}},{key:"_throttle",value:function(i,s,n){var o=e.throttle(i,s,n);return o.guid=i.guid=i.guid||t.guid++,o}},{key:"_tmpl",value:function(e){var i=arguments.length<=1||arguments[1]===n?{}:arguments[1];return t.tmpl(this.name.toLowerCase()+"."+e,i)}},{key:"insertBefore",value:function(t){return this.$element.insertBefore(t),this}},{key:"insertAfter",value:function(t){return this.$element.insertAfter(t),this}},{key:"prependTo",value:function(t){return this.$element.prependTo(t),this}},{key:"appendTo",value:function(t){return this.$element.appendTo(t),this}}]),i}();Svelto.Widget=r,Svelto.Widget.config=o}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){i.Widgetize=new(function(){function t(){_classCallCheck(this,t),this.widgetizers=[]}return _createClass(t,[{key:"add",value:function(t){this.widgetizers.push(t)}},{key:"get",value:function(){return this.widgetizers}},{key:"remove",value:function(t){e.pull(this.widgetizers,t)}},{key:"on",value:function(t){var e=!0,i=!1,s=n;try{for(var o,r=this.widgetizers[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;a(t)}}catch(l){i=!0,s=l}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw s}}}}]),t}()),t.fn.widgetize=function(){return Widgetize.on(this),this},t(function(){$body.widgetize()})}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){i.Pointer={options:{events:{prefix:"pointer"},press:{duration:300},dbltap:{interval:300},flick:{duration:150,threshold:5}}};var o={tap:Pointer.options.events.prefix+"tap",dbltap:Pointer.options.events.prefix+"dbltap",press:Pointer.options.events.prefix+"press",flick:Pointer.options.events.prefix+"flick",down:t.browser.is.touchDevice?"touchstart":"mousedown",move:t.browser.is.touchDevice?"touchmove":"mousemove",up:t.browser.is.touchDevice?"touchend":"mouseup",cancel:t.browser.is.touchDevice?"touchcancel":"mouseleave",over:"mouseover",enter:"mouseenter",out:"mouseout",leave:"mouseleave"},r=function(e){Pointer[e]=o[e],t.fn[e]=function(t){return t?this.on(o[e],t):this.trigger(o[e])}};for(var a in o)r(a);!function(){var e=t(s),i=void 0,n=void 0,o=void 0,r=void 0,a=void 0,l=0,h=void 0,c=void 0,u=void 0,p=function(e,i){var s=t.Event(e);return s.originalEvent=i,s},d=function(e){i=e.target,n=t(i),o=e,r=e.timeStamp||Date.now(),h=!1,u=setTimeout(v,Pointer.options.press.duration),n.on(Pointer.move,f),n.one(Pointer.up,g),n.one(Pointer.cancel,m)},v=function(){n.trigger(p(Pointer.press,o)),u=!1},f=function _(e){h||(u&&(clearTimeout(u),u=!1),h=!0,t.browser.is.touchDevice||n.off(Pointer.move,_)),c=e},g=function(e){if(u&&clearTimeout(u),a=e.timeStamp||Date.now(),h&&a-r<=Pointer.options.flick.duration){var i=t.eventXY(o),s=t.eventXY(t.browser.is.touchDevice?c:e),d={X:s.X-i.X,Y:s.Y-i.Y},v={X:Math.abs(d.X),Y:Math.abs(d.Y)};if(v.X>=Pointer.options.flick.threshold||v.Y>=Pointer.options.flick.threshold){var g=void 0,_=void 0;v.X>v.Y?(g="horizontal",_=d.X>0?1:-1):(g="vertical",_=d.Y>0?1:-1),n.trigger(p(Pointer.flick,e),{orientation:g,direction:_,startXY:i,endXY:s})}}t.browser.is.touchDevice&&h||(n.trigger(p(Pointer.tap,e)),a-l<=Pointer.options.dbltap.interval&&n.trigger(p(Pointer.dbltap,e)),l=a),(!h||t.browser.is.touchDevice)&&n.off(Pointer.move,f),n.off(Pointer.cancel,m)},m=function(){u&&clearTimeout(u),(!h||t.browser.is.touchDevice)&&n.off(Pointer.move,f),n.off(Pointer.up,g)};e.on(Pointer.down,d)}()}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.factory=function(e){var i=e.config.name,s=i.toLowerCase();for(var n in e.config.templates)e.config.templates[n]&&(t.tmpl.cache[s+"."+n]=t.tmpl(e.config.templates[n]));Widgetize.add(e.prototype._widgetize),t.factory.bridge(e)},t.factory.bridge=function(i){var s=i.config.name;t.fn[s]=function(s){var o=e.isString(s),r=this;if(o){if("_"!==s.charAt(0)){for(var a=arguments.length,l=Array(a>1?a-1:0),h=1;a>h;h++)l[h-1]=arguments[h];var c=!0,u=!1,p=n;try{for(var d,v=this[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var f=d.value,g=t.factory.instance(i,!1,f);if(!e.isFunction(g[s]))return;var m=g[s].apply(g,l);if(!e.isUndefined(m)){r=m;break}}}catch(_){u=!0,p=_}finally{try{!c&&v["return"]&&v["return"]()}finally{if(u)throw p}}}}else{var y=e.merge(s,function(e){return e instanceof t?e:n}),b=!0,k=!1,$=n;try{for(var w,C=this[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var f=w.value;t.factory.instance(i,y,f)}}catch(_){k=!0,$=_}finally{try{!b&&C["return"]&&C["return"]()}finally{if(k)throw $}}}return r}},t.factory.instance=function(e,i,s){var n=e.config.name,o=t.data(s,"instance."+n);return o||(o=new e(i,s)),o}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"expander",options:{classes:{open:"open"},selectors:{expander:".expander",toggler:".expander-toggler"},callbacks:{open:function(){},close:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".expander").expander(),t.filter(".expander").expander()}},{key:"_variables",value:function(){this.$expander=this.$element,this.$togglers=this.$expander.find(this.options.selectors.toggler),this._isOpen=this.$expander.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._on(this.$togglers,Pointer.tap,this.toggle)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t){e.isBoolean(t)||(t=!this._isOpen),t!==this._isOpen&&(this._isOpen=t,this.$expander.toggleClass(this.options.classes.open,this._isOpen),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),i}(Svelto.Widget);Svelto.Expander=r,Svelto.Expander.config=o,t.factory(Svelto.Expander)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"accordion",options:{classes:{multiple:"multiple-open"},selectors:{expander:".expander"},callbacks:{open:function(){},close:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".accordion").accordion(),t.filter(".accordion").accordion()}},{key:"_variables",value:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(this.options.selectors.expander),this.expandersInstances=this.$expanders.toArray().map(function(e){return t(e).expander("instance")}),this.isMultiple=this.$accordion.hasClass(this.options.classes.multiple)}},{key:"_events",value:function(){this.isMultiple||this._on(this.$expanders,"expander:open",this.__closeOthers)}},{key:"__closeOthers",value:function(t,e){for(var i=0,s=this.$expanders.length;s>i;i++)this.$expanders[i]!==t.target&&this.expandersInstances[i].close()}},{key:"areOpen",value:function(){return this.expandersInstances.map(function(t){return t.isOpen()})}},{key:"toggle",value:function(t,i){var s=this.expandersInstances[t],n=s.isOpen();if(e.isBoolean(i)||(i=!n),i!==n){var o=i?"open":"close";s[o](),this._trigger(o,{index:t})}}},{key:"open",value:function(t){this.toggle(t,!0)}},{key:"close",value:function(t){this.toggle(t,!1)}}]),s}(Svelto.Widget);Svelto.Accordion=r,Svelto.Accordion.config=o,t.factory(Svelto.Accordion)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"autogrowInput",options:{minWidth:0,callbacks:{update:function(){}}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find("input.autogrow").autogrowInput(),t.filter("input.autogrow").autogrowInput()}},{key:"_variables",value:function(){this.$input=this.$element}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this._on("input change",this._update)}},{key:"_getNeededWidth",value:function(){var e=t("<span>"+this.$input.val()+"</span>");e.css({font:this.$input.css("font"),position:"absolute",opacity:0}),e.appendTo($body);var i=e.width();return e.remove(),i}},{key:"_update",value:function(){var t=this._getNeededWidth(this.$input);this.$input.width(Math.max(t,this.options.minWidth)),this._trigger("update")}}]),i}(Svelto.Widget);Svelto.AutogrowInput=r,Svelto.AutogrowInput.config=o,t.factory(Svelto.AutogrowInput)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"autogrowTextarea",options:{minHeight:0,callbacks:{update:function(){}}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_widgetize",value:function(t){t.find("textarea.autogrow, .textarea-wrp.autogrow textarea").autogrowTextarea(),t.filter("textarea.autogrow, .textarea-wrp.autogrow textarea").autogrowTextarea()}},{key:"_variables",value:function(){this.$textarea=this.$element}},{key:"_init",value:function(){this._update()}},{key:"_events",value:function(){this._on("input change",this._update)}},{key:"_update",value:function(){var t=this.$textarea.height(1)[0].scrollHeight-parseFloat(this.$textarea.css("padding-top"))-parseFloat(this.$textarea.css("padding-bottom"));this.$textarea.height(Math.max(t,this.options.minHeight)),this._trigger("update")}}]),e}(Svelto.Widget);Svelto.AutogrowTextarea=r,Svelto.AutogrowTextarea.config=o,t.factory(Svelto.AutogrowTextarea)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.fn.blurred=function(t){return this.toggleClass("blurred",t)}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"boilerplate",templates:{base:!1},options:{characters:{},regexes:{},errors:{},attributes:{},datas:{},classes:{},selectors:{},animations:{},callbacks:{}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_widgetize",value:function(t){}},{key:"_variables",value:function(){}},{key:"_events",value:function(){}},{key:"_destroy",value:function(){}}]),e}(Svelto.Widget);Svelto.Boilerplate=r,Svelto.Boilerplate.config=o,t.factory(Svelto.Boilerplate)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.fn.btEach=function(t,i){return e.btEach(this,t,i)}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"carousel",options:{startingIndex:0,cycle:!1,interval:5e3,intervalMinimumRemaining:1e3,classes:{prev:"prev",current:"current"},selectors:{prev:".carousel-prev",next:".carousel-next",indicator:".carousel-indicator",itemsWrp:".carousel-items",item:" > *"},animations:{cycle:UI.animation.normal},callbacks:{change:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".carousel").carousel(),t.filter(".carousel").carousel()}},{key:"_variables",value:function(){this.$carousel=this.$element,this.$prev=this.$carousel.find(this.options.selectors.prev),this.$next=this.$carousel.find(this.options.selectors.next),this.$indicators=this.$carousel.find(this.options.selectors.indicator),this.$itemsWrp=this.$carousel.find(this.options.selectors.itemsWrp),this.$items=this.$itemsWrp.find(this.options.selectors.item),this.maxIndex=this.$items.length-1,this._previous=!1,this._current=!1,this.options.cycle&&(this.timer=new Timer(this.next.bind(this),this.options.interval,!0))}},{key:"_init",value:function(){var t=this.$items.filter("."+this.options.classes.current).first();t.length>0?this._current=this._getItemObj(this.$items.index(t)):this.set(this.options.startingIndex)}},{key:"_events",value:function(){this._on(this.$prev,Pointer.tap,this.previous),this._on(this.$next,Pointer.tap,this.next),this._onHover([$document,"keydown",this.__keydown]),this._on(this.$indicators,Pointer.tap,this.__indicatorTap),this._on(Pointer.flick,this.__flick),this.options.cycle&&(this._on(this.$itemsWrp,Pointer.enter,this.__cycleEnter),this._on(this.$itemsWrp,Pointer.leave,this.__cycleLeave))}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.LEFT:case UI.keyCode.UP:this.previous();break;case UI.keyCode.RIGHT:case UI.keyCode.DOWN:case UI.keyCode.SPACE:this.next();break;default:return}t.preventDefault(),t.stopImmediatePropagation()}},{key:"__cycleEnter",value:function(){this.timer.pause()}},{key:"__cycleLeave",value:function(){this.timer.remaining(Math.max(this.options.intervalMinimumRemaining,this.timer.remaining()||0)),this.timer.play()}},{key:"__indicatorTap",value:function(t){this.set(this.$indicators.index(t.currentTarget))}},{key:"__flick",value:function(t,e){"horizontal"===e.orientation&&(t.preventDefault(),t.stopImmediatePropagation(),this[-1===e.direction?"next":"previous"]())}},{key:"_getItemObj",value:function(t){return{index:t,$item:this.$items.eq(t),$indicator:this.$indicators.eq(t)}}},{key:"_getPrevIndex",value:function(t){return t>0?t-1:this.maxIndex}},{key:"_getNextIndex",value:function(t){return t<this.maxIndex?t+1:0}},{key:"get",value:function(){return this._current.index}},{key:"set",value:function(t){t=Number(t),!this._setting&&!e.isNaN(t)&&t>=0&&t<=this.maxIndex&&(!this._current||t!==this._current.index)&&(this._setting=!0,this._current&&(this._current.$item.removeClass(this.options.classes.current).addClass(this.options.classes.prev),this._current.$indicator.removeClass(this.options.classes.current),this._previous=this._current),this._current=this._getItemObj(t),this._current.$item.addClass(this.options.classes.current),this._current.$indicator.addClass(this.options.classes.current),this.options.timer&&this.timer.stop(),this._delay(function(){this._setting=!1,this._previous&&this._previous.$item.removeClass(this.options.classes.prev),this.options.timer&&this.timer.play()},this.options.animations.cycle),this._trigger("change"))}},{key:"previous",value:function(){this.set(this._getPrevIndex(this._current.index))}},{key:"next",value:function(){this.set(this._getNextIndex(this._current.index))}}]),i}(Svelto.Widget);Svelto.Carousel=r,Svelto.Carousel.config=o,t.factory(Svelto.Carousel)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"checkbox",options:{classes:{checked:"checked"},selectors:{input:"input"},callbacks:{change:function(){},check:function(){},uncheck:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".checkbox").checkbox(),t.filter(".checkbox").checkbox()}},{key:"_variables",value:function(){this.$checkbox=this.$element,this.$input=this.$checkbox.find(this.options.selectors.input)}},{key:"_init",value:function(){var t=this.get(),e=this.$checkbox.hasClass(this.options.classes.checked);t!==e&&this.$checkbox.toggleClass(this.options.classes.checked,t)}},{key:"_events",value:function(){this._on(!0,"change",this.__change),this._on(Pointer.tap,e.wrap(n,this.toggle))}},{key:"__change",value:function(){var t=this.get();this.$checkbox.toggleClass(this.options.classes.checked,t),this._trigger("change",{checked:t}),this._trigger(t?"check":"uncheck")}},{key:"get",value:function(){return this.$input.prop("checked")}},{key:"toggle",value:function(t){var i=this.get();e.isUndefined(t)&&(t=!i),t!==i&&(this.$input.prop("checked",t).trigger("change"),this._trigger("change",{checked:t}),this._trigger(t?"check":"uncheck"))}},{key:"check",value:function(){this.toggle(!0)}},{key:"uncheck",value:function(){this.toggle(!1)}}]),i}(Svelto.Widget);Svelto.Checkbox=r,Svelto.Checkbox.config=o,t.factory(Svelto.Checkbox)}(Svelto.$,Svelto._,window,document),function(t,e,i,s){e.ColorHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"hex2rgb",value:function(t){return{r:ColorHelper.hex2dec(t.r),g:ColorHelper.hex2dec(t.g),b:ColorHelper.hex2dec(t.b)}}},{key:"hex2hsv",value:function(t){return ColorHelper.rgb2hsv(ColorHelper.hex2rgb(t))}},{key:"rgb2hex",value:function(t){return{r:ColorHelper.dec2hex(t.r),g:ColorHelper.dec2hex(t.g),b:ColorHelper.dec2hex(t.b)}}},{key:"rgb2hsv",value:function(t){var e=t.r/255,i=t.g/255,s=t.b/255,n=void 0,o=void 0,r=Math.max(e,i,s),a=r-Math.min(e,i,s),l=function(t){return(r-t)/6/a+.5};if(0===a)n=o=0;else{o=a/r;var h=l(e),c=l(i),u=l(s);e===r?n=u-c:i===r?n=1/3+h-u:s===r&&(n=2/3+c-h),0>n?n+=1:n>1&&(n-=1)}return{h:360*n,s:100*o,v:100*r}}},{key:"hsv2hex",value:function(t){return ColorHelper.rgb2hex(ColorHelper.hsv2rgb(t))}},{key:"hsv2rgb",value:function(t){var e=void 0,i=void 0,s=void 0,n=t.h,o=t.s,r=t.v;if(o/=100,r/=100,0===o)e=i=s=r;else{var a=void 0,l=void 0,h=void 0,c=void 0,u=void 0;switch(n/=60,a=Math.floor(n),l=n-a,h=r*(1-o),c=r*(1-o*l),u=r*(1-o*(1-l)),a){case 0:e=r,i=u,s=h;break;case 1:e=c,i=r,s=h;break;case 2:e=h,i=r,s=u;break;case 3:e=h,i=c,s=r;break;case 4:e=u,i=h,s=r;break;default:e=r,i=h,s=c}}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}},{key:"hsv2hsl",value:function(t){var e=t.s/100,i=t.v/100,s=(2-e)*i,n=e*i;return{h:t.h,s:n/(1>=s?s:2-s)*100,l:s/2*100}}},{key:"hsl2hsv",value:function(t){var e=t.l/100*2,i=t.s/100*(1>=e?e:2-e);return{h:t.h,s:2*i/(e+i)*100,v:(e+i)/2*100}}},{key:"dec2hex",value:function(e){return t.padLeft(e.toString(16),2,"0")}},{key:"hex2dec",value:function(t){return parseInt(t,16)}}]),e}()}(Svelto._,window,document),function(t,e,i,s){e.HexColor=function(){function e(i){_classCallCheck(this,e),t.isString(i)&&(i=i.replace("#",""),/^[0-9a-f]{6}$/i.test(i)?this.import6chars(i):/^[0-9a-f]{3}$/i.test(i)&&this.import3chars(i))}return _createClass(e,[{key:"import6chars",value:function(t){this.hsv=ColorHelper.hex2hsv({r:t[0]+t[1],g:t[2]+t[3],b:t[4]+t[5]})}},{key:"import3chars",value:function(t){this.hsv=ColorHelper.hex2hsv({r:t[0].repeat(2),g:t[1].repeat(2),b:t[2].repeat(2)})}},{key:"getHexStr",value:function(){var t=ColorHelper.hsv2hex(this.hsv);return"#"+t.r+t.g+t.b}},{key:"isValid",value:function(){return!!this.hsv}}]),e}()}(Svelto._,window,document),function(t,e,i,s,n){var o={name:"colorpicker",options:{defaultColor:"#ff0000",live:!1,selectors:{sb:{wrp:".colorpicker-saturation-brightness-wrp",handler:".colorpicker-handler"},hue:{wrp:".colorpicker-hue-wrp",handler:".colorpicker-handler"},input:"input"},callbacks:{change:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".colorpicker").colorpicker(),t.filter(".colorpicker").colorpicker()}},{key:"_variables",value:function(){this.$colorpicker=this.$element,this.$sbWrp=this.$colorpicker.find(this.options.selectors.sb.wrp),this.$sbHandler=this.$sbWrp.find(this.options.selectors.sb.handler),this.$hueWrp=this.$colorpicker.find(this.options.selectors.hue.wrp),this.$hueHandler=this.$hueWrp.find(this.options.selectors.hue.handler),this.$input=this.$colorpicker.find(this.options.selectors.input),this.sbWrpSize=this.$sbWrp.width(),this.hueWrpHeight=this.sbWrpSize,this.color=new HexColor,this.hex=""}},{key:"_init",value:function(){this.set(this.$input.val())||(this.color=new HexColor(this.options.defaultColor),this._updateSb(),this._updateHue())}},{key:"_events",value:function(){this._on(this.$input,"change",this.__change),this._onHover(this.$sbWrp,[$document,"keydown",this.__sbKeydown]),this.$sbHandler.draggable({draggable:this.isEnabled.bind(this),$proxy:this.$sbWrp,constrainer:{$element:this.$sbWrp,constrainCenter:!0},callbacks:{move:this.__sbDragMove.bind(this),end:this.__sbDragEnd.bind(this)}}),this._onHover(this.$hueWrp,[$document,"keydown",this.__hueKeydown]),this.$hueHandler.draggable({draggable:this.isEnabled.bind(this),axis:"y",$proxy:this.$hueWrp,constrainer:{$element:this.$hueWrp},callbacks:{move:this.__hueDragMove.bind(this),end:this.__hueDragEnd.bind(this)}})}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"__sbKeydown",value:function(t){switch(t.keyCode){case UI.keyCode.UP:this.color.hsv.v=Math.min(100,this.color.hsv.v+1);break;case UI.keyCode.RIGHT:this.color.hsv.s=Math.min(100,this.color.hsv.s+1);break;case UI.keyCode.DOWN:this.color.hsv.v=Math.max(0,this.color.hsv.v-1);break;case UI.keyCode.LEFT:this.color.hsv.s=Math.max(0,this.color.hsv.s-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateSb(),this._updateInput()}},{key:"_sbDragSet",value:function(t,i){this.color.hsv.s=100*e.clamp(0,t.X,this.sbWrpSize)/this.sbWrpSize,this.color.hsv.v=100-100*e.clamp(0,t.Y,this.sbWrpSize)/this.sbWrpSize,this._updateSb(),i&&this._updateInput();
}},{key:"__sbDragMove",value:function(t){this._sbDragSet(t.moveXY,this.options.live)}},{key:"__sbDragEnd",value:function(t){this._sbDragSet(t.endXY,!0)}},{key:"__hueKeydown",value:function(t){switch(t.keyCode){case UI.keyCode.UP:this.color.hsv.h=Math.min(359,this.color.hsv.h+1);break;case UI.keyCode.DOWN:this.color.hsv.h=Math.max(0,this.color.hsv.h-1);break;default:return}t.preventDefault(),t.stopImmediatePropagation(),this._updateHue(),this._updateInput()}},{key:"_hueDragSet",value:function(t,i){this.color.hsv.h=359-359*e.clamp(0,t.Y,this.hueWrpHeight)/this.hueWrpHeight,this._updateHue(),i&&this._updateInput()}},{key:"__hueDragMove",value:function(t){this._hueDragSet(t.moveXY,this.options.live)}},{key:"__hueDragEnd",value:function(t){this._hueDragSet(t.endXY,!0)}},{key:"_updateSb",value:function(){var t=ColorHelper.hsv2hsl(this.color.hsv),e=this.sbWrpSize/100*this.color.hsv.s,i=this.sbWrpSize/100*(100-this.color.hsv.v);this.$sbHandler.hsl(t.h,t.s,t.l).translate(e,i)}},{key:"_updateHue",value:function(){var t=ColorHelper.hsv2hsl(this.color.hsv),e=this.hueWrpHeight/100*(100-this.color.hsv.h/360*100);this.$hueHandler.hsl(this.color.hsv.h,100,50).translateY(e),this.$sbHandler.hsl(t.h,t.s,t.l),this.$sbWrp.hsl(this.color.hsv.h,100,50)}},{key:"_updateInput",value:function(){this.hex=this.color.getHexStr(),this.$input.val(this.hex).trigger("change"),this._trigger("change",{color:this.hex})}},{key:"_update",value:function(){this._updateSb(),this._updateHue(),this._updateInput()}},{key:"get",value:function(){return this.color.getHexStr()}},{key:"set",value:function(t){var i=new HexColor(t);return i.isValid()&&!e.isEqual(i.hsv,this.color.hsv)&&(this.color=i,this._update()),i.isValid()}}]),i}(Svelto.Widget);Svelto.Colorpicker=r,Svelto.Colorpicker.config=o,t.factory(Svelto.Colorpicker)}(Svelto.$,Svelto._,window,document),function(t,e,i,s){var n=encodeURIComponent,o=decodeURIComponent;$.cookie={get:function(t){return t?o(i.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+n(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(t,e,s,o,r,a){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var l="";if(s)switch(s.constructor){case Number:l=s===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+s;break;case String:l="; expires="+s;break;case Date:l="; expires="+s.toUTCString()}return i.cookie=n(t)+"="+n(e)+l+(r?"; domain="+r:"")+(o?"; path="+o:"")+(a?"; secure":""),!0},remove:function(t,e,s){return this.has(t)?(i.cookie=n(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(s?"; domain="+s:"")+(e?"; path="+e:""),!0):!1},has:function(t){return t?new RegExp("(?:^|;\\s*)"+n(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(i.cookie):!1},keys:function r(){for(var r=i.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0,e=r.length;e>t;t++)r[t]=o(r[t]);return r}}}(Svelto._,window,document),function(t,e,i,s,n){var o={name:"datepicker",options:{names:{months:["January","February","March","April","May","June","July","August","September","October","November","December"]},date:{today:!1,current:!1,selected:null},format:{type:"YYYYMMDD",separator:"/"},classes:{today:"datepicker-day-today",selected:"datepicker-day-selected"},selectors:{navigation:{prev:".datepicker-navigation-prev",title:".datepicker-navigation-title",next:".datepicker-navigation-next"},day:{prev:".datepicker-day-prev",current:".datepicker-day",next:".datepicker-day-next"},input:"input"},callbacks:{change:function(){},refresh:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".datepicker").datepicker(),t.filter(".datepicker").datepicker()}},{key:"_variables",value:function(){this.$datepicker=this.$element,this.$input=this.$datepicker.find(this.options.selectors.input),this.$navigationPrev=this.$datepicker.find(this.options.selectors.navigation.prev),this.$navigationTitle=this.$datepicker.find(this.options.selectors.navigation.title),this.$navigationNext=this.$datepicker.find(this.options.selectors.navigation.next),this.$daysPrev=this.$datepicker.find(this.options.selectors.day.prev),this.$daysCurrent=this.$datepicker.find(this.options.selectors.day.current),this.$daysNext=this.$datepicker.find(this.options.selectors.day.next),this.$daysAll=this.$daysPrev.add(this.$daysCurrent).add(this.$daysNext),this.options.date.today instanceof Date||(this.options.date.today=new Date),this.options.date.current instanceof Date||(this.options.date.current=new Date),this.$dayToday=!1,this.$daySelected=!1}},{key:"_init",value:function(){this.set(this.$input.val()),this.options.date.selected instanceof Date&&(this.options.date.current=new Date(this.options.date.selected.getFullYear(),this.options.date.selected.getMonth(),this.options.date.selected.getDate())),this._refresh()}},{key:"_events",value:function(){this._on(this.$input,"change",this.__change),this._onHover([$document,"keydown",this.__keydown]),this._on(this.$navigationPrev,Pointer.tap,this.__prevTap),this._on(this.$navigationNext,Pointer.tap,this.__nextTap),this._on(Pointer.tap,this.options.selectors.day.current,this.__dayTap)}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.UP:case UI.keyCode.LEFT:this.prevMonth();break;case UI.keyCode.RIGHT:case UI.keyCode.DOWN:this.nextMonth();break;default:return}t.preventDefault(),t.stopImmediatePropagation()}},{key:"__prevTap",value:function(){this.prevMonth()}},{key:"__nextTap",value:function(){this.nextMonth()}},{key:"__dayTap",value:function(e){if(!e.button||e.button===UI.mouseButton.LEFT){var i=parseInt(t(e.currentTarget).html(),10);this._unhighlightSelected(),this.options.date.selected=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),i),this._highlightSelected(),this._updateInput()}}},{key:"_buildCalendar",value:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,this.$daysAll.removeClass("hidden");var s=31-t,n=i,o=9-s-n;this.$daysPrev.slice(o+n,this.$daysPrev.length).addClass("hidden"),this.$daysPrev.slice(0,o).addClass("hidden"),this.$daysCurrent.slice(e,this.$daysCurrent.lenght).addClass("hidden"),o=(e+i)%7,this.$daysNext.slice(0===o?0:7-o).addClass("hidden")}},{key:"_highlightDay",value:function(t,e){if(t&&t.getFullYear()===this.options.date.current.getFullYear()){var i=t.getMonth()-this.options.date.current.getMonth();switch(i){case-1:return this.$daysPrev.eq(t.getDate()-23).addClass(e);case 0:return this.$daysCurrent.eq(t.getDate()-1).addClass(e);case 1:return this.$daysNext.eq(t.getDate()-1).addClass(e)}}return!1}},{key:"_unhighlightSelected",value:function(){this.$daySelected&&this.$daySelected.removeClass(this.options.classes.selected)}},{key:"_highlightSelected",value:function(){this.$daySelected=this._highlightDay(this.options.date.selected,this.options.classes.selected)}},{key:"_unhighlightToday",value:function(){this.$dayToday&&this.$dayToday.removeClass(this.options.classes.today)}},{key:"_highlightToday",value:function(){this.$dayToday=this._highlightDay(this.options.date.today,this.options.classes.today)}},{key:"_updateTitle",value:function(){this.$navigationTitle.html(this.options.names.months[this.options.date.current.getMonth()]+" "+this.options.date.current.getFullYear())}},{key:"_updateInput",value:function(){this.options.date.selected&&this.$input.val(this._exportDate(this.options.date.selected)).change()}},{key:"_exportDate",value:function(t){switch(this.options.format.type){case"YYYYMMDD":return[t.getFullYear(),parseInt(t.getMonth(),10)+1,t.getDate()].join(this.options.format.separator);default:return t.toUTCString()}}},{key:"_importDate",value:function(t){if(!e.isString(t))return new Date(t);switch(this.options.format.type){case"YYYYMMDD":var i=t.split(this.options.format.separator);return new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2]));default:return new Date(t)}}},{key:"_refresh",value:function(){this._unhighlightSelected(),this._unhighlightToday(),this._buildCalendar(),this._highlightSelected(),this._highlightToday(),this._updateTitle(),this._trigger("refresh",this.options.date)}},{key:"get",value:function(t){return t&&this.options.date.selected?this._exportDate(this.options.date.selected):this.options.date.selected}},{key:"set",value:function(t){t=this._importDate(t),e.isNaN(t.valueOf())||this.options.date.selected&&t.getTime()===this.options.date.selected.getTime()||(this.options.date.selected=t,this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?(this._unhighlightSelected(),this._highlightSelected()):(this.options.date.current.setFullYear(this.options.date.selected.getFullYear()),this.options.date.current.setMonth(this.options.date.selected.getMonth()),this._refresh()),this._updateInput(),this._trigger("change",this.options.date))}},{key:"navigateMonth",value:function(t){t&&(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this._refresh())}},{key:"prevMonth",value:function(){this.navigateMonth(-1)}},{key:"nextMonth",value:function(){this.navigateMonth(1)}}]),s}(Svelto.Widget);Svelto.Datepicker=r,Svelto.Datepicker.config=o,t.factory(Svelto.Datepicker)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=!1,r={name:"draggable",options:{draggable:e["true"],onlyHandlers:!1,revertable:!1,axis:!1,$proxy:!1,proxyWithoutMotion:!0,constrainer:{$element:!1,constrainCenter:!1,tollerance:{x:0,y:0}},modifiers:{x:e["true"],y:e["true"]},classes:{dragging:"dragging"},selectors:{handler:".draggable-handler"},callbacks:{start:function(){},move:function(){},end:function(){}}}},a=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".draggable").draggable(),t.filter(".draggable").draggable()}},{key:"_variables",value:function(){this.draggable=this.element,this.$draggable=this.$element,this.$handlers=this.options.onlyHandlers?this.$draggable.find(this.options.selectors.handler):this.$draggable}},{key:"_events",value:function(){this._on(this.$handlers,Pointer.down,this.__down),this.options.$proxy&&this._on(this.options.$proxy,Pointer.down,this.__down)}},{key:"_centerToPoint",value:function(t,e){var i=this.$draggable.offset(),s={X:t.X-(i.left+this.$draggable.outerWidth()/2),Y:t.Y-(i.top+this.$draggable.outerHeight()/2)};return this._actionMove(s,e)}},{key:"_actionMove",value:function(t,i){var s={X:this.proxyXY?this.proxyXY.X:this.initialXY.X,Y:this.proxyXY?this.proxyXY.Y:this.initialXY.Y};if(this.motion===!1){if(this.motion=!0,this.options.constrainer.$element){var n=this.options.constrainer.$element.offset(),o=this.$draggable.offset();if("y"!==this.options.axis){var r=this.options.constrainer.constrainCenter?this.$draggable.outerWidth()/2:0;this.translateX_min=n.left-(o.left-s.X)-r,this.translateX_max=n.left+this.options.constrainer.$element.outerWidth()-(o.left-s.X+this.$draggable.outerWidth())+r}if("x"!==this.options.axis){var a=this.options.constrainer.constrainCenter?this.$draggable.outerHeight()/2:0;this.translateY_min=n.top-(o.top-s.Y)-a,this.translateY_max=n.top+this.options.constrainer.$element.outerHeight()-(o.top-s.Y+this.$draggable.outerHeight())+a}}i||($html.addClass(this.options.classes.dragging),this.$draggable.addClass(this.options.classes.dragging))}var l=s.X,h=s.Y;"y"!==this.options.axis&&(l+=t.X,this.options.constrainer.$element&&(l=e.clamp(this.translateX_min-this.options.constrainer.tollerance.x,l,this.translateX_max+this.options.constrainer.tollerance.x))),"x"!==this.options.axis&&(h+=t.Y,this.options.constrainer.$element&&(h=e.clamp(this.translateY_min-this.options.constrainer.tollerance.y,h,this.translateY_max+this.options.constrainer.tollerance.y)));var c={X:this.options.modifiers.x(l),Y:this.options.modifiers.y(h)},u={X:e.isBoolean(c.X)?c.X?l:s.X:c.X,Y:e.isBoolean(c.Y)?c.Y?h:s.Y:c.Y};return this.$draggable.translate(u.X,u.Y),u}},{key:"__down",value:function(e){!o&&this.options.draggable()&&(e.preventDefault(),o=!0,this.motion=!1,this.startXY=t.eventXY(e),this.initialXY=this.$draggable.translate(),this.isProxyed=this.options.$proxy&&e.currentTarget===this.options.$proxy[0],this.proxyXY=!1,this._trigger("start",{event:e,draggable:this.draggable,initialXY:this.initialXY}),this._on($document,Pointer.move,this.__move),this._on($document,Pointer.up,this.__up),this._on($document,Pointer.cancel,this.__cancel))}},{key:"__move",value:function(e){if(this.isProxyed&&this.motion===!1){this._centerToPoint(this.startXY);this.proxyXY=this.$draggable.translate()}var i=t.eventXY(e),s={X:i.X-this.startXY.X,Y:i.Y-this.startXY.Y},n=this._actionMove(s);this._trigger("move",{event:e,draggable:this.draggable,initialXY:this.initialXY,moveXY:n})}},{key:"__up",value:function(e){var i=this.initialXY;if(this.motion===!0)$html.removeClass(this.options.classes.dragging),this.$draggable.removeClass(this.options.classes.dragging),this.options.revertable?this.$draggable.translate(this.initialXY.X,this.initialXY.Y):i=this.$draggable.translate();else if(this.isProxyed&&this.options.proxyWithoutMotion&&(!e.button||e.button===UI.mouseButton.LEFT)){var s=t.eventXY(e);i=this._centerToPoint(s,!0)}o=!1,this._off($document,Pointer.move,this.__move),this._off($document,Pointer.up,this.__up),this._off($document,Pointer.cancel,this.__cancel),this._trigger("end",{event:e,draggable:this.draggable,initialXY:this.initialXY,endXY:i,motion:this.motion})}},{key:"__cancel",value:function(){o=!1,this._off($document,Pointer.move,this.__move),this._off($document,Pointer.up,this.__up),this._off($document,Pointer.cancel,this.__cancel)}}]),s}(Svelto.Widget);Svelto.Draggable=a,Svelto.Draggable.config=r,t.factory(Svelto.Draggable)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.fn.matrix=function(t){if(t)return this.css("transform","matrix("+t.join(",")+")"),this;var e=this.css("transform");return e&&"none"!==e?e.match(/[0-9., e-]+/)[0].split(", ").map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]};for(var o=["scaleX","skewY","skewX","scaleY","translateX","translateY"],r=0,a=o.length;a>r;r++)t.fn[o[r]]=function(t){return function(i){var s=this.matrix();return e.isUndefined(i)?s[t]:(s[t]=i,this.matrix(s))}}(r);t.fn.translate=function(t,i){var s=this.matrix();return e.isUndefined(t)||e.isUndefined(i)?{X:s[4],Y:s[5]}:(s[4]=t,s[5]=i,this.matrix(s))}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=function(t){return"left"===t||"right"===t},r=function(t){return!o(t)},a=function(t){var e={top:"bottom",bottom:"top",left:"right",right:"left"};return e[t]};t.fn.positionate=function(i){i=e.merge({direction:!1,axis:!1,$anchor:!1,$pointer:!1,point:!1,spacing:0,ranks:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},callbacks:{change:e.noop}},i),this.removeClass("positionate-top positionate-bottom positionate-left positionate-right");var s=e.unique(e.union(i.direction?[i.direction]:[],i.axis?i.ranks[i.axis]:[],i.ranks.all)),n=$window.width(),o=$window.height(),l=this.getRect(),h=i.$anchor?i.$anchor.getRect():{top:i.point.y,bottom:i.point.y,left:i.point.x,right:i.point.x,width:0,height:0},c=s.map(function(t){switch(t){case"top":return h.top;case"bottom":return o-h.bottom;case"left":return h.left;case"right":return n-h.right}});c.forEach(function(t,i){if(0>t){var n=a(s[i]),o=s.indexOf(n);e.move(s,o,0),e.move(c,o,0)}});var u=s.map(function(t,e){switch(t){case"top":case"bottom":return Math.min(l.height,c[e])*Math.min(n,l.width);case"left":case"right":return Math.min(l.width,c[e])*Math.min(o,l.height)}}),p=u.indexOf(e.max(u)),d=s[p],v=void 0;switch(d){case"top":case"bottom":v={top:"top"===d?h.top-l.height-i.spacing:h.bottom+i.spacing,left:h.left+h.width/2-l.width/2};break;case"left":case"right":v={top:h.top+h.height/2-l.height/2,left:"left"===d?h.left-l.width-i.spacing:h.right+i.spacing}}if(i.$anchor){var f=c[p],g=r(d)?o>=f:n>=f;g&&(v.top=e.clamp(i.spacing,v.top,o-l.height-i.spacing),v.left=e.clamp(i.spacing,v.left,n-l.width-i.spacing))}var m={coordinates:v,direction:d,oppositeDirection:a(d)},_=void 0,y=void 0,b=void 0;if(i.$anchor&&i.$pointer&&(_=e.isFunction(i.$pointer)?i.$pointer(m):i.$pointer,_ instanceof t))switch(d){case"top":case"bottom":y="translateX",b=h.left-v.left+h.width/2;break;case"left":case"right":y="translateY",b=h.top-v.top+h.height/2}return this.translate(v.left,v.top),this.addClass("positionate-"+d),i.$anchor&&i.$pointer&&_ instanceof t&&_[y](b),i.callbacks.change(m),this}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=void 0,r={},a=function(t){var i="";for(var s in t){if(i+=s+"{",e.isString(t[s]))i+=t[s];else for(var n in t[s])i+=n+":"+t[s][n]+";";i+="}"}return i},l=function(){var t=a(r);o.html(t)};t.pseudoCSS=function(t,i,s){if(e.isString(i))r[t]=i;else{var n=e.isUndefined(s)?i:{property:s};r[t]=e.merge(e.isString(r[t])?{}:r[t]||{},n)}l()},t(function(){o=t("<style />").appendTo($head)})}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={},r=0,a={name:"dropdown",options:{hover:{triggerable:!1,delays:{open:750,close:250}},spacing:{attached:0,noTip:7,normal:14},datas:{element:"dropdown"},classes:{noTip:"no-tip",attached:"attached",moving:"moving",open:"open"},selectors:{closer:".dropdown-closer",trigger:".dropdown-trigger"},callbacks:{beforeopen:function(){},open:function(){},close:function(){}}}},l=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".dropdown").dropdown(),t.filter(".dropdown").dropdown()}},{key:"_variables",value:function(){this.$dropdown=this.$element,this.$closers=this.$dropdown.find(this.options.selectors.closer),this.id=this.$dropdown.attr("id"),this.$triggers=t(this.options.selectors.trigger+"[data-"+this.options.datas.element+'="'+this.id+'"]'),this.hasTip=!this.$dropdown.hasClass(this.options.classes.noTip),this.isAttached=this.$dropdown.hasClass(this.options.classes.attached),this._isOpen=!1}},{key:"_events",value:function(){this._on(this.$triggers,Pointer.tap,this.toggle),this._on(this.$closers,Pointer.tap,this.close),this.options.hover.triggerable&&this._on(this.$triggers,Pointer.enter,this.__hoverTriggerEnter)}},{key:"__hoverTriggerEnter",value:function(e){this._isOpen||(this._isHoverOpen=!1,this._hoverTrigger=e.currentTarget,this._hoverOpenTimeout=this._delay(this.__hoverOpen,this.options.hover.delays.open),this._one(t(e.currentTarget),Pointer.leave,this.__hoverTriggerLeave))}},{key:"__hoverOpen",value:function(){this._isOpen||(this.open(!1,this._hoverTrigger),this._isHoverOpen=!0,this._hoverOpenTimeout=!1)}},{key:"__hoverTriggerLeave",value:function(t){this._hoverOpenTimeout&&(clearTimeout(this._hoverOpenTimeout),this._hoverOpenTimeout=!1),this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close),this._on(Pointer.enter,this.__hoverDropdownEnter))}},{key:"__hoverClose",value:function(){this._isHoverOpen&&(this.close(),this._isHoverOpen=!1,this._hoverCloseTimeout=!1),this._off(Pointer.enter,this.__hoverDropdownEnter)}},{key:"__hoverDropdownEnter",value:function(){this._hoverCloseTimeout&&(clearTimeout(this._hoverCloseTimeout),this._hoverCloseTimeout=!1),this._isHoverOpen&&this._one(Pointer.leave,this.__hoverDropdownLeave)}},{key:"__hoverDropdownLeave",value:function(){this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close))}},{key:"_bindWindowResizeScroll",value:function(){this._on($window,"resize scroll",this._update)}},{key:"_unbindWindowResizeScroll",value:function(){this._off($window,"resize scroll",this._update)}},{key:"_bindWindowTap",value:function(){this._on($window,Pointer.tap,this.__windowTap)}},{key:"_unbindWindowTap",value:function(){this._off($window,Pointer.tap,this.__windowTap)}},{key:"__windowTap",value:function(e){var i=t.eventXY(e),s=this.$dropdown.getRect();(i.X<s.left||i.X>s.right||i.Y<s.top||i.Y>s.bottom)&&this.close()}},{key:"_positionate",value:function(){var e=t(o[this.id]),i=t("<div>"),s=e.hasClass(this.options.classes.noTip)||!this.hasTip||this.isAttached;this.$dropdown.positionate({$anchor:e,$pointer:s?!1:i,spacing:this.isAttached?this.options.spacing.attached:s?this.options.spacing.noTip:this.options.spacing.normal,callbacks:{change:function(t){e.addClass("dropdown-trigger-"+t.direction)}}}),s||t.pseudoCSS("#"+this.id+":before",i.attr("style").slice(0,-1)+" rotate(45deg)")}},{key:"_update",value:function(){this._isOpen&&this._positionate()}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t){this[this._isOpen&&o[this.id]===t.currentTarget?"close":"open"](t,t.currentTarget)}},{key:"open",value:function(e,i){this._isOpen||(i=i||e.currentTarget,i&&(t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right "+this.options.classes.open),this._isOpen&&o[this.id]!==i&&this.$dropdown.addClass(this.options.classes.moving),o[this.id]=i,t(i).addClass(this.options.classes.open)),this._trigger("beforeopen"),this._positionate(),this.$dropdown.addClass(this.options.classes.open),this._isOpen=!0,r+=1,this._delay(this._bindWindowTap),this._bindWindowResizeScroll(),this._trigger("open"))}},{key:"close",value:function(){this._isOpen&&(t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right "+this.options.classes.open),this.$dropdown.removeClass(this.options.classes.open+" "+this.options.classes.moving),this._isOpen=!1,r-=1,0===r&&(this._unbindWindowTap(),this._unbindWindowResizeScroll()),this._trigger("close"))}}]),i}(Svelto.Widget);Svelto.Dropdown=l,Svelto.Dropdown.config=a,t.factory(Svelto.Dropdown)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"droppable",selector:"*",callbacks:{drop:function(){}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".droppable").droppable(),t.filter(".droppable").droppable()}},{key:"_variables",value:function(){this.$droppable=this.$element}},{key:"_events",value:function(){this._on($document,"draggable:end",this.__dragEnd)}},{key:"__dragEnd",value:function(e,i){var s=t(i.draggable);if(s.is(this.options.selector)){var n=this.$droppable.getRect(),o=t.eventXY(i.event),r={X:o.X-$window.scrollTop(),Y:o.Y-$window.scrollLeft()};r.X>=n.left&&r.X<=n.right&&r.Y>=n.top&&r.Y<=n.bottom&&this._trigger("drop",{draggable:i.draggable,droppable:this.element})}}}]),i}(Svelto.Widget);Svelto.Droppable=r,Svelto.Droppable.config=o,t.factory(Svelto.Droppable)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"flippable",options:{classes:{flip:"flipped"},selectors:{front:".flippable-front",back:".flippable-back",flipper:".flippable-trigger"},callbacks:{front:function(){},back:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".flippable").flippable(),t.filter(".flippable").flippable()}},{key:"_variables",value:function(){this.$flippable=this.$element,this.$front=this.$flippable.find(this.options.selectors.front),this.$back=this.$flippable.find(this.options.selectors.back),this.$flippers=this.$flippable.find(this.options.selectors.flipper),this.isFlipped=this.$flippable.hasClass(this.options.classes.flip)}},{key:"_events",value:function(){this._on(this.$flippers,Pointer.tap,this.flip)}},{key:"flip",value:function(t){e.isBoolean(t)||(t=!this.isFlipped),t!==this.isFlipped&&(this.isFlipped=t,this.$flippable.toggleClass(this.options.classes.flip,this.isFlipped),this._trigger(this.isFlipped?"back":"front"))}},{key:"front",value:function(){this.flip(!1)}},{key:"back",value:function(){this.flip(!0)}}]),i}(Svelto.Widget);Svelto.Flippable=r,Svelto.Flippable.config=o,t.factory(Svelto.Flippable)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"spinnerOverlay",templates:{overlay:'<div class="overlay spinner-overlay {%=(o.dimmer ? "dimmer" : "")%} {%=(o.blurrer ? "blurrer" : "")%}">{% if ( o.labeled ) { %}<div class="spinner-label {%=(o.multicolor ? "" : o.colors.labeled)%}">{% } %}<svg class="spinner {%=(o.multicolor ? "multicolor" : ( o.labeled ? "" : o.colors.unlabeled ))%}"><circle cx="1.625em" cy="1.625em" r="1.25em" /></svg>{% if ( o.labeled ) { %}</div>{% } %}</div>'},options:{labeled:!0,dimmer:!1,blurrer:!1,multicolor:!1,colors:{labeled:"white",unlabeled:"secondary"},callbacks:{}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".spinner-overlay").spinnerOverlay(),t.filter(".spinner-overlay").spinnerOverlay()}},{key:"_variables",value:function(){this.$overlayed=this.$element,this.$overlay=t(this._tmpl("overlay",this.options)).prependTo(this.$overlayed),this.overlay=this.$overlay.overlay("instance")}},{key:"isOpen",value:function(){return this.overlay.isOpen()}},{key:"toggle",value:function(t){this.overlay.toggle(t)}},{key:"open",value:function(){this.overlay.open()}},{key:"close",value:function(){this.overlay.close()}}]),i}(Svelto.Widget);Svelto.SpinnerOverlay=r,Svelto.SpinnerOverlay.config=o,t.factory(Svelto.SpinnerOverlay)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=[],r={name:"noty",templates:{base:'<div class="noty {%=o.type%} {%=(o.type !== "action" ? "actionable" : "")%} {%=o.color%} {%=o.css%}"><div class="infobar">{% if ( o.img ) { %}<img src="{%=o.img%}" class="noty-img infobar-left" />{% } %}{% if ( o.title || o.body ) { %}<div class="infobar-center">{% if ( o.title ) { %}<p class="infobar-title">{%#o.title%}</p>{% } %}{% if ( o.body ) { %}{%#o.body%}{% } %}</div>{% } %}{% if ( o.buttons.length === 1 ) { %}<div class="infobar-right">{% include ( "noty.button", o.buttons[0] ); %}</div>{% } %}</div>{% if ( o.buttons.length > 1 ) { %}<div class="noty-buttons multiple centered">{% for ( var i = 0; i < o.buttons.length; i++ ) { %}{% include ( "noty.button", o.buttons[i] ); %}{% } %}</div>{% } %}</div>',button:'<div class="button {%=(o.color || "white")%} {%=(o.size || "small")%} {%=(o.css || "")%}">{%#(o.text || "")%}</div>'},options:{anchor:{y:"bottom",x:"left"},title:!1,body:!1,img:!1,buttons:[],type:"alert",color:"black",css:"",persistent:!1,ttl:3500,autoplay:!0,timerMinimumRemaining:1e3,classes:{open:"open"},selectors:{button:".noty-buttons .button, .infobar-right .button"},animations:{remove:UI.animation.normal},callbacks:{open:function(){},close:function(){}}}};t.noty=function(t){return t=e.isString(t)?{body:t}:t||{},t.buttons&&(t.type="action"),new Svelto.Noty(t)};var a=function(s){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,s),_createClass(n,[{key:"_widgetize",value:function(t){t.find(".noty").noty(),t.filter(".noty").noty()}},{key:"_variables",value:function(){this.$noty=this.$element,this.$buttons=this.$noty.find(this.options.selectors.button),this.timer=!1,this._isOpen=!1,this.neverOpened=!0}},{key:"_init",value:function(){this.options.autoplay&&this.open()}},{key:"___tap",value:function(){"action"!==this.options.type&&this._on(Pointer.tap,this.close)}},{key:"___buttonTap",value:function(){e.each(this.options.buttons,function(t,e){this._on(this.$buttons.eq(e),Pointer.tap,function(i,s){t.onClick&&t.onClick.apply(this.$buttons[e],[i,s])===!1||this.close()})},this)}},{key:"___timer",value:function(){"action"!==this.options.type&&e.isNumber(this.options.ttl)&&this.options.ttl!==1/0&&(this.timer=new Timer(this.close.bind(this),this.options.ttl,!0),o.push(this.timer))}},{key:"___hover",value:function(){var t=this;this.$noty.hover(function(){o.forEach(function(t){return t.pause()})},function(){o.forEach(function(e){e.remaining(Math.max(t.options.timerMinimumRemaining,e.remaining()||0)),e.play()})})}},{key:"___flick",value:function(){"action"!==this.options.type&&this._on(Pointer.flick,function(t,e){"horizontal"===e.orientation&&this.close()})}},{key:"___persistent",value:function(){this.options.persistent||(console.log("initing persistent, url:",this._openUrl),this._on($window,"route",function(t,e){console.log("data.url:",e.url),console.log("this._openUrl:",this._openUrl),e.url!==this._openUrl&&(console.log("then closing"),this.close())}))}},{key:"__keydown",value:function(t){t.keyCode===UI.keyCode.ESCAPE&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}},{key:"isOpen",value:function(){return this._isOpen}},{key:"open",value:function(){var e=this;this._isOpen||(this._frame(function(){t(".noty-queues."+e.options.anchor.y+" .noty-queue."+e.options.anchor.x).append(e.$noty),e._frame(function(){e.$noty.addClass(e.options.classes.open)})}),this._defer(function(){this._openUrl=i.location.href.split("#")[0]}),this.neverOpened&&(this.___tap(),this.___flick(),this.___buttonTap(),this.___hover(),this.___persistent(),this.neverOpened=!1),this.___timer(),this._on($document,"keydown",this.__keydown),this._isOpen=!0,this._trigger("open"))}},{key:"close",value:function(){this._isOpen&&(this.$noty.removeClass(this.options.classes.open),this._delay(function(){this.$noty.detach()},this.options.animations.remove),this.timer&&(e.pull(o,this.timer),this.timer.stop()),this._off($document,"keydown",this.__keydown),this._isOpen=!1,this._trigger("close"))}}]),n}(Svelto.Widget);Svelto.Noty=a,Svelto.Noty.config=r,t.factory(Svelto.Noty),t(function(){$body.append('<div class="noty-queues top"><div class="noty-queue expanded"></div><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div></div><div class="noty-queues bottom"><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div><div class="noty-queue expanded"></div></div>')})}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"formValidate",options:{validators:{alpha:function(t){var e=/^[a-zA-Z]+$/;return t.match(e)?!0:"Only alphabetical characters are allowed"},alphanumeric:function(t){var e=/^([a-zA-Z0-9]+)$/;return t.match(e)?!0:"Only alphanumeric characters are allowed"},hexadecimal:function(t){var e=/^[0-9a-fA-F]+$/;return t.match(e)?!0:"Only hexadecimal characters are allowed"},number:function(t){var e=/^-?[0-9]+$/;return t.match(e)?!0:"Only numbers are allowed"},integer:function(t){var e=/^(?:-?(?:0|[1-9][0-9]*))$/;return t.match(e)?!0:"Only integers numbers are allowed"},"float":function(t){var e=/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;return t.match(e)?!0:"Only floating point numbers are allowed"},min:function(t,e){return Number(t)>=Number(e)?!0:"The number must be at least "+e},max:function(t,e){return Number(t)<=Number(e)?!0:"The number must be at maximum "+e},range:function(t,e,i){return t=Number(t),t>=Number(e)&&t<=Number(i)?!0:"The number must be between "+e+" and "+i},minLength:function(t,e){return t.trim().length>=Number(e)?!0:"The lenght must be at least "+e},maxLength:function(t,e){return t.trim().length<=Number(e)?!0:"The lenght must be at maximum "+e;
},rangeLength:function(t,e,i){return t=t.trim(),t.length>=Number(e)&&t.length<=Number(i)?!0:"The length must be between "+e+" and "+i},exactLength:function(t,e){return t.trim().length===Number(e)?!0:"The length must be exactly "+e},email:function(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return t.match(e)?!0:"Enter a valid email address"},cc:function(t){var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;return t.match(e)?!0:"Enter a valid credit card number"},ssn:function(t){var e=/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/;return t.match(e)?!0:"Enter a valid Social Security Number"},ipv4:function(t){var e=/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/;return t.match(e)?!0:"Enter a valid IPv4 address"},url:function(t){var e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i;return t.match(e)?!0:"Enter a valid URL"},required:function(t){return t.trim().length>0?!0:"This field is required"},matches:function a(t){var a=e.slice(arguments,1);return-1!==a.indexOf(t.toLowerCase())?!0:"This value is not allowed"},matchesField:function(t,i){var s=e.find(this,{name:i}).value;return t===s?!0:"The two fields don't match"}},characters:{separators:{validations:"|",arguments:","}},regexes:{validation:/^([^\[]+)(?:\[(.*)\])?$/},datas:{validations:"validations"},classes:{disabled:"disabled",invalid:"invalid",valid:"valid"},selectors:{element:"input, textarea, select",wrapper:".button.checkbox, .button.radio, .select-btn, .slider, .switch, .datepicker, .colorpicker",submitter:'input[type="submit"], button[type="submit"]'},callbacks:{}}},r=function(i){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,Object.getPrototypeOf(o).apply(this,arguments))}return _inherits(o,i),_createClass(o,[{key:"_widgetize",value:function(t){t.find("[data-validations]").parents("form").formValidate()}},{key:"_variables",value:function(){this.$form=this.$element,this.$elements=this.$element.find(this.options.selectors.element),this.$submitters=this.$element.find(this.options.selectors.submitter),this._isValid=n,this.isDirty=!0,this.___elements()}},{key:"_events",value:function(){this._on(this.$elements,"change",this.__change),this._on(this.$elements,"focus",this.__focus),this._on(this.$elements,"blur",this.__blur),this._on("submit",this.__submit)}},{key:"___elements",value:function(){this.elements={};var i=!0,s=!1,o=n;try{for(var r,a=this.$elements[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var l=r.value,h=t(l),c=l.name,u=h.data(this.options.datas.validations),p=!1;if(u){p={};var d=u.split(this.options.characters.separators.validations),v=!0,f=!1,g=n;try{for(var m,_=d[Symbol.iterator]();!(v=(m=_.next()).done);v=!0){var y=m.value,b=y.match(this.options.regexes.validation);if(b){var k=b[1],$=b[2]?b[2].split(this.options.characters.separators.arguments):[],w=this.options.validators[k];w&&(p[k]={args:$,validator:w})}}}catch(C){f=!0,g=C}finally{try{!v&&_["return"]&&_["return"]()}finally{if(f)throw g}}0===e.size(p)&&(p=!1)}var S=h.parents(this.options.selectors.wrapper);this.elements[c]={$element:h,$wrapper:S.length>0?S.first():h,name:c,dirty:!1,value:h.val(),validations:p,isValid:n}}}catch(C){s=!0,o=C}finally{try{!i&&a["return"]&&a["return"]()}finally{if(s)throw o}}}},{key:"__change",value:function(t){this.isDirty=!0;var e=this.elements[t.currentTarget.name];e.dirty=!0,e.isValid!==n&&(e.isValid=n,this.__indeterminate(e));for(var i in this.elements){var o=this.elements[i];o.validations&&o.validations.matchesField&&-1!==o.validations.matchesField.args.indexOf(e.name)&&this.__indeterminate(o)}s.activeElement!==e.$element[0]&&this._validateWorker(e)}},{key:"__focus",value:function(t){var e=this.elements[t.currentTarget.name];e.isValid=n,this.__indeterminate(e)}},{key:"__blur",value:function(t){var e=this.elements[t.currentTarget.name];this._validateWorker(e)}},{key:"__submit",value:function(t){this.isValid()||(t.preventDefault(),t.stopImmediatePropagation())}},{key:"_validateWorker",value:function(t){if(t.isValid===n){var e=this._validate(t),i=e===!0;t.isValid=i,i?this.__valid(t):this.__invalid(t,e)}}},{key:"_validate",value:function(t){var i={},s=t.validations;if(t.dirty&&(t.value=t.$element.val(),t.dirty=!1),s)for(var n in s){var o=s[n],r=o.validator.apply(this.elements,[t.value].concat(o.args));r!==!0&&(i[n]=e.isString(r)?r:"This value is not valid")}var a=0===e.size(i);return a?!0:i}},{key:"__indeterminate",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid+" "+this.options.classes.valid)}},{key:"__valid",value:function(t){t.$wrapper.removeClass(this.options.classes.invalid).addClass(this.options.classes.valid)}},{key:"__invalid",value:function(t,e){t.$wrapper.removeClass(this.options.classes.valid).addClass(this.options.classes.invalid)}},{key:"isValid",value:function(){if(this.isDirty){for(var t in this.elements){var e=this.elements[t];e.isValid===n&&this._validateWorker(e)}for(var t in this.elements){var e=this.elements[t];if(e.isValid===!1)return this._isValid=!1,this.isDirty=!1,this._isValid}this._isValid=!0,this.isDirty=!1}return this._isValid}}]),o}(Svelto.Widget);Svelto.FormValidate=r,Svelto.FormValidate.config=o,t.factory(Svelto.FormValidate)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"formAjax",options:{spinnerOverlay:!0,callbacks:{beforesend:function(){},complete:function(){}}}},r=function(e){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,e),_createClass(s,[{key:"_widgetize",value:function(t){t.find("form.ajax").formAjax(),t.filter("form.ajax").formAjax()}},{key:"_variables",value:function(){this.$form=this.$element,this.form=this.element}},{key:"_events",value:function(){this._on(!0,"submit",this.__submit)}},{key:"__submit",value:function(e){var s=this;e.preventDefault(),e.stopImmediatePropagation(),this.$form.formValidate("isValid")?t.ajax({cache:!1,contentType:!1,data:new FormData(this.form),dataType:"JSON",processData:!1,type:this.$form.attr("method")||"POST",url:this.$form.attr("action"),beforeSend:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("show"),s._trigger("beforesend")},error:function(e){t.noty("An error occurred, please try again later")},success:function(e){e.refresh||e.url===i.location.href||e.url===i.location.pathname?(t.noty("Done! Refreshing the page..."),location.reload()):e.url?(t.noty("Done! Redirecting..."),location.assign(e.url)):t.noty(e.msg||"Done! A page refresh may be needed")},complete:function(){s.options.spinnerOverlay&&s.$form.spinnerOverlay("hide"),s._trigger("complete")}}):t.noty("The form has some errors, fix them before sending it")}}]),s}(Svelto.Widget);Svelto.FormAjax=r,Svelto.FormAjax.config=o,t.factory(Svelto.FormAjax)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=[],r={name:"formSync",options:{attributes:{name:"name"},datas:{group:"sync-group"},selectors:{form:"form",elements:"input, textarea, select",checkable:'[type="radio"], [type="checkbox"]',radio:'[type="radio"]',checkbox:'[type="checkbox"]',textfield:"input, textarea"}}},a=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find("form[data-sync-group]").formSync(),t.filter("form[data-sync-group]").formSync()}},{key:"_variables",value:function(){this.$form=this.$element,this.group=this.$form.data(this.options.datas.group),this.isNewGroup=-1===o.indexOf(this.group)}},{key:"_init",value:function(){this.isNewGroup&&(o.push(this.group),this.___syncer())}},{key:"___syncer",value:function(){var e=this,i=t(this.options.selectors.form+"[data-"+this.options.datas.group+'="'+this.group+'"]'),s=i.find(this.options.selectors.elements),o=!0,r=!1,a=n;try{for(var l,h=function(){var s=l.value,o=t(s),r=o.attr(e.options.attributes.name),a=o.is(e.options.selectors.checkable),h=a&&o.is(e.options.selectors.radio),c=o.is(e.options.selectors.textfield),u=c?"input change":"change",p=o.parents(e.options.selectors.form),d=i.not(p),v=d.find("["+e.options.attributes.name+'="'+r+'"]');o.on(u,function(){var e=o.val(),i=!!o.prop("checked"),s=!0,r=!1,l=n;try{for(var c,u=v[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value,d=t(p),f=d.val(),g=!!d.prop("checked");if(h){if(e!==f||i===g)return}else if(e===f&&i===g)return;a?d.prop("checked",i).trigger("change"):d.val(e).trigger("change")}}catch(m){r=!0,l=m}finally{try{!s&&u["return"]&&u["return"]()}finally{if(r)throw l}}})},c=s[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)h()}catch(u){r=!0,a=u}finally{try{!o&&c["return"]&&c["return"]()}finally{if(r)throw a}}}}]),i}(Svelto.Widget);Svelto.FormSync=a,Svelto.FormSync.config=r,t.factory(Svelto.FormSync)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){i.Pointer={options:{events:{prefix:"pointer"},press:{duration:300},dbltap:{interval:300},flick:{duration:150,threshold:5}}};var o={tap:Pointer.options.events.prefix+"tap",dbltap:Pointer.options.events.prefix+"dbltap",press:Pointer.options.events.prefix+"press",flick:Pointer.options.events.prefix+"flick",down:t.browser.is.touchDevice?"touchstart":"mousedown",move:t.browser.is.touchDevice?"touchmove":"mousemove",up:t.browser.is.touchDevice?"touchend":"mouseup",cancel:t.browser.is.touchDevice?"touchcancel":"mouseleave",over:"mouseover",enter:"mouseenter",out:"mouseout",leave:"mouseleave"},r=function(e){Pointer[e]=o[e],t.fn[e]=function(t){return t?this.on(o[e],t):this.trigger(o[e])}};for(var a in o)r(a);!function(){var e=t(s),i=void 0,n=void 0,o=void 0,r=void 0,a=void 0,l=0,h=void 0,c=void 0,u=void 0,p=function(e,i){var s=t.Event(e);return s.originalEvent=i,s},d=function(e){i=e.target,n=t(i),o=e,r=e.timeStamp||Date.now(),h=!1,u=setTimeout(v,Pointer.options.press.duration),n.on(Pointer.move,f),n.one(Pointer.up,g),n.one(Pointer.cancel,m)},v=function(){n.trigger(p(Pointer.press,o)),u=!1},f=function _(e){h||(u&&(clearTimeout(u),u=!1),h=!0,t.browser.is.touchDevice||n.off(Pointer.move,_)),c=e},g=function(e){if(u&&clearTimeout(u),a=e.timeStamp||Date.now(),h&&a-r<=Pointer.options.flick.duration){var i=t.eventXY(o),s=t.eventXY(t.browser.is.touchDevice?c:e),d={X:s.X-i.X,Y:s.Y-i.Y},v={X:Math.abs(d.X),Y:Math.abs(d.Y)};if(v.X>=Pointer.options.flick.threshold||v.Y>=Pointer.options.flick.threshold){var g=void 0,_=void 0;v.X>v.Y?(g="horizontal",_=d.X>0?1:-1):(g="vertical",_=d.Y>0?1:-1),n.trigger(p(Pointer.flick,e),{orientation:g,direction:_,startXY:i,endXY:s})}}t.browser.is.touchDevice&&h||(n.trigger(p(Pointer.tap,e)),a-l<=Pointer.options.dbltap.interval&&n.trigger(p(Pointer.dbltap,e)),l=a),(!h||t.browser.is.touchDevice)&&n.off(Pointer.move,f),n.off(Pointer.cancel,m)},m=function(){u&&clearTimeout(u),(!h||t.browser.is.touchDevice)&&n.off(Pointer.move,f),n.off(Pointer.up,g)};e.on(Pointer.down,d)}()}(Svelto.$,Svelto._,window,document),function(){var t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,n=i.length,o={};n>s;s++)if(t=i[s],t&&t[1]in document){for(s=0,e=t.length;e>s;s++)o[i[0][s]]=t[s];return o}return!1}(),i={request:function s(i){var s=e.requestFullscreen;i=i||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?i[s]():i[s](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:e};return e?(Object.defineProperties(i,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(window.screenfull=i)):void(window.screenfull=!1)}(),function(t,e,i,s,n){t(function(){t(".scroll-to-top").on(Pointer.tap,function(){return $body.add($html).animate({scrollTop:0},UI.animation.normal)})}),t(".fullscreen-toggler").on(Pointer.tap,function(){screenfull.toggle()})}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"infobar",options:{selectors:{closer:".infobar-closer"},callbacks:{close:function(){}}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_widgetize",value:function(t){t.find(".infobar").infobar(),t.filter(".infobar").infobar()}},{key:"_variables",value:function(){this.$infobar=this.$element,this.$closers=this.$infobar.find(this.options.selectors.closer)}},{key:"_events",value:function(){this._on(this.$closers,Pointer.tap,this.close)}},{key:"close",value:function(){this.$infobar.remove(),this._trigger("close")}}]),e}(Svelto.Widget);Svelto.Infobar=r,Svelto.Infobar.config=o,t.factory(Svelto.Infobar)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"modal",options:{attributes:{id:"id"},datas:{element:"modal"},classes:{open:"open"},selectors:{trigger:".modal-trigger",closer:".modal-closer"},animations:{open:UI.animation.normal,close:UI.animation.normal},callbacks:{open:function(){},close:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".modal").modal(),t.filter(".modal").modal()}},{key:"_variables",value:function(){this.modal=this.element,this.$modal=this.$element,this.id=this.$modal.attr(this.options.attributes.id),this.$triggers=t(this.options.selectors.trigger+"[data-"+this.options.datas.element+'="'+this.id+'"]'),this.$closers=this.$modal.find(this.options.selectors.closer),this._isOpen=this.$modal.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._on(Pointer.tap,this.__tap),this._on(this.$triggers,Pointer.tap,this.open),this._on(this.$closers,Pointer.tap,this.close)}},{key:"__tap",value:function(t){t.target===this.modal&&this.close()}},{key:"__keydown",value:function(t){t.keyCode===UI.keyCode.ESCAPE&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t){e.isBoolean(t)||(t=!this._isOpen),t!==this._isOpen&&(this._isOpen=t,this.$modal.toggleClass(this.options.classes.open,this._isOpen),this[this._isOpen?"_on":"_off"]($document,"keydown",this.__keydown),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),s}(Svelto.Widget);Svelto.Modal=r,Svelto.Modal.config=o,t.factory(Svelto.Modal)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={serializer:JSON.stringify,unserializer:JSON.parse},r=function(){function i(e){_classCallCheck(this,i),this.name=e,this.actions=o.unserializer(t.cookie.get(this.name)||"{}")}return _createClass(i,[{key:"get",value:function(t){return this.actions[t]||0}},{key:"set",value:function(t,i){i=Number(i),e.isNaN(i)||(0===i?this.reset(t):(this.actions[t]=i,this.update()))}},{key:"update",value:function(){t.cookie.set(this.name,o.serializer(this.actions),1/0)}},{key:"reset",value:function(e){e?(delete this.actions[e],this.update()):(this.actions={},t.cookie.remove(this.name))}}]),i}();Svelto.NTA={},Svelto.NTA.Group=r,Svelto.NTA.Group.config=o}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o=function(){function t(e){_classCallCheck(this,t),this.group=new Svelto.NTA.Group(e.group),this.name=e.name}return _createClass(t,[{key:"get",value:function(){return this.group.get(this.name)}},{key:"set",value:function(t){this.group.set(this.name,t)}},{key:"reset",value:function(){this.group.reset(this.name)}}]),t}();Svelto.NTA.Action=o}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.nTimesAction=function(t){if(t=e.merge({group:"nta",action:!1,times:1/0,fn:!1},t),t.times=Number(t.times),e.isNaN(t.times)&&(t.times=0),t.action){var i=new Svelto.NTA.Action({group:t.group,name:t.action}),s=i.get();if(t.fn&&s<t.times){var n=t.fn(t.group,t.action,s+1);n!==!1&&i.set(s+1)}return i}return t.group?new Svelto.NTA.Group(t.group):void 0}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"navbar",options:{flickableRange:20,attributes:{id:"id"},datas:{direction:"direction",element:"navbar"},classes:{open:"open",flickable:"flickable"},selectors:{closer:".navbar-closer",trigger:".navbar-trigger"},callbacks:{open:function(){},close:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".navbar").navbar(),t.filter(".navbar").navbar()}},{key:"_variables",value:function(){this.$navbar=this.$element,this.navbar=this.element,this.id=this.$navbar.attr(this.options.attributes.id),this.$closers=this.$navbar.find(this.options.selectors.closer),this.$triggers=t(this.options.selectors.trigger+"[data-"+this.options.datas.element+'="'+this.id+'"]'),this.direction=this.$navbar.data(this.options.datas.direction),this._isOpen=this.$navbar.hasClass(this.options.classes.open),this.isFlickable=this.$navbar.hasClass(this.options.classes.flickable)}},{key:"_events",value:function(){this._on(Pointer.tap,this.__tap),this._on(this.$triggers,Pointer.tap,this.open),this._on(this.$closers,Pointer.tap,this.close),this._onHover([$document,"keydown",this.__keydown]),this.isFlickable&&this._on($document,Pointer.flick,this.__flick)}},{key:"__tap",value:function(t){t.target===this.navbar&&this.close()}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.ESCAPE:this.close();break;default:return}t.preventDefault(),t.stopImmediatePropagation()}},{key:"__flick",value:function(t,e){if(!this._isOpen)switch(this.direction){case"left":case"right":"horizontal"===e.orientation&&("left"===this.direction?1===e.direction&&e.startXY.X<=this.options.flickableRange&&this.open():"right"===this.direction&&-1===e.direction&&$window.width()-e.startXY.X<=this.options.flickableRange&&this.open());break;case"top":case"bottom":"vertical"===e.orientation&&("top"===this.direction?-1===e.direction&&e.startXY.Y<=this.options.flickableRange&&this.open():"bottom"===this.direction&&1===e.direction&&$window.height()-e.startXY.Y<=this.options.flickableRange&&this.open())}}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t){e.isUndefined(t)&&(t=!this._isOpen),t!==this._isOpen&&(this._isOpen=t,this.$navbar.toggleClass(this.options.classes.open,this._isOpen),this._trigger(this._isOpen?"open":"close"))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),s}(Svelto.Widget);Svelto.Navbar=r,Svelto.Navbar.config=o,t.factory(Svelto.Navbar)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.notification=function(n){n=e.merge({title:!1,body:!1,img:!1},n),!s.hasFocus()&&i.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(e){if("granted"===e){new Notification(n.title,{body:n.body,icon:n.img})}else t.noty(n)}):t.noty(n)}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.oneTimeAction=function(i){return t.nTimesAction(e.merge({group:"ota"},i,{times:1}))}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"overlay",templates:{base:!1},options:{hover:{triggerable:!1,delays:{open:750,close:250}},classes:{open:"open"},selectors:{trigger:".overlay-trigger",closer:".overlay-closer"},callbacks:{open:function(){},close:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".overlay").overlay(),t.filter(".overlay").overlay()}},{key:"_variables",value:function(){this.$overlay=this.$element,this.$overlayed=this.$overlay.parent(),this.$triggers=this.$overlayed.find(this.options.selectors.trigger),this.$closers=this.$overlayed.find(this.options.selectors.closer),this._isOpen=this.$overlay.hasClass(this.options.classes.open)}},{key:"_events",value:function(){this._on(this.$triggers,Pointer.tap,this.open),this._on(this.$closers,Pointer.tap,this.close),this.options.hover.triggerable&&this._on(this.$overlayed,Pointer.enter,this.__hoverEnter)}},{key:"__hoverEnter",value:function(){this._isOpen||(this._isHoverOpen=!1,this._hoverOpenTimeout=this._delay(this.__hoverOpen,this.options.hover.delays.open),this._one(this.$overlayed,Pointer.leave,this.__hoverLeave))}},{key:"__hoverOpen",value:function(){this._isOpen||(this.open(),this._isHoverOpen=!0,this._hoverOpenTimeout=!1)}},{key:"__hoverLeave",value:function(){this._hoverOpenTimeout&&(clearTimeout(this._hoverOpenTimeout),this._hoverOpenTimeout=!1),this._isHoverOpen&&(this._hoverCloseTimeout=this._delay(this.__hoverClose,this.options.hover.delays.close))}},{key:"__hoverClose",value:function(){this._isHoverOpen&&(this.close(),this._isHoverOpen=!1,this._hoverCloseTimeout=!1)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"toggle",value:function(t){var i=this;e.isBoolean(t)||(t=!this._isOpen),t!==this._isOpen&&(this._isOpen=t,this._frame(function(){i.$overlay.toggleClass(i.options.classes.open,i._isOpen),i._trigger(i._isOpen?"open":"close")}))}},{key:"open",value:function(){this.toggle(!0)}},{key:"close",value:function(){this.toggle(!1)}}]),i}(Svelto.Widget);Svelto.Overlay=r,Svelto.Overlay.config=o,t.factory(Svelto.Overlay)}(Svelto.$,Svelto._,window,document);var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=_self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function n(t){var i=e.util.type(t);switch(i){case"Object":var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=e.util.clone(t[s]));return n;case"Array":return t.map&&t.map(function(t){return e.util.clone(t)})}return t}},languages:{extend:function(t,i){var s=e.util.clone(e.languages[t]);for(var n in i)s[n]=i[n];return s},insertBefore:function(t,i,s,n){n=n||e.languages;var o=n[t];if(2==arguments.length){s=arguments[1];for(var r in s)s.hasOwnProperty(r)&&(o[r]=s[r]);return o}var a={};for(var l in o)if(o.hasOwnProperty(l)){if(l==i)for(var r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);a[l]=o[l]}return e.languages.DFS(e.languages,function(e,i){i===n[t]&&e!=t&&(this[e]=a)}),n[t]=a},DFS:function(t,i,s){for(var n in t)t.hasOwnProperty(n)&&(i.call(t,n,t[n],s||n),"Object"===e.util.type(t[n])?e.languages.DFS(t[n],i):"Array"===e.util.type(t[n])&&e.languages.DFS(t[n],i,n))}},plugins:{},highlightAll:function(t,i){for(var s,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;s=n[o++];)e.highlightElement(s,t===!0,i)},highlightElement:function(s,n,o){for(var r,a,l=s;l&&!t.test(l.className);)l=l.parentNode;l&&(r=(l.className.match(t)||[,""])[1],a=e.languages[r]),s.className=s.className.replace(t,"").replace(/\s+/g," ")+" language-"+r,l=s.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+r);var h=s.textContent,c={element:s,language:r,grammar:a,code:h};if(!h||!a)return void e.hooks.run("complete",c);if(e.hooks.run("before-highlight",c),n&&_self.Worker){var u=new Worker(e.filename);u.onmessage=function(t){c.highlightedCode=i.stringify(JSON.parse(t.data),r),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(c.element),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=e.highlight(c.code,c.grammar,c.language),e.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(s),e.hooks.run("after-highlight",c),e.hooks.run("complete",c)},highlight:function(t,s,n){var o=e.tokenize(t,s);return i.stringify(e.util.encode(o),n)},tokenize:function(t,i,s){var n=e.Token,o=[t],r=i.rest;if(r){for(var a in r)i[a]=r[a];delete i.rest}t:for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var l=i[a];l="Array"===e.util.type(l)?l:[l];for(var h=0;h<l.length;++h){var c=l[h],u=c.inside,p=!!c.lookbehind,d=0,v=c.alias;c=c.pattern||c;for(var f=0;f<o.length;f++){var g=o[f];if(o.length>t.length)break t;if(!(g instanceof n)){c.lastIndex=0;var m=c.exec(g);if(m){p&&(d=m[1].length);var _=m.index-1+d,m=m[0].slice(d),y=m.length,b=_+y,k=g.slice(0,_+1),$=g.slice(b+1),w=[f,1];k&&w.push(k);var C=new n(a,u?e.tokenize(m,u):m,v);w.push(C),$&&w.push($),Array.prototype.splice.apply(o,w)}}}}}return o},hooks:{all:{},add:function(t,i){var s=e.hooks.all;s[t]=s[t]||[],s[t].push(i)},run:function(t,i){var s=e.hooks.all[t];if(s&&s.length)for(var n,o=0;n=s[o++];)n(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,s,n){if("string"==typeof t)return t;if("Array"===e.util.type(t))return t.map(function(e){return i.stringify(e,s,t)}).join("");var o={type:t.type,content:i.stringify(t.content,s,n),tag:"span",classes:["token",t.type],attributes:{},language:s,parent:n};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var r="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,r)}e.hooks.run("wrap",o);var a="";for(var l in o.attributes)a+=(a?" ":"")+l+'="'+(o.attributes[l]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+a+">"+o.content+"</"+o.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(t){var i=JSON.parse(t.data),s=i.language,n=i.code,o=i.immediateClose;_self.postMessage(JSON.stringify(e.util.encode(e.tokenize(n,e.languages[s])))),o&&_self.close()},!1),_self.Prism):_self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(e.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/
}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,function(t,e,i,s,n){var o={name:"progressbar",templates:{base:'<div class="progressbar {%=(o.striped ? "striped" : "")%} {%=(o.labeled ? "labeled" : "")%} {%=o.colors.off%} {%=o.size%} {%=o.css%}"><div class="progressbar-highlight {%=o.colors.on%}"></div></div>'},options:{value:0,colors:{on:"",off:""},striped:!1,labeled:!1,decimals:0,size:"",css:"",datas:{value:"value"},selectors:{highlight:".progressbar-highlight"},callbacks:{change:function(){},empty:function(){},full:function(){}}}};t.progressbar=function(t){return t=e.isNumber(t)?{value:t}:t,new Svelto.Progressbar(t)};var r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(e){e.find(".progressbar").each(function(){var e=t(this);e.progressbar({value:e.data("value"),decimals:e.data("decimals ")})})}},{key:"_variables",value:function(){this.$progressbar=this.$element,this.$highlight=this.$progressbar.find(this.options.selectors.highlight)}},{key:"_init",value:function(){this.options.value=this._sanitizeValue(this.options.value),this._updateWidth(),this._updateLabel()}},{key:"_sanitizeValue",value:function(t){var i=Number(t);return e.clamp(0,e.isNaN(i)?0:i,100)}},{key:"_roundValue",value:function(t){return t.toFixed(this.options.decimals)}},{key:"_updateWidth",value:function(){this.$highlight.css("min-width",this.options.value+"%")}},{key:"_updateLabel",value:function(){this.$highlight.attr("data-"+this.options.datas.value,this._roundValue(this.options.value)+"%")}},{key:"_update",value:function(){this._updateWidth(),this._updateLabel()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){if(t=Number(t),!e.isNaN(t)&&(t=this._sanitizeValue(t),t!==this.options.value)){var i={previous:this.options.value,value:t};this.options.value=t,this._update(),this._trigger("change",i),0===this.options.value?this._trigger("empty",i):100===this.options.value&&this._trigger("full",i)}}}]),s}(Svelto.Widget);Svelto.Progressbar=r,Svelto.Progressbar.config=o,t.factory(Svelto.Progressbar)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"radio",options:{attributes:{name:"name"},classes:{checked:"checked"},selectors:{input:"input",form:"form"},callbacks:{change:function(){},check:function(){},uncheck:function(){}}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_widgetize",value:function(t){t.find(".radio").radio(),t.filter(".radio").radio()}},{key:"_variables",value:function(){this.$radio=this.$element,this.$input=this.$radio.find(this.options.selectors.input),this.name=this.$input.attr(this.options.attributes.name),this.isMultiple=this.name.endsWith("]"),this.$container=this.$radio.parents(this.options.selectors.form).first(),0===this.$container.length&&(this.$container=$document),this.$otherRadios=this.$container.find(this.name?'input[type="radio"][name="'+this.name+'"]':'input[type="radio"]').parent(".radio").not(this.$radio)}},{key:"_init",value:function(){var t=this.get(),e=this.$radio.hasClass(this.options.classes.checked);t!==e&&this.$radio.toggleClass(this.options.classes.checked,t)}},{key:"_events",value:function(){this._on(!0,this.$input,"change",this.__change),this._on(Pointer.tap,this.check)}},{key:"__change",value:function(){var t=this.get();t&&this.$otherRadios.removeClass(this.options.classes.checked),this.$radio.toggleClass(this.options.classes.checked,t),this._trigger("change",{checked:t}),this._trigger(t?"check":"uncheck")}},{key:"get",value:function(){return this.$input.prop("checked")}},{key:"check",value:function(){var t=this.get();t||(this.$input.prop("checked",!0).trigger("change"),this._trigger("change",{checked:!0}),this._trigger("check"))}}]),e}(Svelto.Widget);Svelto.Radio=r,Svelto.Radio.config=o,t.factory(Svelto.Radio)}(Svelto.$,Svelto._,window,document),function(t,e,i,n,o){var r={name:"rater",templates:{base:'<div class="rater">{% include ( "rater.stars", o ); %}</div>',stars:'{% for ( var i = 1; i <= o.amount; i++ ) { %}<div class="rater-star {%=( o.value >= i ? "active" : ( o.value >= i - 0.5 ? "half-active" : "" ) )%}"></div>{% } %}'},options:{value:0,amount:5,url:!1,selectors:{star:".rater-star"},callbacks:{change:function(){}}}},a=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"_widgetize",value:function(e){e.find(".rater").each(function(){var e=t(this);e.rater({value:Number(e.data("value")||0),amount:Number(e.data("amount")||5),url:Number(e.data("url")||!1)})})}},{key:"_variables",value:function(){this.$rater=this.$element,this.alreadyRated=!1,this.doingAjax=!1}},{key:"_events",value:function(){this._on(Pointer.tap,this.options.selectors.star,this.__tap)}},{key:"__tap",value:function(i){var n=this;if(!this.alreadyRated&&!this.doingAjax&&this.options.url){var o=this.$stars.index(i.currentTarget)+1;t.ajax({data:{rating:o},type:"POST",url:this.options.url,beforeSend:function(){self.doingAjax=!0},success:function(t){t=JSON.parse(t),e.merge(n.options,t),n.$rater.html(n._tmpl("stars",n.options)),n.alreadyRated=!0,n._trigger("change",{value:n.options.value,amount:n.options.amount}),s},error:function(e){t.noty("An error occurred, please try again later")},complete:function(){self.doingAjax=!1}})}}},{key:"get",value:function(){return{value:this.options.value,amount:this.options.amount}}}]),n}(Svelto.Widget);Svelto.Rater=a,Svelto.Rater.config=r,t.factory(Svelto.Rater)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.remoteModal=function(i,s){s?s.url=i:s=e.isPlainObject(i)?i:{url:i};var n=t('<div class="modal remote-modal-placeholder card"><div class="card-block"><svg class="spinner"><circle cx="1.625em" cy="1.625em" r="1.25em" /></svg></div></div>').appendTo($body).modal();t.ajax({cache:!1,data:s,processData:!1,type:"GET",url:s.url,beforeSend:function(){n.modal("open")},error:function(e){n.modal("close"),setTimeout(function(){n.remove()},Svelto.Modal.config.options.animations.close),t.noty("An error occurred, please try again later")},success:function(e){e=JSON.parse(e);var i=t(e.modal);i.modal({callbacks:{close:function(){setTimeout(function(){n.remove()},Svelto.Modal.config.options.animations.close)}}}),i.modal("open"),n.replaceWidth(i)}})}}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"ripple",templates:{circle:'<div class="ripple-circle"></div>'},options:{classes:{circle:{show:"ripple-circle-show",hide:"ripple-circle-hide"}},animations:{show:350,hide:400},callbacks:{show:function(){},hide:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find(".ripple").ripple(),t.filter(".ripple").ripple()}},{key:"_variables",value:function(){this.$ripple=this.$element,this.circles=[]}},{key:"_events",value:function(){this._on(Pointer.down,this.__down),this._on(Pointer.up+" "+Pointer.cancel,this.__upCancel)}},{key:"__down",value:function(t){t.button&&t.button!==UI.mouseButton.LEFT||this._show(t)}},{key:"__upCancel",value:function(t){var e=!0,i=!1,s=n;try{for(var o,r=this.circles[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=_slicedToArray(o.value,2),l=a[0],h=a[1];this._hide(l,h)}}catch(c){i=!0,s=c}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw s}}this.circles=[]}},{key:"_show",value:function(i){var s=t(this._tmpl("circle")).prependTo(this.$ripple),n=this.$ripple.offset(),o=t.eventXY(i),r=e.now();s.css({top:o.Y-n.top,left:o.X-n.left}).addClass(this.options.classes.circle.show),this.circles.push([s,r]),this._trigger("show")}},{key:"_hide",value:function(t,i){var s=Math.max(0,this.options.animations.show+i-e.now());this._delay(function(){t.addClass(this.options.classes.circle.hide),this._delay(function(){t.remove(),this._trigger("hide")},this.options.animations.hide)},s)}}]),s}(Svelto.Widget);Svelto.Ripple=r,Svelto.Ripple.config=o,t.factory(Svelto.Ripple)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"select",templates:{base:'<div id="{%=o.id%}" class="dropdown select-dropdown attached card outlined"><div class="card-block">{% for ( var i = 0, l = o.options.length; i < l; i++ ) { %}{% include ( "select." + ( o.options[i].value ? "option" : "optgroup" ), o.options[i] ); %}{% } %}</div></div>',optgroup:'<div class="divider">{%=o.prop%}</div>',option:'<div class="button" data-value="{%=o.prop%}">{%=o.value%}</div>'},options:{datas:{element:"select"},classes:{selected:"active"},selectors:{select:"select",option:"option",label:".select-label",valueholder:".valueholder",button:".button"},callbacks:{open:function(){},close:function(){},change:function(){}}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".select-trigger").select(),t.filter(".select-trigger").select()}},{key:"_variables",value:function(){this.$trigger=this.$element,this.$select=this.$trigger.find(this.options.selectors.select),this.$options=this.$select.find(this.options.selectors.option),this.$label=this.$trigger.find(this.options.selectors.label),this.$valueholder=this.$trigger.find(this.options.selectors.valueholder),this.id=this.$trigger.data(this.options.datas.element),0===this.$valueholder.length&&(this.$valueholder=this.$label),this.selectOptions=[],this.$dropdown=!1,this.$buttons=!1}},{key:"_init",value:function(){this._updateValueholder(),t.browser.is.touchDevice||(this.$select.addClass("hidden"),this.___selectOptions(),this.___dropdown())}},{key:"_events",value:function(){this._on(this.$select,"change",this.__change),t.browser.is.touchDevice||this._on(this.$buttons,Pointer.tap,this.__tap)}},{key:"__change",value:function(){this._update(),this._trigger("change")}},{key:"__tap",value:function(e){this.$select.val(t(e.currentTarget).data("value")).trigger("change")}},{key:"___selectOptions",value:function(){var e=void 0,i=void 0,s=!0,o=!1,r=n;try{for(var a,l=this.$options[Symbol.iterator]();!(s=(a=l.next()).done);s=!0){var h=a.value,c=t(h),u=c.parent();u.is("optgroup")&&(i=u.attr("label"),i!==e&&(e=i,this.selectOptions.push({prop:i}))),this.selectOptions.push({value:c.html(),prop:c.attr("value")})}}catch(p){o=!0,r=p}finally{try{!s&&l["return"]&&l["return"]()}finally{if(o)throw r}}}},{key:"___dropdown",value:function(){var e=this._tmpl("base",{id:this.id,options:this.selectOptions});this.$dropdown=t(e).appendTo($body),this.$buttons=this.$dropdown.find(this.options.selectors.button),this.$trigger.addClass("dropdown-trigger").attr("data-dropdown",this.id);var i=this;this.$dropdown.dropdown({selectors:{closer:".button"},callbacks:{beforeopen:function(){i._setDropdownWidth()},open:function(){i._trigger("open")},close:function(){i._trigger("close")}}}),this._updateDropdown()}},{key:"_setDropdownWidth",value:function(){this.$dropdown.css("min-width",this.$trigger.outerWidth())}},{key:"_updateValueholder",value:function(){var t=this.$select.val();if(t.length>0){var e=this.$options.filter('[value="'+t+'"]');this.$valueholder.html(e.html())}}},{key:"_updateDropdown",value:function(){this.$buttons.removeClass(this.options.classes.selected),this.$buttons.filter('[data-value="'+this.$select.val()+'"]').addClass(this.options.classes.selected)}},{key:"_update",value:function(){this._updateValueholder(),t.browser.is.touchDevice||this._updateDropdown()}},{key:"get",value:function(){return this.$select.val()}},{key:"select",value:function(t){this.$buttons.filter('[data-value="'+t+'"]').tap()}}]),i}(Svelto.Widget);Svelto.Select=r,Svelto.Select.config=o,t.factory(Svelto.Select)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"selectable",templates:{base:!1},options:{classes:{selected:"selected"},selectors:{element:"tbody tr:not(.empty)"},callbacks:{change:e.noop}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find("table.selectable").selectable(),t.filter("table.selectable").selectable()}},{key:"_variables",value:function(){this.$selectable=this.$element,this.$elements=this._getElements(),this.$startElement=!1,this.$endElement=!1}},{key:"_events",value:function(){this._onHover([$document,"keydown",this.__keydown]),this._on(Pointer.down,this.options.selectors.element,this.__down),this._on("change sort",this.__change)}},{key:"__keydown",value:function(e){t.hasCtrlOrCmd(e)&&(65===e.keyCode?(e.preventDefault(),e.stopImmediatePropagation(),this._resetPrev(),this.$elements.toggleClass(this.options.classes.selected,!e.shiftKey),this._trigger("change")):73===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),this._resetPrev(),this.$elements.toggleClass(this.options.classes.selected),this._trigger("change")))}},{key:"__down",value:function(e){e.button&&e.button!==UI.mouseButton.LEFT||(e.preventDefault(),this.$startElement=t(e.currentTarget),t.browser.is.touchDevice||this._on($document,Pointer.move,this.__move),this._on(Pointer.up,this.options.selectors.element,this.__up))}},{key:"__move",value:function(t){t.preventDefault(),this._off($document,Pointer.move,this.__move),this._off(Pointer.up,this.__up),this._resetPrev(),this.$prevElement=this.$startElement,this.$startElement.toggleClass(this.options.classes.selected),this._on(Pointer.enter,this.options.selectors.element,this.__dragEnter),this._on($document,Pointer.up,this.__dragMouseup),this._trigger("change")}},{key:"__dragEnter",value:function(e){this.$endElement=t(e.currentTarget);var i=this.$elements.index(this.$startElement),s=this.$elements.index(this.$endElement),n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$elements.slice(n,o);this.$prevDragged?(r.not(this.$prevDragged).toggleClass(this.options.classes.selected),this.$prevDragged.not(r).toggleClass(this.options.classes.selected)):r.toggleClass(this.options.classes.selected),this.$prevDragged=r,this._trigger("change")}},{key:"__dragMouseup",value:function(){this._off(Pointer.enter,this.__dragEnter),this._off($document,Pointer.up,this.__dragMouseup),this.$prevDragged=!1}},{key:"__up",value:function(e){if(this._off($document,Pointer.move,this.__move),this._off(Pointer.up,this.__up),e.shiftKey){var i=this.$elements.index(this.$prevElement),s=this.$prevElement?this.$elements.index(this.$startElement):0,n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$elements.slice(n,o);this.$prevShifted?(r.not(this.$prevShifted).toggleClass(this.options.classes.selected),this.$prevShifted.not(r).toggleClass(this.options.classes.selected)):r.toggleClass(this.options.classes.selected),this.$prevShifted=r}else t.hasCtrlOrCmd(e)||t.browser.is.touchDevice?(this.$startElement.toggleClass(this.options.classes.selected),this._resetPrev(),this.$prevElement=this.$startElement):(this.$elements.removeClass(this.options.classes.selected),this._resetPrev());this._trigger("change")}},{key:"__change",value:function(){this.$elements=this._getElements(),this._resetPrev()}},{key:"_resetPrev",value:function(){this.$prevElement=!1,this.$prevShifted=!1,this.$prevDragged=!1}},{key:"_getElements",value:function(){return this.$element.find(this.options.selectors.element)}},{key:"get",value:function(){return this.$elements.filter("."+this.options.selectors.selected)}}]),i}(Svelto.Widget);Svelto.Selectable=r,Svelto.Selectable.config=o,t.factory(Svelto.Selectable)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"slider",options:{min:0,max:100,value:0,step:1,decimals:0,selectors:{input:"input",min:".slider-min",max:".slider-max",bar:".slider-bar",unhighlight:".slider-unhighlight",highlight:".slider-highlight",handlerWrp:".slider-handler-wrp",label:".slider-label"},callbacks:{change:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(e){e.find(".slider").each(function(){var e=t(this);e.slider({min:Number(e.find(".slider-min").data("min")||0),max:Number(e.find(".slider-max").data("max")||100),value:Number(e.find("input").val()||0),step:Number(e.data("step")||1),decimals:Number(e.data("decimals")||0)})})}},{key:"_variables",value:function(){this.$slider=this.$element,this.$input=this.$slider.find(this.options.selectors.input),this.$min=this.$slider.find(this.options.selectors.min),this.$max=this.$slider.find(this.options.selectors.max),this.$bar=this.$slider.find(this.options.selectors.bar),this.$unhighlight=this.$slider.find(this.options.selectors.unhighlight),this.$highlight=this.$slider.find(this.options.selectors.highlight),this.$handlerWrp=this.$slider.find(this.options.selectors.handlerWrp),this.$label=this.$handlerWrp.find(this.options.selectors.label),this.stepsNr=(this.options.max-this.options.min)/this.options.step,this._updateVariables()}},{key:"_init",value:function(){this._updatePositions()}},{key:"_events",value:function(){this._on(!0,this.$input,"change",this.__change),this._on(!0,$window,"resize",this.__resize),this._onHover([$document,"keydown",this.__keydown]),this._on(this.$min,Pointer.tap,this.decrease),this._on(this.$max,Pointer.tap,this.increase),this.$handlerWrp.draggable({draggable:this.isEnabled.bind(this),axis:"x",$proxy:this.$bar,constrainer:{$element:this.$bar,constrainCenter:!0},modifiers:{x:this._dragModifierX.bind(this)},callbacks:{move:this.__dragMove.bind(this),end:this.__dragEnd.bind(this)}})}},{key:"_roundValue",value:function(t){return Number(Number(t).toFixed(this.options.decimals))}},{key:"_updateVariables",value:function(){this.unhighlightWidth=this.$unhighlight.width(),this.stepWidth=this.unhighlightWidth/this.stepsNr}},{key:"_updatePositions",value:function(){var t=(this.options.value-this.options.min)/this.options.step*100/this.stepsNr,e=this.unhighlightWidth/100*t;this.$handlerWrp.translateX(e),this.$highlight.translateX(e)}},{key:"_updateLabel",value:function(t){this.$label.html(e.isUndefined(t)?this.options.value:t)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"__change",value:function(){this.set(this.$input.val())}},{key:"__resize",value:function(){this._updateVariables(),this._updatePositions()}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.LEFT:case UI.keyCode.DOWN:this.decrease();break;case UI.keyCode.RIGHT:case UI.keyCode.UP:this.increase();break;default:return}t.preventDefault(),t.stopImmediatePropagation()}},{key:"_dragModifierX",value:function(t){return e.roundCloser(t,this.stepWidth)}},{key:"__dragMove",value:function(t){this.$highlight.translateX(t.moveXY.X),this._updateLabel(this._roundValue(this.options.min+t.moveXY.X/this.stepWidth*this.options.step))}},{key:"__dragEnd",value:function(t){this.set(this.options.min+t.endXY.X/this.stepWidth*this.options.step)}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){if(t=e.clamp(this.options.min,this._roundValue(t),this.options.max),t!==this.options.value){var i=this.options.value;this.options.value=t,this._updatePositions(),this._updateLabel(),this._updateInput(),this._trigger("change",{previous:i,value:this.options.value})}}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),s}(Svelto.Widget);Svelto.Slider=r,Svelto.Slider.config=o,t.factory(Svelto.Slider)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"sortable",options:{sorters:{"int":function(t,e){return parseInt(t,10)-parseInt(e,10)},"float":function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}},sortValue:"sort-value",classes:{sort:{asc:"sort-asc",desc:"sort-desc"}},selectors:{header:"thead th",sortable:"[data-sort]",body:"tbody",notEmptyRow:"tr:not(.table-row-empty)",rowCell:"td"},callbacks:{sort:e.noop}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find("table.sortable").sortable(),t.filter("table.sortable").sortable()}},{key:"_variables",value:function(){this.$table=this.$element,this.$headers=this.$table.find(this.options.selectors.header),this.$sortables=this.$headers.filter(this.options.selectors.sortable),this.$tbody=this.$table.find(this.options.selectors.body),this.table=this.element,this.tbody=this.$tbody[0],this.sortData={},this.updated=!1,this.$currentSortable=!1,this.currentIndex=!1,this.currentDirection=!1}},{key:"_init",value:function(){var t=this.$headers.filter("."+this.options.classes.sort.asc+", ."+this.options.classes.sort.desc).first();1===t.length&&this.sort(this.$headers.index(t),t.hasClass(this.options.classes.sort.asc)?"asc":"desc")}},{key:"_events",value:function(){this._on(!0,"change",this.__change),this._on(this.$sortables,Pointer.tap,this.__tap)}},{key:"__change",value:function(){this.currentIndex!==!1&&(this.sortData={},this.updated=!1,this.sort(this.currentIndex,this.currentDirection))}},{key:"__tap",value:function(t){var e=this.$headers.index(t.target),i=this.currentIndex===e&&"asc"===this.currentDirection?"desc":"asc";this.sort(e,i)}},{key:"sort",value:function(t,i){var s=this.$headers.eq(t);if(s.length){var n=s.data("sort");if(n){var o=this.options.sorters[n];if(o){if(i=i&&"desc"===i.toLowerCase()?"desc":"asc",e.isUndefined(this.sortData[t])||!this.updated){var r=this.$tbody.find(this.options.selectors.notEmptyRow);this.sortData[t]=Array(r.length);for(var a=0,l=r.length;l>a;a++){var h=r.eq(a).find(this.options.selectors.rowCell).eq(t),c=h.data(this.options.sortValue)||h.text();this.sortData[t][a]=[r[a],c]}}if(t===this.currentIndex&&this.updated||this.sortData[t].sort(function(t,e){return o(t[1],e[1])}),this.updated&&t===this.currentIndex&&this.currentDirection!==!1)var u=i!==this.currentDirection;else var u="desc"===i;if(u&&this.sortData[t].reverse(),t!==this.currentIndex||i!==this.currentDirection||!this.updated){this.table.removeChild(this.tbody);for(var a=0,l=this.sortData[t].length;l>a;a++)this.tbody.appendChild(this.sortData[t][a][0]);this.table.appendChild(this.tbody)}(t!==this.currentIndex||i!==this.currentDirection)&&(this.$currentSortable&&this.$currentSortable.removeClass(this.options.classes.sort[this.currentDirection]),s.addClass(this.options.classes.sort[i])),this.updated=!0,this.$currentSortable=s,this.currentIndex=t,this.currentDirection=i,this._trigger("sort",{index:this.currentIndex,direction:this.currentDirection})}}}}}]),i}(Svelto.Widget);Svelto.Sortable=r,Svelto.Sortable.config=o,t.factory(Svelto.Sortable)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"stepper",options:{min:0,max:100,value:0,step:1,selectors:{decreaser:".stepper-decreaser",input:"input",increaser:".stepper-increaser"},callbacks:{change:e.noop,increase:e.noop,decrease:e.noop}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(e){e.find(".stepper").each(function(){var e=t(this);e.stepper({min:Number(e.data("min")||0),max:Number(e.data("max")||100),value:Number(e.find(".stepper-input").val()||0),step:Number(e.data("step")||1)})})}},{key:"_variables",value:function(){this.$stepper=this.$element,this.$decreaser=this.$stepper.find(this.options.selectors.decreaser),this.$input=this.$stepper.find(this.options.selectors.input),this.$increaser=this.$stepper.find(this.options.selectors.increaser),this.options.value=this._sanitizeValue(this.options.value)}},{key:"_init",value:function(){this._updateButtons()}},{key:"_events",value:function(){this._on(!0,this.$input,"input change",this.__inputChange),this._onHover([$document,"keydown",this.__keydown]),this._on(this.$decreaser,Pointer.tap,this.decrease),this._on(this.$increaser,Pointer.tap,this.increase)}},{key:"_sanitizeValue",value:function(t){var i=Number(t);t=e.isNaN(i)?0:i;var s=t%this.options.step;return t=t-s+(s>=this.options.step/2?this.options.step:0),e.clamp(this.options.min,t,this.options.max)}},{key:"_updateInput",value:function(){this.$input.val(this.options.value).trigger("change")}},{key:"_updateButtons",value:function(t){var e=this.options.value===this.options.min,i=this.options.value===this.options.max;t===this.options.min||e?this.$decreaser.toggleClass("disabled",e):(t===this.options.max||i)&&this.$increaser.toggleClass("disabled",i)}},{key:"_update",value:function(t){this._updateInput(),this._updateButtons(t)}},{key:"__inputChange",value:function(){this.set(this.$input.val())}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.UP:this.increase();break;case UI.keyCode.DOWN:this.decrease()}t.preventDefault(),t.stopImmediatePropagation()}},{key:"get",value:function(){return this.options.value}},{key:"set",value:function(t){if(t=Number(t),!e.isNaN(t)&&(t=this._sanitizeValue(t),t!==this.options.value)){var i={previous:this.options.value,value:t};return this.options.value=t,this._update(i.previous),this._trigger("change",i),void this._trigger(i.previous<i.value?"increase":"decrease",i)}this.$input.val()!==String(this.options.value)&&this._updateInput()}},{key:"increase",value:function(){this.set(this.options.value+this.options.step)}},{key:"decrease",value:function(){this.set(this.options.value-this.options.step)}}]),s}(Svelto.Widget);Svelto.Stepper=r,Svelto.Stepper.config=o,t.factory(Svelto.Stepper)}(Svelto.$,Svelto._,window,document),function(t,e,i,s){var n={name:"switch",options:{colors:{on:"secondary",off:"gray"},classes:{checked:"checked"},selectors:{input:"input",bar:".switch-bar",handler:".switch-handler"},callbacks:{change:function(){},check:function(){},uncheck:function(){}}}},o=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(e){e.find(".switch").each(function(){var e=t(this);e["switch"]({colors:{on:e.data("color-on")||"secondary",off:e.data("color-off")||"gray"}})})}},{key:"_variables",value:function(){this.$switch=this.$element,this.$input=this.$switch.find(this.options.selectors.input),this.$bar=this.$switch.find(this.options.selectors.bar),this.$handler=this.$switch.find(this.options.selectors.handler),this.isChecked=!1,this.switchWidth=this.$switch.width(),this.handlerWidth=this.$handler.width()}},{key:"_init",value:function(){this.$input.prop("checked")&&this.check()}},{key:"_events",value:function(){this._on(!0,this.$input,"change",this.__change),this._onHover([$document,"keydown",this.__keydown]),this.$handler.draggable({axis:"x",$proxy:this.$switch,proxyWithoutMotion:!1,constrainer:{$element:this.$switch},callbacks:{end:this.__dragEnd.bind(this)}})}},{key:"__change",value:function(){this.toggle(this.$input.prop("checked"))}},{key:"__keydown",value:function(t){switch(t.keyCode){case UI.keyCode.LEFT:this.uncheck();break;case UI.keyCode.RIGHT:this.check();break;case UI.keyCode.SPACE:this.toggle();break;default:return}t.preventDefault(),t.stopImmediatePropagation()}},{key:"__dragEnd",value:function(t){if(t.motion){var e=t.endXY.X+this.handlerWidth/2>=this.switchWidth/2;this.toggle(e,!0)}else this.toggle()}},{key:"_updatePosition",value:function(){this.$handler.translateX(this.isChecked?this.switchWidth-this.handlerWidth:0)}},{key:"_updateColors",value:function(){this.$bar.toggleClass(this.options.colors.on,this.isChecked),this.$bar.toggleClass(this.options.colors.off,!this.isChecked),this.$handler.toggleClass(this.options.colors.on,this.isChecked),this.$handler.toggleClass(this.options.colors.off,!this.isChecked)}},{key:"_updateInput",value:function(){this.$input.prop("checked",this.isChecked).trigger("change")}},{key:"get",value:function(){return this.isChecked}},{key:"toggle",value:function(t,e){if(_.isBoolean(t)||(t=!this.isChecked),t!==this.isChecked){var i=this.isChecked;this.isChecked=t,this.$switch.toggleClass(this.options.classes.checked,this.isChecked),this._updatePosition(),this._updateColors(),this._updateInput(),this._trigger("change",{previous:i,checked:this.isChecked}),this._trigger(this.isChecked?"check":"uncheck")}else e&&this._updatePosition()}},{key:"check",value:function(){this.toggle(!0)}},{key:"uncheck",value:function(){this.toggle(!1)}}]),i}(Svelto.Widget);Svelto.Switch=o,Svelto.Switch.config=n,t.factory(Svelto.Switch)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"tableHelper",templates:{row:'<tr {%= ( o.id ? "class=" + o.id : "" ) %} >{% for ( var i = 0, l = o.datas.length; i < l; i++ ) { %}<td>{%=o.datas[i]%}</td>{% } %}{% for ( var i = 0, l = o.missing; i < l; i++ ) { %}<td></td>{% } %}</tr>'},options:{rowIdPrefix:"rid",selectors:{header:"thead",body:"tbody",headerCell:"th",rowCell:"td",emptyRow:"tr.table-row-empty",notEmptyRow:"tr:not(.table-row-empty)"},callbacks:{add:function(){},update:function(){},remove:function(){},clear:function(){}}}},r=function(i){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,Object.getPrototypeOf(s).apply(this,arguments))}return _inherits(s,i),_createClass(s,[{key:"_widgetize",value:function(t){t.find("table.table").tableHelper(),t.filter("table.table").tableHelper()}},{key:"_variables",value:function(){this.$table=this.$element,this.$header=this.$table.find(this.options.selectors.header),this.$body=this.$table.find(this.options.selectors.body),this.$headerCells=this.$header.find(this.options.selectors.headerCell),this.$emptyRow=this.$body.find(this.options.selectors.emptyRow),this.columnsNr=this.$headerCells.length}},{key:"_init",value:function(){this._checkEmpty()}},{key:"_checkEmpty",value:function(){var t=this.$body.find(this.options.selectors.notEmptyRow).length>0;this.$emptyRow.toggleClass("hidden",t)}},{key:"_getRowId",value:function(t){return this.options.rowIdPrefix+"_"+this.guid+"_"+t}},{key:"add",value:function(i){var s=e.tail(arguments),n=i?this._getRowId(i):!1;if(s.length>0){if(n&&1===t("."+n).length)return this;for(var o=e.chunk(s,this.columnsNr),r=$empty,a=0,l=o.length;l>a;a++){var h=o[a],c=this._tmpl("row",{id:n,datas:h,missing:this.columnsNr-h.length});r=r.add(c)}this.$body.append(r),this._checkEmpty(),this.$table.trigger("change"),this._trigger("add",{$rows:r})}return this}},{key:"update",value:function(i){var s=e.tail(arguments),n=t("."+this._getRowId(i));if(s.length>0&&1===n.length){for(var o=n.find(this.options.selectors.rowCell),r=0,a=s.length;a>r;r++)e.isString(s[r])&&o.eq(r).html(s[r]);this.$table.trigger("change"),this._trigger("update",{$row:n})}return this}},{key:"remove",value:function(e){var i=t("."+this._getRowId(e));return 1===i.length&&(i.remove(),this._checkEmpty(),this.$table.trigger("change"),this._trigger("remove",{$row:i})),this}},{key:"clear",value:function(){var t=this.$body.find(this.options.selectors.notEmptyRow);return t.length>0&&(t.remove(),this._checkEmpty(),this.$table.trigger("change"),this._trigger("clear",{$rows:t})),this}}]),s}(Svelto.Widget);Svelto.TableHelper=r,Svelto.TableHelper.config=o,
t.factory(Svelto.TableHelper)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"tabs",options:{highlight:!0,classes:{vertical:"vertical",active:{trigger:"active",container:"active"}},selectors:{triggers:".tabs-triggers > *",containers:".tabs-containers > *"},callbacks:{set:e.noop}}},r=function(e){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,e),_createClass(i,[{key:"_widgetize",value:function(t){t.find(".tabs").tabs(),t.filter(".tabs").tabs()}},{key:"_variables",value:function(){this.$tabs=this.$element,this.$triggers=this.$tabs.find(this.options.selectors.triggers),this.$containers=this.$tabs.find(this.options.selectors.containers),this.isVertical=this.$tabs.hasClass(this.options.classes.vertical),this.index=-1}},{key:"_init",value:function(){var t=this.$triggers.filter("."+this.options.classes.active.trigger).first();t=t.length>0?t:this.$triggers.first();var e=this.$triggers.index(t);this.set(e)}},{key:"_events",value:function(){this._on(this.$triggers,Pointer.tap,this.__tap)}},{key:"__tap",value:function(e){var i=this.$triggers.index(t(e.currentTarget));this.set(i)}},{key:"get",value:function(){return this.index}},{key:"set",value:function(t){if(this.index!==t){var e=this.$triggers.eq(this.index),i=this.$containers.eq(this.index);e.removeClass(this.options.classes.active.trigger),i.removeClass(this.options.classes.active.container),this.options.highlight&&e.removeClass("highlight highlight-bottom highlight-right"),this.index=t;var s=this.$triggers.eq(this.index),n=this.$containers.eq(this.index);s.addClass(this.options.classes.active.trigger),n.addClass(this.options.classes.active.container),this.options.highlight&&s.addClass("highlight"+(this.isVertical?" highlight-right":" highlight-bottom")),this._trigger("set",{index:this.index})}}}]),i}(Svelto.Widget);Svelto.Tabs=r,Svelto.Tabs.config=o,t.factory(Svelto.Tabs)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"tagbox",templates:{tag:'<div class="label-tag tagbox-tag" data-tag-value="{%=o.value%}"><div class="label {%=o.color%} {%=o.size%} {%=o.css%}"><span>{%=o.value%}</span><div class="button gray compact xxsmall tagbox-tag-remover"><i class="icon">close</i></div></div></div>'},options:{init:"",tags:[],tag:{minLength:3,color:"",size:"",css:"outlined"},characters:{forbidden:["<",">",";","`"],separator:",",inserters:[UI.keyCode.ENTER,UI.keyCode.TAB]},sort:!1,escape:!0,deburr:!1,selectors:{input:"input.hidden",partial:"input.tagbox-partial, .tagbox-partial input",tags:".tagbox-tags",tag:".tagbox-tag",tagLabel:"span",tagRemover:".tagbox-tag-remover"},callbacks:{change:function(){},add:function(){},remove:function(){},empty:function(){}}}},r=function(i){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,i),_createClass(n,[{key:"_widgetize",value:function(e){e.find(".tagbox").each(function(){var e=t(this);e.tagbox({init:e.find("input").val()})})}},{key:"_variables",value:function(){this.$tagbox=this.$element,this.$tags=this.$tagbox.find(this.options.selectors.tags),this.$input=this.$tagbox.find(this.options.selectors.input),this.$partial=this.$tagbox.find(this.options.selectors.partial)}},{key:"_init",value:function(t){this.add(this.options.init,t)}},{key:"_events",value:function(){this._on(this.$partial,"keypress keydown",this.__keypressKeydown),this._on(this.$partial,"paste",this.__paste),this._on(Pointer.tap,this.__tapOnEmpty),this._on(Pointer.tap,this.options.selectors.tagRemover,this.__tapOnTagRemover)}},{key:"_sanitizeTag",value:function(t){return t=e.trim(t),this.options.escape&&(t=e.escape(t)),this.options.deburr&&(t=e.deburr(t)),t}},{key:"_getTagHtml",value:function(t){return this._tmpl("tag",e.merge({value:t},this.options.tag))}},{key:"_clearPartial",value:function(){this.$partial.val("").trigger("change")}},{key:"_updateInput",value:function(){this.$input.val(this.options.tags.join(this.options.characters.separator)).trigger("change")}},{key:"_add",value:function(i){var s=e.trim(i),i=this._sanitizeTag(i);if(s.length<this.options.tag.minLength)s.length>0&&t.noty("`"+i+"` is shorter than "+this.options.tag.minLength+" characters");else{if(!e.contains(this.options.tags,i)){this.options.tags.push(i),this.options.sort&&this.options.tags.sort();var n=this._getTagHtml(i);if(1===this.options.tags.length)this.$tags.prepend(n);else if(this.options.sort){var o=this.options.tags.indexOf(i);0===o?this.$tagbox.find(this.options.selectors.tag).first().before(n):this.$tagbox.find(this.options.selectors.tag).eq(o-1).after(n)}else this.$tagbox.find(this.options.selectors.tag).last().after(n);return!0}t.noty("`"+i+"` is a duplicate")}return!1}},{key:"_remove",value:function(t,i){t.remove(),e.pull(this.options.tags,i)}},{key:"__keypressKeydown",value:function(i){var s=this.$partial.val();if(e.contains(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var n=this.add(s);n&&this._clearPartial(),i.preventDefault(),i.stopImmediatePropagation()}else if(i.keyCode===UI.keyCode.BACKSPACE){if(0===s.length&&this.options.tags.length>0){var o=this.$tagbox.find(this.options.selectors.tag).last(),r=!t.hasCtrlOrCmd(i);this.remove(o,r),i.preventDefault(),i.stopImmediatePropagation()}}else e.contains(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.noty("The character you entered is forbidden"),i.preventDefault(),i.stopImmediatePropagation())}},{key:"__paste",value:function(t){this.add(t.originalEvent.clipboardData.getData("text")),t.preventDefault()}},{key:"__tapOnTagRemover",value:function(e){var i=t(e.currentTarget).parents(this.options.selectors.tag);this.remove(i)}},{key:"__tapOnEmpty",value:function(e){s.activeElement===this.$partial[0]||t(e.target).is("input, "+this.options.selectors.tagLabel)||this.$partial.focus()}},{key:"get",value:function(){return e.clone(this.options.tags)}},{key:"add",value:function(t,i){e.isArray(t)&&(t=e.flatten(t).join(this.options.characters.separator));var s=e.clone(this.options.tag),n=t.split(this.options.characters.separator),o=e.map(n,this._add,this),r=e.compact(o).length>0;if(r&&(this._updateInput(),!i)){this._trigger("change",{previous:s,tags:e.clone(this.options.tags)});var a=e.filter(n,function(t,e){return o[e]});this._trigger("add",a)}return r}},{key:"remove",value:function(i,s,n){if(i instanceof t)var o=[i],r=[i.data("tag-value")];else{var o=[],r=[];e.isArray(i)&&(i=e.flatten(i).join(this.options.characters.separator)),i=i.split(this.options.characters.separator);for(var a=0,l=i.length;l>a;a++){var h=this._sanitizeTag(i[a]),c=this.$tagbox.find(this.options.selectors.tag+'[data-tag-value="'+h+'"]');1===c.length&&(o.push(c),r.push(h))}}if(r.length>0){for(var u=e.clone(this.options.tags),a=0,l=r.length;l>a;a++)this._remove(o[a],r[a]);this._updateInput(),1===r.length&&s===!0&&this.$partial.val(r[0]).trigger("change"),n||(this._trigger("change",{previous:u,tags:e.clone(this.options.tags)}),this._trigger("remove",r),0===this.options.tags.length&&this._trigger("empty"))}}},{key:"clear",value:function(t){if(this.options.tags.length>0){var i={previous:e.clone(this.options.tags),tags:[]};this.options.tags=[],this.$tagbox.find(this.options.selectors.tag).remove(),this._clearPartial(),this._updateInput(),t||(this._trigger("change",i),i.previous.length>0&&this._trigger("remove",i.previous),this._trigger("empty"))}}},{key:"reset",value:function(){var t=e.clone(this.options.tags);if(this.clear(!0),this._init(!0),!e.isEqual(t,this.options.tags)){this._trigger("change",{previous:t,tags:e.clone(this.options.tags)});var i=e.difference(this.options.tags,t);i.length>0&&this._trigger("add",i);var s=e.difference(t,this.options.tags);s.length>0&&this._trigger("remove",s),0===this.options.tags.length&&this._trigger("empty")}}}]),n}(Svelto.Widget);Svelto.Tagbox=r,Svelto.Tagbox.config=o,t.factory(Svelto.Tagbox)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){var o={name:"timeAgo",options:{timestamp:!1,title:!1,callbacks:{change:function(){}}}},r=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,Object.getPrototypeOf(i).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"_widgetize",value:function(t){t.find("[data-timestamp]").timeAgo(),t.filter("[data-timestamp]").timeAgo(),t.find("[data-timestamp-title]").timeAgo({title:!0}),t.filter("[data-timestamp-title]").timeAgo({title:!0})}},{key:"_variables",value:function(){this.$timeAgoElement=this.$element,this.options.timestamp||(this.options.timestamp=this.$timeAgoElement.data(this.options.title?"timestamp-title":"timestamp"))}},{key:"_init",value:function(){this._loop(0)}},{key:"_loop",value:function(t){this._delay(function(){this._loop(this._update().next)},1e3*t)}},{key:"_update",value:function(){var t=e.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgoElement.attr("title",t.str):this.$timeAgoElement.html(t.str),this._trigger("change"),t}}]),i}(Svelto.Widget);Svelto.TimeAgo=r,Svelto.TimeAgo.config=o,t.factory(Svelto.TimeAgo)}(Svelto.$,Svelto._,window,document),function(t,e,i,s){e.Timer=function(){function e(){_classCallCheck(this,e),this.set.apply(this,arguments)}return _createClass(e,[{key:"set",value:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this}},{key:"once",value:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){return e.action()},t),this}},{key:"play",value:function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remainingTime),this.isActive=!0),this}},{key:"pause",value:function(){return this.isActive&&(this.isActive=!1,this.remainingTime-=new Date-this.last,this.clearTimer()),this}},{key:"stop",value:function(){return this.isActive=!1,this.remainingTime=this.intervalTime,this.clearTimer(),this}},{key:"toggle",value:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this}},{key:"reset",value:function(){return this.isActive=!1,this.play(!0),this}},{key:"clearTimer",value:function(){clearTimeout(this.timeoutObject)}},{key:"setTimer",value:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remainingTime=t,this.last=new Date,this.clearTimer(),this.timeoutObject=setTimeout(function(){return e.go()},t)}},{key:"go",value:function(){this.isActive&&(this.action(),this.setTimer())}},{key:"remaining",value:function(e){return t.isUndefined(e)?this.remainingTime:(this.remainingTime=e,this)}}]),e}()}(Svelto._,window,document),function(t,e,i,s,n){var o={name:"tooltip",options:{hover:{triggerable:!0},datas:{element:"tooltip"},selectors:{closer:".button, .tooltip-closer",trigger:".tooltip-trigger"}}},r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"_widgetize",value:function(t){t.find(".tooltip").tooltip(),t.filter(".tooltip").tooltip()}}]),e}(Svelto.Dropdown);Svelto.Tooltip=r,Svelto.Tooltip.config=o,t.factory(Svelto.Tooltip)}(Svelto.$,Svelto._,window,document),function(t,e,i,s,n){t.fn.touching=function(i){i=e.merge({startIndex:!1,point:!1,binarySearch:!0,$comparer:!1,$not:!1,onlyBest:!1},i);var s=i.$not?this.not(i.$not):this;if(i.$comparer){var o=i.$comparer.getRect(),r=[],a=[],l=!0,h=!1,c=n;try{for(var u,p=s[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var d=u.value,v=t.getRect(d),f=t.getOverlappingArea(o,v);f>0&&(r.push(d),a.push(f))}}catch(g){h=!0,c=g}finally{try{!l&&p["return"]&&p["return"]()}finally{if(h)throw c}}return t(i.onlyBest?r[a.indexOf(e.max(a))]:r)}if(i.point){var m=void 0;if(i.binarySearch)return s.btEach(function(){var e=t.getRect(this);return i.point.Y>=e.top?i.point.Y<=e.bottom?i.point.X>=e.left?i.point.X<=e.right?(m=t(this),!1):1:-1:1:-1},i.startIndex),m||$empty;var _=!0,y=!1,b=n;try{for(var k,$=s[Symbol.iterator]();!(_=(k=$.next()).done);_=!0){var d=k.value,w=t.getRect(d);if(i.point.Y>=w.top&&i.point.Y<=w.bottom&&i.point.X>=w.left&&i.point.X<=w.right){m=t(d);break}}}catch(g){y=!0,b=g}finally{try{!_&&$["return"]&&$["return"]()}finally{if(y)throw b}}return m||$empty}}}(Svelto.$,Svelto._,window,document);