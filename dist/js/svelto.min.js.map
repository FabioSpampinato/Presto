"use strict";!function(t,e,i,s){t.mixin({nowSecs:function(){return t.floor(t.now()/1e3)},timeAgo:function(e){var i=t.nowSecs()-e,s=5,n=["year","month","week","day","hour","minute","second"],o=[31536e3,2592e3,604800,86400,3600,60,1];if(s>i)return{str:"Just now",next:s-i};for(var r=0,a=o.length;a>r;r++){var h=n[r],c=o[r],l=t.floor(i/c);if(l>=1)return{str:l+" "+h+(l>1?"s":"")+" ago",next:c-(i-l*c)}}},fuzzyMatch:function(t,e,i){i!==!1&&(t=t.toLowerCase(),e=e.toLowerCase());for(var s=-1,n=t.length,o=0,r=e.length;r>o;o++){for(var a=s+1;n>a;a++)t[a]===e[o]&&(s=a,a=n+1);if(a===n)return!1}return!0},clamp:function(e,i,s){return t.isUndefined(e)||e>i&&(i=e),t.isUndefined(s)||i>s&&(i=s),i},btEach:function(e,i,s){for(var n,o=0,r=e.length-1,a=t.isNumber(s)?s:t.ceil((o+r)/2);r>=o;){if(n=i.call(e[a],a,e[a]),0>n)r=a-1;else{if(!(n>0))return a;o=a+1}a=t.ceil((o+r)/2)}return-1},"true":t.constant(!0),"false":t.constant(!1)})}(_,window,document),function(t,e,i,s,n){t.easing={def:"easeOutQuad",swing:function(e,i,s,n,o){return t.easing[t.easing.def](e,i,s,n,o)},linear:function(t,e,i,s,n){return(s-i)/n*e+i},easeInQuad:function(t,e,i,s,n){return s*(e/=n)*e+i},easeOutQuad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i},easeInOutQuad:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e+i:-s/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,s,n){return s*(e/=n)*e*e+i},easeOutCubic:function(t,e,i,s,n){return s*((e=e/n-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e+i:s/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,s,n){return s*(e/=n)*e*e*e+i},easeOutQuart:function(t,e,i,s,n){return-s*((e=e/n-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e*e+i:-s/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,s,n){return s*(e/=n)*e*e*e*e+i},easeOutQuint:function(t,e,i,s,n){return s*((e=e/n-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,s,n){return(e/=n/2)<1?s/2*e*e*e*e*e+i:s/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,s,n){return-s*Math.cos(e/n*(Math.PI/2))+s+i},easeOutSine:function(t,e,i,s,n){return s*Math.sin(e/n*(Math.PI/2))+i},easeInOutSine:function(t,e,i,s,n){return-s/2*(Math.cos(Math.PI*e/n)-1)+i},easeInExpo:function(t,e,i,s,n){return 0==e?i:s*Math.pow(2,10*(e/n-1))+i},easeOutExpo:function(t,e,i,s,n){return e==n?i+s:s*(-Math.pow(2,-10*e/n)+1)+i},easeInOutExpo:function(t,e,i,s,n){return 0==e?i:e==n?i+s:(e/=n/2)<1?s/2*Math.pow(2,10*(e-1))+i:s/2*(-Math.pow(2,-10*--e)+2)+i}}}(jQuery,_,window,document),function(t,e,i,s,n){t.reflow=function(){s.documentElement.offsetHeight},t.eventXY=function(e){return e.isPointerEvent&&(e=e.originalEvent),t.browser.hasTouch&&e.originalEvent.touches&&(e=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent.touches[0]),{X:e.pageX,Y:e.pageY}},t(function(){i.$window=t(i),i.$document=t(s),i.$html=t(s.documentElement),i.$body=t(s.body),i.$empty=t()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=function r(t,e){var i=/[^\w\-\.:]/.test(t)?new Function(r.arg+",tmpl","var _e=_.escape"+r.helper+",_s='"+t.replace(r.regexp,r.func)+"';return _s;"):r.cache[t]=r.cache[t]||r(s.getElementById(t).innerHTML);return e?i(e,r):function(t){return i(t,r)}};o.cache={},o.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,o.func=function(t,e,i,s,n,o){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+s+")+'":"'+("+s+"==null?'':"+s+")+'":n?"';":o?"_s+='":void 0},o.arg="o",o.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",t.tmpl=o}(jQuery,_,window,document),function(t,e,i,s,n){var o=navigator.userAgent.toLowerCase();t.browser={isMobile:/iphone|ipad|android|ipod|opera mini|opera mobile|blackberry|iemobile|webos|windows phone|playbook|tablet|kindle/i.test(o),isTablet:/ipad|playbook|tablet|kindle/i.test(o),isAndroid:/android/i.test(o),isIOS:/(iphone|ipad|ipod)/i.test(o),isMac:/mac/i.test(o),isIE:/msie [\w.]+/.test(o),isChrome:/chrome/i.test(o)},t.browser.hasTouch="ontouchstart"in i&&!(t.browser.isChrome&&!t.browser.isAndroid)}(jQuery,_,window,document),function(t,e,i,s,n){t.Pointer={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};var o=["tap","dbltap","press","dragstart","dragmove","dragend","flick"],r="pointer";e.each(o,function(e){var i=r+e;t.Pointer[e]=i,t.fn[e]=function(t){return t?this.on(i,t):this.trigger(i)}});var a,h,c,l,d,u,p,_,g,f,m,v,w=t.browser.hasTouch?"touchstart":"mousedown",b=t.browser.hasTouch?"touchmove":"mousemove",$=t.browser.hasTouch?"touchend touchcancel":"mouseup mouseleave",y=t(s.documentElement),k=0,x=function(e,i){var s=t.Event(e);return s.originalEvent=i,s.isPointerEvent=!0,s},C=function(i){a=t.eventXY(i),d=i.target,u=t(d),p=i.timeStamp||e.now(),g=!1,v=setTimeout(e.wrap(i,Y),t.Pointer.pressDuration),u.trigger(x(t.Pointer.dragstart,i),{startXY:a}),y.on(b,X),y.on($,T)},Y=function(e){u.trigger(x(t.Pointer.press,e))},X=function(e){clearTimeout(v),h=t.eventXY(e),c={X:h.X-a.X,Y:h.Y-a.Y},(Math.abs(c.X)>t.Pointer.motionThreshold||Math.abs(c.Y)>t.Pointer.motionThreshold)&&(g=!0,u.trigger(x(t.Pointer.dragmove,e),{startXY:a,moveXY:h,deltaXY:c}))},T=function M(i){clearTimeout(v),l=t.eventXY(i),c={X:l.X-a.X,Y:l.Y-a.Y},d===i.target&&(_=i.timeStamp||e.now(),t.browser.hasTouch&&g||(u.trigger(x(t.Pointer.tap,i)),_-k<=t.Pointer.doubleTapInterval&&u.trigger(x(t.Pointer.dbltap,i)),k=_),g&&_-p<=t.Pointer.flickDuration&&(Math.abs(c.X)>Math.abs(c.Y)?(f="horizontal",m=c.X>0?1:-1):(f="vertical",m=c.Y>0?1:-1),u.trigger(x(t.Pointer.flick,i),{startXY:a,endXY:l,deltaXY:c,orientation:f,direction:m}))),y.off(b,X),y.off($,M),u.trigger(x(t.Pointer.dragend,i),{startXY:a,endXY:l,deltaXY:c})};y.on(w,C)}(jQuery,_,window,document),function(t,e,i,s,n){t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetOriginalName:"widget",widgetName:"widget",widgetFullName:"widget",defaultElement:!1,templates:{},options:{callbacks:{}},_createWidget:function(i,s){this.initializationType=s?"element":this.defaultElement?"html":this.templates.base?"template":"none",this.options=e.merge({},this.options,this._getCreateOptions(),i),"element"===this.initializationType&&e.merge(this.options,t(s).data(this.widgetName)),s=t(s||this.defaultElement||(this.templates.base?this._tmpl("base",this.options):!1)||this).get(0),this.element=s,this.$element=t(s),this.guid=e.uniqueId(),this.options.disabled=i&&i.disabled?i.disabled:this.$element.hasClass(this.widgetName+"-disabled"),t.data(this.element,this.widgetFullName,this),this._on(!0,this.$element,"remove",function(t){t.target===this.element&&this.destroy()}),this._create(),this._trigger("create",this._getCreateEventData()),this._variables(),this._init(),this._events()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_variables:e.noop,_init:e.noop,_events:e.noop,destroy:function(){this._destroy(),t.removeData(this.element,this.widgetFullName)},_destroy:e.noop,widget:function(){return this.$element},option:function(t,i){if(0===arguments.length)return e.cloneDeep(this.options);var s,o,r,a=t;if("string"==typeof t)if(a={},s=t.split("."),t=s.shift(),s.length){for(o=a[t]=e.extend({},this.options[t]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(t=s.pop(),1===arguments.length)return o[t]===n?null:o[t];o[t]=i}else{if(1===arguments.length)return this.options[t]===n?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.$element.toggleClass(this.widgetName+"-disabled",!!e),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(i,s,n,o,r){function a(){if(i||!h.options.disabled&&!h.$element.hasClass(h.widgetName+"-disabled")){var t=e.slice(arguments);return t.push(this),r.apply(h,t)}}var h=this;"boolean"!=typeof i&&(r=o,o=n,n=s,s=i,i=!1),s instanceof t||(r=o,o=n,n=s,s=this.$element),o&&!r&&(r=o,o=!1),r=e.isString(r)?this[r]:r,a.guid=r.guid=r.guid||a.guid||t.guid++,o?s.on(n,o,a):s.on(n,a)},_off:function(t,i,s){s||(s=i,i=t,t=this.$element),s=e.isString(s)?this[s]:s,t.off(i,s)},_trigger:function(t,e){e=e||{},t=t.split(" ");for(var i=0,s=t.length;s>i;i++)this.$element.trigger(this.widgetName+":"+t[i],e),"function"==typeof this.options.callbacks[t[i]]&&this.options.callbacks[t[i]].call(this.element,e)},_delay:function(t,e){var i=this;return setTimeout(function(){t.apply(i,arguments)},e||0)},_tmpl:function(e,i){return t.tmpl(this.widgetOriginalName+"."+e,i)},insertBefore:function(t){return this.$element.insertBefore(t),this},insertAfter:function(t){return this.$element.insertAfter(t),this},prependTo:function(t){return this.$element.prependTo(t),this},appendTo:function(t){return this.$element.appendTo(t),this}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget=function(i,s,n){var o,r,a,h,c={},l=i.split("."),d=l.length>1?l[0]:!1,u=l.length>1?l[1]:l[0];o=d?d+"-"+u:u,n||(n=s,s=t.Widget),d&&(t[d]=t[d]||{}),r=d?t[d][u]:t[u],a=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},d?t[d][u]=a:t[u]=a,e.extend(a,r,{_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.extend({},h.options);for(var p in n)"function"==typeof n[p]?c[p]=function(t){var e=function(){return s.prototype[t].apply(this,arguments)},i=function(e){return s.prototype[t].apply(this,e)};return function(){var s,o=this._super,r=this._superApply;return this._super=e,this._superApply=i,s=n[t].apply(this,arguments),this._super=o,this._superApply=r,s}}(p):c[p]=n[p];a.prototype=e.extend(h,c,{constructor:a,namespace:d,widgetOriginalName:i,widgetName:u,widgetFullName:o});for(var _ in n.templates)t.tmpl.cache[i+"."+_]=t.tmpl(n.templates[_]);if(r){for(var g=0,f=r._childConstructors.length;f>g;g++){var m=r._childConstructors[g].prototype;t.widget(m.namespace?m.namespace+"."+m.widgetName:m.widgetName,a,r._childConstructors[g]._proto)}delete r._childConstructors}else s._childConstructors.push(a);return t.widget.bridge(u,a),a},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(i){if(0!==this.length||s.prototype.defaultElement||s.prototype.templates.base){var r="string"==typeof i,a=e.tail(arguments),h=this;return r?this.each(function(){var e,s=t.data(this,o);if("instance"===i)return h=s,!1;if(s&&"function"==typeof s[i]&&"_"!==i.charAt(0))return e=s[i].apply(s,a),e!==s&&e!==n?(h=e,!1):void 0}):(a.length&&(i=e.extend.apply(null,[i].concat(a))),this.each(function(){var e=t.data(this,o);e?e.option(i||{}):t.data(this,o,new s(i,this))})),h}}}}(jQuery,_,window,document),function(t,e,i,s,n){t.ui={keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},mouseButton:{LEFT:0,MIDDLE:1,RIGHT:2}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.accordion",{_variables:function(){this.$accordion=this.$element,this.$expanders=this.$accordion.children(".expander"),this.expanders_instances=Array(this.$expanders.length),this.isMultiple=this.$accordion.hasClass("multiple")},_init:function(){for(var t=0,e=this.$expanders.length;e>t;t++)this.expanders_instances[t]=this.$expanders.eq(t).expander("instance")},_events:function(){this._on("expander:open",".expander",this._handler_open)},_handler_open:function(t,e,i){if(!this.isMultiple)for(var s=0,n=this.$expanders.length;n>s;s++)this.$expanders[s]!==i&&this.expanders_instances[s].close()},toggle:function(t){this.expanders_instances[t].toggle()},toggleAll:function(){e.each(this.expanders_instances,function(t){t.toggle()})},open:function(t){this.expanders_instances[t].open()},openAll:function(){e.each(this.expanders_instances,function(t){t.open()})},close:function(t){this.expanders_instances[t].close()},closeAll:function(){e.each(this.expanders_instances,function(t){t.close()})}}),t(function(){t(".accordion").accordion()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.autogrow",{options:{minimum_width:0,minimum_height:0,callbacks:{update:e.noop}},_variables:function(){this.$growable=this.$element,this.isInput=this.$growable.is("input"),this.isTextarea=this.$growable.is("textarea")},_init:function(){this.update()},_events:function(){this._on("input change",this.update)},_update_input_width:function(){var t=this._get_input_needed_width(this.$growable);this.$growable.width(Math.max(t,this.options.minimum_width))},_get_input_needed_width:function(){var e=t("<span>"+this.$growable.val()+"</span>");e.css({font:this.$growable.css("font"),position:"absolute",opacity:0}),e.appendTo($body);var i=e.width();return e.remove(),i},_update_textarea_height:function(){var t=this.$growable.height(1).get(0).scrollHeight-parseFloat(this.$growable.css("padding-top"))-parseFloat(this.$growable.css("padding-bottom"));this.$growable.height(Math.max(t,this.options.minimum_height))},update:function(){this.isInput?(this._update_input_width(),this._trigger("update")):this.isTextarea&&(this._update_textarea_height(),this._trigger("update"))}}),t(function(){t("input.autogrow, textarea.autogrow, .input-wrp.autogrow input, .textarea-wrp.autogrow textarea").autogrow()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.blurred=function(t){return this.toggleClass("blurred",t)}}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.btEach=function(t,i){return e.btEach(this,t,i)}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.checkbox",{options:{callbacks:{checked:e.noop,unchecked:e.noop}},_variables:function(){this.$checkbox=this.$element,this.$input=this.$checkbox.find("input")},_init:function(){var t=this.$checkbox.hasClass("checked");this.get()?t||this.$checkbox.addClass("checked"):t&&this.$checkbox.removeClass("checked")},_events:function(){this._on("click",function(){this.toggle()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var t=this.get();this.$checkbox.toggleClass("checked",t),this._trigger(t?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},toggle:function(t){var i=this.get();e.isUndefined(t)&&(t=!i),t!==i&&(this.$input.prop("checked",t).trigger("change"),this._trigger(t?"checked":"unchecked"))},check:function(){this.toggle(!0)},uncheck:function(){this.toggle(!1)}}),t(function(){t(".checkbox").checkbox()})}(jQuery,_,window,document),function(t,e,i,s){e.ColorHelper={hex2rgb:function(t){return{r:this.hex2dec(t.r),g:this.hex2dec(t.g),b:this.hex2dec(t.b)}},hex2hsv:function(t){return this.rgb2hsv(this.hex2rgb(t))},rgb2hex:function(t){return{r:this.dec2hex(t.r),g:this.dec2hex(t.g),b:this.dec2hex(t.b)}},rgb2hsv:function(t){var e,i,s=t.r/255,n=t.g/255,o=t.b/255,r=Math.max(s,n,o),a=r-Math.min(s,n,o),h=function(t){return(r-t)/6/a+.5};if(0===a)e=i=0;else{i=a/r;var c=h(s),l=h(n),d=h(o);s===r?e=d-l:n===r?e=1/3+c-d:o===r&&(e=2/3+l-c),0>e?e+=1:e>1&&(e-=1)}return{h:360*e,s:100*i,v:100*r}},hsv2hex:function(t){return this.rgb2hex(this.hsv2rgb(t))},hsv2rgb:function(t){var e,i,s,n=t.h,o=t.s,r=t.v;if(o/=100,r/=100,0===o)e=i=s=r;else{var a,h,c,l,d;switch(n/=60,a=Math.floor(n),h=n-a,c=r*(1-o),l=r*(1-o*h),d=r*(1-o*(1-h)),a){case 0:e=r,i=d,s=c;break;case 1:e=l,i=r,s=c;break;case 2:e=c,i=r,s=d;break;case 3:e=c,i=l,s=r;break;case 4:e=d,i=c,s=r;break;default:e=r,i=c,s=l}}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}},hsv2hsl:function(t){var e=t.s/100,i=t.v/100,s=(2-e)*i,n=e*i;return{h:t.h,s:n/(1>=s?s:2-s)*100,l:s/2*100}},hsl2hsv:function(t){var e=t.l/100*2,i=t.s/100*(1>=e?e:2-e);return{h:t.h,s:2*i/(e+i)*100,v:(e+i)/2*100}},dec2hex:function(e){return t.padLeft(e.toString(16),2,"0")},hex2dec:function(t){return parseInt(t,16)}}}(_,window,document),function(t,e,i,s){e.HexColor=function(e){if(t.isString(e)){if(e=e.replace("#",""),/^([0-9a-f]{3}){2}$/i.test(e))this.hsv=ColorHelper.hex2hsv({r:e[0]+e[1],g:e[2]+e[3],b:e[4]+e[5]});else{if(!/^[0-9a-f]{3}$/i.test(e))return this;this.hsv=ColorHelper.hex2hsv({r:e[0]+e[0],g:e[1]+e[1],b:e[2]+e[2]})}this.isValid=!0}},HexColor.prototype={isValid:!1,hsv:{h:0,s:0,v:0},getHexStr:function(){var t=ColorHelper.hsv2hex(this.hsv);return"#"+t.r+t.g+t.b}}}(_,window,document),function(t,e,i,s,n){t.widget("presto.colorpicker",{options:{default_color:"#ff0000",live:!0,callbacks:{change:e.noop}},_variables:function(){this.$colorpicker=this.$element,this.$sb_wrp=this.$colorpicker.find(".colorpicker-saturation-brightness-wrp"),this.$handler_sb=this.$sb_wrp.find(".colorpicker-handler"),this.$hue_wrp=this.$colorpicker.find(".colorpicker-hue-wrp"),this.$handler_hue=this.$hue_wrp.find(".colorpicker-handler"),this.id=this.$colorpicker.attr("id"),this.$inputs=t('input[name="'+this.id+'"]'),this.color=new HexColor,this.hex="",this._update_variables(),this.sb_wrp_size=this.$sb_wrp.width(),this.hue_wrp_height=this.sb_wrp_size},_init:function(){this.set(this.$inputs.val())||(this.color=new HexColor(this.options.default_color),this._update_sb(),this._update_hue())},_events:function(){this._on($window,"resize",this._handler_resize),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$sb_wrp,"mouseenter",this._handler_sb_wrp_arrows_in),this._on(this.$sb_wrp,"mouseleave",this._handler_sb_wrp_arrows_out),this._on(this.$sb_wrp,t.Pointer.dragmove,this._handler_sb_drag_move),this._on(this.$sb_wrp,t.Pointer.dragend,this._handler_sb_drag_end),this._on(this.$hue_wrp,"mouseenter",this._handler_hue_wrp_arrows_in),this._on(this.$hue_wrp,"mouseleave",this._handler_hue_wrp_arrows_out),this._on(this.$hue_wrp,t.Pointer.dragmove,this._handler_hue_drag_move),this._on(this.$hue_wrp,t.Pointer.dragend,this._handler_hue_drag_end)},_update_variables:function(){this.sb_wrp_offset=this.$sb_wrp.offset(),this.hue_wrp_offset=this.$hue_wrp.offset()},_handler_resize:function(){this._update_variables()},_handler_sb_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_sb_wrp_arrows_keydown)},_handler_sb_wrp_arrows_keydown:function(){switch(event.keyCode){case t.ui.keyCode.UP:this.color.hsv.v=Math.min(100,this.color.hsv.v+1);break;case t.ui.keyCode.RIGHT:this.color.hsv.s=Math.min(100,this.color.hsv.s+1);break;case t.ui.keyCode.DOWN:this.color.hsv.v=Math.max(0,this.color.hsv.v-1);break;case t.ui.keyCode.LEFT:this.color.hsv.s=Math.max(0,this.color.hsv.s-1);break;default:return}this._update_sb(),this._update_input()},_sb_drag_set:function(t,i){this.color.hsv.s=100*e.clamp(0,t.X-this.sb_wrp_offset.left,this.sb_wrp_size)/this.sb_wrp_size,this.color.hsv.v=100-100*e.clamp(0,t.Y-this.sb_wrp_offset.top,this.sb_wrp_size)/this.sb_wrp_size,this._update_sb(),i&&this._update_input()},_handler_sb_drag_move:function(t,e){this._sb_drag_set(e.moveXY,this.options.live)},_handler_sb_drag_end:function(t,e){this._sb_drag_set(e.endXY,!0)},_handler_hue_wrp_arrows_in:function(){this._on($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_out:function(){this._off($document,"keydown",this._handler_hue_wrp_arrows_keydown)},_handler_hue_wrp_arrows_keydown:function(){switch(event.keyCode){case t.ui.keyCode.UP:this.color.hsv.h=Math.min(359,this.color.hsv.h+1);break;case t.ui.keyCode.DOWN:this.color.hsv.h=Math.max(0,this.color.hsv.h-1);break;default:return}this._update_hue(),this._update_input()},_hue_drag_set:function(t,i){this.color.hsv.h=359-359*e.clamp(0,t.Y-this.hue_wrp_offset.top,this.hue_wrp_height)/this.hue_wrp_height,this._update_hue(),i&&this._update_input()},_handler_hue_drag_move:function(t,e){this._hue_drag_set(e.moveXY,this.options.live)},_handler_hue_drag_end:function(t,e){this._hue_drag_set(e.endXY,!0)},_handler_input_keydown:function(e){e.keyCode===t.ui.keyCode.ENTER&&(this.set(this.$inputs.val())||this.$inputs.val(this.hex))},_update_input:function(){this.hex=this.color.getHexStr(),this.$inputs.val(this.hex).css("background-color",this.hex).trigger("change"),this._trigger("change")},_update_sb:function(){var t=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_sb.css({"background-color":"hsl("+t.h+","+t.s+"%,"+t.l+"%)",transform:"translate3d("+this.sb_wrp_size/100*this.color.hsv.s+"px,"+this.sb_wrp_size/100*(100-this.color.hsv.v)+"px,0)"})},_update_hue:function(){var t=ColorHelper.hsv2hsl(this.color.hsv);this.$handler_hue.css({"background-color":"hsl("+this.color.hsv.h+",100%,50%)",transform:"translate3d(0,"+this.hue_wrp_height/100*(100-this.color.hsv.h/360*100)+"px,0)"}),this.$handler_sb.css("background-color","hsl("+t.h+","+t.s+"%,"+t.l+"%)"),this.$sb_wrp.css("background-color","hsl("+this.color.hsv.h+",100%,50%)")},_update:function(){this._update_sb(),this._update_hue(),this._update_input()},get:function(){return this.color.getHexStr()},set:function(t){var i=new HexColor(t);return i.isValid&&!e.isEqual(i.hsv,this.color.hsv)&&(this.color=i,this._update()),i.isValid}}),t(function(){t(".colorpicker").colorpicker()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=encodeURIComponent,r=decodeURIComponent;t.cookie={get:function(t){return t?r(s.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+o(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(t,e,i,n,r,a){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var h="";if(i)switch(i.constructor){case Number:h=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:h="; expires="+i;break;case Date:h="; expires="+i.toUTCString()}return s.cookie=o(t)+"="+o(e)+h+(r?"; domain="+r:"")+(n?"; path="+n:"")+(a?"; secure":""),!0},remove:function(t,e,i){return this.has(t)?(s.cookie=o(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0):!1},has:function(t){return t?new RegExp("(?:^|;\\s*)"+o(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie):!1},keys:function a(){for(var a=s.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0,e=a.length;e>t;t++)a[t]=r(a[t]);return a}}}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.draggable",{options:{selectors:{handler:".draggable-handler"},draggable:e["true"],only_handlers:!1,revertable:!1,axis:!1,constrainer:{$element:!1,coordinates:!1,constrain_center:!1,axis:!1,tollerance:{x:0,y:0}},modifiers:{x:e["true"],y:e["true"]},callbacks:{beforestart:e.noop,start:e.noop,move:e.noop,end:e.noop}},_variables:function(){this.draggable=this.element,this.$draggable=this.$element,this.options.only_handlers&&(this.$handlers=this.$draggable.find(this.options.selectors.handler))},_events:function(){this.options.only_handlers?(this._on(this.$handlers,t.Pointer.dragstart,this._start),this._on(this.$handlers,t.Pointer.dragmove,this._move),this._on(this.$handlers,t.Pointer.dragend,this._end)):(this._on(t.Pointer.dragstart,this._start),this._on(t.Pointer.dragmove,this._move),this._on(t.Pointer.dragend,this._end))},_start:function(t,i){if(this.isDraggable=this.options.draggable(),this.isDraggable){this._trigger("beforestart"),this.motion=!1;var s=this.$draggable.css("transform"),n="none"!==s?s.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0];this.initialXY={X:parseInt(n[4],10),Y:parseInt(n[5],10)},this._trigger("start",e.merge(i,{initialXY:this.initialXY,draggable:this.draggable,$draggable:this.$draggable}))}},_move:function(t,i){if(this.isDraggable){if(this.motion===!1){if(this.motion=!0,this.options.constrainer.$element){var s=this.options.constrainer.$element.offset(),o=this.$draggable.offset();this.translateX_min=s.left-(o.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0),this.translateX_max=s.left+this.options.constrainer.$element.width()-(o.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0),this.translateY_min=s.top-(o.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0),this.translateY_max=s.top+this.options.constrainer.$element.height()-(o.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?this.$draggable.height()/2:0)}else if(this.options.constrainer.coordinates){var o=this.$draggable.offset();e.isUndefined(this.options.constrainer.coordinates.x1)||(this.translateX_min=this.options.constrainer.coordinates.x1-(o.left-this.initialXY.X)+(this.options.constrainer.constrain_center?-this.$draggable.width()/2:0)),e.isUndefined(this.options.constrainer.coordinates.x2)||(this.translateX_max=this.options.constrainer.coordinates.x2-(o.left-this.initialXY.X+this.$draggable.width())+(this.options.constrainer.constrain_center?this.$draggable.width()/2:0)),e.isUndefined(this.options.constrainer.coordinates.y1)||(this.translateY_min=this.options.constrainer.coordinates.y1-(o.top-this.initialXY.Y)+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0)),e.isUndefined(this.options.constrainer.coordinates.y2)||(this.translateY_max=this.options.constrainer.coordinates.y2-(o.top-this.initialXY.Y+this.$draggable.height())+(this.options.constrainer.constrain_center?-this.$draggable.height()/2:0))}$html.addClass("dragging"),this.$draggable.addClass("dragging")}var r=this.initialXY.X+("y"===this.options.axis?0:i.deltaXY.X),a=this.initialXY.Y+("x"===this.options.axis?0:i.deltaXY.Y);(this.options.constrainer.$element||this.options.constrainer.coordinates)&&("y"!==this.options.constrainer.axis&&(r=e.clamp(e.isUndefined(this.translateX_min)?n:this.translateX_min-this.options.constrainer.tollerance.x,r,e.isUndefined(this.translateX_max)?n:this.translateX_max+this.options.constrainer.tollerance.x)),"x"!==this.options.constrainer.axis&&(a=e.clamp(e.isUndefined(this.translateY_min)?n:this.translateY_min-this.options.constrainer.tollerance.y,a,e.isUndefined(this.translateY_max)?n:this.translateY_max+this.options.constrainer.tollerance.y)));var h={X:this.options.modifiers.x(r),Y:this.options.modifiers.y(a)};this.$draggable.css("transform","translate3d("+(e.isBoolean(h.X)?h.X?r:this.initialXY.X:h.X)+"px,"+(e.isBoolean(h.Y)?h.Y?a:this.initialXY.Y:h.Y)+"px,0)"),this._trigger("move",e.merge(i,{initialXY:this.initialXY,modifiedXY:h,draggable:this.draggable,$draggable:this.$draggable}))}},_end:function(t,i){this.isDraggable&&(this.motion===!0&&($html.removeClass("dragging"),this.$draggable.removeClass("dragging"),this.options.revertable&&this.$draggable.css("transform","translate3d("+this.initialXY.X+"px,"+this.initialXY.Y+"px,0)")),this._trigger("end",e.merge(i,{initialXY:this.initialXY,draggable:this.draggable,$draggable:this.$draggable,dragged:this.motion})))}}),t(function(){t(".draggable").draggable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.datepicker",{options:{names:{months:["January","February","March","April","May","June","July","August","September","October","November","December"]},date:{today:!1,current:!1,selected:null},callbacks:{change:e.noop,refresh:e.noop}},_variables:function(){this.$datepicker=this.$element,this.id=this.$datepicker.attr("id"),this.$inputs=this.id?t('input[name="'+this.id+'"]'):$empty,this.$navigation_prev=this.$datepicker.find(".datepicker-navigation-prev"),this.$navigation_title=this.$datepicker.find(".datepicker-navigation-title"),this.$navigation_next=this.$datepicker.find(".datepicker-navigation-next"),this.$days_prev=this.$datepicker.find(".datepicker-day-prev"),this.$days_current=this.$datepicker.find(".datepicker-day"),this.$days_next=this.$datepicker.find(".datepicker-day-next"),this.$days_all=this.$days_prev.add(this.$days_current).add(this.$days_next),this.options.date.today===!1&&(this.options.date.today=new Date),this.options.date.current===!1&&(this.options.date.current=new Date),this.$day_today=!1,this.$day_selected=!1},_init:function(){this._refresh()},_events:function(){this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$inputs,"keydown",this._handler_input_keydown),this._on(this.$navigation_prev,"click",this._handler_prev_click),this._on(this.$navigation_next,"click",this._handler_next_click),this._on("click",".datepicker-day",this._handler_day_current_click)},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){switch(e.keyCode){case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:this.navigate_month(-1);break;case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:this.navigate_month(1)}},_handler_input_keydown:function(e){e.keyCode===t.ui.keyCode.ENTER&&this.set(this.$inputs.val())},_handler_prev_click:function(){this.navigate_month(-1)},_handler_next_click:function(){this.navigate_month(1)},_handler_day_current_click:function(e,i){this._unhighlight_selected();var s=parseInt(t(i).html(),10);this.options.date.selected=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),s),this._highlight_selected(),this._update_input()},_build_calendar:function(){var t=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),0).getDate(),e=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth()+1,0).getDate(),i=new Date(this.options.date.current.getFullYear(),this.options.date.current.getMonth(),1).getDay();i=0===i?6:i-1,this.$days_all.removeClass("hidden");var s=31-t,n=i,o=9-s-n;this.$days_prev.slice(o+n,this.$days_prev.length).addClass("hidden"),this.$days_prev.slice(0,o).addClass("hidden"),this.$days_current.slice(e,this.$days_current.lenght).addClass("hidden");var o=(e+i)%7;this.$days_next.slice(0===o?0:7-o).addClass("hidden")},_highlight_day:function(t,e){if(t&&t.getFullYear()===this.options.date.current.getFullYear()){var i=t.getMonth()-this.options.date.current.getMonth();switch(i){case-1:return this.$days_prev.eq(t.getDate()-23).addClass(e);case 0:return this.$days_current.eq(t.getDate()-1).addClass(e);case 1:return this.$days_next.eq(t.getDate()-1).addClass(e)}}return!1},_unhighlight_selected:function(){this.$day_selected&&this.$day_selected.removeClass("datepicker-day-selected")},_highlight_selected:function(){this.$day_selected=this._highlight_day(this.options.date.selected,"datepicker-day-selected")},_unhighlight_today:function(){this.$day_today&&this.$day_today.removeClass("datepicker-day-today")},_highlight_today:function(){this.$day_today=this._highlight_day(this.options.date.today,"datepicker-day-today")},_update_title:function(){this.$navigation_title.html(this.options.names.months[this.options.date.current.getMonth()]+", "+this.options.date.current.getFullYear())},_update_input:function(){this.options.date.selected&&this.$inputs.val(this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate()).change()},_refresh:function(){this._unhighlight_selected(),this._unhighlight_today(),this._build_calendar(),this._highlight_selected(),this._highlight_today(),this._update_title(),this._trigger("refresh")},get:function(t){return t&&this.options.date.selected?this.options.date.selected.getFullYear()+"-"+this.options.date.selected.getMonth()+"-"+this.options.date.selected.getDate():this.options.date.selected},set:function(t){if(e.isString(t))var i=t.split("-"),t=new Date(i[0],i[1],i[2]);else var t=new Date(t);e.isNaN(t.valueOf())||(this.options.date.selected=t,this.options.date.selected.getFullYear()===this.options.date.current.getFullYear()&&this.options.date.selected.getMonth()===this.options.date.current.getMonth()?(this._unhighlight_selected(),this._highlight_selected()):(this.options.date.current.setFullYear(this.options.date.selected.getFullYear()),this.options.date.current.setMonth(this.options.date.selected.getMonth()),this._refresh()),this._update_input())},navigate_month:function(t){t&&(this.options.date.current.setMonth(this.options.date.current.getMonth()+t),this._refresh())},prev_month:function(){this.navigate_month(-1);
},next_month:function(){this.navigate_month(1)}}),t(function(){t(".datepicker").datepicker()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.positionate=function(i){var s=e.merge({direction:!1,axis:!1,$anchor:!1,$pointer:!1,point:!1,ranks:{x:["right","left"],y:["bottom","top"],all:["bottom","right","left","top"]},callbacks:{positionated:e.noop}},i);this.removeClass("positionate-top positionate-bottom positionate-left positionate-right");var n=e.unique(e.union(s.direction?[s.direction]:[],s.axis?s.ranks[s.axis]:[],s.ranks.all)),o=$window.width(),r=$window.height(),a=$html.scrollTop(),h=$html.scrollLeft(),c=(this.offset(),this.outerWidth()),l=this.outerHeight(),d=s.$anchor?s.$anchor.offset():{top:s.point.y,left:s.point.x},u=s.$anchor?s.$anchor.outerWidth():0,p=s.$anchor?s.$anchor.outerHeight():0,_=e.map(n,function(t){switch(t){case"top":return d.top-a;case"bottom":return r-d.top-p+a;case"left":return d.left-h;case"right":return o-d.left-u+h}}),g=e.map(n,function(t,e){switch(t){case"top":case"bottom":return Math.min(l,_[e])*Math.min(o,c);case"left":case"right":return Math.min(c,_[e])*Math.min(r,l)}}),f=n[g.indexOf(e.max(g))];switch(f){case"top":case"bottom":var m={left:d.left+u/2-c/2,top:"top"===f?d.top-l:d.top+p};break;case"left":case"right":var m={top:d.top+p/2-l/2,left:"left"===f?d.left-c:d.left+u}}m.top=e.clamp(0,m.top,r-l),m.left=e.clamp(0,m.left,o-c);var v={coordinates:m,direction:f};if(this.css("transform","translate3d("+m.left+"px,"+m.top+"px,0)"),this.addClass("positionate-"+f),s.$anchor&&s.$pointer){var w=e.isFunction(s.$pointer)?s.$pointer(v):s.$pointer;if(w instanceof t){var b=w.css("transform"),$="none"!==b?b.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],y=w.position();switch(f){case"top":case"bottom":var k=w.width(),x=parseInt($[4],10)+(d.left+u/2-h-(m.left+y.left+k/2)),C=parseInt($[5],10);break;case"left":case"right":var Y=w.height(),x=parseInt($[4],10),C=parseInt($[5],10)+(d.top+p/2-a-(m.top+y.top+Y/2))}w.css("transform","translate3d("+x+"px,"+C+"px,0)")}}return s.callbacks.positionated(v),this}}(jQuery,_,window,document),function(t,e,i,s,n){var o={};t.widget("presto.dropdown",{options:{callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$dropdown=this.$element,this.$tips=this.$dropdown.find(".dropdown-tip"),this.$top_tip=this.$tips.filter(".top"),this.$right_tip=this.$tips.filter(".right"),this.$bottom_tip=this.$tips.filter(".bottom"),this.$left_tip=this.$tips.filter(".left"),this.$actionables=this.$dropdown.find(".actionable"),this.id=this.$dropdown.attr("id"),this.$triggers=t('.dropdown-trigger[data-dropdown="'+this.id+'"]'),this.hasTips=!this.$dropdown.hasClass("no-tip"),this.isAttached=this.$dropdown.hasClass("attached"),this.opened=!1},_events:function(){this._on(this.$triggers,"click",this.toggle),this._on(this.$actionables,"click",this.close)},_bind_window_resize_scroll:function(){this._on($window,"resize scroll",this._update)},_unbind_window_resize_scroll:function(){this._off($window,"resize scroll",this._update)},_bind_window_click:function(){this._on($window,"click",this._handler_window_click)},_unbind_window_click:function(){this._off($window,"click",this._handler_window_click)},_handler_window_click:function(e){var i=t(e.target).parents();if(-1===i.index(this.$dropdown)){for(var s=0,n=this.$triggers.length;n>s;s++)if(e.target===this.$triggers.get(s)||-1!==i.index(this.$triggers.get(s)))return;this.close()}},_positionate:function(){var e=t(o[this.id]),i=e.hasClass("no-tip")||!this.hasTips||this.isAttached,s=this;this.$dropdown.positionate({$anchor:e,$pointer:function(t){return i?void 0:s["$"+s._get_opposite_direction(t.direction)+"_tip"]},callbacks:{positionated:function(t){e.addClass("dropdown-trigger-"+t.direction)}}})},_get_opposite_direction:function(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},_update:function(){this.opened&&this._positionate()},toggle:function(t,e){this[this.opened&&o[this.id]===e?"close":"open"](t,e)},open:function(e,i){i&&(t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.opened&&o[this.id]!==i&&this.$dropdown.addClass("moving"),o[this.id]=i,t(i).addClass("active")),this._positionate(),this.$dropdown.addClass("active"),this.opened=!0,this._delay(this._bind_window_click),this._bind_window_resize_scroll(),this._trigger("open")},close:function(){t(o[this.id]).removeClass("dropdown-trigger-top dropdown-trigger-bottom dropdown-trigger-left dropdown-trigger-right active"),this.$dropdown.removeClass("active moving"),this.opened=!1,this._unbind_window_click(),this._unbind_window_resize_scroll(),this._trigger("close")}}),t(function(){t(".dropdown").dropdown()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.expander",{options:{selectors:{toggler:".expander-toggler",content:".container-content"},delay:{open:250,close:250},callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$expander=this.$element,this.$content=this.$expander.find(this.options.selectors.content),this.opened=!1},_init:function(){this.$expander.hasClass("opened")&&this.open()},_events:function(){this._on("click",this.options.selectors.toggler,this.toggle)},toggle:function(t){e.isBoolean(t)||(t=!this.opened),t!==this.opened&&(this.opened=t,this.$expander.toggleClass("opened",this.opened),this.$content[this.opened?"slideDown":"slideUp"](this.options.delay.close),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),t(function(){t(".expander").expander()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.flippable",{options:{selectors:{flipper:".flipper"},callbacks:{font:e.noop,back:e.noop,flipped:e.noop}},_variables:function(){this.$flippable=this.$element,this.$front=this.$flippable.find(".flippable-front"),this.$back=this.$flippable.find(".flippable-back"),this.isFlipped=this.$flippable.hasClass("flipped")},_events:function(){this._on("click",this.options.selectors.flipper,this.flip)},flip:function(){this.isFlipped=!this.isFlipped,this.$flippable.toggleClass("flipped",this.isFlipped),this._trigger(this.isFlipped?"front":"back"),this._trigger("flipped")}}),t(function(){t(".flippable-wrp").flippable()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=[];t.fn.formSync=function(){this.each(function(){var e=t(this),i=e.data("sync-group");if(-1===o.indexOf(i)){o.push(i);var s=t('form[data-sync-group="'+i+'"]'),n=s.find("input, textarea, select");n.each(function(){var e=t(this),i=e.attr("name"),n=e.is('[type="radio"], [type="checkbox"]'),o=n&&e.is('[type="radio"]'),r=e.is("input, textarea"),a=r?"input change":"change",h=e.parent("form"),c=s.not(h),l=c.find('[name="'+i+'"]');e.on(a,function(){var i=e.val(),s=!!e.prop("checked");l.each(function(){var e=t(this),r=e.val(),a=!!e.prop("checked");if(o){if(i!==r||s===a)return}else if(i===r&&s===a)return;n?e.prop("checked",s).trigger("change"):e.val(i).trigger("change")})})})}})},t(function(){t("form[data-sync-group]").formSync()})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.loading=function(i,s){var n=e.merge({color:{wrapper:"inherit",spinner:"secondary"}},s);this.addClass("spinner-overlay-activable"),e.isUndefined(i)&&(i=!this.hasClass("spinner-overlay-active"));var o=this.children(".spinner-overlay");return 0===o.length?this.prepend('<div class="spinner-overlay '+n.color.wrapper+'"><div class="spinner-wrp"><div class="spinner '+n.color.spinner+'"><div class="circle-wrp left"><div class="circle"></div></div><div class="circle-wrp right"><div class="circle"></div></div></div></div></div>'):i&&(o.attr("class","spinner-overlay "+n.color.wrapper),o.find(".spinner").attr("class","spinner "+n.color.spinner)),t.reflow(),this.toggleClass("spinner-overlay-active",i),this}}(jQuery,_,window,document),function(t,e,i,s,n){var o=[];t.noty=function(i){var s={autoplay:!0};e.isString(i)?s.body=i:e.isPlainObject(i)&&e.merge(s,i),s.buttons&&(s.type="action");var n=new t.presto.noty(s);return s.autoplay&&n.open(),n},t.widget("presto.noty",{templates:{base:'<div class="noty container {%=o.type%} {%=o.color%} {%=o.css%}"><div class="container-content"><div class="infobar-wrp inset {%=o.color%}">{% if ( o.img ) include ( "presto.noty.img", o.img ); %}<div class="infobar-center">{% if ( o.title ) include ( "presto.noty.title", o.title ); %}{% if ( o.body ) include ( "presto.noty.body", o.body ); %}</div>{% if ( o.buttons.length === 1 ) include ( "presto.noty.single_button", o.buttons[0] ); %}</div>{% if ( o.buttons.length > 1 ) include ( "presto.noty.buttons", o.buttons ); %}</div></div>',img:'<div class="noty-img infobar-left"><img src="{%=o%}" class="smooth" /></div>',title:'<p class="infobar-title">{%#o%}</p>',body:"{%#o%}",single_button:'<div class="infobar-right">{% include ( "presto.noty.button", o ); %}</div>',buttons:'<div class="noty-buttons multiple-wrp centered"><div class="multiple">{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.noty.button", o[i] ); %}{% } %}</div></div>',button:'<div class="label-wrp button-wrp"><div class="label actionable {%=(o.color || "white")%} {%=(o.size || "small")%} {%=(o.css || "")%}"><div class="label-center">{%#(o.text || "")%}</div></div></div>'},options:{anchor:{y:"bottom",x:"left"},delay:{remove:200},title:!1,body:!1,img:!1,buttons:[],type:"alert",color:"black",css:"",ttl:3500,callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$noty=this.$element,this.timer=!1,this.isOpen=!1,this.neverOpened=!0},_init_click:function(){this.options.buttons.length||this._on("click",this.close)},_init_buttons_click:function(){if(this.options.buttons.length){var t=this.$noty.find(".button-wrp .label"),i=this;e.each(this.options.buttons,function(e,s){var n=t.eq(s);n.on("click",function(t){e.onClick&&e.onClick.call(this,t),i.close()})})}},_init_timer:function(){0===this.options.buttons.length&&"forever"!==this.options.ttl&&(this.timer=t.timer(this.close.bind(this),this.options.ttl,!0),o.push(this.timer))},_init_hover:function(){this.$noty.hover(function(){e.each(o,function(t){t.pause()})},function(){e.each(o,function(t){t.remaining(Math.max(1e3,t.remaining()||0)),t.play()})})},open:function(){this.isOpen||(t(".noty-queues."+this.options.anchor.y+" .noty-queue."+this.options.anchor.x).first().append(this.$noty),t.reflow(),this.$noty.addClass("active"),this.neverOpened&&(this._init_click(),this._init_buttons_click(),this._init_hover(),this.neverOpened=!1),this._init_timer(),this._trigger("open"),this.isOpen=!0)},close:function(){this.timer&&(e.pull(o,this.timer),this.timer.stop()),this.$noty.removeClass("active"),this._delay(function(){this.$noty.remove()},this.options.delay.remove),this._trigger("close"),this.isOpen=!1}}),t(function(){$body.append('<div class="noty-queues top"><div class="noty-queue expanded"></div><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div></div><div class="noty-queues bottom"><div class="noty-queues-row"><div class="noty-queue left"></div><div class="noty-queue center"></div><div class="noty-queue right"></div></div><div class="noty-queue expanded"></div></div>')})}(jQuery,_,window,document),function(t,e,i,s,n){t.fn.formAjax=function(){this.on("submit",function(s){var n=t(this);s.preventDefault(),t.ajax({cache:!1,contentType:"multipart/form-data",data:new FormData(this),processData:!1,type:n.attr("method")||"POST",url:n.attr("action"),beforeSend:function(){n.loading(!0)},error:function(i){e.isString(i)?"<"===i[0]?(t.noty("There was an error, please try again or report the problem"),$body.append(i)):t.noty(i):t.noty("There was an error, please try again or report the problem")},success:function(s){e.isString(s)?"refresh"===s?(t.noty("Done! Refreshing the page..."),location.reload()):/^((\S*)?:\/\/)?\/?\S*$/.test(s)?s===i.location.href||s===i.location.pathname?(t.noty("Done! Refreshing the page..."),location.reload()):(t.noty("Done! Redirecting..."),location.assign(s)):"<"===s[0]?(t.noty("Done! A page refresh may be needed to see the changes"),$body.append(s)):t.noty(s):t.noty("Done! A page refresh may be needed to see the changes")},complete:function(){n.loading(!1)}})})},t(function(){t("form.ajax").formAjax()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.infobar",{options:{selectors:{closer:".infobar-closer"},delay:{close:250},callbacks:{close:e.noop}},_variables:function(){this.$infobar=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},close:function(){this.$infobar.addClass("remove").slideUp(this.options.delay.close),this._delay(function(){this.$infobar.remove(),this._trigger("close")},this.options.delay.close)}}),t(function(){t(".infobar-wrp").infobar()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.modal",{options:{selectors:{closer:".modal-closer"},callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$modal=this.$element},_events:function(){this._on("click",this.options.selectors.closer,this.close)},_handler_esc_keydown:function(e){e.keyCode===t.ui.keyCode.ESCAPE&&this.close()},open:function(){this.$modal.addClass("active"),this._on($document,"keydown",this._handler_esc_keydown),this._trigger("open")},close:function(){this.$modal.removeClass("active"),this._off($document,"keydown",this._handler_esc_keydown),this._trigger("close")}}),t(function(){t(".modal").modal(),t("[data-modal-trigger]").on("click",function(){t("#"+t(this).data("modal-trigger")).modal("instance").open()})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.navbar",{options:{callbacks:{open:e.noop,close:e.noop}},_variables:function(){this.$navbar=this.$element,this.$wrp=this.$navbar.parent(),this.id=this.$navbar.attr("id"),this.$closers=this.$wrp.find(".navbar-closer"),this.$triggers=t('.navbar-trigger[data-navbar="'+this.id+'"]'),this.opened=this.$wrp.hasClass("opened")},_events:function(){this._on(this.$closers,"click",this.close),this._on(this.$triggers,"click",this.open)},toggle:function(t){e.isUndefined(t)&&(t=!this.opened),t!==this.opened&&(this.opened=t,this.$wrp.toggleClass("opened",this.opened),this._trigger(this.opened?"open":"close"))},open:function(){this.toggle(!0)},close:function(){this.toggle(!1)}}),t(function(){t(".navbar").navbar()})}(jQuery,_,window,document),function(t,e,i,s,n){t.notification=function(n){var o=e.merge({title:!1,body:!1,img:!1},n);!s.hasFocus()&&i.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(e){if("granted"===e){new Notification(o.title,{body:o.body,icon:o.img})}else t.noty(o)}):t.noty(o)}}(jQuery,_,window,document),function(t,e,i,s,n){t.oneTimeAction=function(t,i){var s={container:"ota",expiry:1/0,name:!1,action:!1};if(e.isString(t)?(s.name=t,e.isFunction(i)&&(s.action=i)):e.isPlainObject(t)&&e.merge(s,t),s.name){var i=new r(s.container,s.name);return s.action&&!i.get()&&(s.action(),i.set()),i}return s.container?new o(s.container,s.expiry):void 0};var o=function(e,i){this.name=e,this.expiry=i,this.actionsStr=t.cookie.get(this.name)||"",this.actions=this.actionsStr.length>0?this.actionsStr.split("|"):[]};o.prototype={get:function(t){return e.contains(this.actions,t)},set:function(t){this.get(t)||(this.actions.push(t),this.update())},update:function(){this.actionsStr=this.actions.join("|"),t.cookie.set(this.name,this.actionsStr,this.expiry)},reset:function(i){i?(e.pull(this.actions,i),this.update()):t.cookie.remove(this.name)}};var r=function(t,e,i){this.container=new o(t),this.name=e};r.prototype={get:function(){return this.container.get(this.name)},set:function(){this.container.set(this.name)},reset:function(){this.container.reset(this.name)}}}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(t,i){if(e.isUndefined(i))var s=e.isNumber(t)?{percentages:[{value:t}]}:t.percentages?t:{percentages:[t]};else for(var s={percentages:Array(arguments.length)},n=0,o=arguments.length;o>n;n++)s.percentages[n]=e.isNumber(arguments[n])?{value:arguments[n]}:arguments[n];return s};t.progressBar=function(e,i){return e=o.apply(null,arguments),new t.presto.progressBar(e)},t.widget("presto.progressBar",{templates:{base:'<div class="progressBar {%=(o.striped ? "striped" : "")%} {%=o.color%} {%=o.size%} {%=o.css%}"><div class="progressBar-unhighlighted">{% include ( "presto.progressBar.percentages" + ( o.labeled ? "_labeled" : "" ), o.percentages ); %}</div><div class="progressBar-stripes"></div></div>',percentages:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage", o[i] ); %}{% } %}',percentages_labeled:'{% for ( var i = 0; i < o.length; i++ ) { %}{% include ( "presto.progressBar.percentage_labeled", o[i] ); %}{% } %}',percentage:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}"></div>',percentage_labeled:'<div class="progressBar-highlighted {%=(o.color || "")%} {%=(o.css || "")%}">{% include ( "presto.progressBar.label", {} ); %}</div>',label:'<div class="progressBar-label"></div>'},options:{percentages:[],color:"",size:"",css:"",striped:!1,labeled:!1,decimals:0,callbacks:{update:e.noop,full:e.noop}},_variables:function(){this.$progressBar=this.$element,this.$highlighteds=this.$progressBar.find(".progressBar-highlighted"),this.$stripes=this.$progressBar.find(".progressBar-stripes")},_init:function(){"element"!==this.initializationType&&this._update()},_update:function(){for(var t=0,i=this.options.percentages.length;i>t;t++){var s=this.$highlighteds.eq(t);if(s.width(this.options.percentages[t].value+"%"),this.options.labeled){var n=s.find(".progressBar-label");n.html(+this.options.percentages[t].value.toFixed(this.options.decimals))}}var o=e.clamp(0,e.sum(this.get().slice(0,this.$highlighteds.length)),100);this.options.striped&&this.$stripes.width(o+"%"),100===o&&this._trigger("full")},get:function(){return e.map(this.options.percentages,function(t){return t.value})},set:function(t,i){t=o.apply(null,arguments),e.merge(this.options,t),this._update(),this._trigger("update")}}),t(function(){t(".progressBar").each(function(){var e=t(this),i={percentages:[],striped:e.hasClass("striped"),labeled:!!e.find(".progressBar-label").length};e.find(".progressBar-highlighted").each(function(){i.percentages.push({value:parseFloat(this.style.width)})}),e.progressBar(i)})})}(jQuery,_,window,document),self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function(t){var i=e.util.type(t);switch(i){case"Object":var s={};for(var n in t)t.hasOwnProperty(n)&&(s[n]=e.util.clone(t[n]));return s;case"Array":return t.slice()}return t}},languages:{extend:function(t,i){var s=e.util.clone(e.languages[t]);for(var n in i)s[n]=i[n];return s},insertBefore:function(t,i,s,n){n=n||e.languages;var o=n[t];if(2==arguments.length){s=arguments[1];for(var r in s)s.hasOwnProperty(r)&&(o[r]=s[r]);return o}var a={};for(var h in o)if(o.hasOwnProperty(h)){if(h==i)for(var r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);a[h]=o[h]}return e.languages.DFS(e.languages,function(e,i){i===n[t]&&e!=t&&(this[e]=a)}),n[t]=a},DFS:function(t,i,s){for(var n in t)t.hasOwnProperty(n)&&(i.call(t,n,t[n],s||n),"Object"===e.util.type(t[n])?e.languages.DFS(t[n],i):"Array"===e.util.type(t[n])&&e.languages.DFS(t[n],i,n))}},highlightAll:function(t,i){for(var s,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;s=n[o++];)e.highlightElement(s,t===!0,i)},highlightElement:function(s,n,o){for(var r,a,h=s;h&&!t.test(h.className);)h=h.parentNode;if(h&&(r=(h.className.match(t)||[,""])[1],a=e.languages[r]),a){s.className=s.className.replace(t,"").replace(/\s+/g," ")+" language-"+r,h=s.parentNode,/pre/i.test(h.nodeName)&&(h.className=h.className.replace(t,"").replace(/\s+/g," ")+" language-"+r);var c=s.textContent;if(c){var l={element:s,language:r,grammar:a,code:c};if(e.hooks.run("before-highlight",l),n&&self.Worker){var d=new Worker(e.filename);d.onmessage=function(t){l.highlightedCode=i.stringify(JSON.parse(t.data),r),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(l.element),e.hooks.run("after-highlight",l)},d.postMessage(JSON.stringify({language:l.language,code:l.code}))}else l.highlightedCode=e.highlight(l.code,l.grammar,l.language),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(s),e.hooks.run("after-highlight",l)}}},highlight:function(t,s,n){var o=e.tokenize(t,s);return i.stringify(e.util.encode(o),n)},tokenize:function(t,i,s){var n=e.Token,o=[t],r=i.rest;if(r){for(var a in r)i[a]=r[a];delete i.rest}t:for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var h=i[a];h="Array"===e.util.type(h)?h:[h];for(var c=0;c<h.length;++c){var l=h[c],d=l.inside,u=!!l.lookbehind,p=0,_=l.alias;l=l.pattern||l;for(var g=0;g<o.length;g++){var f=o[g];if(o.length>t.length)break t;if(!(f instanceof n)){l.lastIndex=0;var m=l.exec(f);if(m){u&&(p=m[1].length);var v=m.index-1+p,m=m[0].slice(p),w=m.length,b=v+w,$=f.slice(0,v+1),y=f.slice(b+1),k=[g,1];$&&k.push($);var x=new n(a,d?e.tokenize(m,d):m,_);k.push(x),y&&k.push(y),Array.prototype.splice.apply(o,k)}}}}}return o},hooks:{all:{},add:function(t,i){var s=e.hooks.all;s[t]=s[t]||[],s[t].push(i)},run:function(t,i){var s=e.hooks.all[t];if(s&&s.length)for(var n,o=0;n=s[o++];)n(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,s,n){if("string"==typeof t)return t;if("[object Array]"==Object.prototype.toString.call(t))return t.map(function(e){return i.stringify(e,s,t)}).join("");var o={type:t.type,content:i.stringify(t.content,s,n),tag:"span",classes:["token",t.type],attributes:{},language:s,parent:n};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var r="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,r)}e.hooks.run("wrap",o);var a="";for(var h in o.attributes)a+=h+'="'+(o.attributes[h]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+a+">"+o.content+"</"+o.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(t){var i=JSON.parse(t.data),s=i.language,n=i.code;self.postMessage(JSON.stringify(e.util.encode(e.tokenize(n,e.languages[s])))),self.close()},!1),self.Prism):self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(e.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),function(t,e,i,s,n){t.widget("presto.radio",{options:{callbacks:{checked:e.noop}},_variables:function(){this.$radio=this.$element,this.$input=this.$radio.find("input"),this.name=this.$input.attr("name"),this.$container=this.$radio.parents("form").first(),0===this.$container.length&&(this.$container=$document),this.$other_radios=this.$container.find('input[name="'+this.name+'"]').parent(".radio").not(this.$radio)},_init:function(){var t=this.$radio.hasClass("checked");this.get()?t||this.$radio.addClass("checked"):t&&this.$radio.removeClass("checked")},_events:function(){this._on("click",function(){this.check()}),this._on(!0,"change",this._handler_change)},_handler_change:function(){var t=this.get();t&&this.$other_radios.removeClass("checked"),this.$radio.toggleClass("checked",t),this._trigger(t?"checked":"unchecked")},get:function(){return this.$input.prop("checked")},check:function(){this.get()||(this.$input.prop("checked",!0).trigger("change"),this._trigger("checked"))}}),t(function(){t(".radio").radio()})}(jQuery,_,window,document),function(t,e,i,s,n){var o={delay:{show:350,hide:400},show:function(i,s){var n=t('<div class="ripple-circle"></div>').appendTo(s),r=s.offset(),a=t.eventXY(i),h=e.now();n.css({top:a.Y-r.top,left:a.X-r.left}).addClass("ripple-circle-show"),s.on("mouseup mouseleave",function(){o.hide(n,h)})},hide:function(t,i){var s=Math.max(0,o.delay.show+i-e.now());setTimeout(function(){t.addClass("ripple-circle-hide"),setTimeout(function(){t.remove()},o.delay.hide)},s)}};t(function(){$body.on("mousedown",".ripple",function(e){e.button!==t.ui.mouseButton.RIGHT&&o.show(e,t(this))})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.select",{templates:{base:'<div id="dropdown-{%=o.id%}" class="dropdown select-dropdown attached"><div class="container"><div class="container-content"><div class="multiple-wrp vertical stretched joined"><div class="multiple">{% for ( var i = 0, l = o.options.length; i < l; i++ ) { %}{% include ( "presto.select." + ( o.options[i].value ? "option" : "optgroup" ), o.options[i] ); %}{% } %}</div></div></div></div></div>',optgroup:'<div class="divider-wrp block"><div class="divider">{%=o.prop%}</div></div>',option:'<div class="label-wrp button-wrp" data-value="{%=o.prop%}"><div class="label actionable sharp"><div class="label-center">{%=o.value%}</div></div></div>'},options:{callbacks:{open:e.noop,close:e.noop,change:e.noop}},_variables:function(){this.$trigger=this.$element,this.$select=this.$trigger.find("select"),this.$options=this.$select.find("option"),this.$select_label=this.$trigger.find(".select-label"),this.$valueholder=this.$trigger.find(".valueholder"),this.id=this.$trigger.data("select"),0===this.$valueholder.length&&(this.$valueholder=this.$select_label),this.select_options=[],this.$dropdown=!1,this.$dropdown_container=!1,this.$buttons=!1},_init:function(){this._update_valueholder(),t.browser.isMobile||(this.$select.addClass("hidden"),this._init_select_options(),this._init_dropdown())},_events:function(){this._on(this.$select,"change",function(){this.update(),this._trigger("change")}),t.browser.isMobile||this._on(this.$buttons,"click",this._handler_button_click)},_handler_button_click:function(e,i){this.$select.val(t(i).data("value")).trigger("change")},_init_select_options:function(){for(var t,e,i=0,s=this.$options.length;s>i;i++){var n=this.$options.eq(i),o=n.parent();o.is("optgroup")&&(e=o.attr("label"),e!==t&&(t=e,this.select_options.push({prop:e}))),this.select_options.push({value:n.html(),prop:n.attr("value")})}},_init_dropdown:function(){var e=this._tmpl("base",{id:this.id,options:this.select_options});$body.append(e),this.$dropdown=t("#dropdown-"+this.id),this.$dropdown_container=this.$dropdown.find(".container"),this.$buttons=this.$dropdown.find(".button-wrp"),this.$trigger.addClass("dropdown-trigger").attr("data-dropdown","dropdown-"+this.id);var i=this;this.$dropdown.dropdown({callbacks:{open:function(){i._set_dropdown_width.bind(i)(),i._trigger("open")},close:i.options.callbacks.close}}),this._update_dropdown()},_update_valueholder:function(){var t=this.$options.filter('[value="'+this.$select.val()+'"]');this.$valueholder.html(t.html())},_update_dropdown:function(){this.$buttons.removeClass("active"),this.$buttons.filter('[data-value="'+this.$select.val()+'"]').addClass("active")},_set_dropdown_width:function(){this.$dropdown_container.css("min-width",this.$trigger.width())},select:function(t){this.$buttons.filter('[data-value="'+t+'"]').click()},update:function(){t.browser.isMobile||this._update_dropdown(),this._update_valueholder()}}),t(function(){t(".select-trigger").select()})}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(){s.selection?s.selection.empty():i.getSelection&&i.getSelection().removeAllRanges()};t.widget("presto.selectable",{options:{selector:"tbody tr:not(.empty)",selected_class:"selected",callbacks:{select:e.noop}},_variables:function(){this.$rows=this._get_rows(),this.$start_row=!1,this.$end_row=!1},_init:function(){this._reset_prevs()},_events:function(){this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on("mousedown",this.options.selector,this._handler_mousedown),this._on("change sort",this._handler_change),this._on("mousedown mouseup",this._handler_clear_selection)},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown);
},_handler_keys_keydown:function(e){(t.browser.isMac&&e.metaKey||!t.browser.isMac&&e.ctrlKey)&&(65===e.keyCode?(e.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class,!e.shiftKey),this._trigger("select")):73===e.keyCode&&(e.preventDefault(),this._reset_prevs(),this.$rows.toggleClass(this.options.selected_class),this._trigger("select")))},_handler_mousedown:function(e){0===e.button&&(this.$start_row=t(e.currentTarget),this._on($document,"mousemove",this._handler_mousemove),this._on("mouseup",this.options.selector,this._handler_mouseup))},_handler_mousemove:function(e){t.browser.isMac&&!e.metaKey||!t.browser.isMac&&!e.ctrlKey||(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),this._reset_prevs(),this.$prev_row=this.$start_row,this.$start_row.toggleClass(this.options.selected_class),$html.addClass("dragging"),this._on("mouseenter",this.options.selector,this._handler_drag_mouseenter),this._on($document,"mouseup",this._handler_drag_mouseup),this._trigger("select"))},_handler_drag_mouseenter:function(e){this.$end_row=t(e.currentTarget);var i=this.$rows.index(this.$start_row),s=this.$rows.index(this.$end_row),n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$rows.slice(n,o);this.$prev_dragged?(r.not(this.$prev_dragged).toggleClass(this.options.selected_class),this.$prev_dragged.not(r).toggleClass(this.options.selected_class)):r.toggleClass(this.options.selected_class),this.$prev_dragged=r,this._trigger("select")},_handler_drag_mouseup:function(){this._off("mouseenter",this._handler_drag_mouseenter),this._off($document,"mouseup",this._handler_drag_mouseup),this.$prev_dragged=!1,$html.removeClass("dragging")},_handler_mouseup:function(e){if(this._off($document,"mousemove",this._handler_mousemove),this._off("mouseup",this._handler_mouseup),e.shiftKey){var i=this.$rows.index(this.$prev_row),s=this.$prev_row?this.$rows.index(this.$start_row):0,n=Math.min(i,s),o=Math.max(i,s);n===i&&(n+=1,o+=1);var r=this.$rows.slice(n,o);this.$prev_shifted?(r.not(this.$prev_shifted).toggleClass(this.options.selected_class),this.$prev_shifted.not(r).toggleClass(this.options.selected_class)):r.toggleClass(this.options.selected_class),this.$prev_shifted=r}else t.browser.isMac&&e.metaKey||!t.browser.isMac&&e.ctrlKey||t.browser.isMobile?(this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row):(this.$rows.not(this.$start_row).removeClass(this.options.selected_class),this.$start_row.toggleClass(this.options.selected_class),this._reset_prevs(),this.$prev_row=this.$start_row);this._trigger("select")},_handler_change:function(){this.$rows=this._get_rows()},_handler_clear_selection:function(){t.reflow(),o()},_reset_prevs:function(){this.$prev_row=!1,this.$prev_shifted=!1,this.$prev_dragged=!1},_get_rows:function(){return this.$element.find(this.options.selector)}}),t(function(){t("table.selectable").selectable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.slider",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increased:e.noop,decreased:e.noop}},_variables:function(){this.$slider=this.$element,this.$min=this.$slider.find(".slider-min"),this.$max=this.$slider.find(".slider-max"),this.$input=this.$slider.find("input"),this.$bar_wrp=this.$slider.find(".slider-bar-wrp"),this.$unhighlighted=this.$slider.find(".slider-unhighlighted"),this.$highlighted=this.$slider.find(".slider-highlighted"),this.$handler_wrp=this.$slider.find(".slider-handler-wrp"),this.$label=this.$handler_wrp.find(".slider-label"),this.steps_nr=(this.options.max-this.options.min)/this.options.step,this._update_variables()},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on($window,"resize",this._handler_resize),this._on(this.$slider,"mouseenter",this._handler_arrows_in),this._on(this.$slider,"mouseleave",this._handler_arrows_out),this._on(this.$min,"click",this.decrease),this._on(this.$max,"click",this.increase),this.$handler_wrp.draggable({draggable:this._draggable.bind(this),axis:"x",constrainer:{$element:this.$bar_wrp,constrain_center:!0,axis:"x"},modifiers:{x:this.modifier_x.bind(this)},callbacks:{beforestart:this._handler_drag_beforestart.bind(this),move:this._handler_drag_move.bind(this),end:this._handler_drag_end.bind(this)}}),this._on(this.$unhighlighted,"click",this._handler_click)},_round_value:function(t){return Number(Number(t).toFixed(this.options.decimals))},_update_positions:function(){var t=(this.options.value-this.options.min)/this.options.step*100/this.steps_nr;this.$handler_wrp.css({left:t+"%",transform:"none"}),this.$highlighted.css({right:100-t+"%",transform:"none"})},_update_label:function(t){this.$label.html(e.isUndefined(t)?this.options.value:t)},_update_variables:function(){this.unhighlighted_width=this.$unhighlighted.width(),this.unhighlighted_offset=this.$unhighlighted.offset(),this.step_width=this.unhighlighted_width/this.steps_nr},_handler_change:function(){this.set(this.$input.val())},_handler_resize:function(){this._update_variables()},_handler_arrows_in:function(){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.DOWN?this.decrease():(e.keyCode===t.ui.keyCode.RIGHT||e.keyCode===t.ui.keyCode.UP)&&this.increase()},_draggable:function(){return!this.options.disabled},modifier_x:function(t){var e=t%this.step_width;return e>=this.step_width/2?t-e+this.step_width:t-e},_handler_drag_beforestart:function(){var t=parseFloat(this.$handler_wrp.css("left"),10);this.$handler_wrp.css({left:0,transform:"translate3d("+t+"px,0,0)"}),this.$highlighted.css({right:"100%",transform:"translate3d("+t+"px,0,0)"})},_handler_drag_move:function(t){this.$highlighted.css("transform","translate3d("+t.modifiedXY.X+"px,0,0)"),this._update_label(this._round_value(this.options.min+t.modifiedXY.X/this.step_width*this.options.step))},_handler_drag_end:function(t){var e=this.$handler_wrp.css("transform"),i="none"!==e?e.match(/[0-9., -]+/)[0].split(", "):[0,0,0,0,0,0],s=this.set(this.options.min+parseFloat(i[4],10)/this.step_width*this.options.step);s||this._update_positions()},_handler_click:function(e){if(e.target!==this.$handler_wrp.get(0)){var i=t.eventXY(e),s=this.modifier_x(i.X-this.unhighlighted_offset.left);this.set(this.options.min+s/this.step_width*this.options.step)}},get:function(){return this.options.value},set:function(t){if(t=e.clamp(this.options.min,this._round_value(t),this.options.max),t!==this.options.value){var i=t>this.options.value?"increased":"decreased";return this.options.value=t,this._update_positions(),this._update_label(),this.$input.val(t).trigger("change"),this._trigger(i),!0}return!1},increase:function(){return this.set(this.options.value+this.options.step)},decrease:function(){return this.set(this.options.value-this.options.step)}}),t(function(){t(".slider").each(function(){var e=t(this),i={min:Number(e.find(".slider-min").data("min")||0),max:Number(e.find(".slider-max").data("max")||100),value:Number(e.find("input").val()||0),step:Number(e.data("step")||1),decimals:Number(e.data("decimals")||0)};e.slider(i)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.sortable",{options:{sorters:{"int":function(t,e){return parseInt(t,10)-parseInt(e,10)},"float":function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}},callbacks:{sort:e.noop}},_variables:function(){this.$table=this.$element,this.$headers=this.$table.find("thead th"),this.$sortables=this.$headers.filter("[data-sort]"),this.$tbody=this.$table.find("tbody"),this.table=this.element,this.tbody=this.$tbody.get(0),this.sort_datas={},this.current_index=!1,this.current_direction=!1},_init:function(){var t=this.$headers.filter(".asc, .desc").first();t.length&&this.sort(this.$headers.index(t),t.hasClass("asc")?"asc":"desc")},_events:function(){this._on(!0,"change",this._handler_change),this._on(this.$sortables,"click",this._handler_click)},_handler_change:function(){this.current_index&&(this.sort_datas={},this.sort(this.current_index,this.current_direction))},_handler_click:function(t){var e=this.$headers.index(t.target),i=this.current_index===e&&"asc"===this.current_direction?"desc":"asc";this.sort(e,i)},sort:function(t,i){var s=this.$headers.eq(t);if(s.length){var n=s.data("sort");if(n){var o=this.options.sorters[n];if(o){if(i=i&&"desc"===i.toLowerCase()?"desc":"asc",this.current_index!==!1&&this.$sortables.eq(this.current_index).removeClass(this.current_direction),s.addClass(i),e.isUndefined(this.sort_datas[t])){var r=this.$tbody.find("tr:not(.empty)");this.sort_datas[t]=Array(r.length);for(var a=0,h=r.length;h>a;a++){var c=r.eq(a).find("td").eq(t),l=c.data("sort-value")||c.text();this.sort_datas[t][a]=[r.get(a),l]}}this.sort_datas[t].sort(function(t,e){return o(t[1],e[1])}),"desc"===i&&this.sort_datas[t].reverse(),this.table.removeChild(this.tbody);for(var a=0,h=this.sort_datas[t].length;h>a;a++)this.tbody.appendChild(this.sort_datas[t][a][0]);this.table.appendChild(this.tbody),this.current_index=t,this.current_direction=i,this._trigger("sort",{index:this.current_index,direction:this.current_direction})}}}}}),t(function(){t("table.sortable").sortable()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.stepper",{options:{min:0,max:100,value:0,step:1,decimals:0,callbacks:{increase:e.noop,decrease:e.noop}},_variables:function(){this.$stepper=this.$element,this.$input=this.$stepper.find("input"),this.$decreaser=this.$stepper.find(".stepper-decreaser"),this.$increaser=this.$stepper.find(".stepper-increaser")},_events:function(){this._on(!0,this.$input,"input change",this._handler_input_change),this._on("mouseenter",this._handler_arrows_in),this._on("mouseleave",this._handler_arrows_out),this._on(this.$decreaser,"click",this.decrease),this._on(this.$increaser,"click",this.increase)},_round_value:function(t){return Number(Number(t).toFixed(this.options.decimals))},_handler_input_change:function(){this.set_value(this.$input.val())},_handler_arrows_in:function(t){this._on($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(t){this._off($document,"keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.DOWN?this.decrease():(e.keyCode===t.ui.keyCode.RIGHT||e.keyCode===t.ui.keyCode.UP)&&this.increase()},set_value:function(t){if(t=this._round_value(t),t!==this.options.value||0===this.$input.val().length){var i=e.clamp(this.options.min,t,this.options.max);this.options.value=i,this.$input.val(i).trigger("change"),this.$decreaser.toggleClass("disabled",i===this.options.min),this.$increaser.toggleClass("disabled",i===this.options.max),this._trigger(i>this.options.value?"increase":"decrease")}},increase:function(){this.navigate(this.options.step)},decrease:function(){this.navigate(-this.options.step)},navigate:function(t){var e=this.options.value+t;this.set_value(e)}}),t(function(){t(".stepper").each(function(){var e=t(this),i=e.find("input"),s={min:Number(e.data("min")||0),max:Number(e.data("max")||100),value:Number(i.val()||0),step:Number(e.data("step")||1),decimals:Number(e.data("decimals")||0)};e.stepper(s)})})}(jQuery,_,window,document),function(t,e,i,s){t.widget("presto.switch",{options:{colors:{on:"secondary",off:"gray"},callbacks:{checked:_.noop,unchecked:_.noop}},_variables:function(){this.$switch=this.$element,this.$input=this.$switch.find("input"),this.$bar_wrp=this.$switch.find(".switch-bar-wrp"),this.$bar=this.$switch.find(".switch-bar"),this.$handler=this.$switch.find(".switch-handler"),this.$icon=this.$handler.find(".icon"),this.checked=this.$input.prop("checked"),this.dragging=!1},_init:function(){this._set_check(this.checked,!0)},_events:function(){this._on(!0,this.$input,"change",this._handler_change),this._on("mouseenter",this._handler_keys_in),this._on("mouseleave",this._handler_keys_out),this._on(this.$bar,"click",this._handler_click),this.$handler.draggable({axis:"x",constrainer:{$element:this.$bar_wrp},callbacks:{end:this._handler_drag_end.bind(this)}})},_handler_change:function(){var t=this.$input.prop("checked");this.checked!==t&&(this.checked=t,this._set_check(this.checked,!0))},_handler_keys_in:function(){this._on($document,"keydown",this._handler_keys_keydown)},_handler_keys_out:function(){this._off($document,"keydown",this._handler_keys_keydown)},_handler_keys_keydown:function(e){e.keyCode===t.ui.keyCode.LEFT?this.uncheck():e.keyCode===t.ui.keyCode.RIGHT?this.check():e.keyCode===t.ui.keyCode.SPACE&&this.toggle()},_handler_click:function(){return this.dragging?void(this.dragging=!1):void this.toggle()},_handler_drag_end:function(t){if(t.dragged){this.dragging=!0;var e=this.$handler.offset().left-this.$bar_wrp.offset().left+this.$handler.width()/2>=this.$bar_wrp.width()/2;this.checked=e?!0:!1,this._set_check(this.checked,!0)}},_set_check:function(t,e){(t!==this.$input.prop("checked")||e)&&(this.$switch.toggleClass("checked",t),this.$handler.css("transform","translate3d("+(t?"1.73333em":"0")+",0,0)"),this.$bar.toggleClass(this.options.colors.on,t),this.$handler.toggleClass(this.options.colors.on,t),this.$bar.toggleClass(this.options.colors.off,!t),this.$handler.toggleClass(this.options.colors.off,!t),this.$input.prop("checked",t).trigger("change"),this._trigger(t?"checked":"unchecked"))},check:function(){this._set_check(!0)},uncheck:function(){this._set_check(!1)},toggle:function(){this.checked=!this.checked,this._set_check(this.checked)}}),t(function(){t(".switch").each(function(){var e=t(this),i={colors:{on:e.data("color-on")||"secondary",off:e.data("color-off")||"gray"}};e["switch"](i)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tableHelper",{options:{callbacks:{add:e.noop,update:e.noop,remove:e.noop,clear:e.noop}},_variables:function(){this.$table=this.$element,this.$thead=this.$table.find("thead"),this.$tfoot=this.$table.find("tfoot"),this.$tbody=this.$table.find("tbody"),this.$headers=this.$thead.find("th"),this.$empty_row=this.$tbody.find("tr.empty"),this.columns_nr=this.$headers.length},_init:function(){this._check_empty()},_check_empty:function(){this.$empty_row.toggleClass("hidden",this.$tbody.find("tr:not(.empty)").length>0)},_get_row_id:function(t){return"rid_"+this.uuid+"_"+t},add:function(i){var s=e.tail(arguments);if(s.length){var n=this.$tbody.find("td.fillable");if(n.length){var o=e.slice(s,0,n.length);s=e.slice(s,o.length-1,s.length);for(var r=0,a=o.length;a>r;r++)n.eq(r).html(o[r]).removeClass("fillable")}if(i&&t("."+this._get_row_id(i)).length)return t.noty("A table cannot contain 2 rows with the same ID"),this;for(var h=e.chunk(s,this.columns_nr),c=0,l=h.length;l>c;c++){for(var d=h[c],u="<tr "+(i?'class="'+this._get_row_id(i)+'"':"")+">",r=0,a=d.length;a>r;r++)u+="<td>"+(d[r]||"")+"</td>";for(var r=d.length,a=this.columns_nr;a>r;r++)u+='<td class="fillable"></td>';u+="</tr>",this.$tbody.append(u)}this._check_empty(),this.$table.trigger("change"),this._trigger("add")}return this},update:function(i){var s=e.tail(arguments),n=t("."+this._get_row_id(i));if(s.length&&n.length){var o=n.find("td");e.each(s,function(t,i){e.isString(t)&&o.eq(i).html(t)}),this.$table.trigger("change"),this._trigger("update")}return this},remove:function(e){var i=t("."+this._get_row_id(e));return i.length&&(i.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("remove")),this},clear:function(){var t=this.$tbody.find("tr:not(.empty)");return t.length&&(t.remove(),this._check_empty(),this.$table.trigger("change"),this._trigger("clear")),this}}),t(function(){t("table").tableHelper()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tabs",{options:{selectors:{buttons_wrp:".tabs-buttons",buttons:".button-wrp > .label",button_active_class:"active",indicator:".tabs-buttons-indicator",containers_wrp:".tabs-containers",containers:"> .container",container_active_class:"active"},indicator_delay:40,callbacks:{select:e.noop}},_variables:function(){this.$tabs=this.$element,this.isVertical=this.$tabs.hasClass("vertical"),this.$tabs_buttons=this.$tabs.find(this.options.selectors.buttons_wrp),this.$buttons=this.$tabs_buttons.find(this.options.selectors.buttons),this.$indicator=this.$tabs.find(this.options.selectors.indicator),this.$tabs_containers=this.$tabs.find(this.options.selectors.containers_wrp),this.$containers=this.$tabs_containers.find(this.options.selectors.containers);var t=this.$buttons.filter("."+this.options.selectors.button_active_class).first();t=t.length>0?t:this.$buttons.first(),this.prev_index=0,this.current_index=this.$buttons.index(t)},_init:function(){this.select(this.current_index,!0)},_events:function(){this._on(this.$tabs_buttons,"click",this.options.selectors.buttons,this._hander_button_click),this._on($window,"resize",this._positionate_indicator)},_hander_button_click:function(e,i){var s=this.$buttons.index(t(i));this.select(s)},_positionate_indicator:function(){var t=this.$buttons.filter("."+this.options.selectors.button_active_class),e=t.position();if(this.isVertical){var i=this.$tabs_buttons.height();this._delay(function(){var s=e.top+(0===this.$buttons.index(t)?1:0);this.$indicator.css("top",100*s/i+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var s=i-e.top-t.height()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("bottom",100*s/i+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}else{var s=this.$tabs_buttons.width();this._delay(function(){var i=e.left+(0===this.$buttons.index(t)?1:0);this.$indicator.css("left",100*i/s+"%")},this.current_index>this.prev_index?this.options.indicator_delay:0),this._delay(function(){var i=s-e.left-t.width()+(this.$buttons.index(t)===this.$buttons.length-1?1:0);this.$indicator.css("right",100*i/s+"%")},this.current_index>this.prev_index?0:this.options.indicator_delay)}},select:function(t,e){(this.current_index!==t||e)&&(this.$buttons.eq(this.current_index).removeClass(this.options.selectors.button_active_class),this.$buttons.eq(t).addClass(this.options.selectors.button_active_class),this.$containers.eq(this.current_index).removeClass(this.options.selectors.container_active_class),this.$containers.eq(t).addClass(this.options.selectors.container_active_class),this.current_index!==t&&(this.prev_index=this.current_index,this.current_index=t),this._positionate_indicator())}}),t(function(){t(".tabs").tabs()})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.tagbox",{templates:{tag:'<div class="multiple-wrp joined tagbox-tag" data-tag-value="{%=o.str%}"><div class="multiple"><div class="label-wrp"><div class="label compact {%=(o.color ? o.color : "")%} {%=(o.size ? o.size : "")%} {%=(o.css ? o.css : "")%}"><div class="label-center">{%=o.str%}<div class="icon icon-navigation-close right tagbox-tag-remover"></div></div></div></div></div></div>'},options:{tags:{init:"",str:"",arr:[]},tag:{min_length:3,color:"",size:"medium",css:"outlined"},characters:{forbidden:["<",">",";","`"],separator:",",inserters:[t.ui.keyCode.ENTER,t.ui.keyCode.TAB]},sort:!1,escape:!0,deburr:!1,callbacks:{update:e.noop,add:e.noop,remove:e.noop}},_variables:function(){this.$tagbox=this.$element;var t=this.$tagbox.find("input");this.$input=t.eq(0),this.$partial=t.eq(1),this.partial=this.$partial.get(0),this.$partial_wrp=this.$partial.parent(".input-wrp")},_init:function(){this.add(this.options.tags.init)},_events:function(){this._on(this.$partial,"keypress keydown",this._handler_keypress_keydown),this._on(this.$partial,"paste",this._handler_paste),this._on("click",this._handler_click_on_empty),this._on("click",".tagbox-tag-remover",this._handler_click_on_tag_remover)},_get_tag_html:function(t){return this._tmpl("tag",e.merge({str:t},this.options.tag))},_update_tags_str:function(){this.options.tags.str=this.options.tags.arr.join(this.options.characters.separator)},_sanitize_tag_str:function(t){return t=e.trim(t),this.options.escape&&(t=e.escape(t)),this.options.deburr&&(t=e.deburr(t)),t},_update_input:function(){this.$input.val(this.options.tags.str).trigger("change")},_clear_partial:function(){this.$partial.val("").trigger("change")},_partial_add_tag:function(i){var s=e.trim(i),i=this._sanitize_tag_str(i);if(s.length<this.options.tag.min_length)s.length>0&&t.noty("`"+i+"` is shorter than "+this.options.tag.min_length+" characters");else{if(!e.contains(this.options.tags.arr,i)){this.options.tags.arr.push(i),this.options.sort&&this.options.tags.arr.sort();var n=this._get_tag_html(i);if(1!==this.options.tags.arr.length&&this.options.sort){var o=this.options.tags.arr.indexOf(i);0===o?this.$tagbox.find(".tagbox-tag").first().before(n):this.$tagbox.find(".tagbox-tag").eq(o-1).after(n)}else this.$partial_wrp.before(n);return!0}t.noty("`"+i+"` is a duplicate")}return!1},_partial_remove_tag:function(t,i){t.remove(),e.pull(this.options.tags.arr,i)},_handler_keypress_keydown:function(i){var s=this.$partial.val();if(e.contains(this.options.characters.inserters,i.keyCode)||i.keyCode===this.options.characters.separator.charCodeAt(0)){var n=this.add(s);n&&this._clear_partial(),i.preventDefault()}else if(i.keyCode===t.ui.keyCode.BACKSPACE){if(0===s.length&&this.options.tags.arr.length>0){var o=this.$tagbox.find(".tagbox-tag").last(),r=!(t.browser.isMac&&i.metaKey||!t.browser.isMac&&i.ctrlKey);this.remove(o,r),i.preventDefault()}}else e.contains(this.options.characters.forbidden,String.fromCharCode(i.keyCode))&&(t.noty("The character you entered is forbidden"),i.preventDefault())},_handler_paste:function(t){this._delay(function(){this.add(this.$partial.val()),this._clear_partial()})},_handler_click_on_tag_remover:function(e,i){var s=t(i).parents(".tagbox-tag");this.remove(s)},_handler_click_on_empty:function(e){s.activeElement===this.partial||t(e.target).is("input, .tagbox-tag-label")||this.$partial.focus()},get:function(){return this.options.tags.str},add:function(t){for(var i=t.split(this.options.characters.separator),s=[],n=0,o=i.length;o>n;n++)s.push(this._partial_add_tag(i[n]));var r=e.compact(s).length>0;return r&&(this._update_tags_str(),this._update_input()),r},remove:function(t,e){if(t instanceof jQuery)var i=[t],s=[t.data("tag-value")];else{var i=[],s=[];t=t.split(this.options.characters.separator);for(var n=0,o=t.length;o>n;n++){var r=this._sanitize_tag_str(t[n]),a=this.$tagbox.find('.tagbox-tag[data-tag-value="'+r+'"]');a.length&&(i.push(a),s.push(r))}}if(i.length){for(var n=0,o=i.length;o>n;n++)this._partial_remove_tag(i[n],s[n]);this._update_tags_str(),this._update_input(),1===o&&e===!0&&this.$partial.val(s[0]).trigger("change")}},clear:function(){this.options.tags.arr.length&&(this.options.tags.str="",this.options.tags.arr=[],this.$tagbox.find(".tagbox-tag").remove(),this._clear_partial(),this._update_input())},reset:function(){this.clear(),this._init()}}),t(function(){t(".tagbox").each(function(){var e=t(this),i=e.find("input").eq(0),s={tags:{init:i.val(),str:"",arr:[]}};e.tagbox(s)})})}(jQuery,_,window,document),function(t,e,i,s,n){t.widget("presto.timeAgo",{options:{timestamp:!1,title:!1,callbacks:{update:e.noop}},_variables:function(){this.$timeAgo_wrp=this.$element,this.options.timestamp=this.$timeAgo_wrp.data(this.options.title?"timestamp-title":"timestamp")},_init:function(){this._update_loop(0)},_update_loop:function(t){this._delay(function(){this._update_loop(this.update().next)},1e3*t)},update:function(){var t=e.timeAgo(this.options.timestamp);return this.options.title?this.$timeAgo_wrp.attr("title",t.str):this.$timeAgo_wrp.html(t.str),this._trigger("update"),t}}),t(function(){t("[data-timestamp]").timeAgo(),t("[data-timestamp-title]").timeAgo({title:!0})})}(jQuery,_,window,document),function(t,e,i,s,n){t.timer=function(t,e,i){return new o(t,e,i)};var o=function(t,e,i){return this.set(t,e,i)};o.prototype={set:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},once:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){e.action()},t),this},play:function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remaining_time),this.isActive=!0),this},pause:function(){return this.isActive&&(this.isActive=!1,this.remaining_time-=new Date-this.last,this.clearTimer()),this},stop:function(){return this.isActive=!1,this.remaining_time=this.intervalTime,this.clearTimer(),this},toggle:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},reset:function(){return this.isActive=!1,this.play(!0),this},clearTimer:function(){clearTimeout(this.timeoutObject)},setTimer:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remaining_time=t,this.last=new Date,this.clearTimer(),this.timeoutObject=setTimeout(function(){e.go()},t)},go:function(){this.isActive&&(this.action(),this.setTimer())},remaining:function(t){return e.isUndefined(t)?this.remaining_time:(this.remaining_time=t,this)}}}(jQuery,_,window,document),function(t,e,i,s,n){var o=function(t){var e=t.offset();return{X1:e.left,X2:e.left+t.width(),Y1:e.top,Y2:e.top+t.height()}},r=function(t,e){var i=Math.max(0,Math.min(t.X2,e.X2)-Math.max(t.X1,e.X1)),s=Math.max(0,Math.min(t.Y2,e.Y2)-Math.max(t.Y1,e.Y1));return i*s};t.fn.touching=function(i){var s=e.merge({startIndex:!1,point:!1,binarySearch:!0,$comparer:!1,$not:!1,select:"all"},i),n=s.$not?this.not(s.$not):this;if(s.$comparer){var a=o(s.$comparer),h=[],c=[];switch(n.each(function(){var e=o(t(this)),i=r(a,e);i>0&&(h.push(this),c.push(i))}),s.select){case"all":return t(h);case"most":return t(h[c.indexOf(e.max(c))]);default:return $empty}}if(s.point){var l;return s.binarySearch?(n.btEach(function(){var e=t(this),i=o(e);return s.point.Y>=i.Y1?s.point.Y<=i.Y2?s.point.X>=i.X1?s.point.X<=i.X2?(l=e,!1):1:-1:1:-1},s.startIndex),l||$empty):(n.each(function(){var e=t(this),i=o(e);return s.point.Y>=i.Y1&&s.point.Y<=i.Y2&&s.point.X>=i.X1&&s.point.X<=i.X2?(l=e,!1):void 0}),l||$empty)}}}(jQuery,_,window,document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN2ZWx0by5qcyIsImNvcmUvbG9kYXNoLWV4dHJhLmpzIiwiZWFzaW5nL2Vhc2luZy5qcyIsImNvcmUvalF1ZXJ5LWV4dHJhLmpzIiwiY29yZS90bXBsLmpzIiwiY29yZS9icm93c2VyLmpzIiwiY29yZS9wb2ludGVyLmpzIiwiY29yZS9iYXNlX3dpZGdldC5qcyIsImNvcmUvd2lkZ2V0LmpzIiwiY29yZS9jb3JlLmpzIiwiYWNjb3JkaW9uL2FjY29yZGlvbi5qcyIsImF1dG9ncm93L2F1dG9ncm93LmpzIiwiYmx1ci9ibHVycmVkLmpzIiwiYnRlYWNoL2J0RWFjaC5qcyIsImNoZWNrYm94L2NoZWNrYm94LmpzIiwiY29sb3JfaGVscGVyL2NvbG9ySGVscGVyLmpzIiwiaGV4X2NvbG9yL2hleENvbG9yLmpzIiwiY29sb3JwaWNrZXIvY29sb3JwaWNrZXIuanMiLCJjb29raWUvY29va2llLmpzIiwiZHJhZ2dhYmxlL2RyYWdnYWJsZS5qcyIsImRhdGVwaWNrZXIvZGF0ZXBpY2tlci5qcyIsInBvc2l0aW9uYXRlL3Bvc2l0aW9uYXRlLmpzIiwiZHJvcGRvd24vZHJvcGRvd24uanMiLCJleHBhbmRlci9leHBhbmRlci5qcyIsImZsaXBwYWJsZS9mbGlwcGFibGUuanMiLCJmb3JtX3N5bmMvZm9ybVN5bmMuanMiLCJsb2FkaW5nL2xvYWRpbmcuanMiLCJub3R5L25vdHkuanMiLCJmb3JtYV9hamF4L2Zvcm1BamF4LmpzIiwiaW5mb2Jhci9pbmZvYmFyLmpzIiwibW9kYWwvbW9kYWwuanMiLCJuYXZiYXIvbmF2YmFyLmpzIiwibm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi5qcyIsIm9uZV90aW1lX2FjdGlvbi9vbmVUaW1lQWN0aW9uLmpzIiwicHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NCYXIuanMiLCJwcmlzbS9wcmlzbS5qcyIsInJhZGlvL3JhZGlvLmpzIiwicmlwcGxlL3JpcHBsZS5qcyIsInNlbGVjdC9zZWxlY3QuanMiLCJzZWxlY3RhYmxlL3NlbGVjdGFibGUuanMiLCJzbGlkZXIvc2xpZGVyLmpzIiwic29ydGFibGUvc29ydGFibGUuanMiLCJzdGVwcGVyL3N0ZXBwZXIuanMiLCJzd2l0Y2gvc3dpdGNoLmpzIiwidGFibGVfaGVscGVyL3RhYmxlSGVscGVyLmpzIiwidGFicy90YWJzLmpzIiwidGFnYm94L3RhZ2JveC5qcyIsInRpbWVfYWdvL3RpbWVBZ28uanMiLCJ0aW1lci90aW1lci5qcyIsInRvdWNoaW5nL3RvdWNoaW5nLmpzIl0sIm5hbWVzIjpbIl8iLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIm1peGluIiwibm93U2VjcyIsImZsb29yIiwibm93IiwidGltZUFnbyIsInRpbWVzdGFtcCIsImVsYXBzZWQiLCJqdXN0X25vdyIsIm5hbWVzIiwidGltZXMiLCJzdHIiLCJuZXh0IiwiaSIsImwiLCJsZW5ndGgiLCJuYW1lIiwic2VjcyIsIm51bWJlciIsImZ1enp5TWF0Y2giLCJzZWFyY2giLCJpc0Nhc2VTZW5zaXRpdmUiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRfaW5kZXgiLCJzdHJfbCIsInNlYXJjaF9pIiwic2VhcmNoX2wiLCJzdHJfaSIsImNsYW1wIiwibWluaW11bSIsInZhbHVlIiwibWF4aW11bSIsImlzVW5kZWZpbmVkIiwiYnRFYWNoIiwiYXJyIiwiY2FsbGJhY2siLCJzdGFydEluZGV4IiwiZGlyZWN0aW9uIiwic3RhcnQiLCJlbmQiLCJjZW50ZXIiLCJpc051bWJlciIsImNlaWwiLCJjYWxsIiwidHJ1ZSIsImNvbnN0YW50IiwiZmFsc2UiLCIkIiwiZWFzaW5nIiwiZGVmIiwic3dpbmciLCJ4IiwidCIsImIiLCJjIiwiZCIsImxpbmVhciIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiTWF0aCIsImNvcyIsIlBJIiwiZWFzZU91dFNpbmUiLCJzaW4iLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsInBvdyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImpRdWVyeSIsInJlZmxvdyIsImRvY3VtZW50RWxlbWVudCIsIm9mZnNldEhlaWdodCIsImV2ZW50WFkiLCJldmVudCIsImlzUG9pbnRlckV2ZW50Iiwib3JpZ2luYWxFdmVudCIsImJyb3dzZXIiLCJoYXNUb3VjaCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsIlgiLCJwYWdlWCIsIlkiLCJwYWdlWSIsIiR3aW5kb3ciLCIkZG9jdW1lbnQiLCIkaHRtbCIsIiRib2R5IiwiYm9keSIsIiRlbXB0eSIsInRtcGwiLCJkYXRhIiwiZiIsInRlc3QiLCJGdW5jdGlvbiIsImFyZyIsImhlbHBlciIsInJlcGxhY2UiLCJyZWdleHAiLCJmdW5jIiwiY2FjaGUiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInMiLCJwMSIsInAyIiwicDMiLCJwNCIsInA1IiwiXG4iLCJcciIsIlx0IiwiICIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsImlzTW9iaWxlIiwiaXNUYWJsZXQiLCJpc0FuZHJvaWQiLCJpc0lPUyIsImlzTWFjIiwiaXNJRSIsImlzQ2hyb21lIiwiUG9pbnRlciIsInByZXNzRHVyYXRpb24iLCJkb3VibGVUYXBJbnRlcnZhbCIsImZsaWNrRHVyYXRpb24iLCJtb3Rpb25UaHJlc2hvbGQiLCJldmVudHNfbmFtZXMiLCJldmVudHNfbmFtZXNwYWNlIiwiZWFjaCIsImV2ZW50X25hbWUiLCJmdWxsX2V2ZW50IiwiZm4iLCJ0aGlzIiwib24iLCJ0cmlnZ2VyIiwic3RhcnRYWSIsIm1vdmVYWSIsImRlbHRhWFkiLCJlbmRYWSIsInRhcmdldCIsIiR0YXJnZXQiLCJzdGFydF90aW1lc3RhbXAiLCJlbmRfdGltZXN0YW1wIiwibW90aW9uIiwib3JpZW50YXRpb24iLCJwcmVzc190aW1lb3V0Iiwic3RhcnRFdmVudHMiLCJtb3ZlRXZlbnRzIiwiZW5kRXZlbnRzIiwicHJldl90YXBfdGltZXN0YW1wIiwiY3JlYXRlRXZlbnQiLCJFdmVudCIsInN0YXJ0SGFuZGxlciIsInRpbWVTdGFtcCIsInNldFRpbWVvdXQiLCJ3cmFwIiwicHJlc3NIYW5kbGVyIiwiZHJhZ3N0YXJ0IiwibW92ZUhhbmRsZXIiLCJlbmRIYW5kbGVyIiwicHJlc3MiLCJjbGVhclRpbWVvdXQiLCJhYnMiLCJkcmFnbW92ZSIsInRhcCIsImRibHRhcCIsImZsaWNrIiwib2ZmIiwiZHJhZ2VuZCIsIldpZGdldCIsIl9jaGlsZENvbnN0cnVjdG9ycyIsInByb3RvdHlwZSIsIndpZGdldE9yaWdpbmFsTmFtZSIsIndpZGdldE5hbWUiLCJ3aWRnZXRGdWxsTmFtZSIsImRlZmF1bHRFbGVtZW50IiwidGVtcGxhdGVzIiwib3B0aW9ucyIsImNhbGxiYWNrcyIsIl9jcmVhdGVXaWRnZXQiLCJlbGVtZW50IiwiaW5pdGlhbGl6YXRpb25UeXBlIiwiYmFzZSIsIm1lcmdlIiwiX2dldENyZWF0ZU9wdGlvbnMiLCJfdG1wbCIsImdldCIsIiRlbGVtZW50IiwiZ3VpZCIsInVuaXF1ZUlkIiwiZGlzYWJsZWQiLCJoYXNDbGFzcyIsIl9vbiIsImRlc3Ryb3kiLCJfY3JlYXRlIiwiX3RyaWdnZXIiLCJfZ2V0Q3JlYXRlRXZlbnREYXRhIiwiX3ZhcmlhYmxlcyIsIl9pbml0IiwiX2V2ZW50cyIsIm5vb3AiLCJfZGVzdHJveSIsInJlbW92ZURhdGEiLCJ3aWRnZXQiLCJvcHRpb24iLCJrZXkiLCJhcmd1bWVudHMiLCJjbG9uZURlZXAiLCJwYXJ0cyIsImN1ck9wdGlvbiIsInNwbGl0Iiwic2hpZnQiLCJleHRlbmQiLCJwb3AiLCJfc2V0T3B0aW9ucyIsIl9zZXRPcHRpb24iLCJ0b2dnbGVDbGFzcyIsImVuYWJsZSIsImRpc2FibGUiLCJzdXBwcmVzc0Rpc2FibGVkQ2hlY2siLCJldmVudHMiLCJzZWxlY3RvciIsImhhbmRsZXIiLCJoYW5kbGVyUHJveHkiLCJpbnN0YW5jZSIsImFyZ3MiLCJzbGljZSIsInB1c2giLCJhcHBseSIsImlzU3RyaW5nIiwiX29mZiIsImVpIiwiZWwiLCJfZGVsYXkiLCJkZWxheSIsImluc2VydEJlZm9yZSIsImluc2VydEFmdGVyIiwicHJlcGVuZFRvIiwiYXBwZW5kVG8iLCJvcmlnaW5hbE5hbWUiLCJmdWxsTmFtZSIsImV4aXN0aW5nQ29uc3RydWN0b3IiLCJjb25zdHJ1Y3RvciIsImJhc2VQcm90b3R5cGUiLCJwcm94aWVkUHJvdG90eXBlIiwibmFtZVBhcnRzIiwibmFtZXNwYWNlIiwiX3Byb3RvIiwicHJvcCIsIl9zdXBlciIsIl9zdXBlckFwcGx5IiwicmV0dXJuVmFsdWUiLCJfX3N1cGVyIiwiX19zdXBlckFwcGx5IiwidG1wbF9uYW1lIiwiY2hpbGRQcm90b3R5cGUiLCJicmlkZ2UiLCJvYmplY3QiLCJpc01ldGhvZENhbGwiLCJ0YWlsIiwibWV0aG9kVmFsdWUiLCJjaGFyQXQiLCJjb25jYXQiLCJ1aSIsImtleUNvZGUiLCJCQUNLU1BBQ0UiLCJDT01NQSIsIkRFTEVURSIsIkRPV04iLCJFTkQiLCJFTlRFUiIsIkVTQ0FQRSIsIkhPTUUiLCJMRUZUIiwiUEFHRV9ET1dOIiwiUEFHRV9VUCIsIlBFUklPRCIsIlJJR0hUIiwiU1BBQ0UiLCJUQUIiLCJVUCIsIm1vdXNlQnV0dG9uIiwiTUlERExFIiwiJGFjY29yZGlvbiIsIiRleHBhbmRlcnMiLCJjaGlsZHJlbiIsImV4cGFuZGVyc19pbnN0YW5jZXMiLCJBcnJheSIsImlzTXVsdGlwbGUiLCJlcSIsImV4cGFuZGVyIiwiX2hhbmRsZXJfb3BlbiIsIm5vZGUiLCJjbG9zZSIsInRvZ2dsZSIsImluZGV4IiwidG9nZ2xlQWxsIiwib3BlbiIsIm9wZW5BbGwiLCJjbG9zZUFsbCIsImFjY29yZGlvbiIsIm1pbmltdW1fd2lkdGgiLCJtaW5pbXVtX2hlaWdodCIsInVwZGF0ZSIsIiRncm93YWJsZSIsImlzSW5wdXQiLCJpcyIsImlzVGV4dGFyZWEiLCJfdXBkYXRlX2lucHV0X3dpZHRoIiwibmVlZGVkX3dpZHRoIiwiX2dldF9pbnB1dF9uZWVkZWRfd2lkdGgiLCJ3aWR0aCIsIm1heCIsIiRzcGFuIiwidmFsIiwiY3NzIiwiZm9udCIsInBvc2l0aW9uIiwib3BhY2l0eSIsInJlbW92ZSIsIl91cGRhdGVfdGV4dGFyZWFfaGVpZ2h0IiwibmVlZGVkX2hlaWdodCIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsInBhcnNlRmxvYXQiLCJhdXRvZ3JvdyIsImJsdXJyZWQiLCJmb3JjZSIsImNoZWNrZWQiLCJ1bmNoZWNrZWQiLCIkY2hlY2tib3giLCIkaW5wdXQiLCJmaW5kIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIl9oYW5kbGVyX2NoYW5nZSIsImlzQ2hlY2tlZCIsImNoZWNrIiwidW5jaGVjayIsImNoZWNrYm94IiwiQ29sb3JIZWxwZXIiLCJoZXgycmdiIiwiaGV4IiwiciIsImhleDJkZWMiLCJnIiwiaGV4MmhzdiIsInJnYjJoc3YiLCJyZ2IyaGV4IiwicmdiIiwiZGVjMmhleCIsImgiLCJ2IiwiZGlmZiIsIm1pbiIsImRpZmZjIiwicnIiLCJnZyIsImJiIiwiaHN2MmhleCIsImhzdiIsImhzdjJyZ2IiLCJwIiwicSIsInJvdW5kIiwiaHN2MmhzbCIsInRlbXBMIiwidGVtcFMiLCJoc2wyaHN2IiwiaHNsIiwiZGVjIiwicGFkTGVmdCIsInRvU3RyaW5nIiwicGFyc2VJbnQiLCJIZXhDb2xvciIsImlzVmFsaWQiLCJnZXRIZXhTdHIiLCJkZWZhdWx0X2NvbG9yIiwibGl2ZSIsImNoYW5nZSIsIiRjb2xvcnBpY2tlciIsIiRzYl93cnAiLCIkaGFuZGxlcl9zYiIsIiRodWVfd3JwIiwiJGhhbmRsZXJfaHVlIiwiaWQiLCJhdHRyIiwiJGlucHV0cyIsImNvbG9yIiwiX3VwZGF0ZV92YXJpYWJsZXMiLCJzYl93cnBfc2l6ZSIsImh1ZV93cnBfaGVpZ2h0Iiwic2V0IiwiX3VwZGF0ZV9zYiIsIl91cGRhdGVfaHVlIiwiX2hhbmRsZXJfcmVzaXplIiwiX2hhbmRsZXJfaW5wdXRfa2V5ZG93biIsIl9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW4iLCJfaGFuZGxlcl9zYl93cnBfYXJyb3dzX291dCIsIl9oYW5kbGVyX3NiX2RyYWdfbW92ZSIsIl9oYW5kbGVyX3NiX2RyYWdfZW5kIiwiX2hhbmRsZXJfaHVlX3dycF9hcnJvd3NfaW4iLCJfaGFuZGxlcl9odWVfd3JwX2Fycm93c19vdXQiLCJfaGFuZGxlcl9odWVfZHJhZ19tb3ZlIiwiX2hhbmRsZXJfaHVlX2RyYWdfZW5kIiwic2Jfd3JwX29mZnNldCIsIm9mZnNldCIsImh1ZV93cnBfb2Zmc2V0IiwiX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duIiwiX3VwZGF0ZV9pbnB1dCIsIl9zYl9kcmFnX3NldCIsIlhZIiwibGVmdCIsInRvcCIsIl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd24iLCJfaHVlX2RyYWdfc2V0IiwiYmFja2dyb3VuZC1jb2xvciIsInRyYW5zZm9ybSIsIl91cGRhdGUiLCJuZXdfY29sb3IiLCJpc0VxdWFsIiwiY29sb3JwaWNrZXIiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWNvZGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJSZWdFeHAiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiZXhwaXJlcyIsIk51bWJlciIsIkluZmluaXR5IiwiU3RyaW5nIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwiaGFzIiwia2V5cyIsInNlbGVjdG9ycyIsImRyYWdnYWJsZSIsIm9ubHlfaGFuZGxlcnMiLCJyZXZlcnRhYmxlIiwiYXhpcyIsImNvbnN0cmFpbmVyIiwiY29vcmRpbmF0ZXMiLCJjb25zdHJhaW5fY2VudGVyIiwidG9sbGVyYW5jZSIsInkiLCJtb2RpZmllcnMiLCJiZWZvcmVzdGFydCIsIm1vdmUiLCIkZHJhZ2dhYmxlIiwiJGhhbmRsZXJzIiwiX3N0YXJ0IiwiX21vdmUiLCJfZW5kIiwiaXNEcmFnZ2FibGUiLCJ0cmFuc2Zvcm1fc3RyIiwibWF0cml4IiwibWF0Y2giLCJpbml0aWFsWFkiLCJjb25zdHJhaW5lcl9vZmZzZXQiLCJkcmFnZ2FibGVfb2Zmc2V0IiwidHJhbnNsYXRlWF9taW4iLCJ0cmFuc2xhdGVYX21heCIsInRyYW5zbGF0ZVlfbWluIiwidHJhbnNsYXRlWV9tYXgiLCJ4MSIsIngyIiwieTEiLCJ5MiIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwibW9kaWZpZWRYWSIsImlzQm9vbGVhbiIsImRyYWdnZWQiLCJtb250aHMiLCJkYXRlIiwidG9kYXkiLCJjdXJyZW50Iiwic2VsZWN0ZWQiLCJyZWZyZXNoIiwiJGRhdGVwaWNrZXIiLCIkbmF2aWdhdGlvbl9wcmV2IiwiJG5hdmlnYXRpb25fdGl0bGUiLCIkbmF2aWdhdGlvbl9uZXh0IiwiJGRheXNfcHJldiIsIiRkYXlzX2N1cnJlbnQiLCIkZGF5c19uZXh0IiwiJGRheXNfYWxsIiwiYWRkIiwiJGRheV90b2RheSIsIiRkYXlfc2VsZWN0ZWQiLCJfcmVmcmVzaCIsIl9oYW5kbGVyX2Fycm93c19pbiIsIl9oYW5kbGVyX2Fycm93c19vdXQiLCJfaGFuZGxlcl9wcmV2X2NsaWNrIiwiX2hhbmRsZXJfbmV4dF9jbGljayIsIl9oYW5kbGVyX2RheV9jdXJyZW50X2NsaWNrIiwiX2hhbmRsZXJfYXJyb3dzX2tleWRvd24iLCJuYXZpZ2F0ZV9tb250aCIsIl91bmhpZ2hsaWdodF9zZWxlY3RlZCIsImRheSIsImh0bWwiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiX2hpZ2hsaWdodF9zZWxlY3RlZCIsIl9idWlsZF9jYWxlbmRhciIsInByZXZfbW9udGhfZGF5cyIsImdldERhdGUiLCJjdXJyZW50X21vbnRoX2RheXMiLCJpbml0aWFsX2RheV9vZl93ZWVrIiwiZ2V0RGF5IiwiZXhjZWVkaW5nX2RheXMiLCJuZWVkZWRfZGF5cyIsImxlZnRfZGF5cyIsImxlbmdodCIsIl9oaWdobGlnaHRfZGF5IiwiY3NzX2NsYXNzIiwiZGVsdGFfbW9udGhzIiwiX3VuaGlnaGxpZ2h0X3RvZGF5IiwiX2hpZ2hsaWdodF90b2RheSIsIl91cGRhdGVfdGl0bGUiLCJmb3JtYXR0ZWQiLCJzZWdtZW50cyIsImlzTmFOIiwidmFsdWVPZiIsInNldEZ1bGxZZWFyIiwic2V0TW9udGgiLCJzdGVwcyIsInByZXZfbW9udGgiLCJuZXh0X21vbnRoIiwiZGF0ZXBpY2tlciIsInBvc2l0aW9uYXRlIiwiY3VzdG9tX29wdGlvbnMiLCIkYW5jaG9yIiwiJHBvaW50ZXIiLCJwb2ludCIsInJhbmtzIiwiYWxsIiwicG9zaXRpb25hdGVkIiwiZGlyZWN0aW9ucyIsInVuaXF1ZSIsInVuaW9uIiwid2luZG93X3dpZHRoIiwid2luZG93X2hlaWdodCIsImh0bWxfc2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiaHRtbF9zY3JvbGxMZWZ0Iiwic2Nyb2xsTGVmdCIsInBvc2l0aW9uYWJsZV93aWR0aCIsIm91dGVyV2lkdGgiLCJwb3NpdGlvbmFibGVfaGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJhbmNob3Jfb2Zmc2V0IiwiYW5jaG9yX3dpZHRoIiwiYW5jaG9yX2hlaWdodCIsInNwYWNlcyIsIm1hcCIsImFyZWFzIiwiY2hvc2VuX2RpcmVjdGlvbiIsImluZGV4T2YiLCJkYXRhcyIsImlzRnVuY3Rpb24iLCJwb2ludGVyX3Bvc2l0aW9uIiwicG9pbnRlcl93aWR0aCIsInBvaW50ZXJfaGVpZ2h0IiwiYXNzaWdubWVudHMiLCIkZHJvcGRvd24iLCIkdGlwcyIsIiR0b3BfdGlwIiwiZmlsdGVyIiwiJHJpZ2h0X3RpcCIsIiRib3R0b21fdGlwIiwiJGxlZnRfdGlwIiwiJGFjdGlvbmFibGVzIiwiJHRyaWdnZXJzIiwiaGFzVGlwcyIsImlzQXR0YWNoZWQiLCJvcGVuZWQiLCJfYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCIsIl91bmJpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGwiLCJfYmluZF93aW5kb3dfY2xpY2siLCJfaGFuZGxlcl93aW5kb3dfY2xpY2siLCJfdW5iaW5kX3dpbmRvd19jbGljayIsIiRwYXJlbnRzIiwicGFyZW50cyIsIl9wb3NpdGlvbmF0ZSIsIiR0cmlnZ2VyIiwibm9fdGlwIiwiX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb24iLCJkcm9wZG93biIsInRvZ2dsZXIiLCJjb250ZW50IiwiJGV4cGFuZGVyIiwiJGNvbnRlbnQiLCJmbGlwcGVyIiwiYmFjayIsImZsaXBwZWQiLCIkZmxpcHBhYmxlIiwiJGZyb250IiwiJGJhY2siLCJpc0ZsaXBwZWQiLCJmbGlwIiwiZmxpcHBhYmxlIiwic3luY2VkX2dyb3VwcyIsImZvcm1TeW5jIiwiJGZvcm0iLCJzeW5jX2dyb3VwIiwiJGZvcm1zIiwiJGVsZXMiLCIkZWxlIiwiaXNfY2hlY2thYmxlIiwiaXNfcmFkaW8iLCJpc190ZXh0Ym94IiwiJGN1cnJlbnRfZm9ybSIsInBhcmVudCIsIiRvdGhlcl9mb3JtcyIsIm5vdCIsIiRvdGhlcl9lbGVzIiwiY3VycmVudF92YWx1ZSIsImN1cnJlbnRfY2hlY2tlZCIsIiRvdGhlcl9lbGUiLCJvdGhlcl92YWx1ZSIsIm90aGVyX2NoZWNrZWQiLCJsb2FkaW5nIiwid3JhcHBlciIsInNwaW5uZXIiLCIkb3ZlcmxheSIsInByZXBlbmQiLCJ0aW1lcnMiLCJub3R5IiwiYXV0b3BsYXkiLCJpc1BsYWluT2JqZWN0IiwiYnV0dG9ucyIsInR5cGUiLCJwcmVzdG8iLCJpbWciLCJ0aXRsZSIsInNpbmdsZV9idXR0b24iLCJidXR0b24iLCJhbmNob3IiLCJ0dGwiLCIkbm90eSIsInRpbWVyIiwiaXNPcGVuIiwibmV2ZXJPcGVuZWQiLCJfaW5pdF9jbGljayIsIl9pbml0X2J1dHRvbnNfY2xpY2siLCIkYnV0dG9ucyIsIiRidXR0b24iLCJvbkNsaWNrIiwiX2luaXRfdGltZXIiLCJiaW5kIiwiX2luaXRfaG92ZXIiLCJob3ZlciIsInBhdXNlIiwicmVtYWluaW5nIiwicGxheSIsImZpcnN0IiwiYXBwZW5kIiwicHVsbCIsInN0b3AiLCJmb3JtQWpheCIsInByZXZlbnREZWZhdWx0IiwiYWpheCIsImNvbnRlbnRUeXBlIiwiRm9ybURhdGEiLCJwcm9jZXNzRGF0YSIsInVybCIsImJlZm9yZVNlbmQiLCJlcnJvciIsInJlcyIsInN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsImhyZWYiLCJwYXRobmFtZSIsImFzc2lnbiIsImNvbXBsZXRlIiwiY2xvc2VyIiwiJGluZm9iYXIiLCJzbGlkZVVwIiwiaW5mb2JhciIsIiRtb2RhbCIsIl9oYW5kbGVyX2VzY19rZXlkb3duIiwibW9kYWwiLCIkbmF2YmFyIiwiJHdycCIsIiRjbG9zZXJzIiwibmF2YmFyIiwibm90aWZpY2F0aW9uIiwiaGFzRm9jdXMiLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJzdGF0dXMiLCJpY29uIiwib25lVGltZUFjdGlvbiIsImFjdGlvbiIsImNvbnRhaW5lciIsImV4cGlyeSIsIkFjdGlvbiIsIkNvbnRhaW5lciIsImFjdGlvbnNTdHIiLCJhY3Rpb25zIiwiY29udGFpbnMiLCJqb2luIiwicmVzZXQiLCJnZW5lcmF0ZV9vcHRpb25zIiwibXVsdGlwbGUiLCJuZXdfb3B0aW9ucyIsInBlcmNlbnRhZ2VzIiwicHJvZ3Jlc3NCYXIiLCJwZXJjZW50YWdlc19sYWJlbGVkIiwicGVyY2VudGFnZSIsInBlcmNlbnRhZ2VfbGFiZWxlZCIsImxhYmVsIiwic2l6ZSIsInN0cmlwZWQiLCJsYWJlbGVkIiwiZGVjaW1hbHMiLCJmdWxsIiwiJHByb2dyZXNzQmFyIiwiJGhpZ2hsaWdodGVkcyIsIiRzdHJpcGVzIiwiJGhpZ2hsaWdodGVkIiwiJGxhYmVsIiwidG9GaXhlZCIsInN1bSIsInN0eWxlIiwic2VsZiIsIldvcmtlckdsb2JhbFNjb3BlIiwiUHJpc20iLCJlIiwidXRpbCIsIm4iLCJhbGlhcyIsIk9iamVjdCIsImNsb25lIiwiaGFzT3duUHJvcGVydHkiLCJsYW5ndWFnZXMiLCJvIiwidSIsImEiLCJERlMiLCJoaWdobGlnaHRBbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwibGFuZ3VhZ2UiLCJncmFtbWFyIiwiY29kZSIsImhvb2tzIiwicnVuIiwiV29ya2VyIiwiZmlsZW5hbWUiLCJvbm1lc3NhZ2UiLCJoaWdobGlnaHRlZENvZGUiLCJzdHJpbmdpZnkiLCJKU09OIiwicGFyc2UiLCJwb3N0TWVzc2FnZSIsImhpZ2hsaWdodCIsInRva2VuaXplIiwiVG9rZW4iLCJyZXN0IiwiaW5zaWRlIiwibG9va2JlaGluZCIsInBhdHRlcm4iLCJtIiwibGFzdEluZGV4IiwiZXhlYyIsInciLCJFIiwiUyIsIlQiLCJzcGxpY2UiLCJ0YWciLCJjbGFzc2VzIiwiYXR0cmlidXRlcyIsInNwZWxsY2hlY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzcmMiLCJoYXNBdHRyaWJ1dGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibWFya3VwIiwiY29tbWVudCIsInByb2xvZyIsImRvY3R5cGUiLCJjZGF0YSIsInB1bmN0dWF0aW9uIiwiYXR0ci12YWx1ZSIsImF0dHItbmFtZSIsImVudGl0eSIsImF0cnVsZSIsInByb3BlcnR5Iiwic3RyaW5nIiwiaW1wb3J0YW50IiwiZnVuY3Rpb24iLCJzdHlsZS1hdHRyIiwicHNldWRvLWVsZW1lbnQiLCJwc2V1ZG8tY2xhc3MiLCJjbGFzcyIsImhleGNvZGUiLCJjbGlrZSIsImNsYXNzLW5hbWUiLCJrZXl3b3JkIiwiYm9vbGVhbiIsIm9wZXJhdG9yIiwiaWdub3JlIiwiamF2YXNjcmlwdCIsInJlZ2V4Iiwic2NyaXB0IiwiJHJhZGlvIiwiJGNvbnRhaW5lciIsIiRvdGhlcl9yYWRpb3MiLCJyYWRpbyIsIlJpcHBsZSIsInNob3ciLCJoaWRlIiwiJHJpcHBsZSIsImJlZm9yZSIsIm9wdGdyb3VwIiwiJHNlbGVjdCIsIiRvcHRpb25zIiwiJHNlbGVjdF9sYWJlbCIsIiR2YWx1ZWhvbGRlciIsInNlbGVjdF9vcHRpb25zIiwiJGRyb3Bkb3duX2NvbnRhaW5lciIsIl91cGRhdGVfdmFsdWVob2xkZXIiLCJfaW5pdF9zZWxlY3Rfb3B0aW9ucyIsIl9pbml0X2Ryb3Bkb3duIiwiX2hhbmRsZXJfYnV0dG9uX2NsaWNrIiwicHJldmlvdXNfb3B0Z3JvdXAiLCJjdXJyZW50X29wdGdyb3VwIiwiJG9wdGlvbiIsIiRwYXJlbnQiLCJfc2V0X2Ryb3Bkb3duX3dpZHRoIiwiX3VwZGF0ZV9kcm9wZG93biIsIiRzZWxlY3RlZF9vcHRpb24iLCJzZWxlY3QiLCJjbGljayIsImNsZWFyX3NlbGVjdGlvbiIsInNlbGVjdGlvbiIsImVtcHR5IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwic2VsZWN0ZWRfY2xhc3MiLCIkcm93cyIsIl9nZXRfcm93cyIsIiRzdGFydF9yb3ciLCIkZW5kX3JvdyIsIl9yZXNldF9wcmV2cyIsIl9oYW5kbGVyX2tleXNfaW4iLCJfaGFuZGxlcl9rZXlzX291dCIsIl9oYW5kbGVyX21vdXNlZG93biIsIl9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbiIsIl9oYW5kbGVyX2tleXNfa2V5ZG93biIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJjdXJyZW50VGFyZ2V0IiwiX2hhbmRsZXJfbW91c2Vtb3ZlIiwiX2hhbmRsZXJfbW91c2V1cCIsIiRwcmV2X3JvdyIsIl9oYW5kbGVyX2RyYWdfbW91c2VlbnRlciIsIl9oYW5kbGVyX2RyYWdfbW91c2V1cCIsInN0YXJ0X2luZGV4IiwiZW5kX2luZGV4IiwibWluX2luZGV4IiwibWF4X2luZGV4IiwiJG5ld19kcmFnZ2VkIiwiJHByZXZfZHJhZ2dlZCIsIiRuZXdfc2hpZnRlZCIsIiRwcmV2X3NoaWZ0ZWQiLCJzZWxlY3RhYmxlIiwic3RlcCIsImluY3JlYXNlZCIsImRlY3JlYXNlZCIsIiRzbGlkZXIiLCIkbWluIiwiJG1heCIsIiRiYXJfd3JwIiwiJHVuaGlnaGxpZ2h0ZWQiLCIkaGFuZGxlcl93cnAiLCJzdGVwc19uciIsImRlY3JlYXNlIiwiaW5jcmVhc2UiLCJfZHJhZ2dhYmxlIiwibW9kaWZpZXJfeCIsIl9oYW5kbGVyX2RyYWdfYmVmb3Jlc3RhcnQiLCJfaGFuZGxlcl9kcmFnX21vdmUiLCJfaGFuZGxlcl9kcmFnX2VuZCIsIl9oYW5kbGVyX2NsaWNrIiwiX3JvdW5kX3ZhbHVlIiwiX3VwZGF0ZV9wb3NpdGlvbnMiLCJyaWdodCIsIl91cGRhdGVfbGFiZWwiLCJ1bmhpZ2hsaWdodGVkX3dpZHRoIiwidW5oaWdobGlnaHRlZF9vZmZzZXQiLCJzdGVwX3dpZHRoIiwiZGlzdGFuY2UiLCJzZXR0ZWQiLCJjbGlja19wb3MiLCJzbGlkZXIiLCJzb3J0ZXJzIiwiaW50IiwiZmxvYXQiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImxvY2FsZUNvbXBhcmUiLCJzb3J0IiwiJHRhYmxlIiwiJGhlYWRlcnMiLCIkc29ydGFibGVzIiwiJHRib2R5IiwidGFibGUiLCJ0Ym9keSIsInNvcnRfZGF0YXMiLCJjdXJyZW50X2RpcmVjdGlvbiIsIiRpbml0aWFsIiwibmV3X2luZGV4IiwibmV3X2RpcmVjdGlvbiIsIiRzb3J0YWJsZSIsInNvcnRlcl9uYW1lIiwic29ydGVyIiwiJHRycyIsIiR0ZCIsInRleHQiLCJyZXZlcnNlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsInNvcnRhYmxlIiwiJHN0ZXBwZXIiLCIkZGVjcmVhc2VyIiwiJGluY3JlYXNlciIsIl9oYW5kbGVyX2lucHV0X2NoYW5nZSIsInNldF92YWx1ZSIsImNsYW1wZWQiLCJuYXZpZ2F0ZSIsIm1vZGlmaWVyIiwibmV3X3ZhbHVlIiwic3RlcHBlciIsImNvbG9ycyIsIiRzd2l0Y2giLCIkYmFyIiwiJGhhbmRsZXIiLCIkaWNvbiIsImRyYWdnaW5nIiwiX3NldF9jaGVjayIsIm5ld19jaGVja2VkIiwiY2xlYXIiLCIkdGhlYWQiLCIkdGZvb3QiLCIkZW1wdHlfcm93IiwiY29sdW1uc19uciIsIl9jaGVja19lbXB0eSIsIl9nZXRfcm93X2lkIiwidXVpZCIsIiRmaWxsYWJsZXMiLCJkYXRhc19maWxsYWJsZSIsImNodW5rcyIsImNodW5rIiwiY2kiLCJjbCIsInJvd19odG1sIiwiJHJvdyIsIiR0ZHMiLCJ0YWJsZUhlbHBlciIsImJ1dHRvbnNfd3JwIiwiYnV0dG9uX2FjdGl2ZV9jbGFzcyIsImluZGljYXRvciIsImNvbnRhaW5lcnNfd3JwIiwiY29udGFpbmVycyIsImNvbnRhaW5lcl9hY3RpdmVfY2xhc3MiLCJpbmRpY2F0b3JfZGVsYXkiLCIkdGFicyIsImlzVmVydGljYWwiLCIkdGFic19idXR0b25zIiwiJGluZGljYXRvciIsIiR0YWJzX2NvbnRhaW5lcnMiLCIkY29udGFpbmVycyIsIiRjdXJyZW50X2J1dHRvbiIsInByZXZfaW5kZXgiLCJfaGFuZGVyX2J1dHRvbl9jbGljayIsIl9wb3NpdGlvbmF0ZV9pbmRpY2F0b3IiLCIkYWN0aXZlIiwidG90YWxfaGVpZ2h0IiwiYm90dG9tIiwidG90YWxfd2lkdGgiLCJ0YWJzIiwidGFncyIsImluaXQiLCJtaW5fbGVuZ3RoIiwiY2hhcmFjdGVycyIsImZvcmJpZGRlbiIsInNlcGFyYXRvciIsImluc2VydGVycyIsImVzY2FwZSIsImRlYnVyciIsIiR0YWdib3giLCIkcGFydGlhbCIsInBhcnRpYWwiLCIkcGFydGlhbF93cnAiLCJfaGFuZGxlcl9rZXlwcmVzc19rZXlkb3duIiwiX2hhbmRsZXJfcGFzdGUiLCJfaGFuZGxlcl9jbGlja19vbl9lbXB0eSIsIl9oYW5kbGVyX2NsaWNrX29uX3RhZ19yZW1vdmVyIiwiX2dldF90YWdfaHRtbCIsInRhZ19zdHIiLCJfdXBkYXRlX3RhZ3Nfc3RyIiwiX3Nhbml0aXplX3RhZ19zdHIiLCJ0cmltIiwiX2NsZWFyX3BhcnRpYWwiLCJfcGFydGlhbF9hZGRfdGFnIiwidGFnX3N0cl90cmltbWVkIiwidGFnX2h0bWwiLCJhZnRlciIsIl9wYXJ0aWFsX3JlbW92ZV90YWciLCIkdGFnIiwiY2hhckNvZGVBdCIsImFkZGVkIiwibGFzdCIsImVkaXQiLCJmcm9tQ2hhckNvZGUiLCJ0YWdfcmVtb3ZlciIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1cyIsInRhZ3Nfc3RyIiwiYWRkcyIsImNvbXBhY3QiLCJ0YWdzX29iaiIsInRhZ2JveCIsIiR0aW1lQWdvX3dycCIsIl91cGRhdGVfbG9vcCIsIndhaXQiLCJ0aW1lIiwiYXV0b3N0YXJ0IiwiVGltZXIiLCJpbnRlcnZhbFRpbWUiLCJpc0FjdGl2ZSIsInNldFRpbWVyIiwib25jZSIsInJlbWFpbmluZ190aW1lIiwiY2xlYXJUaW1lciIsInRpbWVvdXRPYmplY3QiLCJnbyIsImdldF9jb29yZGluYXRlcyIsIlgxIiwiWDIiLCJZMSIsIlkyIiwiZ2V0X292ZXJsYXBwaW5nX2FyZWEiLCJjMSIsImMyIiwieF9vdmVybGFwIiwieV9vdmVybGFwIiwidG91Y2hpbmciLCJiaW5hcnlTZWFyY2giLCIkY29tcGFyZXIiLCIkbm90IiwiJHNlYXJjaGFibGUiLCJub2RlcyIsImFyZWEiLCIkdG91Y2hlZCIsIiRub2RlIl0sIm1hcHBpbmdzIjoiQUFVQSxjQ0FDLFNBQVlBLEVBQUdDLEVBQVFDLEVBQVVDLEdBTTlCSCxFQUFFSSxPQVlFQyxRQUFTLFdBRUwsTUFBT0wsR0FBRU0sTUFBUU4sRUFBRU8sTUFBUyxNQVdoQ0MsUUFBUyxTQUFXQyxHQUVoQixHQUFJQyxHQUFVVixFQUFFSyxVQUFhSSxFQUN6QkUsRUFBVyxFQUVYQyxHQUFTLE9BQVEsUUFBUyxPQUFRLE1BQU8sT0FBUSxTQUFVLFVBQzNEQyxHQUFTLFFBQVUsT0FBUyxPQUFRLE1BQU8sS0FBTSxHQUFJLEVBRXpELElBQWVGLEVBQVZELEVBRUQsT0FDSUksSUFBSyxXQUNMQyxLQUFNSixFQUFXRCxFQUtyQixLQUFNLEdBQUlNLEdBQUksRUFBR0MsRUFBSUosRUFBTUssT0FBWUQsRUFBSkQsRUFBT0EsSUFBTSxDQUU1QyxHQUFJRyxHQUFPUCxFQUFNSSxHQUNiSSxFQUFPUCxFQUFNRyxHQUNiSyxFQUFTckIsRUFBRU0sTUFBUUksRUFBVVUsRUFFakMsSUFBS0MsR0FBVSxFQUVYLE9BQ0lQLElBQUtPLEVBQVMsSUFBTUYsR0FBU0UsRUFBUyxFQUFJLElBQU0sSUFBTyxP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RUFFMUIsT0FBSzkzQixHQUFReVcsTUFBTXpjLEdBQUt4QyxFQUFFdS9CLEdBRWpCLzJCLEVBQVF5VyxNQUFNemMsR0FBS3hDLEVBQUV3L0IsR0FFakJoM0IsRUFBUXlXLE1BQU0zYyxHQUFLdEMsRUFBRXEvQixHQUVqQjcyQixFQUFReVcsTUFBTTNjLEdBQUt0QyxFQUFFcy9CLElBRXRCZSxFQUFXQyxHQUVKLEdBSUEsRUFNSixHQU1KLEVBT0osSUFLWjkzQixFQUFRMUosWUFFSnVoQyxHQUFZdDlCLFNBSW5CbTlCLEVBQVkzNkIsS0FBTyxXQUVmLEdBQUkrNkIsR0FBUTdnQyxFQUFFa0csTUFDVjNGLEVBQUlvL0IsRUFBa0JrQixFQUUxQixPQUFLOTNCLEdBQVF5VyxNQUFNemMsR0FBS3hDLEVBQUV1L0IsSUFBTS8yQixFQUFReVcsTUFBTXpjLEdBQUt4QyxFQUFFdy9CLElBQU1oM0IsRUFBUXlXLE1BQU0zYyxHQUFLdEMsRUFBRXEvQixJQUFNNzJCLEVBQVF5VyxNQUFNM2MsR0FBS3RDLEVBQUVzL0IsSUFFdkdlLEVBQVdDLEdBRUosR0FKWCxTQVVHRCxHQUFZdDlCLFdBUWhDckIsT0FBUW5GLEVBQUdDLE9BQVFDIiwiZmlsZSI6InN2ZWx0by5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTE9EQVNIIEVYVFJBICovXG5cbiAgICBfLm1peGluKHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIFVuaXggZXBvY2hcbiAgICAgICAgICogKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZyhfLm5vd1NlY3MoKSAtIHN0YW1wKTtcbiAgICAgICAgICogfSwgXy5ub3dTZWNzKCkpO1xuICAgICAgICAgKiAvLyA9PiBsb2dzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgZnVuY3Rpb24gdG8gYmUgaW52b2tlZFxuICAgICAgICAgKi9cblxuICAgICAgICBub3dTZWNzOiBmdW5jdGlvbiBub3dTZWNzKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5mbG9vcihfLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBzdHJpbmcgZm9ybWF0IG9mIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIF8udGltZUFnbyAoIF8ubm93U2VjcyAoKSApXG4gICAgICAgICAqIC8vID0+IEp1c3Qgbm93XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRpbWVBZ286IGZ1bmN0aW9uIHRpbWVBZ28odGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvL0lORk86IFRpbWVzdGFtcCBpcyByZXF1aXJlZCBpbiBzZWNvbmRzXG5cbiAgICAgICAgICAgIHZhciBlbGFwc2VkID0gXy5ub3dTZWNzKCkgLSB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAganVzdF9ub3cgPSA1O1xuXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbJ3llYXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJ10sXG4gICAgICAgICAgICAgICAgdGltZXMgPSBbMzE1MzYwMDAsIDI1OTIwMDAsIDYwNDgwMCwgODY0MDAsIDM2MDAsIDYwLCAxXTtcblxuICAgICAgICAgICAgaWYgKGVsYXBzZWQgPCBqdXN0X25vdykge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyOiAnSnVzdCBub3cnLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBqdXN0X25vdyAtIGVsYXBzZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBuYW1lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3MgPSB0aW1lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9IF8uZmxvb3IoZWxhcHNlZCAvIHNlY3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1iZXIgPj0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cjogbnVtYmVyICsgJyAnICsgbmFtZSArIChudW1iZXIgPiAxID8gJ3MnIDogJycpICsgJyBhZ28nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IHNlY3MgLSAoZWxhcHNlZCAtIG51bWJlciAqIHNlY3MpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gYSBib29sZWFuIGlmIHRoZSBzdHJpbmcgaXMgZnV6enkgbWF0Y2hlZCB3aXRoIHRoZSBzZWFyY2ggc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmZ1enp5TWF0Y2ggKCAnc29tZXRoaW5nJywgJ3NtVG5nJyApO1xuICAgICAgICAgKiAvLyA9PiB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZnV6enlNYXRjaCAoICdzb21ldGhpbmcnLCAnc21UbmcnLCBmYWxzZSApO1xuICAgICAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmZ1enp5TWF0Y2ggKCAnc29tZXRoaW5nJywgJ3NlbXRoaW5nJyApO1xuICAgICAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAgICAgKi9cblxuICAgICAgICBmdXp6eU1hdGNoOiBmdW5jdGlvbiBmdXp6eU1hdGNoKHN0ciwgc2VhcmNoLCBpc0Nhc2VTZW5zaXRpdmUpIHtcblxuICAgICAgICAgICAgaWYgKGlzQ2FzZVNlbnNpdGl2ZSAhPT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY3VycmVudF9pbmRleCA9IC0xLFxuICAgICAgICAgICAgICAgIHN0cl9sID0gc3RyLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICh2YXIgc2VhcmNoX2kgPSAwLCBzZWFyY2hfbCA9IHNlYXJjaC5sZW5ndGg7IHNlYXJjaF9pIDwgc2VhcmNoX2w7IHNlYXJjaF9pKyspIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHN0cl9pID0gY3VycmVudF9pbmRleCArIDE7IHN0cl9pIDwgc3RyX2w7IHN0cl9pKyspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyW3N0cl9pXSA9PT0gc2VhcmNoW3NlYXJjaF9pXSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2luZGV4ID0gc3RyX2k7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJfaSA9IHN0cl9sICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHJfaSA9PT0gc3RyX2wpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIG51bWJlciBjbGFtcGVkIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLlxuICAgICAgICAgKiBJZiB0aGUgbWF4aW11bSBpc24ndCBwcm92aWRlZCwgb25seSBjbGFtcHMgZnJvbSB0aGUgYm90dG9tLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluaW11bSBUaGUgbWluaW11bSB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbGFtcC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG1heGltdW0gVGhlIG1heGltdW0gdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgdmFsdWUgYmV0d2VlbiBtaW5pbXVtIGFuZCBtYXhpbXVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmNsYW1wKDIsIDQsIDYpOyAvLyA9PiA0XG4gICAgICAgICAqIF8uY2xhbXAoMywgMiwgNSk7IC8vID0+IDNcbiAgICAgICAgICogXy5jbGFtcCgyLCA3LCA1KTsgLy8gPT4gNVxuICAgICAgICAgKi9cblxuICAgICAgICBjbGFtcDogZnVuY3Rpb24gY2xhbXAobWluaW11bSwgdmFsdWUsIG1heGltdW0pIHtcblxuICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKG1pbmltdW0pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCBtaW5pbXVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKG1heGltdW0pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBtYXhpbXVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQZXJmb3JtcyBhIGJpbmFyeSBlYWNoIG9mIHRoZSBhcnJheVxuICAgICAgICAgKi9cblxuICAgICAgICBidEVhY2g6IGZ1bmN0aW9uIGJ0RWFjaChhcnIsIGNhbGxiYWNrLCBzdGFydEluZGV4KSB7XG5cbiAgICAgICAgICAgIHZhciBzdGFydCA9IDAsXG4gICAgICAgICAgICAgICAgZW5kID0gYXJyLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgY2VudGVyID0gXy5pc051bWJlcihzdGFydEluZGV4KSA/IHN0YXJ0SW5kZXggOiBfLmNlaWwoKHN0YXJ0ICsgZW5kKSAvIDIpLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjtcblxuICAgICAgICAgICAgd2hpbGUgKHN0YXJ0IDw9IGVuZCkge1xuXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gY2FsbGJhY2suY2FsbChhcnJbY2VudGVyXSwgY2VudGVyLCBhcnJbY2VudGVyXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uIDwgMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGNlbnRlciAtIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBjZW50ZXIgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBfLmNlaWwoKHN0YXJ0ICsgZW5kKSAvIDIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZVxuICAgICAgICAgKi9cblxuICAgICAgICAndHJ1ZSc6IF8uY29uc3RhbnQodHJ1ZSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgZmFsc2VcbiAgICAgICAgICovXG5cbiAgICAgICAgJ2ZhbHNlJzogXy5jb25zdGFudChmYWxzZSlcblxuICAgIH0pO1xufSkoXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL0lORk86IHg6IG5vdGhpbmcsIGl0J3MgaGVyZSBqdXN0IGZvciBjb21wYXRpYmlsaXR5LFxuLy8gICAgICB0OiBjdXJyZW50IHRpbWUsXG4vLyAgICAgIGI6IHN0YXJ0IHZhbHVlLFxuLy8gICAgICBjOiBlbmQgdmFsdWUsXG4vLyAgICAgIGQ6IGR1cmF0aW9uXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBFQVNJTkcgKi9cblxuICAgICQuZWFzaW5nID0ge1xuICAgICAgICBkZWY6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIHN3aW5nOiBmdW5jdGlvbiBzd2luZyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gJC5lYXNpbmdbJC5lYXNpbmcuZGVmXSh4LCB0LCBiLCBjLCBkKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluZWFyOiBmdW5jdGlvbiBsaW5lYXIoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIChjIC0gYikgLyBkICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uIGVhc2VJblF1YWQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gZWFzZU91dFF1YWQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgtLXQgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24gZWFzZUluQ3ViaWMoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiBlYXNlT3V0Q3ViaWMoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiBlYXNlSW5PdXRDdWJpYyh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24gZWFzZUluUXVhcnQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24gZWFzZU91dFF1YXJ0KHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbiBlYXNlSW5PdXRRdWFydCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gZWFzZUluUXVpbnQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWludCh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblNpbmU6IGZ1bmN0aW9uIGVhc2VJblNpbmUoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24gZWFzZU91dFNpbmUoeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gZWFzZUluT3V0U2luZSh4LCB0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uIGVhc2VJbkV4cG8oeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIHQgPT0gMCA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0RXhwbzogZnVuY3Rpb24gZWFzZU91dEV4cG8oeCwgdCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIHQgPT0gZCA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKHgsIHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICAgICAgaWYgKHQgPT0gZCkgcmV0dXJuIGIgKyBjO1xuICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgICAgICB9XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2Vhc2luZy9lYXNpbmcuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBKUVVFUlkgRVhUUkEgKi9cblxuICAgICQucmVmbG93ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vSU5GTzogUmVxdWVzdGluZyB0aGUgYG9mZnNldEhlaWdodGAgcHJvcGVydHkgdHJpZ2dlcnMgYSByZWZsb3cuIE5lY2Vzc2FyeSwgc28gdGhhdCB0aGUgZGVmZXJyZWQgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCBpbiBhbm90aGVyIGN5Y2xlXG4gICAgfTtcblxuICAgICQuZXZlbnRYWSA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIGlmIChldmVudC5pc1BvaW50ZXJFdmVudCkge1xuICAgICAgICAgICAgLy9JTkZPOiBIYXMgYmVlbiBjcmVhdGVkIHVzaW5nIHRoZSBgUG9pbnRlcmAgYWJzdHJhY3Rpb25cblxuICAgICAgICAgICAgZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQuYnJvd3Nlci5oYXNUb3VjaCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMpIHtcblxuICAgICAgICAgICAgZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBYOiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgIFk6IGV2ZW50LnBhZ2VZXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qIENPTU1PTiBPQkpFQ1RTICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB3aW5kb3cuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICAgICAgd2luZG93LiRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuICAgICAgICB3aW5kb3cuJGh0bWwgPSAkKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIHdpbmRvdy4kYm9keSA9ICQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIHdpbmRvdy4kZW1wdHkgPSAkKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogVE1QTCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtVGVtcGxhdGVzICovXG5cbi8qXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAgICAgIERvY3VtZW50YXRpb24gICAgICAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogSW50ZXJwb2xhdGlvblxuICpcbiAqIC0gQmFzaWNcbiAqIDxoMz57JT1vLnRpdGxlJX08L2gzPlxuICpcbiAqIC0gVW5lc2NhcGVkXG4gKiA8aDM+eyUjby51c2VyX2lkJX08L2gzPlxuICpcbiAqIC0gUmVzdWx0IG9mIGZ1bmN0aW9uIGNhbGxcbiAqIDxhIGhyZWY9XCJ7JT1lbmNvZGVVUkkoby51cmwpJX1cIj5XZWJzaXRlPC9hPlxuICpcbiAqIC0gTmVzdGVkIHByb3BlcnRpZXNcbiAqIDxzdHJvbmc+eyU9by5hdXRob3IubmFtZSV9PC9zdHJvbmc+XG4gKlxuICogRXZhbHVhdGlvblxuICpcbiAqIC0gUHJpbnRcbiAqIDxzcGFuPlllYXI6IHslIHZhciBkPW5ldyBEYXRlKCk7IHByaW50KGQuZ2V0RnVsbFllYXIoKSk7ICV9PC9zcGFuPlxuICpcbiAqIC0gUHJpbnQgdW5lc2NhcGVkXG4gKiA8c3Bhbj57JSBwcmludChcIkZhc3QgJmFtcDsgcG93ZXJmdWxcIiwgdHJ1ZSk7ICV9PC9zcGFuPlxuICpcbiAqIC0gSW5jbHVkZSBhbm90aGVyIHRlbXBsYXRlXG4gKiA8ZGl2PlxuICogICAgIHslIGluY2x1ZGUoJ3RtcGwtbGluaycsIHtuYW1lOiBcIldlYnNpdGVcIiwgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5vcmdcIn0pOyAlfVxuICogPC9kaXY+XG4gKlxuICogLSBJZiBlbHNlIGNvbmRpdGlvblxuICogeyUgaWYgKG8uYXV0aG9yLnVybCkgeyAlfVxuICogICAgIDxhIGhyZWY9XCJ7JT1lbmNvZGVVUkkoby5hdXRob3IudXJsKSV9XCI+eyU9by5hdXRob3IubmFtZSV9PC9hPlxuICogeyUgfSBlbHNlIHsgJX1cbiAqICAgICA8ZW0+Tm8gYXV0aG9yIHVybC48L2VtPlxuICogeyUgfSAlfVxuICpcbiAqIC0gRm9yIGxvb3BcbiAqIDx1bD5cbiAqICAgICB7JSBmb3IgKHZhciBpPTA7IGk8by5mZWF0dXJlcy5sZW5ndGg7IGkrKykgeyAlfVxuICogICAgICAgICA8bGk+eyU9by5mZWF0dXJlc1tpXSV9PC9saT5cbiAqICAgICB7JSB9ICV9XG4gKiA8L3VsPlxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVE1QTCAqL1xuXG4gICAgdmFyIHRtcGwgPSBmdW5jdGlvbiB0bXBsKHN0ciwgZGF0YSkge1xuXG4gICAgICAgIHZhciBmID0gIS9bXlxcd1xcLVxcLjpdLy50ZXN0KHN0cikgPyB0bXBsLmNhY2hlW3N0cl0gPSB0bXBsLmNhY2hlW3N0cl0gfHwgdG1wbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOiBuZXcgRnVuY3Rpb24odG1wbC5hcmcgKyAnLHRtcGwnLCBcInZhciBfZT1fLmVzY2FwZVwiICsgdG1wbC5oZWxwZXIgKyBcIixfcz0nXCIgKyBzdHIucmVwbGFjZSh0bXBsLnJlZ2V4cCwgdG1wbC5mdW5jKSArIFwiJztyZXR1cm4gX3M7XCIpO1xuXG4gICAgICAgIHJldHVybiBkYXRhID8gZihkYXRhLCB0bXBsKSA6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZihkYXRhLCB0bXBsKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdG1wbC5jYWNoZSA9IHt9O1xuXG4gICAgdG1wbC5yZWdleHAgPSAvKFtcXHMnXFxcXF0pKD8hKD86W157XXxcXHsoPyElKSkqJVxcfSl8KD86XFx7JSg9fCMpKFtcXHNcXFNdKz8pJVxcfSl8KFxceyUpfCglXFx9KS9nO1xuXG4gICAgdG1wbC5mdW5jID0gZnVuY3Rpb24gKHMsIHAxLCBwMiwgcDMsIHA0LCBwNSkge1xuXG4gICAgICAgIGlmIChwMSkge1xuICAgICAgICAgICAgLy8gd2hpdGVzcGFjZSwgcXVvdGUgYW5kIGJhY2tzcGFjZSBpbiBIVE1MIGNvbnRleHRcblxuICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgJ1xcbic6ICdcXFxcbicsXG4gICAgICAgICAgICAgICAgJ1xccic6ICdcXFxccicsXG4gICAgICAgICAgICAgICAgJ1xcdCc6ICdcXFxcdCcsXG4gICAgICAgICAgICAgICAgJyAnOiAnICdcbiAgICAgICAgICAgIH0pW3AxXSB8fCAnXFxcXCcgKyBwMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwMikge1xuICAgICAgICAgICAgLy8gaW50ZXJwb2xhdGlvbjogeyU9cHJvcCV9LCBvciB1bmVzY2FwZWQ6IHslI3Byb3AlfVxuXG4gICAgICAgICAgICBpZiAocDIgPT09ICc9Jykge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiJytfZShcIiArIHAzICsgXCIpKydcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiJysoXCIgKyBwMyArIFwiPT1udWxsPycnOlwiICsgcDMgKyBcIikrJ1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHA0KSB7XG4gICAgICAgICAgICAvLyBldmFsdWF0aW9uIHN0YXJ0IHRhZzogeyVcblxuICAgICAgICAgICAgcmV0dXJuIFwiJztcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwNSkge1xuICAgICAgICAgICAgLy8gZXZhbHVhdGlvbiBlbmQgdGFnOiAlfVxuXG4gICAgICAgICAgICByZXR1cm4gXCJfcys9J1wiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRtcGwuYXJnID0gJ28nO1xuXG4gICAgdG1wbC5oZWxwZXIgPSBcIixwcmludD1mdW5jdGlvbihzLGUpe19zKz1lPyhzPT1udWxsPycnOnMpOl9lKHMpO30saW5jbHVkZT1mdW5jdGlvbihzLGQpe19zKz10bXBsKHMsZCk7fVwiO1xuXG4gICAgLyogSEVMUEVSICovXG5cbiAgICAkLnRtcGwgPSB0bXBsO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogZGV0ZWN0IGJyb3dzZXJzLCB2ZXJzaW9ucywgT1NlcywgYnV0Li4uIGlzIGl0IHVzZWZ1bD9cbi8vVE9ETzogZGV0ZWN0OiB3aW5kb3dzIHBob25lLCBzbWFydHBob25lLCB3aW5kb3dzLCBsaW51eCwgc2FmYXJpLCBvcGVyYSwgZmlyZWZveCwgbG93ZW5kXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvKiBCUk9XU0VSICovXG5cbiAgICAkLmJyb3dzZXIgPSB7XG4gICAgICAgIGlzTW9iaWxlOiAvaXBob25lfGlwYWR8YW5kcm9pZHxpcG9kfG9wZXJhIG1pbml8b3BlcmEgbW9iaWxlfGJsYWNrYmVycnl8aWVtb2JpbGV8d2Vib3N8d2luZG93cyBwaG9uZXxwbGF5Ym9va3x0YWJsZXR8a2luZGxlL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc1RhYmxldDogL2lwYWR8cGxheWJvb2t8dGFibGV0fGtpbmRsZS9pLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNBbmRyb2lkOiAvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNJT1M6IC8oaXBob25lfGlwYWR8aXBvZCkvaS50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzTWFjOiAvbWFjL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0lFOiAvbXNpZSBbXFx3Ll0rLy50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzQ2hyb21lOiAvY2hyb21lL2kudGVzdCh1c2VyQWdlbnQpXG4gICAgfTtcblxuICAgICQuYnJvd3Nlci5oYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyAmJiAhKCQuYnJvd3Nlci5pc0Nocm9tZSAmJiAhJC5icm93c2VyLmlzQW5kcm9pZCk7IC8vRklYTUU6IFdoeSBkbyB3ZSBuZWVkIHRoZSBzZWNvbmQgY2hlY2s/IERvIG90aGVyIGxpYnJhcmllcyBkbyB0aGUgc2FtZT9cbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIGpRdWVyeS1leHRyYS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9GSVhNRTogUmlnaHQgbm93IGhvdyBjYW4gd2UgYmluZCBhbiBldmVudCBoYW5kbGVyIG9uIGp1c3QgdGFwPyAod2hlbiBkb3VibGV0YXAgZG9lc24ndCBoYXBwZW4gbGF0ZXIpXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQT0lOVEVSICovXG5cbiAgICAkLlBvaW50ZXIgPSB7XG4gICAgICAgIHByZXNzRHVyYXRpb246IDMwMCxcbiAgICAgICAgZG91YmxlVGFwSW50ZXJ2YWw6IDMwMCxcbiAgICAgICAgZmxpY2tEdXJhdGlvbjogMTUwLFxuICAgICAgICBtb3Rpb25UaHJlc2hvbGQ6IDVcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50c19uYW1lcyA9IFsndGFwJywgJ2RibHRhcCcsICdwcmVzcycsICdkcmFnc3RhcnQnLCAnZHJhZ21vdmUnLCAnZHJhZ2VuZCcsICdmbGljayddLFxuICAgICAgICBldmVudHNfbmFtZXNwYWNlID0gJ3BvaW50ZXInO1xuXG4gICAgXy5lYWNoKGV2ZW50c19uYW1lcywgZnVuY3Rpb24gKGV2ZW50X25hbWUpIHtcblxuICAgICAgICB2YXIgZnVsbF9ldmVudCA9IGV2ZW50c19uYW1lc3BhY2UgKyBldmVudF9uYW1lO1xuXG4gICAgICAgICQuUG9pbnRlcltldmVudF9uYW1lXSA9IGZ1bGxfZXZlbnQ7XG5cbiAgICAgICAgJC5mbltldmVudF9uYW1lXSA9IGZ1bmN0aW9uIChmbikge1xuXG4gICAgICAgICAgICByZXR1cm4gZm4gPyB0aGlzLm9uKGZ1bGxfZXZlbnQsIGZuKSA6IHRoaXMudHJpZ2dlcihmdWxsX2V2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qIFRSSUdHRVJTICovXG5cbiAgICB2YXIgc3RhcnRFdmVudHMgPSAkLmJyb3dzZXIuaGFzVG91Y2ggPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJyxcbiAgICAgICAgbW92ZUV2ZW50cyA9ICQuYnJvd3Nlci5oYXNUb3VjaCA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZScsXG4gICAgICAgIGVuZEV2ZW50cyA9ICQuYnJvd3Nlci5oYXNUb3VjaCA/ICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcgOiAnbW91c2V1cCBtb3VzZWxlYXZlJyxcbiAgICAgICAgJGh0bWwgPSAkKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCksXG4gICAgICAgIHN0YXJ0WFksXG4gICAgICAgIG1vdmVYWSxcbiAgICAgICAgZGVsdGFYWSxcbiAgICAgICAgZW5kWFksXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgJHRhcmdldCxcbiAgICAgICAgc3RhcnRfdGltZXN0YW1wLFxuICAgICAgICBlbmRfdGltZXN0YW1wLFxuICAgICAgICBwcmV2X3RhcF90aW1lc3RhbXAgPSAwLFxuICAgICAgICBtb3Rpb24sXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIHByZXNzX3RpbWVvdXQ7XG5cbiAgICB2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lLCBvcmlnaW5hbEV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGV2ZW50ID0gJC5FdmVudChuYW1lKTtcblxuICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgZXZlbnQuaXNQb2ludGVyRXZlbnQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9O1xuXG4gICAgdmFyIHN0YXJ0SGFuZGxlciA9IGZ1bmN0aW9uIHN0YXJ0SGFuZGxlcihldmVudCkge1xuXG4gICAgICAgIHN0YXJ0WFkgPSAkLmV2ZW50WFkoZXZlbnQpO1xuXG4gICAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgJHRhcmdldCA9ICQodGFyZ2V0KTtcblxuICAgICAgICBzdGFydF90aW1lc3RhbXAgPSBldmVudC50aW1lU3RhbXAgfHwgXy5ub3coKTtcblxuICAgICAgICBtb3Rpb24gPSBmYWxzZTtcblxuICAgICAgICBwcmVzc190aW1lb3V0ID0gc2V0VGltZW91dChfLndyYXAoZXZlbnQsIHByZXNzSGFuZGxlciksICQuUG9pbnRlci5wcmVzc0R1cmF0aW9uKTtcblxuICAgICAgICAkdGFyZ2V0LnRyaWdnZXIoY3JlYXRlRXZlbnQoJC5Qb2ludGVyLmRyYWdzdGFydCwgZXZlbnQpLCB7XG4gICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRodG1sLm9uKG1vdmVFdmVudHMsIG1vdmVIYW5kbGVyKTtcbiAgICAgICAgJGh0bWwub24oZW5kRXZlbnRzLCBlbmRIYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgdmFyIHByZXNzSGFuZGxlciA9IGZ1bmN0aW9uIHByZXNzSGFuZGxlcihldmVudCkge1xuICAgICAgICAvL0ZJWE1FOiBpdCBkb2Vzbid0IGdldCBjYWxsZWQgaWYgd2UgZG8gZXZlbnQucHJldmVudERlZmF1bHQgKCkgd2l0aCBkcmFnc3RhcnRcblxuICAgICAgICAkdGFyZ2V0LnRyaWdnZXIoY3JlYXRlRXZlbnQoJC5Qb2ludGVyLnByZXNzLCBldmVudCkpO1xuICAgIH07XG5cbiAgICB2YXIgbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiBtb3ZlSGFuZGxlcihldmVudCkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dChwcmVzc190aW1lb3V0KTtcblxuICAgICAgICBtb3ZlWFkgPSAkLmV2ZW50WFkoZXZlbnQpO1xuXG4gICAgICAgIGRlbHRhWFkgPSB7XG4gICAgICAgICAgICBYOiBtb3ZlWFkuWCAtIHN0YXJ0WFkuWCxcbiAgICAgICAgICAgIFk6IG1vdmVYWS5ZIC0gc3RhcnRYWS5ZXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhWFkuWCkgPiAkLlBvaW50ZXIubW90aW9uVGhyZXNob2xkIHx8IE1hdGguYWJzKGRlbHRhWFkuWSkgPiAkLlBvaW50ZXIubW90aW9uVGhyZXNob2xkKSB7XG5cbiAgICAgICAgICAgIG1vdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIuZHJhZ21vdmUsIGV2ZW50KSwge1xuICAgICAgICAgICAgICAgIHN0YXJ0WFk6IHN0YXJ0WFksXG4gICAgICAgICAgICAgICAgbW92ZVhZOiBtb3ZlWFksXG4gICAgICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGVuZEhhbmRsZXIgPSBmdW5jdGlvbiBlbmRIYW5kbGVyKGV2ZW50KSB7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHByZXNzX3RpbWVvdXQpO1xuXG4gICAgICAgIGVuZFhZID0gJC5ldmVudFhZKGV2ZW50KTtcbiAgICAgICAgZGVsdGFYWSA9IHtcbiAgICAgICAgICAgIFg6IGVuZFhZLlggLSBzdGFydFhZLlgsXG4gICAgICAgICAgICBZOiBlbmRYWS5ZIC0gc3RhcnRYWS5ZXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gZXZlbnQudGFyZ2V0KSB7XG5cbiAgICAgICAgICAgIGVuZF90aW1lc3RhbXAgPSBldmVudC50aW1lU3RhbXAgfHwgXy5ub3coKTtcblxuICAgICAgICAgICAgaWYgKCEkLmJyb3dzZXIuaGFzVG91Y2ggfHwgIW1vdGlvbikge1xuXG4gICAgICAgICAgICAgICAgJHRhcmdldC50cmlnZ2VyKGNyZWF0ZUV2ZW50KCQuUG9pbnRlci50YXAsIGV2ZW50KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZW5kX3RpbWVzdGFtcCAtIHByZXZfdGFwX3RpbWVzdGFtcCA8PSAkLlBvaW50ZXIuZG91YmxlVGFwSW50ZXJ2YWwpIHtcblxuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIoY3JlYXRlRXZlbnQoJC5Qb2ludGVyLmRibHRhcCwgZXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcmV2X3RhcF90aW1lc3RhbXAgPSBlbmRfdGltZXN0YW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobW90aW9uICYmIGVuZF90aW1lc3RhbXAgLSBzdGFydF90aW1lc3RhbXAgPD0gJC5Qb2ludGVyLmZsaWNrRHVyYXRpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YVhZLlgpID4gTWF0aC5hYnMoZGVsdGFYWS5ZKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBkZWx0YVhZLlggPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBkZWx0YVhZLlkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIuZmxpY2ssIGV2ZW50KSwge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZLFxuICAgICAgICAgICAgICAgICAgICBlbmRYWTogZW5kWFksXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWFk6IGRlbHRhWFksXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRodG1sLm9mZihtb3ZlRXZlbnRzLCBtb3ZlSGFuZGxlcik7XG4gICAgICAgICRodG1sLm9mZihlbmRFdmVudHMsIGVuZEhhbmRsZXIpO1xuXG4gICAgICAgICR0YXJnZXQudHJpZ2dlcihjcmVhdGVFdmVudCgkLlBvaW50ZXIuZHJhZ2VuZCwgZXZlbnQpLCB7XG4gICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZLFxuICAgICAgICAgICAgZW5kWFk6IGVuZFhZLFxuICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJGh0bWwub24oc3RhcnRFdmVudHMsIHN0YXJ0SGFuZGxlcik7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyB0bXBsLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IEFkZCBzdXBwb3J0IGZvciBfdHJpZ2dlciAtPiBwcmV2ZW50RGVmYXVsdFxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQkFTRSBXSURHRVQgKi9cblxuICAgICQuV2lkZ2V0ID0gZnVuY3Rpb24gKCkgLyogb3B0aW9ucywgZWxlbWVudCAqL3t9O1xuXG4gICAgJC5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzID0gW107XG5cbiAgICAkLldpZGdldC5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgLyogVkFSSUFCTEVTICovXG5cbiAgICAgICAgd2lkZ2V0T3JpZ2luYWxOYW1lOiAnd2lkZ2V0JyxcbiAgICAgICAgd2lkZ2V0TmFtZTogJ3dpZGdldCcsXG4gICAgICAgIHdpZGdldEZ1bGxOYW1lOiAnd2lkZ2V0JyxcblxuICAgICAgICBkZWZhdWx0RWxlbWVudDogZmFsc2UsXG4gICAgICAgIHRlbXBsYXRlczoge30sIC8vSU5GTzogVGhlIGBiYXNlYCB0ZW1wbGF0ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnN0cnVjdG9yXG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge31cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSURHRVQgRlVOQ1RJT05TICovXG5cbiAgICAgICAgX2NyZWF0ZVdpZGdldDogZnVuY3Rpb24gX2NyZWF0ZVdpZGdldChvcHRpb25zLCBlbGVtZW50KSB7XG5cbiAgICAgICAgICAgIC8vIFZBUklBQkxFU1xuXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uVHlwZSA9IGVsZW1lbnQgPyAnZWxlbWVudCcgOiB0aGlzLmRlZmF1bHRFbGVtZW50ID8gJ2h0bWwnIDogdGhpcy50ZW1wbGF0ZXMuYmFzZSA/ICd0ZW1wbGF0ZScgOiAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8qIEVYVEVORCBPUFRJT05TICovXG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IF8ubWVyZ2Uoe30sIHRoaXMub3B0aW9ucywgdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6YXRpb25UeXBlID09PSAnZWxlbWVudCcpIHtcblxuICAgICAgICAgICAgICAgIF8ubWVyZ2UodGhpcy5vcHRpb25zLCAkKGVsZW1lbnQpLmRhdGEodGhpcy53aWRnZXROYW1lKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElOSVQgRUxFTUVOVFxuXG4gICAgICAgICAgICBlbGVtZW50ID0gJChlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgKHRoaXMudGVtcGxhdGVzLmJhc2UgPyB0aGlzLl90bXBsKCdiYXNlJywgdGhpcy5vcHRpb25zKSA6IGZhbHNlKSB8fCB0aGlzKS5nZXQoMCk7XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuICAgICAgICAgICAgdGhpcy5ndWlkID0gXy51bmlxdWVJZCgpO1xuXG4gICAgICAgICAgICAvLyBESVNBQkxFRFxuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSBvcHRpb25zICYmIG9wdGlvbnMuZGlzYWJsZWQgPyBvcHRpb25zLmRpc2FibGVkIDogdGhpcy4kZWxlbWVudC5oYXNDbGFzcyh0aGlzLndpZGdldE5hbWUgKyAnLWRpc2FibGVkJyk7XG5cbiAgICAgICAgICAgIC8vIFNBVklORyBJTlNUQU5DRVxuXG4gICAgICAgICAgICAkLmRhdGEodGhpcy5lbGVtZW50LCB0aGlzLndpZGdldEZ1bGxOYW1lLCB0aGlzKTtcblxuICAgICAgICAgICAgLy8gT04gJEVMRU1FTlQgUkVNT1ZFIC0+IFdJREdFVCBERVNUUk9ZXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsIHRoaXMuJGVsZW1lbnQsICdyZW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBDQUxMQkFDS1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NyZWF0ZScsIHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpKTtcblxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldENyZWF0ZU9wdGlvbnM6IF8ubm9vcCxcbiAgICAgICAgX2dldENyZWF0ZUV2ZW50RGF0YTogXy5ub29wLFxuICAgICAgICBfY3JlYXRlOiBfLm5vb3AsXG4gICAgICAgIF92YXJpYWJsZXM6IF8ubm9vcCxcbiAgICAgICAgX2luaXQ6IF8ubm9vcCxcbiAgICAgICAgX2V2ZW50czogXy5ub29wLFxuXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3koKTtcblxuICAgICAgICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2Rlc3Ryb3k6IF8ubm9vcCxcblxuICAgICAgICB3aWRnZXQ6IGZ1bmN0aW9uIHdpZGdldCgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyBGVU5DVElPTlMgKi9cblxuICAgICAgICBvcHRpb246IGZ1bmN0aW9uIG9wdGlvbihrZXksIHZhbHVlKSB7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBrZXksXG4gICAgICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICAgICAgY3VyT3B0aW9uLFxuICAgICAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIG5lc3RlZCBrZXlzLCBlLmcuLCBcImZvby5iYXJcIiA9PiB7IGZvbzogeyBiYXI6IF9fXyB9IH1cblxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyT3B0aW9uID0gb3B0aW9uc1trZXldID0gXy5leHRlbmQoe30sIHRoaXMub3B0aW9uc1trZXldKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9wdGlvbltwYXJ0c1tpXV0gPSBjdXJPcHRpb25bcGFydHNbaV1dIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyT3B0aW9uID0gY3VyT3B0aW9uW3BhcnRzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHBhcnRzLnBvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJPcHRpb25ba2V5XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvbltrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyT3B0aW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0T3B0aW9uczogZnVuY3Rpb24gX3NldE9wdGlvbnMob3B0aW9ucykge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0T3B0aW9uKGtleSwgb3B0aW9uc1trZXldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldE9wdGlvbjogZnVuY3Rpb24gX3NldE9wdGlvbihrZXksIHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdkaXNhYmxlZCcpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXROYW1lICsgJy1kaXNhYmxlZCcsICEhdmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBFTkFCTElORyAvIERJU0FCTElORyAqL1xuXG4gICAgICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7IGRpc2FibGVkOiBmYWxzZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7IGRpc2FibGVkOiB0cnVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEVWRU5UUyAqL1xuXG4gICAgICAgIF9vbjogZnVuY3Rpb24gX29uKHN1cHByZXNzRGlzYWJsZWRDaGVjaywgJGVsZW1lbnQsIGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXIpIHtcblxuICAgICAgICAgICAgLy9UT0RPOiBBZGQgc3VwcG9ydCBmb3IgY3VzdG9tIGRhdGFcblxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgIT09ICdib29sZWFuJykge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gZXZlbnRzO1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9ICRlbGVtZW50O1xuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuICAgICAgICAgICAgICAgIHN1cHByZXNzRGlzYWJsZWRDaGVjayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoISgkZWxlbWVudCBpbnN0YW5jZW9mICQpKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IgJiYgIWhhbmRsZXIpIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyID0gXy5pc1N0cmluZyhoYW5kbGVyKSA/IHRoaXNbaGFuZGxlcl0gOiBoYW5kbGVyO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN1cHByZXNzRGlzYWJsZWRDaGVjayAmJiAoaW5zdGFuY2Uub3B0aW9ucy5kaXNhYmxlZCB8fCBpbnN0YW5jZS4kZWxlbWVudC5oYXNDbGFzcyhpbnN0YW5jZS53aWRnZXROYW1lICsgJy1kaXNhYmxlZCcpKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBfLnNsaWNlKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2godGhpcyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlci5hcHBseShpbnN0YW5jZSwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhhbmRsZXJQcm94eS5ndWlkID0gaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50Lm9uKGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXJQcm94eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQub24oZXZlbnRzLCBoYW5kbGVyUHJveHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vZmY6IGZ1bmN0aW9uIF9vZmYoJGVsZW1lbnQsIGV2ZW50cywgaGFuZGxlcikge1xuXG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyID0gXy5pc1N0cmluZyhoYW5kbGVyKSA/IHRoaXNbaGFuZGxlcl0gOiBoYW5kbGVyO1xuXG4gICAgICAgICAgICAkZWxlbWVudC5vZmYoZXZlbnRzLCBoYW5kbGVyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdHJpZ2dlcjogZnVuY3Rpb24gX3RyaWdnZXIoZXZlbnRzLCBkYXRhKSB7XG5cbiAgICAgICAgICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuXG4gICAgICAgICAgICBldmVudHMgPSBldmVudHMuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgZWkgPSAwLCBlbCA9IGV2ZW50cy5sZW5ndGg7IGVpIDwgZWw7IGVpKyspIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcih0aGlzLndpZGdldE5hbWUgKyAnOicgKyBldmVudHNbZWldLCBkYXRhKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmNhbGxiYWNrc1tldmVudHNbZWldXSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jYWxsYmFja3NbZXZlbnRzW2VpXV0uY2FsbCh0aGlzLmVsZW1lbnQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBERUxBWUlORyAqL1xuXG4gICAgICAgIF9kZWxheTogZnVuY3Rpb24gX2RlbGF5KGhhbmRsZXIsIGRlbGF5KSB7XG5cbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LCBkZWxheSB8fCAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBURU1QTEFURSAqL1xuXG4gICAgICAgIF90bXBsOiBmdW5jdGlvbiBfdG1wbChuYW1lLCBvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAkLnRtcGwodGhpcy53aWRnZXRPcmlnaW5hbE5hbWUgKyAnLicgKyBuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBNQU5JUFVMQVRJT04gKi9cblxuICAgICAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIGluc2VydEJlZm9yZShzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50Lmluc2VydEJlZm9yZShzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiBpbnNlcnRBZnRlcihzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50Lmluc2VydEFmdGVyKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJlcGVuZFRvOiBmdW5jdGlvbiBwcmVwZW5kVG8oc2VsZWN0b3IpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5wcmVwZW5kVG8oc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBhcHBlbmRUbzogZnVuY3Rpb24gYXBwZW5kVG8oc2VsZWN0b3IpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hcHBlbmRUbyhzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgYmFzZV93aWRnZXQuanNcbiAqIEByZXF1aXJlcyB0bXBsLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogV0lER0VUIEZBQ1RPUlkgKi9cblxuICAgICQud2lkZ2V0ID0gZnVuY3Rpb24gKG9yaWdpbmFsTmFtZSwgYmFzZSwgcHJvdG90eXBlKSB7XG5cbiAgICAgICAgLyogVkFSSUFCTEVTICovXG5cbiAgICAgICAgdmFyIGZ1bGxOYW1lLFxuICAgICAgICAgICAgZXhpc3RpbmdDb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgYmFzZVByb3RvdHlwZSxcbiAgICAgICAgICAgIHByb3hpZWRQcm90b3R5cGUgPSB7fSxcbiAgICAgICAgICAgIG5hbWVQYXJ0cyA9IG9yaWdpbmFsTmFtZS5zcGxpdCgnLicpLFxuICAgICAgICAgICAgbmFtZXNwYWNlID0gbmFtZVBhcnRzLmxlbmd0aCA+IDEgPyBuYW1lUGFydHNbMF0gOiBmYWxzZSxcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lUGFydHMubGVuZ3RoID4gMSA/IG5hbWVQYXJ0c1sxXSA6IG5hbWVQYXJ0c1swXTtcblxuICAgICAgICBmdWxsTmFtZSA9IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSArICctJyArIG5hbWUgOiBuYW1lO1xuXG4gICAgICAgIC8qIE5PIEJBU0UgKi9cblxuICAgICAgICBpZiAoIXByb3RvdHlwZSkge1xuXG4gICAgICAgICAgICBwcm90b3R5cGUgPSBiYXNlO1xuICAgICAgICAgICAgYmFzZSA9ICQuV2lkZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyogTkFNRVNQQUNFICovXG5cbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuXG4gICAgICAgICAgICAkW25hbWVzcGFjZV0gPSAkW25hbWVzcGFjZV0gfHwge307XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDT05TVFJVQ1RPUiAqL1xuXG4gICAgICAgIGV4aXN0aW5nQ29uc3RydWN0b3IgPSBuYW1lc3BhY2UgPyAkW25hbWVzcGFjZV1bbmFtZV0gOiAkW25hbWVdO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKG9wdGlvbnMsIGVsZW1lbnQpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jcmVhdGVXaWRnZXQpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY29uc3RydWN0b3Iob3B0aW9ucywgZWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVXaWRnZXQob3B0aW9ucywgZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuXG4gICAgICAgICAgICAkW25hbWVzcGFjZV1bbmFtZV0gPSBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgJFtuYW1lXSA9IGNvbnN0cnVjdG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRVhURU5ESU5HIENPTlNUUlVDVE9SIElOIE9SREVSIFRPIENBUlJZIE9WRVIgU1RBVElDIFBST1BFUlRJRVMgKi9cblxuICAgICAgICBfLmV4dGVuZChjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuICAgICAgICAgICAgX3Byb3RvOiBfLmV4dGVuZCh7fSwgcHJvdG90eXBlKSxcbiAgICAgICAgICAgIF9jaGlsZENvbnN0cnVjdG9yczogW11cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogQkFTRSBQUk9UT1RZUEUgKi9cblxuICAgICAgICBiYXNlUHJvdG90eXBlID0gbmV3IGJhc2UoKTtcblxuICAgICAgICBiYXNlUHJvdG90eXBlLm9wdGlvbnMgPSBfLmV4dGVuZCh7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zKTsgLy9JTkZPOiBXZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Ugb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZSBpbmhlcml0aW5nIGZyb21cblxuICAgICAgICAvKiBQUk9YSUVEIFBST1RPVFlQRSAqL1xuXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvdG90eXBlKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlW3Byb3BdICE9PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICBwcm94aWVkUHJvdG90eXBlW3Byb3BdID0gcHJvdG90eXBlW3Byb3BdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm94aWVkUHJvdG90eXBlW3Byb3BdID0gKGZ1bmN0aW9uIChwcm9wKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3N1cGVyID0gZnVuY3Rpb24gX3N1cGVyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5wcm90b3R5cGVbcHJvcF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfc3VwZXJBcHBseSA9IGZ1bmN0aW9uIF9zdXBlckFwcGx5KGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UucHJvdG90eXBlW3Byb3BdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSBfc3VwZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHByb3RvdHlwZVtwcm9wXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX19zdXBlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXJBcHBseSA9IF9fc3VwZXJBcHBseTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKHByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQ09OU1RSVUNUT1IgUFJPVE9UWVBFICovXG5cbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlID0gXy5leHRlbmQoYmFzZVByb3RvdHlwZSwgcHJveGllZFByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICAgICAgICB3aWRnZXRPcmlnaW5hbE5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgICAgIHdpZGdldE5hbWU6IG5hbWUsXG4gICAgICAgICAgICB3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogQ0FDSEUgVEVNUExBVEVTICovXG5cbiAgICAgICAgZm9yICh2YXIgdG1wbF9uYW1lIGluIHByb3RvdHlwZS50ZW1wbGF0ZXMpIHtcblxuICAgICAgICAgICAgJC50bXBsLmNhY2hlW29yaWdpbmFsTmFtZSArICcuJyArIHRtcGxfbmFtZV0gPSAkLnRtcGwocHJvdG90eXBlLnRlbXBsYXRlc1t0bXBsX25hbWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFVQREFURSBQUk9UT1RZUEUgQ0hBSU4gKi9cblxuICAgICAgICBpZiAoZXhpc3RpbmdDb25zdHJ1Y3Rvcikge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkUHJvdG90eXBlID0gZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnNbaV0ucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgJC53aWRnZXQoY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlID8gY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlICsgJy4nICsgY2hpbGRQcm90b3R5cGUud2lkZ2V0TmFtZSA6IGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9yc1tpXS5fcHJvdG8pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnM7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGJhc2UuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goY29uc3RydWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQ09OU1RSVUNUICovXG5cbiAgICAgICAgJC53aWRnZXQuYnJpZGdlKG5hbWUsIGNvbnN0cnVjdG9yKTtcblxuICAgICAgICAvKiBSRVRVUk4gKi9cblxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgfTtcblxuICAgICQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uIChuYW1lLCBvYmplY3QpIHtcblxuICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICB2YXIgZnVsbE5hbWUgPSBvYmplY3QucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lIHx8IG5hbWU7XG5cbiAgICAgICAgLyogUExVR0lOICovXG5cbiAgICAgICAgJC5mbltuYW1lXSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCAmJiAhb2JqZWN0LnByb3RvdHlwZS5kZWZhdWx0RWxlbWVudCAmJiAhb2JqZWN0LnByb3RvdHlwZS50ZW1wbGF0ZXMuYmFzZSkgcmV0dXJuOyAvL0lORk86IG5vdGhpbmcgdG8gd29yayBvbiAvL0ZJWE1FOiBjcmVhdGUgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdEVsZW1lbnQgb3IgdGhlIHRlbXBsYXRlcy5iYXNlIG9wdGlvbnMsIHRoZW4gYWRkIHRoZSBpbnN0YW5jZSB0byBoaW1cblxuICAgICAgICAgICAgdmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICBhcmdzID0gXy50YWlsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoaXNNZXRob2RDYWxsKSB7XG5cbiAgICAgICAgICAgICAgICAvKiBNRVRIT0QgQ0FMTCAqL1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9ICQuZGF0YSh0aGlzLCBmdWxsTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogR0VUVElORyBJTlNUQU5DRSAqL1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zID09PSAnaW5zdGFuY2UnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gaW5zdGFuY2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qIENIRUNLSU5HIFZBTElEIENBTEwgKi9cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlKSByZXR1cm47IC8vSU5GTzogTm8gaW5zdGFuY2UgZm91bmRcblxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgaW5zdGFuY2Vbb3B0aW9uc10gPT09ICdmdW5jdGlvbicpIHx8IG9wdGlvbnMuY2hhckF0KDApID09PSAnXycpIHJldHVybjsgLy9JTkZPOiBQcml2YXRlIG1ldGhvZFxuXG4gICAgICAgICAgICAgICAgICAgIC8qIENBTExJTkcgKi9cblxuICAgICAgICAgICAgICAgICAgICBtZXRob2RWYWx1ZSA9IGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLyogU1VQUE9SVCBGT1IgUEFTU0lORyBNVUxUSVBMRSBPUFRJT05TIE9CSkVDVFMgKi9cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZC5hcHBseShudWxsLCBbb3B0aW9uc10uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiBJTlNUQU5DSUFUSU5HICovXG5cbiAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIEdFVCBJTlNUQU5DRSAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9ICQuZGF0YSh0aGlzLCBmdWxsTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wdGlvbihvcHRpb25zIHx8IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0KG9wdGlvbnMsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH07XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIGxvZGFzaC1leHRyYS5qc1xuICogQHJlcXVpcmVzIGpRdWVyeS1leHRyYS5qc1xuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqIEByZXF1aXJlcyBicm93c2VyLmpzXG4gKiBAcmVxdWlyZXMgcG9pbnRlci5qc1xuICogQHJlcXVpcmVzIGJhc2Vfd2lkZ2V0LmpzXG4gKiBAcmVxdWlyZXMgd2lkZ2V0LmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVUkgKi9cblxuICAgICQudWkgPSB7XG4gICAgICAgIGtleUNvZGU6IHtcbiAgICAgICAgICAgIEJBQ0tTUEFDRTogOCxcbiAgICAgICAgICAgIENPTU1BOiAxODgsXG4gICAgICAgICAgICBERUxFVEU6IDQ2LFxuICAgICAgICAgICAgRE9XTjogNDAsXG4gICAgICAgICAgICBFTkQ6IDM1LFxuICAgICAgICAgICAgRU5URVI6IDEzLFxuICAgICAgICAgICAgRVNDQVBFOiAyNyxcbiAgICAgICAgICAgIEhPTUU6IDM2LFxuICAgICAgICAgICAgTEVGVDogMzcsXG4gICAgICAgICAgICBQQUdFX0RPV046IDM0LFxuICAgICAgICAgICAgUEFHRV9VUDogMzMsXG4gICAgICAgICAgICBQRVJJT0Q6IDE5MCxcbiAgICAgICAgICAgIFJJR0hUOiAzOSxcbiAgICAgICAgICAgIFNQQUNFOiAzMixcbiAgICAgICAgICAgIFRBQjogOSxcbiAgICAgICAgICAgIFVQOiAzOFxuICAgICAgICB9LFxuICAgICAgICBtb3VzZUJ1dHRvbjoge1xuICAgICAgICAgICAgTEVGVDogMCxcbiAgICAgICAgICAgIE1JRERMRTogMSxcbiAgICAgICAgICAgIFJJR0hUOiAyXG4gICAgICAgIH1cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQUNDT1JESU9OICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLmFjY29yZGlvbicsIHtcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kYWNjb3JkaW9uID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGV4cGFuZGVycyA9IHRoaXMuJGFjY29yZGlvbi5jaGlsZHJlbignLmV4cGFuZGVyJyk7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcyA9IEFycmF5KHRoaXMuJGV4cGFuZGVycy5sZW5ndGgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzTXVsdGlwbGUgPSB0aGlzLiRhY2NvcmRpb24uaGFzQ2xhc3MoJ211bHRpcGxlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuJGV4cGFuZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpXSA9IHRoaXMuJGV4cGFuZGVycy5lcShpKS5leHBhbmRlcignaW5zdGFuY2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbignZXhwYW5kZXI6b3BlbicsICcuZXhwYW5kZXInLCB0aGlzLl9oYW5kbGVyX29wZW4pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QRU4gKi9cblxuICAgICAgICBfaGFuZGxlcl9vcGVuOiBmdW5jdGlvbiBfaGFuZGxlcl9vcGVuKGV2ZW50LCBkYXRhLCBub2RlKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuJGV4cGFuZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kZXhwYW5kZXJzW2ldICE9PSBub2RlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpXS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGluZGV4KSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0udG9nZ2xlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlQWxsOiBmdW5jdGlvbiB0b2dnbGVBbGwoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXMsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudG9nZ2xlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGluZGV4KSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0ub3BlbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW5BbGw6IGZ1bmN0aW9uIG9wZW5BbGwoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXMsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uub3BlbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGluZGV4KSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0uY2xvc2UoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZUFsbDogZnVuY3Rpb24gY2xvc2VBbGwoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXMsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuYWNjb3JkaW9uJykuYWNjb3JkaW9uKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogT25seSB3b3JrcyB3aXRoIGBib3gtc2l6aW5nOiBib3JkZXItYm94YFxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQVVUT0dST1cgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uYXV0b2dyb3cnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbmltdW1fd2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5pbXVtX2hlaWdodDogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGdyb3dhYmxlID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pc0lucHV0ID0gdGhpcy4kZ3Jvd2FibGUuaXMoJ2lucHV0Jyk7XG4gICAgICAgICAgICB0aGlzLmlzVGV4dGFyZWEgPSB0aGlzLiRncm93YWJsZS5pcygndGV4dGFyZWEnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2lucHV0IGNoYW5nZScsIHRoaXMudXBkYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBJTlBVVCAqL1xuXG4gICAgICAgIF91cGRhdGVfaW5wdXRfd2lkdGg6IGZ1bmN0aW9uIF91cGRhdGVfaW5wdXRfd2lkdGgoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZWVkZWRfd2lkdGggPSB0aGlzLl9nZXRfaW5wdXRfbmVlZGVkX3dpZHRoKHRoaXMuJGdyb3dhYmxlKTtcblxuICAgICAgICAgICAgdGhpcy4kZ3Jvd2FibGUud2lkdGgoTWF0aC5tYXgobmVlZGVkX3dpZHRoLCB0aGlzLm9wdGlvbnMubWluaW11bV93aWR0aCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfaW5wdXRfbmVlZGVkX3dpZHRoOiBmdW5jdGlvbiBfZ2V0X2lucHV0X25lZWRlZF93aWR0aCgpIHtcblxuICAgICAgICAgICAgdmFyICRzcGFuID0gJCgnPHNwYW4+JyArIHRoaXMuJGdyb3dhYmxlLnZhbCgpICsgJzwvc3Bhbj4nKTtcblxuICAgICAgICAgICAgJHNwYW4uY3NzKHtcbiAgICAgICAgICAgICAgICBmb250OiB0aGlzLiRncm93YWJsZS5jc3MoJ2ZvbnQnKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNwYW4uYXBwZW5kVG8oJGJvZHkpO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkc3Bhbi53aWR0aCgpO1xuXG4gICAgICAgICAgICAkc3Bhbi5yZW1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFRFWFRBUkVBICovXG5cbiAgICAgICAgX3VwZGF0ZV90ZXh0YXJlYV9oZWlnaHQ6IGZ1bmN0aW9uIF91cGRhdGVfdGV4dGFyZWFfaGVpZ2h0KCkge1xuXG4gICAgICAgICAgICB2YXIgbmVlZGVkX2hlaWdodCA9IHRoaXMuJGdyb3dhYmxlLmhlaWdodCgxKS5nZXQoMCkuc2Nyb2xsSGVpZ2h0IC0gcGFyc2VGbG9hdCh0aGlzLiRncm93YWJsZS5jc3MoJ3BhZGRpbmctdG9wJykpIC0gcGFyc2VGbG9hdCh0aGlzLiRncm93YWJsZS5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xuXG4gICAgICAgICAgICB0aGlzLiRncm93YWJsZS5oZWlnaHQoTWF0aC5tYXgobmVlZGVkX2hlaWdodCwgdGhpcy5vcHRpb25zLm1pbmltdW1faGVpZ2h0KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5wdXQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dF93aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUZXh0YXJlYSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RleHRhcmVhX2hlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2lucHV0LmF1dG9ncm93LCB0ZXh0YXJlYS5hdXRvZ3JvdywgLmlucHV0LXdycC5hdXRvZ3JvdyBpbnB1dCwgLnRleHRhcmVhLXdycC5hdXRvZ3JvdyB0ZXh0YXJlYScpLmF1dG9ncm93KCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBCTFVSICovXG5cbiAgICAkLmZuLmJsdXJyZWQgPSBmdW5jdGlvbiAoZm9yY2UpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVDbGFzcygnYmx1cnJlZCcsIGZvcmNlKTtcbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9sb2Rhc2gtZXh0cmEuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBCSU5BUlkgVFJFRSAuZWFjaCAoKSAqL1xuXG4gICAgJC5mbi5idEVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHN0YXJ0SW5kZXgpIHtcblxuICAgICAgICByZXR1cm4gXy5idEVhY2godGhpcywgY2FsbGJhY2ssIHN0YXJ0SW5kZXgpO1xuICAgIH07XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBDSEVDS0JPWCAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5jaGVja2JveCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVuY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGNoZWNrYm94ID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kY2hlY2tib3guZmluZCgnaW5wdXQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAgICAgICAvL0ZJWE1FOiBpcyBpdCBuZWNlc3NhcnkgdG8gaW5jbHVkZSBpdD8gTWF5YmUgd2Ugc2hvdWxkIGZpeCBtaXN0YWtlcyB3aXRoIHRoZSBtYXJrdXAuLi5cblxuICAgICAgICAgICAgdmFyIGhhc0NsYXNzID0gdGhpcy4kY2hlY2tib3guaGFzQ2xhc3MoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCkpIHtcblxuICAgICAgICAgICAgICAgIGlmICghaGFzQ2xhc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGVja2JveC5hZGRDbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNoZWNrYm94LnJlbW92ZUNsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0cnVlLCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gX2hhbmRsZXJfY2hhbmdlKCkge1xuXG4gICAgICAgICAgICB2YXIgaXNDaGVja2VkID0gdGhpcy5nZXQoKTtcblxuICAgICAgICAgICAgdGhpcy4kY2hlY2tib3gudG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnLCBpc0NoZWNrZWQpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKGlzQ2hlY2tlZCA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIC8vRklYTUU6IG1heWJlIHRoaXMgc2hvdWxkIHJldHVybiB0aGUgdmFsdWUsIGFuZCBhIGlzQ2hlY2tlZCBlcXVpdmFsZW50IHNob3VsZCBkbyB0aGlzIGpvYlxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGZvcmNlKSB7XG5cbiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSB0aGlzLmdldCgpO1xuXG4gICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChmb3JjZSkpIHtcblxuICAgICAgICAgICAgICAgIGZvcmNlID0gIWlzQ2hlY2tlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvcmNlICE9PSBpc0NoZWNrZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnByb3AoJ2NoZWNrZWQnLCBmb3JjZSkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKGZvcmNlID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcpOyAvL0ZJWE1FOiBpcyB0cmlnZ2VyZWQgdHdpY2UgcGVyIHRvZ2dsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrOiBmdW5jdGlvbiBjaGVjaygpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUodHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5jaGVjazogZnVuY3Rpb24gdW5jaGVjaygpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuY2hlY2tib3gnKS5jaGVja2JveCgpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBDT0xPUiBIRUxQRVIgKi9cblxuICAgIHdpbmRvdy5Db2xvckhlbHBlciA9IHtcblxuICAgICAgICAvKiBDT0xPUiBTUEFDRVMgQ09OVkVSVEVSUyAqL1xuXG4gICAgICAgIGhleDJyZ2I6IGZ1bmN0aW9uIGhleDJyZ2IoaGV4KSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogdGhpcy5oZXgyZGVjKGhleC5yKSxcbiAgICAgICAgICAgICAgICBnOiB0aGlzLmhleDJkZWMoaGV4LmcpLFxuICAgICAgICAgICAgICAgIGI6IHRoaXMuaGV4MmRlYyhoZXguYilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGV4MmhzdjogZnVuY3Rpb24gaGV4MmhzdihoZXgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmdiMmhzdih0aGlzLmhleDJyZ2IoaGV4KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmdiMmhleDogZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiB0aGlzLmRlYzJoZXgocmdiLnIpLFxuICAgICAgICAgICAgICAgIGc6IHRoaXMuZGVjMmhleChyZ2IuZyksXG4gICAgICAgICAgICAgICAgYjogdGhpcy5kZWMyaGV4KHJnYi5iKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICByZ2IyaHN2OiBmdW5jdGlvbiByZ2IyaHN2KHJnYikge1xuXG4gICAgICAgICAgICB2YXIgciA9IHJnYi5yIC8gMjU1LFxuICAgICAgICAgICAgICAgIGcgPSByZ2IuZyAvIDI1NSxcbiAgICAgICAgICAgICAgICBiID0gcmdiLmIgLyAyNTUsXG4gICAgICAgICAgICAgICAgaCxcbiAgICAgICAgICAgICAgICBzLFxuICAgICAgICAgICAgICAgIHYgPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgICAgICAgICAgICBkaWZmID0gdiAtIE1hdGgubWluKHIsIGcsIGIpLFxuICAgICAgICAgICAgICAgIGRpZmZjID0gZnVuY3Rpb24gZGlmZmMoYykge1xuICAgICAgICAgICAgICAgIHJldHVybiAodiAtIGMpIC8gNiAvIGRpZmYgKyAxIC8gMjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkaWZmID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBoID0gcyA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcyA9IGRpZmYgLyB2O1xuXG4gICAgICAgICAgICAgICAgdmFyIHJyID0gZGlmZmMociksXG4gICAgICAgICAgICAgICAgICAgIGdnID0gZGlmZmMoZyksXG4gICAgICAgICAgICAgICAgICAgIGJiID0gZGlmZmMoYik7XG5cbiAgICAgICAgICAgICAgICBpZiAociA9PT0gdikge1xuXG4gICAgICAgICAgICAgICAgICAgIGggPSBiYiAtIGdnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZyA9PT0gdikge1xuXG4gICAgICAgICAgICAgICAgICAgIGggPSAxIC8gMyArIHJyIC0gYmI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSB2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCA9IDIgLyAzICsgZ2cgLSBycjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaCA8IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBoICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoID4gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGggLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaDogaCAqIDM2MCwgLy9GSVhNRTogcmVtb3ZlZCBNYXRoLnJvdW5kLCB0ZXN0IGlmIGlzIG9rXG4gICAgICAgICAgICAgICAgczogcyAqIDEwMCwgLy9GSVhNRTogcmVtb3ZlZCBNYXRoLnJvdW5kLCB0ZXN0IGlmIGlzIG9rXG4gICAgICAgICAgICAgICAgdjogdiAqIDEwMCAvL0ZJWE1FOiByZW1vdmVkIE1hdGgucm91bmQsIHRlc3QgaWYgaXMgb2tcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MmhleDogZnVuY3Rpb24gaHN2MmhleChoc3YpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmdiMmhleCh0aGlzLmhzdjJyZ2IoaHN2KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MnJnYjogZnVuY3Rpb24gaHN2MnJnYihoc3YpIHtcblxuICAgICAgICAgICAgdmFyIHIsXG4gICAgICAgICAgICAgICAgZyxcbiAgICAgICAgICAgICAgICBiLFxuICAgICAgICAgICAgICAgIGggPSBoc3YuaCxcbiAgICAgICAgICAgICAgICBzID0gaHN2LnMsXG4gICAgICAgICAgICAgICAgdiA9IGhzdi52O1xuXG4gICAgICAgICAgICBzIC89IDEwMDtcbiAgICAgICAgICAgIHYgLz0gMTAwO1xuXG4gICAgICAgICAgICBpZiAocyA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgciA9IGcgPSBiID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaSwgZiwgcCwgcSwgdDtcblxuICAgICAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoaCk7XG4gICAgICAgICAgICAgICAgZiA9IGggLSBpO1xuICAgICAgICAgICAgICAgIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgICAgICBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgICAgIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gcTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBxO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IE1hdGgucm91bmQociAqIDI1NSksXG4gICAgICAgICAgICAgICAgZzogTWF0aC5yb3VuZChnICogMjU1KSxcbiAgICAgICAgICAgICAgICBiOiBNYXRoLnJvdW5kKGIgKiAyNTUpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGhzdjJoc2w6IGZ1bmN0aW9uIGhzdjJoc2woaHN2KSB7XG5cbiAgICAgICAgICAgIHZhciBzID0gaHN2LnMgLyAxMDAsXG4gICAgICAgICAgICAgICAgdiA9IGhzdi52IC8gMTAwLFxuICAgICAgICAgICAgICAgIHRlbXBMID0gKDIgLSBzKSAqIHYsXG4gICAgICAgICAgICAgICAgdGVtcFMgPSBzICogdjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoOiBoc3YuaCxcbiAgICAgICAgICAgICAgICBzOiB0ZW1wUyAvICh0ZW1wTCA8PSAxID8gdGVtcEwgOiAyIC0gdGVtcEwpICogMTAwLFxuICAgICAgICAgICAgICAgIGw6IHRlbXBMIC8gMiAqIDEwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBoc2wyaHN2OiBmdW5jdGlvbiBoc2wyaHN2KGhzbCkge1xuXG4gICAgICAgICAgICB2YXIgbCA9IGhzbC5sIC8gMTAwICogMixcbiAgICAgICAgICAgICAgICBzID0gaHNsLnMgLyAxMDAgKiAobCA8PSAxID8gbCA6IDIgLSBsKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoOiBoc2wuaCxcbiAgICAgICAgICAgICAgICBzOiAyICogcyAvIChsICsgcykgKiAxMDAsXG4gICAgICAgICAgICAgICAgdjogKGwgKyBzKSAvIDIgKiAxMDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0NBTEUgQ09OVkVSVEVSUyAqL1xuXG4gICAgICAgIGRlYzJoZXg6IGZ1bmN0aW9uIGRlYzJoZXgoZGVjKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBfLnBhZExlZnQoZGVjLnRvU3RyaW5nKDE2KSwgMiwgJzAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoZXgyZGVjOiBmdW5jdGlvbiBoZXgyZGVjKGhleCkge1xuXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgIH1cblxuICAgIH07XG59KShfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29sb3JfaGVscGVyL2NvbG9ySGVscGVyLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogSEVYIENPTE9SICovXG5cbiAgICB3aW5kb3cuSGV4Q29sb3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcblxuICAgICAgICBpZiAoXy5pc1N0cmluZyh2YWx1ZSkpIHtcblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAgICAgICBpZiAoL14oWzAtOWEtZl17M30pezJ9JC9pLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgLy9JTkZPOiBmdWxsIDYtY2hhcnMgY29sb3JcblxuICAgICAgICAgICAgICAgIHRoaXMuaHN2ID0gQ29sb3JIZWxwZXIuaGV4Mmhzdih7XG4gICAgICAgICAgICAgICAgICAgIHI6IHZhbHVlWzBdICsgdmFsdWVbMV0sXG4gICAgICAgICAgICAgICAgICAgIGc6IHZhbHVlWzJdICsgdmFsdWVbM10sXG4gICAgICAgICAgICAgICAgICAgIGI6IHZhbHVlWzRdICsgdmFsdWVbNV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL15bMC05YS1mXXszfSQvaS50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIC8vSU5GTzogc2hvcnRoYW5kIDMtY2hhcnMgY29sb3JcblxuICAgICAgICAgICAgICAgIHRoaXMuaHN2ID0gQ29sb3JIZWxwZXIuaGV4Mmhzdih7XG4gICAgICAgICAgICAgICAgICAgIHI6IHZhbHVlWzBdICsgdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgIGc6IHZhbHVlWzFdICsgdmFsdWVbMV0sXG4gICAgICAgICAgICAgICAgICAgIGI6IHZhbHVlWzJdICsgdmFsdWVbMl1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBIRVggQ09MT1IgUFJPVE9UWVBFICovXG5cbiAgICBIZXhDb2xvci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG5cbiAgICAgICAgaHN2OiB7XG4gICAgICAgICAgICBoOiAwLFxuICAgICAgICAgICAgczogMCxcbiAgICAgICAgICAgIHY6IDBcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRIZXhTdHI6IGZ1bmN0aW9uIGdldEhleFN0cigpIHtcblxuICAgICAgICAgICAgdmFyIGhleCA9IENvbG9ySGVscGVyLmhzdjJoZXgodGhpcy5oc3YpO1xuXG4gICAgICAgICAgICByZXR1cm4gJyMnICsgaGV4LnIgKyBoZXguZyArIGhleC5iO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL2hleF9jb2xvci9oZXhDb2xvci5qc1xuICogQHJlcXVpcmVzIC4uL2NvbG9yX2hlbHBlci9jb2xvckhlbHBlci5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgYWxwaGEgY2hhbm5lbFxuLy9UT0RPOiBhZGQgYSAkYmdzIHZhcmlhYmxlIHdoZXJlIHdlIHVwZGF0ZSB0aGUgYmFja2dyb3VuZFxuLy9UT0RPOiBBZGQgYW4gaW5wdXQgaW5zaWRlLCBzbyB0aGF0IGl0IHdvcmtzIGFsc28gd2l0aG91dCBhbiBleHRlcm5hbCBpbnB1dFxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQ09MT1JQSUNLRVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uY29sb3JwaWNrZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGRlZmF1bHRfY29sb3I6ICcjZmYwMDAwJyxcbiAgICAgICAgICAgIGxpdmU6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRjb2xvcnBpY2tlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRzYl93cnAgPSB0aGlzLiRjb2xvcnBpY2tlci5maW5kKCcuY29sb3JwaWNrZXItc2F0dXJhdGlvbi1icmlnaHRuZXNzLXdycCcpO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9zYiA9IHRoaXMuJHNiX3dycC5maW5kKCcuY29sb3JwaWNrZXItaGFuZGxlcicpO1xuICAgICAgICAgICAgdGhpcy4kaHVlX3dycCA9IHRoaXMuJGNvbG9ycGlja2VyLmZpbmQoJy5jb2xvcnBpY2tlci1odWUtd3JwJyk7XG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX2h1ZSA9IHRoaXMuJGh1ZV93cnAuZmluZCgnLmNvbG9ycGlja2VyLWhhbmRsZXInKTtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJGNvbG9ycGlja2VyLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMgPSAkKCdpbnB1dFtuYW1lPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXcgSGV4Q29sb3IoKTtcbiAgICAgICAgICAgIHRoaXMuaGV4ID0gJyc7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YXJpYWJsZXMoKTtcblxuICAgICAgICAgICAgdGhpcy5zYl93cnBfc2l6ZSA9IHRoaXMuJHNiX3dycC53aWR0aCgpO1xuXG4gICAgICAgICAgICB0aGlzLmh1ZV93cnBfaGVpZ2h0ID0gdGhpcy5zYl93cnBfc2l6ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zZXQodGhpcy4kaW5wdXRzLnZhbCgpKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBIZXhDb2xvcih0aGlzLm9wdGlvbnMuZGVmYXVsdF9jb2xvcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgLyogV0lORE9XIFJFU0laRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkd2luZG93LCAncmVzaXplJywgdGhpcy5faGFuZGxlcl9yZXNpemUpO1xuXG4gICAgICAgICAgICAvKiBJTlBVVFMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaW5wdXRzLCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaW5wdXRfa2V5ZG93bik7XG5cbiAgICAgICAgICAgIC8qIFNCIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRzYl93cnAsICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9zYl93cnBfYXJyb3dzX2luKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNiX3dycCwgJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfb3V0KTtcblxuICAgICAgICAgICAgLyogU0IgRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRzYl93cnAsICQuUG9pbnRlci5kcmFnbW92ZSwgdGhpcy5faGFuZGxlcl9zYl9kcmFnX21vdmUpO1xuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kc2Jfd3JwLCAkLlBvaW50ZXIuZHJhZ2VuZCwgdGhpcy5faGFuZGxlcl9zYl9kcmFnX2VuZCk7XG5cbiAgICAgICAgICAgIC8qIEhVRSBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaHVlX3dycCwgJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2luKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGh1ZV93cnAsICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9odWVfd3JwX2Fycm93c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBIVUUgRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRodWVfd3JwLCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX2hhbmRsZXJfaHVlX2RyYWdfbW92ZSk7XG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRodWVfd3JwLCAkLlBvaW50ZXIuZHJhZ2VuZCwgdGhpcy5faGFuZGxlcl9odWVfZHJhZ19lbmQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfdXBkYXRlX3ZhcmlhYmxlczogZnVuY3Rpb24gX3VwZGF0ZV92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2Jfd3JwX29mZnNldCA9IHRoaXMuJHNiX3dycC5vZmZzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaHVlX3dycF9vZmZzZXQgPSB0aGlzLiRodWVfd3JwLm9mZnNldCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFdJTkRPVyBSRVNJWkUgKi9cblxuICAgICAgICBfaGFuZGxlcl9yZXNpemU6IGZ1bmN0aW9uIF9oYW5kbGVyX3Jlc2l6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNCIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW46IGZ1bmN0aW9uIF9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW4oKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19vdXQ6IGZ1bmN0aW9uIF9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfb3V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9zYl93cnBfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfa2V5ZG93bigpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YudiA9IE1hdGgubWluKDEwMCwgdGhpcy5jb2xvci5oc3YudiArIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5zID0gTWF0aC5taW4oMTAwLCB0aGlzLmNvbG9yLmhzdi5zICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YudiA9IE1hdGgubWF4KDAsIHRoaXMuY29sb3IuaHN2LnYgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5zID0gTWF0aC5tYXgoMCwgdGhpcy5jb2xvci5oc3YucyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNCIERSQUcgKi9cblxuICAgICAgICBfc2JfZHJhZ19zZXQ6IGZ1bmN0aW9uIF9zYl9kcmFnX3NldChYWSwgdXBkYXRlKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnMgPSBfLmNsYW1wKDAsIFhZLlggLSB0aGlzLnNiX3dycF9vZmZzZXQubGVmdCwgdGhpcy5zYl93cnBfc2l6ZSkgKiAxMDAgLyB0aGlzLnNiX3dycF9zaXplO1xuICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YudiA9IDEwMCAtIF8uY2xhbXAoMCwgWFkuWSAtIHRoaXMuc2Jfd3JwX29mZnNldC50b3AsIHRoaXMuc2Jfd3JwX3NpemUpICogMTAwIC8gdGhpcy5zYl93cnBfc2l6ZTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3NiKCk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX2RyYWdfbW92ZTogZnVuY3Rpb24gX2hhbmRsZXJfc2JfZHJhZ19tb3ZlKGV2ZW50LCBkYXRhKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NiX2RyYWdfc2V0KGRhdGEubW92ZVhZLCB0aGlzLm9wdGlvbnMubGl2ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfc2JfZHJhZ19lbmQ6IGZ1bmN0aW9uIF9oYW5kbGVyX3NiX2RyYWdfZW5kKGV2ZW50LCBkYXRhKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NiX2RyYWdfc2V0KGRhdGEuZW5kWFksIHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEhVRSBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfaHVlX3dycF9hcnJvd3NfaW4oKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX291dDogZnVuY3Rpb24gX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfb3V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfaHVlX3dycF9hcnJvd3Nfa2V5ZG93bigpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IE1hdGgubWluKDM1OSwgdGhpcy5jb2xvci5oc3YuaCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LmggPSBNYXRoLm1heCgwLCB0aGlzLmNvbG9yLmhzdi5oIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEhVRSBEUkFHICovXG5cbiAgICAgICAgX2h1ZV9kcmFnX3NldDogZnVuY3Rpb24gX2h1ZV9kcmFnX3NldChYWSwgdXBkYXRlKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LmggPSAzNTkgLSBfLmNsYW1wKDAsIFhZLlkgLSB0aGlzLmh1ZV93cnBfb2Zmc2V0LnRvcCwgdGhpcy5odWVfd3JwX2hlaWdodCkgKiAzNTkgLyB0aGlzLmh1ZV93cnBfaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaHVlKCk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV9kcmFnX21vdmU6IGZ1bmN0aW9uIF9oYW5kbGVyX2h1ZV9kcmFnX21vdmUoZXZlbnQsIGRhdGEpIHtcblxuICAgICAgICAgICAgdGhpcy5faHVlX2RyYWdfc2V0KGRhdGEubW92ZVhZLCB0aGlzLm9wdGlvbnMubGl2ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX2RyYWdfZW5kOiBmdW5jdGlvbiBfaGFuZGxlcl9odWVfZHJhZ19lbmQoZXZlbnQsIGRhdGEpIHtcblxuICAgICAgICAgICAgdGhpcy5faHVlX2RyYWdfc2V0KGRhdGEuZW5kWFksIHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIElOUFVUICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfaW5wdXRfa2V5ZG93bihldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVOVEVSKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2V0KHRoaXMuJGlucHV0cy52YWwoKSkpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dHMudmFsKHRoaXMuaGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1RIRVJTICovXG5cbiAgICAgICAgX3VwZGF0ZV9pbnB1dDogZnVuY3Rpb24gX3VwZGF0ZV9pbnB1dCgpIHtcblxuICAgICAgICAgICAgdGhpcy5oZXggPSB0aGlzLmNvbG9yLmdldEhleFN0cigpO1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMudmFsKHRoaXMuaGV4KS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCB0aGlzLmhleCkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfc2I6IGZ1bmN0aW9uIF91cGRhdGVfc2IoKSB7XG5cbiAgICAgICAgICAgIHZhciBoc2wgPSBDb2xvckhlbHBlci5oc3YyaHNsKHRoaXMuY29sb3IuaHN2KTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9zYi5jc3Moe1xuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2hzbCgnICsgaHNsLmggKyAnLCcgKyBoc2wucyArICclLCcgKyBoc2wubCArICclKScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIHRoaXMuc2Jfd3JwX3NpemUgLyAxMDAgKiB0aGlzLmNvbG9yLmhzdi5zICsgJ3B4LCcgKyB0aGlzLnNiX3dycF9zaXplIC8gMTAwICogKDEwMCAtIHRoaXMuY29sb3IuaHN2LnYpICsgJ3B4LDApJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9odWU6IGZ1bmN0aW9uIF91cGRhdGVfaHVlKCkge1xuXG4gICAgICAgICAgICB2YXIgaHNsID0gQ29sb3JIZWxwZXIuaHN2MmhzbCh0aGlzLmNvbG9yLmhzdik7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfaHVlLmNzcyh7XG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAnaHNsKCcgKyB0aGlzLmNvbG9yLmhzdi5oICsgJywxMDAlLDUwJSknLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsJyArIHRoaXMuaHVlX3dycF9oZWlnaHQgLyAxMDAgKiAoMTAwIC0gdGhpcy5jb2xvci5oc3YuaCAvIDM2MCAqIDEwMCkgKyAncHgsMCknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9zYi5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnaHNsKCcgKyBoc2wuaCArICcsJyArIGhzbC5zICsgJyUsJyArIGhzbC5sICsgJyUpJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJHNiX3dycC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnaHNsKCcgKyB0aGlzLmNvbG9yLmhzdi5oICsgJywxMDAlLDUwJSknKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiBfdXBkYXRlKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvci5nZXRIZXhTdHIoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2NvbG9yID0gbmV3IEhleENvbG9yKHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKG5ld19jb2xvci5pc1ZhbGlkICYmICFfLmlzRXF1YWwobmV3X2NvbG9yLmhzdiwgdGhpcy5jb2xvci5oc3YpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3X2NvbG9yO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdfY29sb3IuaXNWYWxpZDtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmNvbG9ycGlja2VyJykuY29sb3JwaWNrZXIoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBVUkw6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9jb29raWUgKi9cblxuLyogQ09PS0lFICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVVElMSVRJRVMgKi9cblxuICAgIHZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQsXG4gICAgICAgIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblxuICAgIC8qIENPT0tJRSAqL1xuXG4gICAgJC5jb29raWUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7XG5cbiAgICAgICAgICAgIGlmICgha2V5KSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZShkb2N1bWVudC5jb29raWUucmVwbGFjZShuZXcgUmVnRXhwKCcoPzooPzpefC4qOylcXFxccyonICsgZW5jb2RlKGtleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgJ1xcXFwkJicpICsgJ1xcXFxzKlxcXFw9XFxcXHMqKFteO10qKS4qJCl8Xi4qJCcpLCAnJDEnKSkgfHwgbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBlbmQsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG5cbiAgICAgICAgICAgIGlmICgha2V5IHx8IC9eKD86ZXhwaXJlc3xtYXhcXC1hZ2V8cGF0aHxkb21haW58c2VjdXJlKSQvaS50ZXN0KGtleSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSAnJztcblxuICAgICAgICAgICAgaWYgKGVuZCkge1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbmQuY29uc3RydWN0b3IpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSBlbmQgPT09IEluZmluaXR5ID8gJzsgZXhwaXJlcz1GcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVCcgOiAnOyBtYXgtYWdlPScgKyBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIERhdGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gJzsgZXhwaXJlcz0nICsgZW5kLnRvVVRDU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodmFsdWUpICsgZXhwaXJlcyArIChkb21haW4gPyAnOyBkb21haW49JyArIGRvbWFpbiA6ICcnKSArIChwYXRoID8gJzsgcGF0aD0nICsgcGF0aCA6ICcnKSArIChzZWN1cmUgPyAnOyBzZWN1cmUnIDogJycpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShrZXksIHBhdGgsIGRvbWFpbikge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZW5jb2RlKGtleSkgKyAnPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCcgKyAoZG9tYWluID8gJzsgZG9tYWluPScgKyBkb21haW4gOiAnJykgKyAocGF0aCA/ICc7IHBhdGg9JyArIHBhdGggOiAnJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuXG4gICAgICAgICAgICBpZiAoIWtleSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKD86Xnw7XFxcXHMqKScgKyBlbmNvZGUoa2V5KS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgKyAnXFxcXHMqXFxcXD0nKS50ZXN0KGRvY3VtZW50LmNvb2tpZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcblxuICAgICAgICAgICAgdmFyIGtleXMgPSBkb2N1bWVudC5jb29raWUucmVwbGFjZSgvKCg/Ol58XFxzKjspW15cXD1dKykoPz07fCQpfF5cXHMqfFxccyooPzpcXD1bXjtdKik/KD86XFwxfCQpL2csICcnKS5zcGxpdCgvXFxzKig/OlxcPVteO10qKT87XFxzKi8pO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBrZXlzW2ldID0gZGVjb2RlKGtleXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfVxuXG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIERSQUdHQUJMRSAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5kcmFnZ2FibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICcuZHJhZ2dhYmxlLWhhbmRsZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBfWyd0cnVlJ10sIC8vSU5GTzogY2hlY2tzIGlmIHdlIGNhbiBkcmFnIGl0IG9yIG5vdFxuICAgICAgICAgICAgb25seV9oYW5kbGVyczogZmFsc2UsIC8vSU5GTzogb25seSBhbiBoYW5kbGVyIGNhbiBkcmFnIGl0IGFyb3VuZFxuICAgICAgICAgICAgcmV2ZXJ0YWJsZTogZmFsc2UsIC8vSU5GTzogb24gZHJhZ2VuZCB0YWtlIGl0IGJhY2sgdG8gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBsaW1pdCB0aGUgbW92ZW1lbnRzIHRvIHRoaXMgYXhpc1xuICAgICAgICAgICAgY29uc3RyYWluZXI6IHsgLy9JTkZPOiBjb25zdHJhaW4gdGhlIGRyYWcgaW5zaWRlIHRoZSAkZWxlbWVudCBvciBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICRlbGVtZW50OiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhpcyAkZWxlbWVudFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhlIGNvb3JkaW5hdGVzIC8vVE9ETzogaW1wbGVtZW50XG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICB4MTogMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgeDI6IDAsXG4gICAgICAgICAgICAgICAgLy8gICAgIHkxOiAwLFxuICAgICAgICAgICAgICAgIC8vICAgICB5MjogMFxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBjb25zdHJhaW5fY2VudGVyOiBmYWxzZSwgLy9JTkZPOiBzZXQgdGhlIGNvbnN0cmFpbiB0eXBlLCBpdCB3aWxsIGNvbnN0cmFpbiB0aGUgd2hvbGUgc2hhcGUsIG9yIHRoZSBjZW50ZXJcbiAgICAgICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGNvbnN0cmFpbiB0aGUgZHJhZ2dhYmxlIG9ubHkgaW4gYSBzcGVjaWZpYyBheGlzXG4gICAgICAgICAgICAgICAgdG9sbGVyYW5jZTogeyAvL0lORk86IHRoZSBhbW91bnQgb2YgcGl4ZWwgZmxleGliaWxpdHkgdGhhdCBhIGNvbnN0cmFpbmVyIGhhc1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGlmaWVyczogeyAvL0lORk86IGl0IGNhbiBtb2RpZnkgdGhlIHNldHRlZCBYIGFuZCBZIHRyYW5zZm9ybXMgdmFsdWVzXG4gICAgICAgICAgICAgICAgeDogX1sndHJ1ZSddLFxuICAgICAgICAgICAgICAgIHk6IF9bJ3RydWUnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGJlZm9yZXN0YXJ0OiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBtb3ZlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZW5kOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9ubHlfaGFuZGxlcnMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJzID0gdGhpcy4kZHJhZ2dhYmxlLmZpbmQodGhpcy5vcHRpb25zLnNlbGVjdG9ycy5oYW5kbGVyKTsgLy9GSVhNRTogZG9lcyBpdCBtYWtlIHNlbnNlIHRvIGhhdmUgaGFuZGxlcnMgaW5zaWRlIHRoZSAkZHJhZ2dhYmxlP1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25seV9oYW5kbGVycykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kaGFuZGxlcnMsICQuUG9pbnRlci5kcmFnc3RhcnQsIHRoaXMuX3N0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRoYW5kbGVycywgJC5Qb2ludGVyLmRyYWdtb3ZlLCB0aGlzLl9tb3ZlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRoYW5kbGVycywgJC5Qb2ludGVyLmRyYWdlbmQsIHRoaXMuX2VuZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJC5Qb2ludGVyLmRyYWdzdGFydCwgdGhpcy5fc3RhcnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uKCQuUG9pbnRlci5kcmFnbW92ZSwgdGhpcy5fbW92ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb24oJC5Qb2ludGVyLmRyYWdlbmQsIHRoaXMuX2VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9zdGFydDogZnVuY3Rpb24gX3N0YXJ0KGV2ZW50LCBkYXRhKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2FibGUgPSB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnYWJsZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdiZWZvcmVzdGFydCcpO1xuXG4gICAgICAgICAgICB0aGlzLm1vdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtX3N0ciA9IHRoaXMuJGRyYWdnYWJsZS5jc3MoJ3RyYW5zZm9ybScpLFxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRyYW5zZm9ybV9zdHIgIT09ICdub25lJyA/IHRyYW5zZm9ybV9zdHIubWF0Y2goL1swLTkuLCAtXSsvKVswXS5zcGxpdCgnLCAnKSA6IFswLCAwLCAwLCAwLCAwLCAwXTtcblxuICAgICAgICAgICAgdGhpcy5pbml0aWFsWFkgPSB7XG4gICAgICAgICAgICAgICAgWDogcGFyc2VJbnQobWF0cml4WzRdLCAxMCksXG4gICAgICAgICAgICAgICAgWTogcGFyc2VJbnQobWF0cml4WzVdLCAxMClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3N0YXJ0JywgXy5tZXJnZShkYXRhLCB7IGluaXRpYWxYWTogdGhpcy5pbml0aWFsWFksIGRyYWdnYWJsZTogdGhpcy5kcmFnZ2FibGUsICRkcmFnZ2FibGU6IHRoaXMuJGRyYWdnYWJsZSB9KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX21vdmU6IGZ1bmN0aW9uIF9tb3ZlKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvL1RPRE86IG1ha2UgaXQgbW9yZSBwZXJmb3JtYW50XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnYWJsZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3Rpb24gPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbmVyX29mZnNldCA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZV9vZmZzZXQgPSB0aGlzLiRkcmFnZ2FibGUub2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21pbiA9IGNvbnN0cmFpbmVyX29mZnNldC5sZWZ0IC0gKGRyYWdnYWJsZV9vZmZzZXQubGVmdCAtIHRoaXMuaW5pdGlhbFhZLlgpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLXRoaXMuJGRyYWdnYWJsZS53aWR0aCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVhfbWF4ID0gY29uc3RyYWluZXJfb2Zmc2V0LmxlZnQgKyB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuJGVsZW1lbnQud2lkdGgoKSAtIChkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YICsgdGhpcy4kZHJhZ2dhYmxlLndpZHRoKCkpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gdGhpcy4kZHJhZ2dhYmxlLndpZHRoKCkgLyAyIDogMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVZX21pbiA9IGNvbnN0cmFpbmVyX29mZnNldC50b3AgLSAoZHJhZ2dhYmxlX29mZnNldC50b3AgLSB0aGlzLmluaXRpYWxYWS5ZKSArICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC10aGlzLiRkcmFnZ2FibGUuaGVpZ2h0KCkgLyAyIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSBjb25zdHJhaW5lcl9vZmZzZXQudG9wICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LmhlaWdodCgpIC0gKGRyYWdnYWJsZV9vZmZzZXQudG9wIC0gdGhpcy5pbml0aWFsWFkuWSArIHRoaXMuJGRyYWdnYWJsZS5oZWlnaHQoKSkgKyAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0KCkgLyAyIDogMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dhYmxlX29mZnNldCA9IHRoaXMuJGRyYWdnYWJsZS5vZmZzZXQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngxKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVhfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngxIC0gKGRyYWdnYWJsZV9vZmZzZXQubGVmdCAtIHRoaXMuaW5pdGlhbFhZLlgpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLXRoaXMuJGRyYWdnYWJsZS53aWR0aCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21heCA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MiAtIChkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YICsgdGhpcy4kZHJhZ2dhYmxlLndpZHRoKCkpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gdGhpcy4kZHJhZ2dhYmxlLndpZHRoKCkgLyAyIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkxKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVlfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkxIC0gKGRyYWdnYWJsZV9vZmZzZXQudG9wIC0gdGhpcy5pbml0aWFsWFkuWSkgKyAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyAtdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCgpIC8gMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVZX21heCA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MiAtIChkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0KCkpICsgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLXRoaXMuJGRyYWdnYWJsZS5oZWlnaHQoKSAvIDIgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRodG1sLmFkZENsYXNzKCdkcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGRyYWdnYWJsZS5hZGRDbGFzcygnZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVggPSB0aGlzLmluaXRpYWxYWS5YICsgKHRoaXMub3B0aW9ucy5heGlzID09PSAneScgPyAwIDogZGF0YS5kZWx0YVhZLlgpLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSB0aGlzLmluaXRpYWxYWS5ZICsgKHRoaXMub3B0aW9ucy5heGlzID09PSAneCcgPyAwIDogZGF0YS5kZWx0YVhZLlkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50IHx8IHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5heGlzICE9PSAneScpIHtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVYID0gXy5jbGFtcChfLmlzVW5kZWZpbmVkKHRoaXMudHJhbnNsYXRlWF9taW4pID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVYX21pbiAtIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLngsIHRyYW5zbGF0ZVgsIF8uaXNVbmRlZmluZWQodGhpcy50cmFuc2xhdGVYX21heCkgPyB1bmRlZmluZWQgOiB0aGlzLnRyYW5zbGF0ZVhfbWF4ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLnRvbGxlcmFuY2UueCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5heGlzICE9PSAneCcpIHtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZID0gXy5jbGFtcChfLmlzVW5kZWZpbmVkKHRoaXMudHJhbnNsYXRlWV9taW4pID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVZX21pbiAtIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLnksIHRyYW5zbGF0ZVksIF8uaXNVbmRlZmluZWQodGhpcy50cmFuc2xhdGVZX21heCkgPyB1bmRlZmluZWQgOiB0aGlzLnRyYW5zbGF0ZVlfbWF4ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLnRvbGxlcmFuY2UueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRYWSA9IHtcbiAgICAgICAgICAgICAgICBYOiB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLngodHJhbnNsYXRlWCksXG4gICAgICAgICAgICAgICAgWTogdGhpcy5vcHRpb25zLm1vZGlmaWVycy55KHRyYW5zbGF0ZVkpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIChfLmlzQm9vbGVhbihtb2RpZmllZFhZLlgpID8gbW9kaWZpZWRYWS5YID8gdHJhbnNsYXRlWCA6IHRoaXMuaW5pdGlhbFhZLlggOiBtb2RpZmllZFhZLlgpICsgJ3B4LCcgKyAoXy5pc0Jvb2xlYW4obW9kaWZpZWRYWS5ZKSA/IG1vZGlmaWVkWFkuWSA/IHRyYW5zbGF0ZVkgOiB0aGlzLmluaXRpYWxYWS5ZIDogbW9kaWZpZWRYWS5ZKSArICdweCwwKScpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdtb3ZlJywgXy5tZXJnZShkYXRhLCB7IGluaXRpYWxYWTogdGhpcy5pbml0aWFsWFksIG1vZGlmaWVkWFk6IG1vZGlmaWVkWFksIGRyYWdnYWJsZTogdGhpcy5kcmFnZ2FibGUsICRkcmFnZ2FibGU6IHRoaXMuJGRyYWdnYWJsZSB9KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2VuZDogZnVuY3Rpb24gX2VuZChldmVudCwgZGF0YSkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW90aW9uID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAkaHRtbC5yZW1vdmVDbGFzcygnZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUucmVtb3ZlQ2xhc3MoJ2RyYWdnaW5nJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJldmVydGFibGUpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRoaXMuaW5pdGlhbFhZLlggKyAncHgsJyArIHRoaXMuaW5pdGlhbFhZLlkgKyAncHgsMCknKTsgLy9UT0RPOiBhbmltYXRlIGl0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdlbmQnLCBfLm1lcmdlKGRhdGEsIHsgaW5pdGlhbFhZOiB0aGlzLmluaXRpYWxYWSwgZHJhZ2dhYmxlOiB0aGlzLmRyYWdnYWJsZSwgJGRyYWdnYWJsZTogdGhpcy4kZHJhZ2dhYmxlLCBkcmFnZ2VkOiB0aGlzLm1vdGlvbiB9KSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kcmFnZ2FibGUnKS5kcmFnZ2FibGUoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBkZWFsIHdpdGggVVRDIHRpbWUgZXRjLi4uXG4vL1RPRE86IEFkZCBzdXBwb3J0IGZvciBtaW4gYW5kIG1heCBkYXRlIGRlbGltaXRlclxuLy9UT0RPOiBBZGQgYW4gaW5wdXQgaW5zaWRlLCBzbyB0aGF0IGl0IHdvcmtzIGFsc28gd2l0aG91dCBhbiBleHRlcm5hbCBpbnB1dFxuLy9GSVhNRTogV2hlbiB1c2luZyB0aGUgYXJyb3dzIHRoZSBwcmV2IGRheSBzdGlsbCByZW1haW5zIGhvdmVyZWQgZXZlbiBpZiBpdCdzIG5vdCBiZWxvdyB0aGUgY3Vyc29yXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBEQVRFUElDS0VSICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLmRhdGVwaWNrZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG5hbWVzOiB7XG4gICAgICAgICAgICAgICAgbW9udGhzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGU6IHtcbiAgICAgICAgICAgICAgICB0b2RheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY3VycmVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICByZWZyZXNoOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlciA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiRkYXRlcGlja2VyLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMgPSB0aGlzLmlkID8gJCgnaW5wdXRbbmFtZT1cIicgKyB0aGlzLmlkICsgJ1wiXScpIDogJGVtcHR5O1xuXG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX3ByZXYgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLW5hdmlnYXRpb24tcHJldicpO1xuICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGlvbl90aXRsZSA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCgnLmRhdGVwaWNrZXItbmF2aWdhdGlvbi10aXRsZScpO1xuICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGlvbl9uZXh0ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLW5leHQnKTtcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1kYXktcHJldicpO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19jdXJyZW50ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1kYXknKTtcbiAgICAgICAgICAgIHRoaXMuJGRheXNfbmV4dCA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCgnLmRhdGVwaWNrZXItZGF5LW5leHQnKTtcbiAgICAgICAgICAgIHRoaXMuJGRheXNfYWxsID0gdGhpcy4kZGF5c19wcmV2LmFkZCh0aGlzLiRkYXlzX2N1cnJlbnQpLmFkZCh0aGlzLiRkYXlzX25leHQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGUudG9kYXkgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS50b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50ID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV90b2RheSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZGF5X3NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgLyogREFURVBJQ0tFUiAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2luKTtcbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfb3V0KTtcblxuICAgICAgICAgICAgLyogSU5QVVRTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGlucHV0cywgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2lucHV0X2tleWRvd24pO1xuXG4gICAgICAgICAgICAvKiBOQVZJR0FUSU9OICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJG5hdmlnYXRpb25fcHJldiwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9wcmV2X2NsaWNrKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJG5hdmlnYXRpb25fbmV4dCwgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9uZXh0X2NsaWNrKTtcblxuICAgICAgICAgICAgLyogU0VMRUNUSU9OICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdjbGljaycsICcuZGF0ZXBpY2tlci1kYXknLCB0aGlzLl9oYW5kbGVyX2RheV9jdXJyZW50X2NsaWNrKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBEQVRFUElLRVIgKi9cblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3NfaW46IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19pbigpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19vdXQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19vdXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuVVA6XG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgtMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBJTlBVVCAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2lucHV0X2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2lucHV0X2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FTlRFUikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQodGhpcy4kaW5wdXRzLnZhbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBOQVZJR0FUSU9OICovXG5cbiAgICAgICAgX2hhbmRsZXJfcHJldl9jbGljazogZnVuY3Rpb24gX2hhbmRsZXJfcHJldl9jbGljaygpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgtMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfbmV4dF9jbGljazogZnVuY3Rpb24gX2hhbmRsZXJfbmV4dF9jbGljaygpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCgxKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTRUxFQ1RJT04gKi9cblxuICAgICAgICBfaGFuZGxlcl9kYXlfY3VycmVudF9jbGljazogZnVuY3Rpb24gX2hhbmRsZXJfZGF5X2N1cnJlbnRfY2xpY2soZXZlbnQsIG5vZGUpIHtcblxuICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfc2VsZWN0ZWQoKTtcblxuICAgICAgICAgICAgdmFyIGRheSA9IHBhcnNlSW50KCQobm9kZSkuaHRtbCgpLCAxMCk7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkID0gbmV3IERhdGUodGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCksIGRheSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodF9zZWxlY3RlZCgpO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPVEhFUlMgKi9cblxuICAgICAgICBfYnVpbGRfY2FsZW5kYXI6IGZ1bmN0aW9uIF9idWlsZF9jYWxlbmRhcigpIHtcblxuICAgICAgICAgICAgdmFyIHByZXZfbW9udGhfZGF5cyA9IG5ldyBEYXRlKHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIoKSwgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCgpLCAwKS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgY3VycmVudF9tb250aF9kYXlzID0gbmV3IERhdGUodGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCkgKyAxLCAwKS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgaW5pdGlhbF9kYXlfb2Zfd2VlayA9IG5ldyBEYXRlKHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIoKSwgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCgpLCAxKS5nZXREYXkoKTtcblxuICAgICAgICAgICAgaW5pdGlhbF9kYXlfb2Zfd2VlayA9IGluaXRpYWxfZGF5X29mX3dlZWsgPT09IDAgPyA2IDogaW5pdGlhbF9kYXlfb2Zfd2VlayAtIDE7IC8vSU5GTzogV2UgdXNlIGBNb25kYXlgIGFzIHRoZSAwIGluZGV4XG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfYWxsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgLy8gUFJFVlxuXG4gICAgICAgICAgICB2YXIgZXhjZWVkaW5nX2RheXMgPSAzMSAtIHByZXZfbW9udGhfZGF5cyxcbiAgICAgICAgICAgICAgICBuZWVkZWRfZGF5cyA9IGluaXRpYWxfZGF5X29mX3dlZWssXG4gICAgICAgICAgICAgICAgbGVmdF9kYXlzID0gOSAtIGV4Y2VlZGluZ19kYXlzIC0gbmVlZGVkX2RheXM7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfcHJldi5zbGljZShsZWZ0X2RheXMgKyBuZWVkZWRfZGF5cywgdGhpcy4kZGF5c19wcmV2Lmxlbmd0aCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2LnNsaWNlKDAsIGxlZnRfZGF5cykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAvLyBDVVJSRU5UXG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfY3VycmVudC5zbGljZShjdXJyZW50X21vbnRoX2RheXMsIHRoaXMuJGRheXNfY3VycmVudC5sZW5naHQpLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgLy8gTkVYVFxuXG4gICAgICAgICAgICB2YXIgbGVmdF9kYXlzID0gKGN1cnJlbnRfbW9udGhfZGF5cyArIGluaXRpYWxfZGF5X29mX3dlZWspICUgNztcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19uZXh0LnNsaWNlKGxlZnRfZGF5cyA9PT0gMCA/IDAgOiA3IC0gbGVmdF9kYXlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hpZ2hsaWdodF9kYXk6IGZ1bmN0aW9uIF9oaWdobGlnaHRfZGF5KGRheSwgY3NzX2NsYXNzKSB7XG5cbiAgICAgICAgICAgIGlmIChkYXkgJiYgZGF5LmdldEZ1bGxZZWFyKCkgPT09IHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIoKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhX21vbnRocyA9IGRheS5nZXRNb250aCgpIC0gdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCgpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZWx0YV9tb250aHMpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRheXNfcHJldi5lcShkYXkuZ2V0RGF0ZSgpIC0gMjMpLmFkZENsYXNzKGNzc19jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRheXNfY3VycmVudC5lcShkYXkuZ2V0RGF0ZSgpIC0gMSkuYWRkQ2xhc3MoY3NzX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19uZXh0LmVxKGRheS5nZXREYXRlKCkgLSAxKS5hZGRDbGFzcyhjc3NfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuaGlnaGxpZ2h0X3NlbGVjdGVkOiBmdW5jdGlvbiBfdW5oaWdobGlnaHRfc2VsZWN0ZWQoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRkYXlfc2VsZWN0ZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGRheV9zZWxlY3RlZC5yZW1vdmVDbGFzcygnZGF0ZXBpY2tlci1kYXktc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaGlnaGxpZ2h0X3NlbGVjdGVkOiBmdW5jdGlvbiBfaGlnaGxpZ2h0X3NlbGVjdGVkKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkYXlfc2VsZWN0ZWQgPSB0aGlzLl9oaWdobGlnaHRfZGF5KHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLCAnZGF0ZXBpY2tlci1kYXktc2VsZWN0ZWQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdW5oaWdobGlnaHRfdG9kYXk6IGZ1bmN0aW9uIF91bmhpZ2hsaWdodF90b2RheSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGRheV90b2RheSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF5X3RvZGF5LnJlbW92ZUNsYXNzKCdkYXRlcGlja2VyLWRheS10b2RheScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oaWdobGlnaHRfdG9kYXk6IGZ1bmN0aW9uIF9oaWdobGlnaHRfdG9kYXkoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV90b2RheSA9IHRoaXMuX2hpZ2hsaWdodF9kYXkodGhpcy5vcHRpb25zLmRhdGUudG9kYXksICdkYXRlcGlja2VyLWRheS10b2RheScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfdGl0bGU6IGZ1bmN0aW9uIF91cGRhdGVfdGl0bGUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmlnYXRpb25fdGl0bGUuaHRtbCh0aGlzLm9wdGlvbnMubmFtZXMubW9udGhzW3RoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGgoKV0gKyAnLCAnICsgdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhcigpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2lucHV0OiBmdW5jdGlvbiBfdXBkYXRlX2lucHV0KCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RnVsbFllYXIoKSArICctJyArIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldE1vbnRoKCkgKyAnLScgKyB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXREYXRlKCkpLmNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9yZWZyZXNoOiBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfc2VsZWN0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMuX3VuaGlnaGxpZ2h0X3RvZGF5KCk7XG4gICAgICAgICAgICB0aGlzLl9idWlsZF9jYWxlbmRhcigpO1xuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0X3NlbGVjdGVkKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfdG9kYXkoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV90aXRsZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdyZWZyZXNoJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQVBJICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoZm9ybWF0dGVkKSB7XG5cbiAgICAgICAgICAgIGlmIChmb3JtYXR0ZWQgJiYgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhcigpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGgoKSArICctJyArIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldERhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0ZSkge1xuXG4gICAgICAgICAgICBpZiAoXy5pc1N0cmluZyhkYXRlKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnRzID0gZGF0ZS5zcGxpdCgnLScpLFxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2VnbWVudHNbMF0sIHNlZ21lbnRzWzFdLCBzZWdtZW50c1syXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFfLmlzTmFOKGRhdGUudmFsdWVPZigpKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQgPSBkYXRlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyKCkgPT09IHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIoKSAmJiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRNb250aCgpID09PSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoKCkpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF9zZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfc2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0RnVsbFllYXIodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0TW9udGgodGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGgoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG5hdmlnYXRlX21vbnRoOiBmdW5jdGlvbiBuYXZpZ2F0ZV9tb250aChzdGVwcykge1xuXG4gICAgICAgICAgICBpZiAoc3RlcHMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0TW9udGgodGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRNb250aCgpICsgc3RlcHMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHByZXZfbW9udGg6IGZ1bmN0aW9uIHByZXZfbW9udGgoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGgoLTEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG5leHRfbW9udGg6IGZ1bmN0aW9uIG5leHRfbW9udGgoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGgoMSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kYXRlcGlja2VyJykuZGF0ZXBpY2tlcigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vRklYTUU6IGlmIHRoZSBhbmNob3IgaXMgaGFsZiBvdmVyZmxvd2luZyB0aGUgdmlld3BvcnQgYXQgdGhlIGxlZnQsIGJ1dCBzdGlsbCBpZiB0aGVyZSdzIHNwYWNlIGF0IHRoZSBib3R0b20gdGhlIHBvc2l0aW9uYWJsZSBnZXRzIHBvc2l0aW9uYXRlZCBhdCB0aGUgYm90dG9tLCBpbnN0ZWFkIG9mIHRoZSByaWdodDogbWF5YmUgY3JlYXRlIGEgbmV3IG5vcm1hbGl6ZWQgYXJlYSBtYXAsIHRoYXQgZ2l2ZXMgbW9yZSBpbXBvcnRhbmNlIHRvIHRoaXMgdGhpbmdcbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIGEgJHBvaW50ZXIgKCB0aGF0IGNhbiBhbHNvIGJlIGEgZnVuY3Rpb24gKVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUE9TSVRJT05BVEUgKi9cblxuICAgICQuZm4ucG9zaXRpb25hdGUgPSBmdW5jdGlvbiAoY3VzdG9tX29wdGlvbnMpIHtcblxuICAgICAgICAvLyBPUFRJT05TXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfLm1lcmdlKHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogZmFsc2UsIC8vSU5GTzogU2V0IGEgcHJlZmVycmVkIGRpcmVjdGlvblxuICAgICAgICAgICAgYXhpczogZmFsc2UsIC8vSU5GTzogU2V0IGEgcHJlZmVycmVkIGF4aXNcbiAgICAgICAgICAgICRhbmNob3I6IGZhbHNlLCAvL0lORk86IFBvc2l0aW9uYXRlIG5leHQgdG8gYW4gJGFuY2hvciBlbGVtZW50XG4gICAgICAgICAgICAkcG9pbnRlcjogZmFsc2UsIC8vSU5GTzogVGhlIGVsZW1lbnQgd2hvIGlzIHBvaW50aW5nIHRvIHRoZSBhbmNob3JcbiAgICAgICAgICAgIHBvaW50OiBmYWxzZSwgLy9JTkZPOiBQb3NpdGlvYW50ZSBhdCBjb29yZGluYXRlcywgZXg6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfVxuICAgICAgICAgICAgcmFua3M6IHsgLy9JTkZPOiBIb3cgdGhlIGRpcmVjdGlvbnMgc2hvdWxkIGJlIHByaW9yaXRpemVkIHdoZW4gc2VsZWN0aW5nIHRoZSBgeGAgYXhpcywgdGhlIGB5YCBheGlzLCBvciBhbGwgb2YgdGhlbVxuICAgICAgICAgICAgICAgIHg6IFsncmlnaHQnLCAnbGVmdCddLFxuICAgICAgICAgICAgICAgIHk6IFsnYm90dG9tJywgJ3RvcCddLFxuICAgICAgICAgICAgICAgIGFsbDogWydib3R0b20nLCAncmlnaHQnLCAnbGVmdCcsICd0b3AnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uYXRlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zKTtcblxuICAgICAgICAvLyBSRVNFVFRJTkdcblxuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCdwb3NpdGlvbmF0ZS10b3AgcG9zaXRpb25hdGUtYm90dG9tIHBvc2l0aW9uYXRlLWxlZnQgcG9zaXRpb25hdGUtcmlnaHQnKTtcblxuICAgICAgICAvLyBWQVJJQUJMRVNcblxuICAgICAgICB2YXIgZGlyZWN0aW9ucyA9IF8udW5pcXVlKF8udW5pb24ob3B0aW9ucy5kaXJlY3Rpb24gPyBbb3B0aW9ucy5kaXJlY3Rpb25dIDogW10sIG9wdGlvbnMuYXhpcyA/IG9wdGlvbnMucmFua3Nbb3B0aW9ucy5heGlzXSA6IFtdLCBvcHRpb25zLnJhbmtzLmFsbCkpLFxuICAgICAgICAgICAgd2luZG93X3dpZHRoID0gJHdpbmRvdy53aWR0aCgpLFxuICAgICAgICAgICAgd2luZG93X2hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICBodG1sX3Njcm9sbFRvcCA9ICRodG1sLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgaHRtbF9zY3JvbGxMZWZ0ID0gJGh0bWwuc2Nyb2xsTGVmdCgpLFxuICAgICAgICAgICAgcG9zaXRpb25hYmxlX29mZnNldCA9IHRoaXMub2Zmc2V0KCksXG4gICAgICAgICAgICBwb3NpdGlvbmFibGVfd2lkdGggPSB0aGlzLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uYWJsZV9oZWlnaHQgPSB0aGlzLm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICBhbmNob3Jfb2Zmc2V0ID0gb3B0aW9ucy4kYW5jaG9yID8gb3B0aW9ucy4kYW5jaG9yLm9mZnNldCgpIDogeyB0b3A6IG9wdGlvbnMucG9pbnQueSwgbGVmdDogb3B0aW9ucy5wb2ludC54IH0sXG4gICAgICAgICAgICBhbmNob3Jfd2lkdGggPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub3V0ZXJXaWR0aCgpIDogMCxcbiAgICAgICAgICAgIGFuY2hvcl9oZWlnaHQgPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub3V0ZXJIZWlnaHQoKSA6IDA7XG5cbiAgICAgICAgLy8gU1BBQ0VTXG5cbiAgICAgICAgdmFyIHNwYWNlcyA9IF8ubWFwKGRpcmVjdGlvbnMsIGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmNob3Jfb2Zmc2V0LnRvcCAtIGh0bWxfc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvd19oZWlnaHQgLSBhbmNob3Jfb2Zmc2V0LnRvcCAtIGFuY2hvcl9oZWlnaHQgKyBodG1sX3Njcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5jaG9yX29mZnNldC5sZWZ0IC0gaHRtbF9zY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93X3dpZHRoIC0gYW5jaG9yX29mZnNldC5sZWZ0IC0gYW5jaG9yX3dpZHRoICsgaHRtbF9zY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFSRUFTXG5cbiAgICAgICAgdmFyIGFyZWFzID0gXy5tYXAoZGlyZWN0aW9ucywgZnVuY3Rpb24gKGRpcmVjdGlvbiwgaW5kZXgpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHBvc2l0aW9uYWJsZV9oZWlnaHQsIHNwYWNlc1tpbmRleF0pICogTWF0aC5taW4od2luZG93X3dpZHRoLCBwb3NpdGlvbmFibGVfd2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4ocG9zaXRpb25hYmxlX3dpZHRoLCBzcGFjZXNbaW5kZXhdKSAqIE1hdGgubWluKHdpbmRvd19oZWlnaHQsIHBvc2l0aW9uYWJsZV9oZWlnaHQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENIT09TSU5HIEEgRElSRUNUSU9OXG5cbiAgICAgICAgdmFyIGNob3Nlbl9kaXJlY3Rpb24gPSBkaXJlY3Rpb25zW2FyZWFzLmluZGV4T2YoXy5tYXgoYXJlYXMpKV07XG5cbiAgICAgICAgLy8gR0VUVElORyBUT1AgQU5EIExFRlRcblxuICAgICAgICBzd2l0Y2ggKGNob3Nlbl9kaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBhbmNob3Jfb2Zmc2V0LmxlZnQgKyBhbmNob3Jfd2lkdGggLyAyIC0gcG9zaXRpb25hYmxlX3dpZHRoIC8gMixcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBjaG9zZW5fZGlyZWN0aW9uID09PSAndG9wJyA/IGFuY2hvcl9vZmZzZXQudG9wIC0gcG9zaXRpb25hYmxlX2hlaWdodCA6IGFuY2hvcl9vZmZzZXQudG9wICsgYW5jaG9yX2hlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBhbmNob3Jfb2Zmc2V0LnRvcCArIGFuY2hvcl9oZWlnaHQgLyAyIC0gcG9zaXRpb25hYmxlX2hlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGNob3Nlbl9kaXJlY3Rpb24gPT09ICdsZWZ0JyA/IGFuY2hvcl9vZmZzZXQubGVmdCAtIHBvc2l0aW9uYWJsZV93aWR0aCA6IGFuY2hvcl9vZmZzZXQubGVmdCArIGFuY2hvcl93aWR0aFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENPTlNUUkFJTiBUTyBUSEUgV0lORE9XXG5cbiAgICAgICAgLy9UT0RPOiBhZGQgYSB2aWV3cG9ydCBjaGVjayBoZXJlLCB3ZSBzaG91bGQgcG9zaXRpb25hdGUgaXQgdG8gdGhlIHZpZXdwb3J0IGlmIHRoZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgaXRcblxuICAgICAgICBjb29yZGluYXRlcy50b3AgPSBfLmNsYW1wKDAsIGNvb3JkaW5hdGVzLnRvcCwgd2luZG93X2hlaWdodCAtIHBvc2l0aW9uYWJsZV9oZWlnaHQpO1xuICAgICAgICBjb29yZGluYXRlcy5sZWZ0ID0gXy5jbGFtcCgwLCBjb29yZGluYXRlcy5sZWZ0LCB3aW5kb3dfd2lkdGggLSBwb3NpdGlvbmFibGVfd2lkdGgpO1xuXG4gICAgICAgIC8vIERBVEFTXG5cbiAgICAgICAgdmFyIGRhdGFzID0ge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBjaG9zZW5fZGlyZWN0aW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU0VUVElORyBUT1AgQU5EIExFRlRcblxuICAgICAgICB0aGlzLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBjb29yZGluYXRlcy5sZWZ0ICsgJ3B4LCcgKyBjb29yZGluYXRlcy50b3AgKyAncHgsMCknKTtcblxuICAgICAgICB0aGlzLmFkZENsYXNzKCdwb3NpdGlvbmF0ZS0nICsgY2hvc2VuX2RpcmVjdGlvbik7XG5cbiAgICAgICAgLy8gU0VUVElORyBUSEUgUE9JTlRFUlxuXG4gICAgICAgIGlmIChvcHRpb25zLiRhbmNob3IgJiYgb3B0aW9ucy4kcG9pbnRlcikge1xuXG4gICAgICAgICAgICB2YXIgJHBvaW50ZXIgPSBfLmlzRnVuY3Rpb24ob3B0aW9ucy4kcG9pbnRlcikgPyBvcHRpb25zLiRwb2ludGVyKGRhdGFzKSA6IG9wdGlvbnMuJHBvaW50ZXI7XG5cbiAgICAgICAgICAgIGlmICgkcG9pbnRlciBpbnN0YW5jZW9mICQpIHtcblxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1fc3RyID0gJHBvaW50ZXIuY3NzKCd0cmFuc2Zvcm0nKSxcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4ID0gdHJhbnNmb3JtX3N0ciAhPT0gJ25vbmUnID8gdHJhbnNmb3JtX3N0ci5tYXRjaCgvWzAtOS4sIC1dKy8pWzBdLnNwbGl0KCcsICcpIDogWzAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludGVyX3Bvc2l0aW9uID0gJHBvaW50ZXIucG9zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hvc2VuX2RpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRlcl93aWR0aCA9ICRwb2ludGVyLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IHBhcnNlSW50KG1hdHJpeFs0XSwgMTApICsgKGFuY2hvcl9vZmZzZXQubGVmdCArIGFuY2hvcl93aWR0aCAvIDIgLSBodG1sX3Njcm9sbExlZnQgLSAoY29vcmRpbmF0ZXMubGVmdCArIHBvaW50ZXJfcG9zaXRpb24ubGVmdCArIHBvaW50ZXJfd2lkdGggLyAyKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IHBhcnNlSW50KG1hdHJpeFs1XSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludGVyX2hlaWdodCA9ICRwb2ludGVyLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVggPSBwYXJzZUludChtYXRyaXhbNF0sIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZID0gcGFyc2VJbnQobWF0cml4WzVdLCAxMCkgKyAoYW5jaG9yX29mZnNldC50b3AgKyBhbmNob3JfaGVpZ2h0IC8gMiAtIGh0bWxfc2Nyb2xsVG9wIC0gKGNvb3JkaW5hdGVzLnRvcCArIHBvaW50ZXJfcG9zaXRpb24udG9wICsgcG9pbnRlcl9oZWlnaHQgLyAyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRwb2ludGVyLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4LDApJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDQUxMQkFDS1xuXG4gICAgICAgIG9wdGlvbnMuY2FsbGJhY2tzLnBvc2l0aW9uYXRlZChkYXRhcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL3Bvc2l0aW9uYXRlL3Bvc2l0aW9uYXRlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBkZWxlZ2F0aW5nIHRoZSB0cmlnZ2VyIGNsaWNrLCBzbyB0aGF0IHdlIHN1cHBvcnQgdGhlIGNhc2Ugd2hlbiBhIHRyaWdnZXIgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIERPTSBkeW5hbWljYWxseVxuLy9UT0RPOiBhZGQgZHJvcGRvd24tY2xvc2VyXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciBhc3NpZ25tZW50cyA9IHt9O1xuXG4gICAgLyogRFJPUERPV04gKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uZHJvcGRvd24nLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJHRpcHMgPSB0aGlzLiRkcm9wZG93bi5maW5kKCcuZHJvcGRvd24tdGlwJyk7XG4gICAgICAgICAgICB0aGlzLiR0b3BfdGlwID0gdGhpcy4kdGlwcy5maWx0ZXIoJy50b3AnKTtcbiAgICAgICAgICAgIHRoaXMuJHJpZ2h0X3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyKCcucmlnaHQnKTtcbiAgICAgICAgICAgIHRoaXMuJGJvdHRvbV90aXAgPSB0aGlzLiR0aXBzLmZpbHRlcignLmJvdHRvbScpO1xuICAgICAgICAgICAgdGhpcy4kbGVmdF90aXAgPSB0aGlzLiR0aXBzLmZpbHRlcignLmxlZnQnKTtcbiAgICAgICAgICAgIHRoaXMuJGFjdGlvbmFibGVzID0gdGhpcy4kZHJvcGRvd24uZmluZCgnLmFjdGlvbmFibGUnKTtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJGRyb3Bkb3duLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXJzID0gJCgnLmRyb3Bkb3duLXRyaWdnZXJbZGF0YS1kcm9wZG93bj1cIicgKyB0aGlzLmlkICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLmhhc1RpcHMgPSAhdGhpcy4kZHJvcGRvd24uaGFzQ2xhc3MoJ25vLXRpcCcpO1xuICAgICAgICAgICAgdGhpcy5pc0F0dGFjaGVkID0gdGhpcy4kZHJvcGRvd24uaGFzQ2xhc3MoJ2F0dGFjaGVkJyk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kdHJpZ2dlcnMsICdjbGljaycsIHRoaXMudG9nZ2xlKTtcblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kYWN0aW9uYWJsZXMsICdjbGljaycsIHRoaXMuY2xvc2UpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLiRidG5fcGFyZW50cy5vbiAoICdzY3JvbGwnLCB0aGlzLnVwZGF0ZSApOyAvL0ZJWE1FOiBJZiB3ZSBhcmUgZG9pbmcgaXQgaW50byBhIHNjcm9sbGFibGUgY29udGVudCBpdCB3aWxsIGJlIGEgcHJvYmxlbSBpZiB3ZSBkb24ndCBoYW5kbGUgaXQsIHRoZSBkcm9wZG93biB3aWxsIG5vdCBtb3ZlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogV0lORE9XIFJFU0laRSAvIFNDUk9MTCAqL1xuXG4gICAgICAgIF9iaW5kX3dpbmRvd19yZXNpemVfc2Nyb2xsOiBmdW5jdGlvbiBfYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJHdpbmRvdywgJ3Jlc2l6ZSBzY3JvbGwnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91bmJpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGw6IGZ1bmN0aW9uIF91bmJpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGwoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkd2luZG93LCAncmVzaXplIHNjcm9sbCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogV0lORE9XIENMSUNLICovXG5cbiAgICAgICAgX2JpbmRfd2luZG93X2NsaWNrOiBmdW5jdGlvbiBfYmluZF93aW5kb3dfY2xpY2soKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCR3aW5kb3csICdjbGljaycsIHRoaXMuX2hhbmRsZXJfd2luZG93X2NsaWNrKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdW5iaW5kX3dpbmRvd19jbGljazogZnVuY3Rpb24gX3VuYmluZF93aW5kb3dfY2xpY2soKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkd2luZG93LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX3dpbmRvd19jbGljayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfd2luZG93X2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl93aW5kb3dfY2xpY2soZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyICRwYXJlbnRzID0gJChldmVudC50YXJnZXQpLnBhcmVudHMoKTtcblxuICAgICAgICAgICAgaWYgKCRwYXJlbnRzLmluZGV4KHRoaXMuJGRyb3Bkb3duKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvL0lORk86IENoZWNraW5nIGlmIHdlIGNsaWNrZWQgaW5zaWRlIHRoZSBkcm9wZG93biBvciBhbm90aGVyIHRyaWdnZXIgZm9yIHRoaXMgZHJvcGRvd25cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy4kdHJpZ2dlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy4kdHJpZ2dlcnMuZ2V0KGkpIHx8ICRwYXJlbnRzLmluZGV4KHRoaXMuJHRyaWdnZXJzLmdldChpKSkgIT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQT1NJVElPTkFURSAqL1xuXG4gICAgICAgIF9wb3NpdGlvbmF0ZTogZnVuY3Rpb24gX3Bvc2l0aW9uYXRlKCkge1xuXG4gICAgICAgICAgICAvLyBWYXJpYWJsZXNcblxuICAgICAgICAgICAgdmFyICR0cmlnZ2VyID0gJChhc3NpZ25tZW50c1t0aGlzLmlkXSksXG4gICAgICAgICAgICAgICAgbm9fdGlwID0gJHRyaWdnZXIuaGFzQ2xhc3MoJ25vLXRpcCcpIHx8ICF0aGlzLmhhc1RpcHMgfHwgdGhpcy5pc0F0dGFjaGVkLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgLy8gUG9zaXRpb25hdGVcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24ucG9zaXRpb25hdGUoe1xuICAgICAgICAgICAgICAgICRhbmNob3I6ICR0cmlnZ2VyLFxuICAgICAgICAgICAgICAgICRwb2ludGVyOiBmdW5jdGlvbiAkcG9pbnRlcihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9fdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbJyQnICsgaW5zdGFuY2UuX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb24oZGF0YS5kaXJlY3Rpb24pICsgJ190aXAnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uYXRlZDogZnVuY3Rpb24gcG9zaXRpb25hdGVkKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0cmlnZ2VyLmFkZENsYXNzKCdkcm9wZG93bi10cmlnZ2VyLScgKyBkYXRhLmRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb246IGZ1bmN0aW9uIF9nZXRfb3Bwb3NpdGVfZGlyZWN0aW9uKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdib3R0b20nO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b3AnO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24gX3VwZGF0ZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3BlbmVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGV2ZW50LCB0cmlnZ2VyKSB7XG5cbiAgICAgICAgICAgIHRoaXNbdGhpcy5vcGVuZWQgJiYgYXNzaWdubWVudHNbdGhpcy5pZF0gPT09IHRyaWdnZXIgPyAnY2xvc2UnIDogJ29wZW4nXShldmVudCwgdHJpZ2dlcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbihldmVudCwgdHJpZ2dlcikge1xuXG4gICAgICAgICAgICBpZiAodHJpZ2dlcikge1xuXG4gICAgICAgICAgICAgICAgJChhc3NpZ25tZW50c1t0aGlzLmlkXSkucmVtb3ZlQ2xhc3MoJ2Ryb3Bkb3duLXRyaWdnZXItdG9wIGRyb3Bkb3duLXRyaWdnZXItYm90dG9tIGRyb3Bkb3duLXRyaWdnZXItbGVmdCBkcm9wZG93bi10cmlnZ2VyLXJpZ2h0IGFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3BlbmVkICYmIGFzc2lnbm1lbnRzW3RoaXMuaWRdICE9PSB0cmlnZ2VyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24uYWRkQ2xhc3MoJ21vdmluZycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW3RoaXMuaWRdID0gdHJpZ2dlcjtcblxuICAgICAgICAgICAgICAgICQodHJpZ2dlcikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkodGhpcy5fYmluZF93aW5kb3dfY2xpY2spOyAvL0ZJWE1FOiBXaHkgd2l0aG91dCB0aGUgZGVsYXkgaXQgZG9lc24ndCB3b3JrP1xuICAgICAgICAgICAgdGhpcy5fYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdvcGVuJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICAkKGFzc2lnbm1lbnRzW3RoaXMuaWRdKS5yZW1vdmVDbGFzcygnZHJvcGRvd24tdHJpZ2dlci10b3AgZHJvcGRvd24tdHJpZ2dlci1ib3R0b20gZHJvcGRvd24tdHJpZ2dlci1sZWZ0IGRyb3Bkb3duLXRyaWdnZXItcmlnaHQgYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdhY3RpdmUgbW92aW5nJyk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX3VuYmluZF93aW5kb3dfY2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjbG9zZScpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZHJvcGRvd24nKS5kcm9wZG93bigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRVhQQU5ERVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uZXhwYW5kZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIHRvZ2dsZXI6ICcuZXhwYW5kZXItdG9nZ2xlcicsXG4gICAgICAgICAgICAgICAgY29udGVudDogJy5jb250YWluZXItY29udGVudCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgICAgIG9wZW46IDI1MCxcbiAgICAgICAgICAgICAgICBjbG9zZTogMjUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kY29udGVudCA9IHRoaXMuJGV4cGFuZGVyLmZpbmQodGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jb250ZW50KTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRleHBhbmRlci5oYXNDbGFzcygnb3BlbmVkJykpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdjbGljaycsIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMudG9nZ2xlciwgdGhpcy50b2dnbGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGZvcmNlKSB7XG5cbiAgICAgICAgICAgIGlmICghXy5pc0Jvb2xlYW4oZm9yY2UpKSB7XG5cbiAgICAgICAgICAgICAgICBmb3JjZSA9ICF0aGlzLm9wZW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvcmNlICE9PSB0aGlzLm9wZW5lZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmb3JjZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGV4cGFuZGVyLnRvZ2dsZUNsYXNzKCdvcGVuZWQnLCB0aGlzLm9wZW5lZCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjb250ZW50W3RoaXMub3BlbmVkID8gJ3NsaWRlRG93bicgOiAnc2xpZGVVcCddKHRoaXMub3B0aW9ucy5kZWxheS5jbG9zZSk7IC8vRklYTUU6IHRoZSBhbmltYXRpb24gaXMgdG9vIGV4cGVuc2l2ZVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcih0aGlzLm9wZW5lZCA/ICdvcGVuJyA6ICdjbG9zZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZXhwYW5kZXInKS5leHBhbmRlcigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRkxJUFBBQkxFICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLmZsaXBwYWJsZScsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgZmxpcHBlcjogJy5mbGlwcGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGZvbnQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBiYWNrOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZmxpcHBlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGZsaXBwYWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRmcm9udCA9IHRoaXMuJGZsaXBwYWJsZS5maW5kKCcuZmxpcHBhYmxlLWZyb250Jyk7XG4gICAgICAgICAgICB0aGlzLiRiYWNrID0gdGhpcy4kZmxpcHBhYmxlLmZpbmQoJy5mbGlwcGFibGUtYmFjaycpO1xuXG4gICAgICAgICAgICB0aGlzLmlzRmxpcHBlZCA9IHRoaXMuJGZsaXBwYWJsZS5oYXNDbGFzcygnZmxpcHBlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdjbGljaycsIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuZmxpcHBlciwgdGhpcy5mbGlwKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBmbGlwOiBmdW5jdGlvbiBmbGlwKCkge1xuXG4gICAgICAgICAgICB0aGlzLmlzRmxpcHBlZCA9ICF0aGlzLmlzRmxpcHBlZDtcblxuICAgICAgICAgICAgdGhpcy4kZmxpcHBhYmxlLnRvZ2dsZUNsYXNzKCdmbGlwcGVkJywgdGhpcy5pc0ZsaXBwZWQpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKHRoaXMuaXNGbGlwcGVkID8gJ2Zyb250JyA6ICdiYWNrJyk7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdmbGlwcGVkJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5mbGlwcGFibGUtd3JwJykuZmxpcHBhYmxlKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBtYXliZSBzeW5jIGF0IHRoZSBpbml0IHRpbWUgYWxzb1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVkFSSUFCTEVTICovXG5cbiAgICB2YXIgc3luY2VkX2dyb3VwcyA9IFtdO1xuXG4gICAgLyogRk9STSBTWU5DICovXG5cbiAgICAkLmZuLmZvcm1TeW5jID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgc3luY19ncm91cCA9ICRmb3JtLmRhdGEoJ3N5bmMtZ3JvdXAnKTtcblxuICAgICAgICAgICAgaWYgKHN5bmNlZF9ncm91cHMuaW5kZXhPZihzeW5jX2dyb3VwKSAhPT0gLTEpIHJldHVybjtcblxuICAgICAgICAgICAgc3luY2VkX2dyb3Vwcy5wdXNoKHN5bmNfZ3JvdXApO1xuXG4gICAgICAgICAgICB2YXIgJGZvcm1zID0gJCgnZm9ybVtkYXRhLXN5bmMtZ3JvdXA9XCInICsgc3luY19ncm91cCArICdcIl0nKSxcbiAgICAgICAgICAgICAgICAkZWxlcyA9ICRmb3Jtcy5maW5kKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuXG4gICAgICAgICAgICAkZWxlcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICRlbGUuYXR0cignbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBpc19jaGVja2FibGUgPSAkZWxlLmlzKCdbdHlwZT1cInJhZGlvXCJdLCBbdHlwZT1cImNoZWNrYm94XCJdJyksXG4gICAgICAgICAgICAgICAgICAgIGlzX3JhZGlvID0gaXNfY2hlY2thYmxlICYmICRlbGUuaXMoJ1t0eXBlPVwicmFkaW9cIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgaXNfdGV4dGJveCA9ICRlbGUuaXMoJ2lucHV0LCB0ZXh0YXJlYScpLFxuICAgICAgICAgICAgICAgICAgICBldmVudHMgPSBpc190ZXh0Ym94ID8gJ2lucHV0IGNoYW5nZScgOiAnY2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRfZm9ybSA9ICRlbGUucGFyZW50KCdmb3JtJyksXG4gICAgICAgICAgICAgICAgICAgICRvdGhlcl9mb3JtcyA9ICRmb3Jtcy5ub3QoJGN1cnJlbnRfZm9ybSksXG4gICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGVzID0gJG90aGVyX2Zvcm1zLmZpbmQoJ1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgICAgICAkZWxlLm9uKGV2ZW50cywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X3ZhbHVlID0gJGVsZS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfY2hlY2tlZCA9ICEhJGVsZS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJG90aGVyX2VsZXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkb3RoZXJfZWxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcl92YWx1ZSA9ICRvdGhlcl9lbGUudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJfY2hlY2tlZCA9ICEhJG90aGVyX2VsZS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc19yYWRpbykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRfdmFsdWUgIT09IG90aGVyX3ZhbHVlIHx8IGN1cnJlbnRfY2hlY2tlZCA9PT0gb3RoZXJfY2hlY2tlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50X3ZhbHVlID09PSBvdGhlcl92YWx1ZSAmJiBjdXJyZW50X2NoZWNrZWQgPT09IG90aGVyX2NoZWNrZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2NoZWNrYWJsZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG90aGVyX2VsZS5wcm9wKCdjaGVja2VkJywgY3VycmVudF9jaGVja2VkKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZWxlLnZhbChjdXJyZW50X3ZhbHVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdmb3JtW2RhdGEtc3luYy1ncm91cF0nKS5mb3JtU3luYygpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9qUXVlcnktZXh0cmEuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBMT0FESU5HICovXG5cbiAgICAkLmZuLmxvYWRpbmcgPSBmdW5jdGlvbiAoZm9yY2UsIGN1c3RvbV9vcHRpb25zKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSh7XG4gICAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICAgIHdyYXBwZXI6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICBzcGlubmVyOiAnc2Vjb25kYXJ5J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBjdXN0b21fb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gTE9BRElOR1xuXG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3NwaW5uZXItb3ZlcmxheS1hY3RpdmFibGUnKTtcblxuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChmb3JjZSkpIHtcblxuICAgICAgICAgICAgZm9yY2UgPSAhdGhpcy5oYXNDbGFzcygnc3Bpbm5lci1vdmVybGF5LWFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyICRvdmVybGF5ID0gdGhpcy5jaGlsZHJlbignLnNwaW5uZXItb3ZlcmxheScpO1xuXG4gICAgICAgIGlmICgkb3ZlcmxheS5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgdGhpcy5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwic3Bpbm5lci1vdmVybGF5ICcgKyBvcHRpb25zLmNvbG9yLndyYXBwZXIgKyAnXCI+JyArICc8ZGl2IGNsYXNzPVwic3Bpbm5lci13cnBcIj4nICsgJzxkaXYgY2xhc3M9XCJzcGlubmVyICcgKyBvcHRpb25zLmNvbG9yLnNwaW5uZXIgKyAnXCI+JyArICc8ZGl2IGNsYXNzPVwiY2lyY2xlLXdycCBsZWZ0XCI+JyArICc8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJjaXJjbGUtd3JwIHJpZ2h0XCI+JyArICc8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGZvcmNlKSB7XG5cbiAgICAgICAgICAgICAgICAkb3ZlcmxheS5hdHRyKCdjbGFzcycsICdzcGlubmVyLW92ZXJsYXkgJyArIG9wdGlvbnMuY29sb3Iud3JhcHBlcik7XG4gICAgICAgICAgICAgICAgJG92ZXJsYXkuZmluZCgnLnNwaW5uZXInKS5hdHRyKCdjbGFzcycsICdzcGlubmVyICcgKyBvcHRpb25zLmNvbG9yLnNwaW5uZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJC5yZWZsb3coKTsgLy9GSVhNRTogaXMgaXQgbmVlZGVkP1xuXG4gICAgICAgIHRoaXMudG9nZ2xlQ2xhc3MoJ3NwaW5uZXItb3ZlcmxheS1hY3RpdmUnLCBmb3JjZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3Igc3dpcGUgdG8gZGlzbWlzcyBpbiBtb2JpbGUgYW5kIHRvdWNoc2NyZWVuIGVuYWJsZWQgZGV2aWNlc1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVkFSSUFCTEVTICovXG5cbiAgICB2YXIgdGltZXJzID0gW107XG5cbiAgICAvKiBIRUxQRVIgKi9cblxuICAgICQubm90eSA9IGZ1bmN0aW9uIChjdXN0b21fb3B0aW9ucykge1xuXG4gICAgICAgIC8vIEVYVEVORFxuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoXy5pc1N0cmluZyhjdXN0b21fb3B0aW9ucykpIHtcblxuICAgICAgICAgICAgb3B0aW9ucy5ib2R5ID0gY3VzdG9tX29wdGlvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc1BsYWluT2JqZWN0KGN1c3RvbV9vcHRpb25zKSkge1xuXG4gICAgICAgICAgICBfLm1lcmdlKG9wdGlvbnMsIGN1c3RvbV9vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmJ1dHRvbnMpIHtcblxuICAgICAgICAgICAgb3B0aW9ucy50eXBlID0gJ2FjdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOT1RZXG5cbiAgICAgICAgdmFyIG5vdHkgPSBuZXcgJC5wcmVzdG8ubm90eShvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvcGxheSkge1xuXG4gICAgICAgICAgICBub3R5Lm9wZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3R5O1xuICAgIH07XG5cbiAgICAvKiBOT1RZICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLm5vdHknLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICBiYXNlOiAnPGRpdiBjbGFzcz1cIm5vdHkgY29udGFpbmVyIHslPW8udHlwZSV9IHslPW8uY29sb3IlfSB7JT1vLmNzcyV9XCI+JyArIC8vVE9ETzogYWRkIGJhY2sgdHJhbnNwYXJlbnRpemVcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWNvbnRlbnRcIj4nICsgJzxkaXYgY2xhc3M9XCJpbmZvYmFyLXdycCBpbnNldCB7JT1vLmNvbG9yJX1cIj4nICsgLy9UT0RPOiBhZGQgYmFjayB0cmFuc3BhcmVudGl6ZVxuICAgICAgICAgICAgJ3slIGlmICggby5pbWcgKSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5pbWdcIiwgby5pbWfCoCk7ICV9JyArICc8ZGl2IGNsYXNzPVwiaW5mb2Jhci1jZW50ZXJcIj4nICsgJ3slIGlmICggby50aXRsZSApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LnRpdGxlXCIsIG8udGl0bGUgKTsgJX0nICsgJ3slIGlmICggby5ib2R5ICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYm9keVwiLCBvLmJvZHkgKTsgJX0nICsgJzwvZGl2PicgKyAneyUgaWYgKCBvLmJ1dHRvbnMubGVuZ3RoID09PSAxICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuc2luZ2xlX2J1dHRvblwiLCBvLmJ1dHRvbnNbMF0gKTsgJX0nICsgJzwvZGl2PicgKyAneyUgaWYgKCBvLmJ1dHRvbnMubGVuZ3RoID4gMSApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmJ1dHRvbnNcIiwgby5idXR0b25zICk7ICV9JyArICc8L2Rpdj4nICsgJzwvZGl2PicsXG4gICAgICAgICAgICBpbWc6ICc8ZGl2IGNsYXNzPVwibm90eS1pbWcgaW5mb2Jhci1sZWZ0XCI+JyArICc8aW1nIHNyYz1cInslPW8lfVwiIGNsYXNzPVwic21vb3RoXCIgLz4nICsgJzwvZGl2PicsXG4gICAgICAgICAgICB0aXRsZTogJzxwIGNsYXNzPVwiaW5mb2Jhci10aXRsZVwiPicgKyAneyUjbyV9JyArICc8L3A+JyxcbiAgICAgICAgICAgIGJvZHk6ICd7JSNvJX0nLFxuICAgICAgICAgICAgc2luZ2xlX2J1dHRvbjogJzxkaXYgY2xhc3M9XCJpbmZvYmFyLXJpZ2h0XCI+JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8ubm90eS5idXR0b25cIiwgbyApOyAlfScgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIGJ1dHRvbnM6ICc8ZGl2IGNsYXNzPVwibm90eS1idXR0b25zIG11bHRpcGxlLXdycCBjZW50ZXJlZFwiPicgKyAnPGRpdiBjbGFzcz1cIm11bHRpcGxlXCI+JyArICd7JSBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrICkgeyAlfScgKyAneyUgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYnV0dG9uXCIsIG9baV0gKTsgJX0nICsgJ3slIH0gJX0nICsgJzwvZGl2PicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIGJ1dHRvbjogJzxkaXYgY2xhc3M9XCJsYWJlbC13cnAgYnV0dG9uLXdycFwiPicgKyAnPGRpdiBjbGFzcz1cImxhYmVsIGFjdGlvbmFibGUgeyU9KG8uY29sb3IgfHwgXCJ3aGl0ZVwiKSV9IHslPShvLnNpemUgfHwgXCJzbWFsbFwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+JyArICc8ZGl2IGNsYXNzPVwibGFiZWwtY2VudGVyXCI+JyArICd7JSMoby50ZXh0IHx8IFwiXCIpJX0nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGFuY2hvcjoge1xuICAgICAgICAgICAgICAgIHk6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgIHg6ICdsZWZ0J1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGVsYXk6IHtcbiAgICAgICAgICAgICAgICByZW1vdmU6IDIwMFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbWc6IGZhbHNlLFxuICAgICAgICAgICAgYnV0dG9uczogW10sXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfLm5vb3BcbiAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgdHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snLFxuICAgICAgICAgICAgY3NzOiAnJyxcblxuICAgICAgICAgICAgdHRsOiAzNTAwLFxuXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRub3R5ID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubmV2ZXJPcGVuZWQgPSB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaW5pdF9jbGljazogZnVuY3Rpb24gX2luaXRfY2xpY2soKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCB0aGlzLmNsb3NlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdF9idXR0b25zX2NsaWNrOiBmdW5jdGlvbiBfaW5pdF9idXR0b25zX2NsaWNrKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGJ1dHRvbnMgPSB0aGlzLiRub3R5LmZpbmQoJy5idXR0b24td3JwIC5sYWJlbCcpLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfLmVhY2godGhpcy5vcHRpb25zLmJ1dHRvbnMsIGZ1bmN0aW9uIChidXR0b24sIGluZGV4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b24gPSAkYnV0dG9ucy5lcShpbmRleCk7IC8vRklYTUU6IGl0IHdpbGwgbm90IHdvcmsgaWYgd2UgYWRkIGEgYnV0dG9uIHRvIHRoZSBib2R5IG1hbnVhbGx5XG5cbiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5vbkNsaWNrKSBidXR0b24ub25DbGljay5jYWxsKHRoaXMsIGV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfdGltZXI6IGZ1bmN0aW9uIF9pbml0X3RpbWVyKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoID09PSAwICYmIHRoaXMub3B0aW9ucy50dGwgIT09ICdmb3JldmVyJykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9ICQudGltZXIodGhpcy5jbG9zZS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMudHRsLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHRpbWVycy5wdXNoKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X2hvdmVyOiBmdW5jdGlvbiBfaW5pdF9ob3ZlcigpIHtcblxuICAgICAgICAgICAgdGhpcy4kbm90eS5ob3ZlcihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfLmVhY2godGltZXJzLCBmdW5jdGlvbiAodGltZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoKHRpbWVycywgZnVuY3Rpb24gKHRpbWVyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGltZXIucmVtYWluaW5nKE1hdGgubWF4KDEwMDAsIHRpbWVyLnJlbWFpbmluZygpIHx8IDApKTtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcubm90eS1xdWV1ZXMuJyArIHRoaXMub3B0aW9ucy5hbmNob3IueSArICcgLm5vdHktcXVldWUuJyArIHRoaXMub3B0aW9ucy5hbmNob3IueCkuZmlyc3QoKS5hcHBlbmQodGhpcy4kbm90eSk7XG5cbiAgICAgICAgICAgICAgICAkLnJlZmxvdygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kbm90eS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXZlck9wZW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdF9idXR0b25zX2NsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfaG92ZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldmVyT3BlbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF90aW1lcigpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignb3BlbicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcblxuICAgICAgICAgICAgICAgIF8ucHVsbCh0aW1lcnMsIHRoaXMudGltZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lci5zdG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJG5vdHkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRub3R5LnJlbW92ZSgpO1xuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLmRlbGF5LnJlbW92ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICRib2R5LmFwcGVuZCgnPGRpdiBjbGFzcz1cIm5vdHktcXVldWVzIHRvcFwiPicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgZXhwYW5kZWRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcy1yb3dcIj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGxlZnRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGNlbnRlclwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgcmlnaHRcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZXMgYm90dG9tXCI+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZXMtcm93XCI+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBsZWZ0XCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSBjZW50ZXJcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIHJpZ2h0XCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGV4cGFuZGVkXCI+PC9kaXY+JyArICc8L2Rpdj4nKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2xvYWRpbmcvbG9hZGluZy5qc1xuICogQHJlcXVpcmVzIC4uL25vdHkvbm90eS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBjaGVjayBpZiBpdCB3b3JrcywgYWxzbyBmb3IgdXBsb2FkXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBGT1JNIEFKQVggKi9cblxuICAgICQuZm4uZm9ybUFqYXggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5vbignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vRklYTUU6IERvZXMgaXQgd29yaz9cblxuICAgICAgICAgICAgJC5hamF4KHtcblxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ211bHRpcGFydC9mb3JtLWRhdGEnLFxuICAgICAgICAgICAgICAgIGRhdGE6IG5ldyBGb3JtRGF0YSh0aGlzKSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJGZvcm0uYXR0cignbWV0aG9kJykgfHwgJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJGZvcm0uYXR0cignYWN0aW9uJyksXG5cbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiBiZWZvcmVTZW5kKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmxvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihyZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5pc1N0cmluZyhyZXMpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNbMF0gPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSU5GTzogSXMgSFRNTFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdUaGVyZSB3YXMgYW4gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gb3IgcmVwb3J0IHRoZSBwcm9ibGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYm9keS5hcHBlbmQocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdUaGVyZSB3YXMgYW4gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4gb3IgcmVwb3J0IHRoZSBwcm9ibGVtJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5pc1N0cmluZyhyZXMpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgPT09ICdyZWZyZXNoJykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdEb25lISBSZWZyZXNoaW5nIHRoZSBwYWdlLi4uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14oKFxcUyopPzpcXC9cXC8pP1xcLz9cXFMqJC8udGVzdChyZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JTkZPOiBJcyBhbiB1cmwsIGVpdGhlciBhYnNvbHV0ZSBvciByZWxhdGl2ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgcmVzID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ0RvbmUhIFJlZnJlc2hpbmcgdGhlIHBhZ2UuLi4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSgnRG9uZSEgUmVkaXJlY3RpbmcuLi4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24ocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc1swXSA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JTkZPOiBJcyBIVE1MXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ0RvbmUhIEEgcGFnZSByZWZyZXNoIG1heSBiZSBuZWVkZWQgdG8gc2VlIHRoZSBjaGFuZ2VzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYm9keS5hcHBlbmQocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5KCdEb25lISBBIHBhZ2UgcmVmcmVzaCBtYXkgYmUgbmVlZGVkIHRvIHNlZSB0aGUgY2hhbmdlcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcblxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5sb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ2Zvcm0uYWpheCcpLmZvcm1BamF4KCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogbWF5YmUgYWRkIHRoZSBhYmlsaXR5IHRvIG9wZW4gaXRcbi8vVE9ETzogbWF5YmUganVzdCBoaWRpbmcgaXQgb24gY2xvc2UgaXMgZW5vdWdoLCBkbyB3ZSBnYWluIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCB0aGlzIHdheT9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIElORk9CQVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8uaW5mb2JhcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgY2xvc2VyOiAnLmluZm9iYXItY2xvc2VyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICAgICAgY2xvc2U6IDI1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5mb2JhciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jbG9zZXIsIHRoaXMuY2xvc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5mb2Jhci5hZGRDbGFzcygncmVtb3ZlJykuc2xpZGVVcCh0aGlzLm9wdGlvbnMuZGVsYXkuY2xvc2UpOyAvL0ZJWE1FOiB0aGUgYW5pbWF0aW9uIGlzIHRvbyBleHBlbnNpdmVcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5mb2Jhci5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZGVsYXkuY2xvc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuaW5mb2Jhci13cnAnKS5pbmZvYmFyKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBNT0RBTCAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5tb2RhbCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgY2xvc2VyOiAnLm1vZGFsLWNsb3NlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RhbCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jbG9zZXIsIHRoaXMuY2xvc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaGFuZGxlcl9lc2Nfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfZXNjX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FU0NBUEUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RhbC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2VzY19rZXlkb3duKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignb3BlbicpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbW9kYWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfZXNjX2tleWRvd24pO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjbG9zZScpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcubW9kYWwnKS5tb2RhbCgpO1xuXG4gICAgICAgICQoJ1tkYXRhLW1vZGFsLXRyaWdnZXJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy9UT0RPOiBtYXliZSBkbyBzb21ldGhpbmcgbGlrZSB0aGlzIGZvciB0aGUgb3RoZXIgdHJpZ2dhYmxlIHdpZGdldHMuLi4gc28gdGhhdCB3ZSBkb24ndCBjYXJlIGlmIGEgdHJpZ2dlciBjaGFuZ2VzIG9yIGlzIGFkZGVkIGR5bmFtaWNhbGx5IC8vVE9ETzogdXNlIGRlbGVnYXRpb25cblxuICAgICAgICAgICAgJCgnIycgKyAkKHRoaXMpLmRhdGEoJ21vZGFsLXRyaWdnZXInKSkubW9kYWwoJ2luc3RhbmNlJykub3BlbigpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBBZGQgZmxpY2sgY2FwYWJpbGl0aWVzIChzaG93IGFuZCBoaWRlIG9uIGZsaWNrIGluIHRoZSByaWdodCBkaXJlY3Rpb24gYW5kIHN0YXJ0aW5nIHdpdGhpbiB0aGUgcmlnaHQgem9uZSlcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIE5BVkJBUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5uYXZiYXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmJhciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiR3cnAgPSB0aGlzLiRuYXZiYXIucGFyZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiRuYXZiYXIuYXR0cignaWQnKTtcblxuICAgICAgICAgICAgdGhpcy4kY2xvc2VycyA9IHRoaXMuJHdycC5maW5kKCcubmF2YmFyLWNsb3NlcicpO1xuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlcnMgPSAkKCcubmF2YmFyLXRyaWdnZXJbZGF0YS1uYXZiYXI9XCInICsgdGhpcy5pZCArICdcIl0nKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSB0aGlzLiR3cnAuaGFzQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIC8qIENMT1NFUiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRjbG9zZXJzLCAnY2xpY2snLCB0aGlzLmNsb3NlKTtcblxuICAgICAgICAgICAgLyogVFJJR0dFUiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiR0cmlnZ2VycywgJ2NsaWNrJywgdGhpcy5vcGVuKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShmb3JjZSkge1xuXG4gICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChmb3JjZSkpIHtcblxuICAgICAgICAgICAgICAgIGZvcmNlID0gIXRoaXMub3BlbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9yY2UgIT09IHRoaXMub3BlbmVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZvcmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kd3JwLnRvZ2dsZUNsYXNzKCdvcGVuZWQnLCB0aGlzLm9wZW5lZCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKHRoaXMub3BlbmVkID8gJ29wZW4nIDogJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUodHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5uYXZiYXInKS5uYXZiYXIoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL25vdHkvbm90eS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiBJZiB0aGUgdGFiIGhhc24ndCB0aGUgZm9jdXMgYW5kIHdlIGNhbiB1c2UgdGhlIG5hdGl2ZSBub3RpZmljYXRpb25zIHRoYW4gd2UnbGwgc2VuZCBhIG5hdGl2ZSBub3RpZmljYXRpb24sIG90aGVyd2lzZSB3ZSB3aWxsIGZhbGxiYWNrIHRvIGEgbm90eVxuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTk9USUZJQ0FUSU9OICovXG5cbiAgICAkLm5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjdXN0b21fb3B0aW9ucykge1xuXG4gICAgICAgIC8vIE9QVElPTlNcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IF8ubWVyZ2Uoe1xuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbWc6IGZhbHNlXG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zKTtcblxuICAgICAgICAvLyBOT1RJRklDQVRJT05cblxuICAgICAgICBpZiAoIWRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgd2luZG93Lk5vdGlmaWNhdGlvbiAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPT0gJ2RlbmllZCcpIHtcblxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uIChzdGF0dXMpIHtcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdncmFudGVkJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG9wdGlvbnMudGl0bGUsIHsgYm9keTogb3B0aW9ucy5ib2R5LCBpY29uOiBvcHRpb25zLmltZyB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICQubm90eShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgJC5ub3R5KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2Nvb2tpZS9jb29raWUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogdGhlIHBpcGUgY2hhcmFjdGVyICh8KSBpcyBmb3JiaWRkZW4gaW5zaWRlIGEgbmFtZSwgY29va2llJ3MgdHRsIGlzIDEgeWVhclxuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBvdGhlciBjb29raWUgc2V0dGFibGUgcGFyYW1ldGVyc1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogT05FIFRJTUUgQUNUSU9OICovXG5cbiAgICAkLm9uZVRpbWVBY3Rpb24gPSBmdW5jdGlvbiAoY3VzdG9tX29wdGlvbnMsIGFjdGlvbikge1xuXG4gICAgICAgIC8vIE9QVElPTlNcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJ290YScsIC8vSU5GTzogdGhlIGNvb2tpZSBuYW1lIHRoYXQgaG9sZHMgdGhlIGFjdGlvbnMsIGEgbmFtZXNwYWNlIGZvciByZWxhdGVkIGFjdGlvbnMgYmFzaWNhbGx5XG4gICAgICAgICAgICBleHBpcnk6IEluZmluaXR5LCAvL0lORk86IHRoZSBleHBpcmUgdGltZSBvZiB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICBuYW1lOiBmYWxzZSwgLy9JTkZPOiB0aGUgYWN0aW9uIG5hbWVcbiAgICAgICAgICAgIGFjdGlvbjogZmFsc2UgLy9JTkZPOiB0aGUgYWN0aW9uIHRvIGV4ZWN1dGVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoXy5pc1N0cmluZyhjdXN0b21fb3B0aW9ucykpIHtcblxuICAgICAgICAgICAgb3B0aW9ucy5uYW1lID0gY3VzdG9tX29wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oYWN0aW9uKSkge1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hY3Rpb24gPSBhY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc1BsYWluT2JqZWN0KGN1c3RvbV9vcHRpb25zKSkge1xuXG4gICAgICAgICAgICBfLm1lcmdlKG9wdGlvbnMsIGN1c3RvbV9vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ORSBUSU1FIEFDVElPTlxuXG4gICAgICAgIGlmIChvcHRpb25zLm5hbWUpIHtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyBBY3Rpb24ob3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMubmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFjdGlvbiAmJiAhYWN0aW9uLmdldCgpKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLmFjdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgYWN0aW9uLnNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY29udGFpbmVyKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyLCBvcHRpb25zLmV4cGlyeSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogQ09OVEFJTkVSIE9CSiAqL1xuXG4gICAgdmFyIENvbnRhaW5lciA9IGZ1bmN0aW9uIENvbnRhaW5lcihuYW1lLCBleHBpcnkpIHtcblxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmV4cGlyeSA9IGV4cGlyeTtcblxuICAgICAgICB0aGlzLmFjdGlvbnNTdHIgPSAkLmNvb2tpZS5nZXQodGhpcy5uYW1lKSB8fCAnJztcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdGhpcy5hY3Rpb25zU3RyLmxlbmd0aCA+IDAgPyB0aGlzLmFjdGlvbnNTdHIuc3BsaXQoJ3wnKSA6IFtdO1xuICAgIH07XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlID0ge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KGFjdGlvbikge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5jb250YWlucyh0aGlzLmFjdGlvbnMsIGFjdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYWN0aW9uKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5nZXQoYWN0aW9uKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnB1c2goYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uc1N0ciA9IHRoaXMuYWN0aW9ucy5qb2luKCd8Jyk7XG5cbiAgICAgICAgICAgICQuY29va2llLnNldCh0aGlzLm5hbWUsIHRoaXMuYWN0aW9uc1N0ciwgdGhpcy5leHBpcnkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChhY3Rpb24pIHtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgXy5wdWxsKHRoaXMuYWN0aW9ucywgYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJC5jb29raWUucmVtb3ZlKHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKiBBQ1RJT04gT0JKICovXG5cbiAgICB2YXIgQWN0aW9uID0gZnVuY3Rpb24gQWN0aW9uKGNvbnRhaW5lciwgbmFtZSwgYWN0aW9uKSB7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfTtcblxuICAgIEFjdGlvbi5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXQodGhpcy5uYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcblxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc2V0KHRoaXMubmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZXNldCh0aGlzLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICB9O1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IHRoaXMgd2F5IG9mIGV4ZW50aW5nIHRoZSBwcm9wZXJ0eSBlcmFzZXMgcHJldmlvdXMgc2V0dGVkIHN0eWxlcyAoc3luY2UgYSBhcnJheSBpcyBleHRlbmRlZCB3aXRoIGEgY29weSwgd2UgYXJlIG5vdCBleHRlbmRpbmcgdGhlIGNoaWxkcmVuKVxuLy9UT0RPOiBtYWtlIHRlbXBsYXRlcyBEUllcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFBSSVZBVEUgKi9cblxuICAgIHZhciBnZW5lcmF0ZV9vcHRpb25zID0gZnVuY3Rpb24gZ2VuZXJhdGVfb3B0aW9ucyhvcHRpb25zLCBtdWx0aXBsZSkge1xuXG4gICAgICAgIGlmICghXy5pc1VuZGVmaW5lZChtdWx0aXBsZSkpIHtcblxuICAgICAgICAgICAgdmFyIG5ld19vcHRpb25zID0geyBwZXJjZW50YWdlczogQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkgfTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBuZXdfb3B0aW9ucy5wZXJjZW50YWdlc1tpXSA9IF8uaXNOdW1iZXIoYXJndW1lbnRzW2ldKSA/IHsgdmFsdWU6IGFyZ3VtZW50c1tpXSB9IDogYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB2YXIgbmV3X29wdGlvbnMgPSBfLmlzTnVtYmVyKG9wdGlvbnMpID8geyBwZXJjZW50YWdlczogW3sgdmFsdWU6IG9wdGlvbnMgfV0gfSA6IG9wdGlvbnMucGVyY2VudGFnZXMgPyBvcHRpb25zIDogeyBwZXJjZW50YWdlczogW29wdGlvbnNdIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3X29wdGlvbnM7XG4gICAgfTtcblxuICAgIC8qIEhFTFBFUiAqL1xuXG4gICAgJC5wcm9ncmVzc0JhciA9IGZ1bmN0aW9uIChvcHRpb25zLCBtdWx0aXBsZSkge1xuXG4gICAgICAgIG9wdGlvbnMgPSBnZW5lcmF0ZV9vcHRpb25zLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkLnByZXN0by5wcm9ncmVzc0JhcihvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyogUFJPR1JFU1MgQkFSICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnByb2dyZXNzQmFyJywge1xuXG4gICAgICAgIC8qIFRFTVBMQVRFUyAqL1xuXG4gICAgICAgIHRlbXBsYXRlczoge1xuICAgICAgICAgICAgYmFzZTogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0JhciB7JT0oby5zdHJpcGVkID8gXCJzdHJpcGVkXCIgOiBcIlwiKSV9IHslPW8uY29sb3IlfSB7JT1vLnNpemUlfSB7JT1vLmNzcyV9XCI+JyArICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItdW5oaWdobGlnaHRlZFwiPicgKyAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnByb2dyZXNzQmFyLnBlcmNlbnRhZ2VzXCIgKyAoIG8ubGFiZWxlZCA/IFwiX2xhYmVsZWRcIiA6IFwiXCIgKSwgby5wZXJjZW50YWdlcyApOyAlfScgKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItc3RyaXBlc1wiPjwvZGl2PicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VzOiAneyUgZm9yICggdmFyIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKyApIHsgJX0nICsgJ3slIGluY2x1ZGUgKCBcInByZXN0by5wcm9ncmVzc0Jhci5wZXJjZW50YWdlXCIsIG9baV0gKTsgJX0nICsgJ3slIH0gJX0nLFxuICAgICAgICAgICAgcGVyY2VudGFnZXNfbGFiZWxlZDogJ3slIGZvciAoIHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKysgKSB7ICV9JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIucGVyY2VudGFnZV9sYWJlbGVkXCIsIG9baV0gKTsgJX0nICsgJ3slIH0gJX0nLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1oaWdobGlnaHRlZCB7JT0oby5jb2xvciB8fCBcIlwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+PC9kaXY+JyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VfbGFiZWxlZDogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1oaWdobGlnaHRlZCB7JT0oby5jb2xvciB8fCBcIlwiKSV9IHslPShvLmNzcyB8fCBcIlwiKSV9XCI+JyArICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIubGFiZWxcIiwge30gKTsgJX0nICsgJzwvZGl2PicsXG4gICAgICAgICAgICBsYWJlbDogJzxkaXYgY2xhc3M9XCJwcm9ncmVzc0Jhci1sYWJlbFwiPjwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgcGVyY2VudGFnZXM6IFtdLFxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICAgICAgc2l6ZTogJycsXG4gICAgICAgICAgICBjc3M6ICcnLFxuXG4gICAgICAgICAgICBzdHJpcGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVjaW1hbHM6IDAsXG5cbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGZ1bGw6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiBfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRwcm9ncmVzc0JhciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZHMgPSB0aGlzLiRwcm9ncmVzc0Jhci5maW5kKCcucHJvZ3Jlc3NCYXItaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuJHN0cmlwZXMgPSB0aGlzLiRwcm9ncmVzc0Jhci5maW5kKCcucHJvZ3Jlc3NCYXItc3RyaXBlcycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6YXRpb25UeXBlICE9PSAnZWxlbWVudCcpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiBfdXBkYXRlKCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMub3B0aW9ucy5wZXJjZW50YWdlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIHZhciAkaGlnaGxpZ2h0ZWQgPSB0aGlzLiRoaWdobGlnaHRlZHMuZXEoaSk7XG5cbiAgICAgICAgICAgICAgICAkaGlnaGxpZ2h0ZWQud2lkdGgodGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzW2ldLnZhbHVlICsgJyUnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGFiZWxlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbGFiZWwgPSAkaGlnaGxpZ2h0ZWQuZmluZCgnLnByb2dyZXNzQmFyLWxhYmVsJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGxhYmVsLmh0bWwoK3RoaXMub3B0aW9ucy5wZXJjZW50YWdlc1tpXS52YWx1ZS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFscykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN1bSA9IF8uY2xhbXAoMCwgXy5zdW0odGhpcy5nZXQoKS5zbGljZSgwLCB0aGlzLiRoaWdobGlnaHRlZHMubGVuZ3RoKSksIDEwMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RyaXBlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RyaXBlcy53aWR0aChzdW0gKyAnJScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3VtID09PSAxMDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2Z1bGwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIF8ubWFwKHRoaXMub3B0aW9ucy5wZXJjZW50YWdlcywgZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50YWdlLnZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQob3B0aW9ucywgbXVsdGlwbGUpIHtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IGdlbmVyYXRlX29wdGlvbnMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgXy5tZXJnZSh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOyAvL0ZJWE1FOiBkb2VzIHRoZSBtZXJnZSB3b3JrIGhlcmU/IG9yIHdlIG1vZGlmeSB0aGUgb3JpZ2luYWwgb3B0aW9ucz9cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3VwZGF0ZScpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcucHJvZ3Jlc3NCYXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRwcm9ncmVzc0JhciA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlczogW10sXG4gICAgICAgICAgICAgICAgc3RyaXBlZDogJHByb2dyZXNzQmFyLmhhc0NsYXNzKCdzdHJpcGVkJyksXG4gICAgICAgICAgICAgICAgbGFiZWxlZDogISEkcHJvZ3Jlc3NCYXIuZmluZCgnLnByb2dyZXNzQmFyLWxhYmVsJykubGVuZ3RoXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkcHJvZ3Jlc3NCYXIuZmluZCgnLnByb2dyZXNzQmFyLWhpZ2hsaWdodGVkJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zLnBlcmNlbnRhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh0aGlzLnN0eWxlLndpZHRoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRwcm9ncmVzc0Jhci5wcm9ncmVzc0JhcihvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuLyogaHR0cDovL3ByaXNtanMuY29tL2Rvd25sb2FkLmh0bWw/dGhlbWVzPXByaXNtJmxhbmd1YWdlcz1tYXJrdXArY3NzK2Nzcy1leHRyYXMrY2xpa2UramF2YXNjcmlwdCAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnNlbGYgPSB0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgPyBzZWxmIDoge307dmFyIFByaXNtID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGUgPSAvXFxibGFuZyg/OnVhZ2UpPy0oPyFcXCopKFxcdyspXFxiL2ksXG4gICAgICB0ID0gc2VsZi5QcmlzbSA9IHsgdXRpbDogeyBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgbiA/IG5ldyBuKGUudHlwZSwgdC51dGlsLmVuY29kZShlLmNvbnRlbnQpLCBlLmFsaWFzKSA6IHQudXRpbC50eXBlKGUpID09PSBcIkFycmF5XCIgPyBlLm1hcCh0LnV0aWwuZW5jb2RlKSA6IGUucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnJlcGxhY2UoL1xcdTAwYTAvZywgXCIgXCIpO1xuICAgICAgfSwgdHlwZTogZnVuY3Rpb24gdHlwZShlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xcW29iamVjdCAoXFx3KylcXF0vKVsxXTtcbiAgICAgIH0sIGNsb25lOiBmdW5jdGlvbiBjbG9uZShlKSB7XG4gICAgICAgIHZhciBuID0gdC51dGlsLnR5cGUoZSk7c3dpdGNoIChuKSB7Y2FzZSBcIk9iamVjdFwiOlxuICAgICAgICAgICAgdmFyIHIgPSB7fTtmb3IgKHZhciBpIGluIGUpIGUuaGFzT3duUHJvcGVydHkoaSkgJiYgKHJbaV0gPSB0LnV0aWwuY2xvbmUoZVtpXSkpO3JldHVybiByO2Nhc2UgXCJBcnJheVwiOlxuICAgICAgICAgICAgcmV0dXJuIGUuc2xpY2UoKTt9cmV0dXJuIGU7XG4gICAgICB9IH0sIGxhbmd1YWdlczogeyBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZChlLCBuKSB7XG4gICAgICAgIHZhciByID0gdC51dGlsLmNsb25lKHQubGFuZ3VhZ2VzW2VdKTtmb3IgKHZhciBpIGluIG4pIHJbaV0gPSBuW2ldO3JldHVybiByO1xuICAgICAgfSwgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiBpbnNlcnRCZWZvcmUoZSwgbiwgciwgaSkge1xuICAgICAgICBpID0gaSB8fCB0Lmxhbmd1YWdlczt2YXIgcyA9IGlbZV07aWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikge1xuICAgICAgICAgIHIgPSBhcmd1bWVudHNbMV07Zm9yICh2YXIgbyBpbiByKSByLmhhc093blByb3BlcnR5KG8pICYmIChzW29dID0gcltvXSk7cmV0dXJuIHM7XG4gICAgICAgIH12YXIgdSA9IHt9O2ZvciAodmFyIGEgaW4gcykgaWYgKHMuaGFzT3duUHJvcGVydHkoYSkpIHtcbiAgICAgICAgICBpZiAoYSA9PSBuKSBmb3IgKHZhciBvIGluIHIpIHIuaGFzT3duUHJvcGVydHkobykgJiYgKHVbb10gPSByW29dKTt1W2FdID0gc1thXTtcbiAgICAgICAgfXQubGFuZ3VhZ2VzLkRGUyh0Lmxhbmd1YWdlcywgZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAgICAgICBuID09PSBpW2VdICYmIHQgIT0gZSAmJiAodGhpc1t0XSA9IHUpO1xuICAgICAgICB9KTtyZXR1cm4gaVtlXSA9IHU7XG4gICAgICB9LCBERlM6IGZ1bmN0aW9uIERGUyhlLCBuLCByKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZSkgaWYgKGUuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICBuLmNhbGwoZSwgaSwgZVtpXSwgciB8fCBpKTt0LnV0aWwudHlwZShlW2ldKSA9PT0gXCJPYmplY3RcIiA/IHQubGFuZ3VhZ2VzLkRGUyhlW2ldLCBuKSA6IHQudXRpbC50eXBlKGVbaV0pID09PSBcIkFycmF5XCIgJiYgdC5sYW5ndWFnZXMuREZTKGVbaV0sIG4sIGkpO1xuICAgICAgICB9XG4gICAgICB9IH0sIGhpZ2hsaWdodEFsbDogZnVuY3Rpb24gaGlnaGxpZ2h0QWxsKGUsIG4pIHtcbiAgICAgIHZhciByID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnKTtmb3IgKHZhciBpID0gMCwgczsgcyA9IHJbaSsrXTspIHQuaGlnaGxpZ2h0RWxlbWVudChzLCBlID09PSAhMCwgbik7XG4gICAgfSwgaGlnaGxpZ2h0RWxlbWVudDogZnVuY3Rpb24gaGlnaGxpZ2h0RWxlbWVudChyLCBpLCBzKSB7XG4gICAgICB2YXIgbyxcbiAgICAgICAgICB1LFxuICAgICAgICAgIGEgPSByO3doaWxlIChhICYmICFlLnRlc3QoYS5jbGFzc05hbWUpKSBhID0gYS5wYXJlbnROb2RlO2lmIChhKSB7XG4gICAgICAgIG8gPSAoYS5jbGFzc05hbWUubWF0Y2goZSkgfHwgWywgXCJcIl0pWzFdO3UgPSB0Lmxhbmd1YWdlc1tvXTtcbiAgICAgIH1pZiAoIXUpIHJldHVybjtyLmNsYXNzTmFtZSA9IHIuY2xhc3NOYW1lLnJlcGxhY2UoZSwgXCJcIikucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikgKyBcIiBsYW5ndWFnZS1cIiArIG87YSA9IHIucGFyZW50Tm9kZTsvcHJlL2kudGVzdChhLm5vZGVOYW1lKSAmJiAoYS5jbGFzc05hbWUgPSBhLmNsYXNzTmFtZS5yZXBsYWNlKGUsIFwiXCIpLnJlcGxhY2UoL1xccysvZywgXCIgXCIpICsgXCIgbGFuZ3VhZ2UtXCIgKyBvKTt2YXIgZiA9IHIudGV4dENvbnRlbnQ7aWYgKCFmKSByZXR1cm47dmFyIGwgPSB7IGVsZW1lbnQ6IHIsIGxhbmd1YWdlOiBvLCBncmFtbWFyOiB1LCBjb2RlOiBmIH07dC5ob29rcy5ydW4oXCJiZWZvcmUtaGlnaGxpZ2h0XCIsIGwpO2lmIChpICYmIHNlbGYuV29ya2VyKSB7XG4gICAgICAgIHZhciBjID0gbmV3IFdvcmtlcih0LmZpbGVuYW1lKTtjLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbC5oaWdobGlnaHRlZENvZGUgPSBuLnN0cmluZ2lmeShKU09OLnBhcnNlKGUuZGF0YSksIG8pO3QuaG9va3MucnVuKFwiYmVmb3JlLWluc2VydFwiLCBsKTtsLmVsZW1lbnQuaW5uZXJIVE1MID0gbC5oaWdobGlnaHRlZENvZGU7cyAmJiBzLmNhbGwobC5lbGVtZW50KTt0Lmhvb2tzLnJ1bihcImFmdGVyLWhpZ2hsaWdodFwiLCBsKTtcbiAgICAgICAgfTtjLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgbGFuZ3VhZ2U6IGwubGFuZ3VhZ2UsIGNvZGU6IGwuY29kZSB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsLmhpZ2hsaWdodGVkQ29kZSA9IHQuaGlnaGxpZ2h0KGwuY29kZSwgbC5ncmFtbWFyLCBsLmxhbmd1YWdlKTt0Lmhvb2tzLnJ1bihcImJlZm9yZS1pbnNlcnRcIiwgbCk7bC5lbGVtZW50LmlubmVySFRNTCA9IGwuaGlnaGxpZ2h0ZWRDb2RlO3MgJiYgcy5jYWxsKHIpO3QuaG9va3MucnVuKFwiYWZ0ZXItaGlnaGxpZ2h0XCIsIGwpO1xuICAgICAgfVxuICAgIH0sIGhpZ2hsaWdodDogZnVuY3Rpb24gaGlnaGxpZ2h0KGUsIHIsIGkpIHtcbiAgICAgIHZhciBzID0gdC50b2tlbml6ZShlLCByKTtyZXR1cm4gbi5zdHJpbmdpZnkodC51dGlsLmVuY29kZShzKSwgaSk7XG4gICAgfSwgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKGUsIG4sIHIpIHtcbiAgICAgIHZhciBpID0gdC5Ub2tlbixcbiAgICAgICAgICBzID0gW2VdLFxuICAgICAgICAgIG8gPSBuLnJlc3Q7aWYgKG8pIHtcbiAgICAgICAgZm9yICh2YXIgdSBpbiBvKSBuW3VdID0gb1t1XTtkZWxldGUgbi5yZXN0O1xuICAgICAgfWU6IGZvciAodmFyIHUgaW4gbikge1xuICAgICAgICBpZiAoIW4uaGFzT3duUHJvcGVydHkodSkgfHwgIW5bdV0pIGNvbnRpbnVlO3ZhciBhID0gblt1XTthID0gdC51dGlsLnR5cGUoYSkgPT09IFwiQXJyYXlcIiA/IGEgOiBbYV07Zm9yICh2YXIgZiA9IDA7IGYgPCBhLmxlbmd0aDsgKytmKSB7XG4gICAgICAgICAgdmFyIGwgPSBhW2ZdLFxuICAgICAgICAgICAgICBjID0gbC5pbnNpZGUsXG4gICAgICAgICAgICAgIGggPSAhIWwubG9va2JlaGluZCxcbiAgICAgICAgICAgICAgcCA9IDAsXG4gICAgICAgICAgICAgIGQgPSBsLmFsaWFzO2wgPSBsLnBhdHRlcm4gfHwgbDtmb3IgKHZhciB2ID0gMDsgdiA8IHMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgICAgIHZhciBtID0gc1t2XTtpZiAocy5sZW5ndGggPiBlLmxlbmd0aCkgYnJlYWsgZTtpZiAobSBpbnN0YW5jZW9mIGkpIGNvbnRpbnVlO2wubGFzdEluZGV4ID0gMDt2YXIgZyA9IGwuZXhlYyhtKTtpZiAoZykge1xuICAgICAgICAgICAgICBoICYmIChwID0gZ1sxXS5sZW5ndGgpO3ZhciB5ID0gZy5pbmRleCAtIDEgKyBwLFxuICAgICAgICAgICAgICAgICAgZyA9IGdbMF0uc2xpY2UocCksXG4gICAgICAgICAgICAgICAgICBiID0gZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICB3ID0geSArIGIsXG4gICAgICAgICAgICAgICAgICBFID0gbS5zbGljZSgwLCB5ICsgMSksXG4gICAgICAgICAgICAgICAgICBTID0gbS5zbGljZSh3ICsgMSksXG4gICAgICAgICAgICAgICAgICB4ID0gW3YsIDFdO0UgJiYgeC5wdXNoKEUpO3ZhciBUID0gbmV3IGkodSwgYyA/IHQudG9rZW5pemUoZywgYykgOiBnLCBkKTt4LnB1c2goVCk7UyAmJiB4LnB1c2goUyk7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLCB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1yZXR1cm4gcztcbiAgICB9LCBob29rczogeyBhbGw6IHt9LCBhZGQ6IGZ1bmN0aW9uIGFkZChlLCBuKSB7XG4gICAgICAgIHZhciByID0gdC5ob29rcy5hbGw7cltlXSA9IHJbZV0gfHwgW107cltlXS5wdXNoKG4pO1xuICAgICAgfSwgcnVuOiBmdW5jdGlvbiBydW4oZSwgbikge1xuICAgICAgICB2YXIgciA9IHQuaG9va3MuYWxsW2VdO2lmICghciB8fCAhci5sZW5ndGgpIHJldHVybjtmb3IgKHZhciBpID0gMCwgczsgcyA9IHJbaSsrXTspIHMobik7XG4gICAgICB9IH0gfSxcbiAgICAgIG4gPSB0LlRva2VuID0gZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICB0aGlzLnR5cGUgPSBlO3RoaXMuY29udGVudCA9IHQ7dGhpcy5hbGlhcyA9IG47XG4gIH07bi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZSwgciwgaSkge1xuICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKSByZXR1cm4gZTtpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpID09IFwiW29iamVjdCBBcnJheV1cIikgcmV0dXJuIGUubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gbi5zdHJpbmdpZnkodCwgciwgZSk7XG4gICAgfSkuam9pbihcIlwiKTt2YXIgcyA9IHsgdHlwZTogZS50eXBlLCBjb250ZW50OiBuLnN0cmluZ2lmeShlLmNvbnRlbnQsIHIsIGkpLCB0YWc6IFwic3BhblwiLCBjbGFzc2VzOiBbXCJ0b2tlblwiLCBlLnR5cGVdLCBhdHRyaWJ1dGVzOiB7fSwgbGFuZ3VhZ2U6IHIsIHBhcmVudDogaSB9O3MudHlwZSA9PSBcImNvbW1lbnRcIiAmJiAocy5hdHRyaWJ1dGVzLnNwZWxsY2hlY2sgPSBcInRydWVcIik7aWYgKGUuYWxpYXMpIHtcbiAgICAgIHZhciBvID0gdC51dGlsLnR5cGUoZS5hbGlhcykgPT09IFwiQXJyYXlcIiA/IGUuYWxpYXMgOiBbZS5hbGlhc107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocy5jbGFzc2VzLCBvKTtcbiAgICB9dC5ob29rcy5ydW4oXCJ3cmFwXCIsIHMpO3ZhciB1ID0gXCJcIjtmb3IgKHZhciBhIGluIHMuYXR0cmlidXRlcykgdSArPSBhICsgJz1cIicgKyAocy5hdHRyaWJ1dGVzW2FdIHx8IFwiXCIpICsgJ1wiJztyZXR1cm4gXCI8XCIgKyBzLnRhZyArICcgY2xhc3M9XCInICsgcy5jbGFzc2VzLmpvaW4oXCIgXCIpICsgJ1wiICcgKyB1ICsgXCI+XCIgKyBzLmNvbnRlbnQgKyBcIjwvXCIgKyBzLnRhZyArIFwiPlwiO1xuICB9O2lmICghc2VsZi5kb2N1bWVudCkge1xuICAgIGlmICghc2VsZi5hZGRFdmVudExpc3RlbmVyKSByZXR1cm4gc2VsZi5QcmlzbTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgbiA9IEpTT04ucGFyc2UoZS5kYXRhKSxcbiAgICAgICAgICByID0gbi5sYW5ndWFnZSxcbiAgICAgICAgICBpID0gbi5jb2RlO3NlbGYucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkodC51dGlsLmVuY29kZSh0LnRva2VuaXplKGksIHQubGFuZ3VhZ2VzW3JdKSkpKTtzZWxmLmNsb3NlKCk7XG4gICAgfSwgITEpO3JldHVybiBzZWxmLlByaXNtO1xuICB9dmFyIHIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtyID0gcltyLmxlbmd0aCAtIDFdO2lmIChyKSB7XG4gICAgdC5maWxlbmFtZSA9IHIuc3JjO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJiYgIXIuaGFzQXR0cmlidXRlKFwiZGF0YS1tYW51YWxcIikgJiYgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdC5oaWdobGlnaHRBbGwpO1xuICB9cmV0dXJuIHNlbGYuUHJpc207XG59KSgpO3R5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cyAmJiAobW9kdWxlLmV4cG9ydHMgPSBQcmlzbSk7O1xuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCA9IHsgY29tbWVudDogLzwhLS1bXFx3XFxXXSo/LS0+L2csIHByb2xvZzogLzxcXD8uKz9cXD8+LywgZG9jdHlwZTogLzwhRE9DVFlQRS4rPz4vLCBjZGF0YTogLzwhXFxbQ0RBVEFcXFtbXFx3XFxXXSo/XV0+L2ksIHRhZzogeyBwYXR0ZXJuOiAvPFxcLz9bXFx3Oi1dK1xccyooPzpcXHMrW1xcdzotXSsoPzo9KD86KFwifCcpKFxcXFw/W1xcd1xcV10pKj9cXDF8W15cXHMnXCI+PV0rKSk/XFxzKikqXFwvPz4vZ2ksIGluc2lkZTogeyB0YWc6IHsgcGF0dGVybjogL148XFwvP1tcXHc6LV0rL2ksIGluc2lkZTogeyBwdW5jdHVhdGlvbjogL148XFwvPy8sIG5hbWVzcGFjZTogL15bXFx3LV0rPzovIH0gfSwgXCJhdHRyLXZhbHVlXCI6IHsgcGF0dGVybjogLz0oPzooJ3xcIilbXFx3XFxXXSo/KFxcMSl8W15cXHM+XSspL2dpLCBpbnNpZGU6IHsgcHVuY3R1YXRpb246IC89fD58XCIvZyB9IH0sIHB1bmN0dWF0aW9uOiAvXFwvPz4vZywgXCJhdHRyLW5hbWVcIjogeyBwYXR0ZXJuOiAvW1xcdzotXSsvZywgaW5zaWRlOiB7IG5hbWVzcGFjZTogL15bXFx3LV0rPzovIH0gfSB9IH0sIGVudGl0eTogL1xcJiM/W1xcZGEtel17MSw4fTsvZ2kgfSwgUHJpc20uaG9va3MuYWRkKFwid3JhcFwiLCBmdW5jdGlvbiAodCkge1xuICBcImVudGl0eVwiID09PSB0LnR5cGUgJiYgKHQuYXR0cmlidXRlcy50aXRsZSA9IHQuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sIFwiJlwiKSk7XG59KTs7XG5QcmlzbS5sYW5ndWFnZXMuY3NzID0geyBjb21tZW50OiAvXFwvXFwqW1xcd1xcV10qP1xcKlxcLy9nLCBhdHJ1bGU6IHsgcGF0dGVybjogL0BbXFx3LV0rPy4qPyg7fCg/PVxccyp7KSkvZ2ksIGluc2lkZTogeyBwdW5jdHVhdGlvbjogL1s7Ol0vZyB9IH0sIHVybDogL3VybFxcKChbXCInXT8pLio/XFwxXFwpL2dpLCBzZWxlY3RvcjogL1teXFx7XFx9XFxzXVteXFx7XFx9O10qKD89XFxzKlxceykvZywgcHJvcGVydHk6IC8oXFxifFxcQilbXFx3LV0rKD89XFxzKjopL2dpLCBzdHJpbmc6IC8oXCJ8JykoXFxcXD8uKSo/XFwxL2csIGltcG9ydGFudDogL1xcQiFpbXBvcnRhbnRcXGIvZ2ksIHB1bmN0dWF0aW9uOiAvW1xce1xcfTs6XS9nLCBcImZ1bmN0aW9uXCI6IC9bLWEtejAtOV0rKD89XFwoKS9naSB9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwICYmIChQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwibWFya3VwXCIsIFwidGFnXCIsIHsgc3R5bGU6IHsgcGF0dGVybjogLzxzdHlsZVtcXHdcXFddKj8+W1xcd1xcV10qPzxcXC9zdHlsZT4vZ2ksIGluc2lkZTogeyB0YWc6IHsgcGF0dGVybjogLzxzdHlsZVtcXHdcXFddKj8+fDxcXC9zdHlsZT4vZ2ksIGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlIH0sIHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5jc3MgfSwgYWxpYXM6IFwibGFuZ3VhZ2UtY3NzXCIgfSB9KSwgUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImluc2lkZVwiLCBcImF0dHItdmFsdWVcIiwgeyBcInN0eWxlLWF0dHJcIjogeyBwYXR0ZXJuOiAvXFxzKnN0eWxlPShcInwnKS4rP1xcMS9naSwgaW5zaWRlOiB7IFwiYXR0ci1uYW1lXCI6IHsgcGF0dGVybjogL15cXHMqc3R5bGUvZ2ksIGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlIH0sIHB1bmN0dWF0aW9uOiAvXlxccyo9XFxzKlsnXCJdfFsnXCJdXFxzKiQvLCBcImF0dHItdmFsdWVcIjogeyBwYXR0ZXJuOiAvLisvZ2ksIGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzcyB9IH0sIGFsaWFzOiBcImxhbmd1YWdlLWNzc1wiIH0gfSwgUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpKTs7XG5QcmlzbS5sYW5ndWFnZXMuY3NzLnNlbGVjdG9yID0geyBwYXR0ZXJuOiAvW15cXHtcXH1cXHNdW15cXHtcXH1dKig/PVxccypcXHspL2csIGluc2lkZTogeyBcInBzZXVkby1lbGVtZW50XCI6IC86KD86YWZ0ZXJ8YmVmb3JlfGZpcnN0LWxldHRlcnxmaXJzdC1saW5lfHNlbGVjdGlvbil8OjpbLVxcd10rL2csIFwicHNldWRvLWNsYXNzXCI6IC86Wy1cXHddKyg/OlxcKC4qXFwpKT8vZywgXCJjbGFzc1wiOiAvXFwuWy06XFwuXFx3XSsvZywgaWQ6IC8jWy06XFwuXFx3XSsvZyB9IH0sIFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJjc3NcIiwgXCJpZ25vcmVcIiwgeyBoZXhjb2RlOiAvI1tcXGRhLWZdezMsNn0vZ2ksIGVudGl0eTogL1xcXFxbXFxkYS1mXXsxLDh9L2dpLCBudW1iZXI6IC9bXFxkJVxcLl0rL2cgfSk7O1xuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0geyBjb21tZW50OiBbeyBwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFx3XFxXXSo/XFwqXFwvL2csIGxvb2tiZWhpbmQ6ICEwIH0sIHsgcGF0dGVybjogLyhefFteXFxcXDpdKVxcL1xcLy4qPyhcXHI/XFxufCQpL2csIGxvb2tiZWhpbmQ6ICEwIH1dLCBzdHJpbmc6IC8oXCJ8JykoXFxcXD8uKSo/XFwxL2csIFwiY2xhc3MtbmFtZVwiOiB7IHBhdHRlcm46IC8oKD86KD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVthLXowLTlfXFwuXFxcXF0rL2dpLCBsb29rYmVoaW5kOiAhMCwgaW5zaWRlOiB7IHB1bmN0dWF0aW9uOiAvKFxcLnxcXFxcKS8gfSB9LCBrZXl3b3JkOiAvXFxiKGlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi9nLCBcImJvb2xlYW5cIjogL1xcYih0cnVlfGZhbHNlKVxcYi9nLCBcImZ1bmN0aW9uXCI6IHsgcGF0dGVybjogL1thLXowLTlfXStcXCgvZ2ksIGluc2lkZTogeyBwdW5jdHVhdGlvbjogL1xcKC8gfSB9LCBudW1iZXI6IC9cXGItPygweFtcXGRBLUZhLWZdK3xcXGQqXFwuP1xcZCsoW0VlXS0/XFxkKyk/KVxcYi9nLCBvcGVyYXRvcjogL1stK117MSwyfXwhfDw9P3w+PT98PXsxLDN9fCZ7MSwyfXxcXHw/XFx8fFxcP3xcXCp8XFwvfFxcfnxcXF58XFwlL2csIGlnbm9yZTogLyYobHR8Z3R8YW1wKTsvZ2ksIHB1bmN0dWF0aW9uOiAvW3t9W1xcXTsoKSwuOl0vZyB9OztcblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZChcImNsaWtlXCIsIHsga2V5d29yZDogL1xcYihicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmYWxzZXxmaW5hbGx5fGZvcnxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRydWV8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi9nLCBudW1iZXI6IC9cXGItPygweFtcXGRBLUZhLWZdK3xcXGQqXFwuP1xcZCsoW0VlXS0/XFxkKyk/fE5hTnwtP0luZmluaXR5KVxcYi9nIH0pLCBQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiamF2YXNjcmlwdFwiLCBcImtleXdvcmRcIiwgeyByZWdleDogeyBwYXR0ZXJuOiAvKF58W14vXSlcXC8oPyFcXC8pKFxcWy4rP118XFxcXC58W14vXFxyXFxuXSkrXFwvW2dpbV17MCwzfSg/PVxccyooJHxbXFxyXFxuLC47fSldKSkvZywgbG9va2JlaGluZDogITAgfSB9KSwgUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCAmJiBQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwibWFya3VwXCIsIFwidGFnXCIsIHsgc2NyaXB0OiB7IHBhdHRlcm46IC88c2NyaXB0W1xcd1xcV10qPz5bXFx3XFxXXSo/PFxcL3NjcmlwdD4vZ2ksIGluc2lkZTogeyB0YWc6IHsgcGF0dGVybjogLzxzY3JpcHRbXFx3XFxXXSo/Pnw8XFwvc2NyaXB0Pi9naSwgaW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGUgfSwgcmVzdDogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQgfSwgYWxpYXM6IFwibGFuZ3VhZ2UtamF2YXNjcmlwdFwiIH0gfSk7O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBSQURJTyAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5yYWRpbycsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHJhZGlvID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kcmFkaW8uZmluZCgnaW5wdXQnKTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdGhpcy4kaW5wdXQuYXR0cignbmFtZScpO1xuXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLiRyYWRpby5wYXJlbnRzKCdmb3JtJykuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGNvbnRhaW5lci5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICRkb2N1bWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kb3RoZXJfcmFkaW9zID0gdGhpcy4kY29udGFpbmVyLmZpbmQoJ2lucHV0W25hbWU9XCInICsgdGhpcy5uYW1lICsgJ1wiXScpLnBhcmVudCgnLnJhZGlvJykubm90KHRoaXMuJHJhZGlvKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAgICAgICAvL0ZJWE1FOiBpcyBpdCBuZWNlc3NhcnkgdG8gaW5jbHVkZSBpdD8gTWF5YmUgd2Ugc2hvdWxkIGZpeCBtaXN0YWtlcyB3aXRoIHRoZSBtYXJrdXAuLi5cblxuICAgICAgICAgICAgdmFyIGhhc0NsYXNzID0gdGhpcy4kcmFkaW8uaGFzQ2xhc3MoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCkpIHtcblxuICAgICAgICAgICAgICAgIGlmICghaGFzQ2xhc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyYWRpby5hZGRDbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHJhZGlvLnJlbW92ZUNsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVjaygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSB0aGlzLmdldCgpO1xuXG4gICAgICAgICAgICBpZiAoaXNDaGVja2VkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRvdGhlcl9yYWRpb3MucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcmFkaW8udG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnLCBpc0NoZWNrZWQpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKGlzQ2hlY2tlZCA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlucHV0LnByb3AoJ2NoZWNrZWQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVjazogZnVuY3Rpb24gY2hlY2soKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5nZXQoKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcsIHRydWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY2hlY2tlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcucmFkaW8nKS5yYWRpbygpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUklQUExFICovXG5cbiAgICB2YXIgUmlwcGxlID0ge1xuXG4gICAgICAgIGRlbGF5OiB7XG4gICAgICAgICAgICBzaG93OiAzNTAsXG4gICAgICAgICAgICBoaWRlOiA0MDBcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KGV2ZW50LCAkZWxlbWVudCkge1xuXG4gICAgICAgICAgICB2YXIgJHJpcHBsZSA9ICQoJzxkaXYgY2xhc3M9XCJyaXBwbGUtY2lyY2xlXCI+PC9kaXY+JykuYXBwZW5kVG8oJGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICRlbGVtZW50Lm9mZnNldCgpLFxuICAgICAgICAgICAgICAgIGV2ZW50WFkgPSAkLmV2ZW50WFkoZXZlbnQpLFxuICAgICAgICAgICAgICAgIG5vdyA9IF8ubm93KCk7XG5cbiAgICAgICAgICAgICRyaXBwbGUuY3NzKHtcbiAgICAgICAgICAgICAgICB0b3A6IGV2ZW50WFkuWSAtIG9mZnNldC50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogZXZlbnRYWS5YIC0gb2Zmc2V0LmxlZnRcbiAgICAgICAgICAgIH0pLmFkZENsYXNzKCdyaXBwbGUtY2lyY2xlLXNob3cnKTtcblxuICAgICAgICAgICAgJGVsZW1lbnQub24oJ21vdXNldXAgbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIFJpcHBsZS5oaWRlKCRyaXBwbGUsIG5vdyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCRyaXBwbGUsIGJlZm9yZSkge1xuXG4gICAgICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1heCgwLCBSaXBwbGUuZGVsYXkuc2hvdyArIGJlZm9yZSAtIF8ubm93KCkpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICRyaXBwbGUuYWRkQ2xhc3MoJ3JpcHBsZS1jaXJjbGUtaGlkZScpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJHJpcHBsZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBSaXBwbGUuZGVsYXkuaGlkZSk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICRib2R5Lm9uKCdtb3VzZWRvd24nLCAnLnJpcHBsZScsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAkLnVpLm1vdXNlQnV0dG9uLlJJR0hUKSByZXR1cm47XG5cbiAgICAgICAgICAgIFJpcHBsZS5zaG93KGV2ZW50LCAkKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIHNlbGVjdGluZyBtdWx0aXBsZSBvcHRpb25zICh3aXRoIGNoZWNrYm94ZXMgbWF5YmUpXG4vL0ZJWE1FOiBEb2Vzbid0IHdvcmsgd2hlbiB0aGUgcGFnZSBpcyBzY3JvbGxlZCAoY2hlY2sgaW4gdGhlIGNvbXBvbmVudHMvZm9ybSlcbi8vVE9ETzogYWRkIHNlbGVjdC1jbG9zZXJcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNFTEVDVCAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5zZWxlY3QnLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICBiYXNlOiAnPGRpdiBpZD1cImRyb3Bkb3duLXslPW8uaWQlfVwiIGNsYXNzPVwiZHJvcGRvd24gc2VsZWN0LWRyb3Bkb3duIGF0dGFjaGVkXCI+JyArICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JyArICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWNvbnRlbnRcIj4nICsgJzxkaXYgY2xhc3M9XCJtdWx0aXBsZS13cnAgdmVydGljYWwgc3RyZXRjaGVkIGpvaW5lZFwiPicgKyAnPGRpdiBjbGFzcz1cIm11bHRpcGxlXCI+JyArICd7JSBmb3IgKCB2YXIgaSA9IDAsIGwgPSBvLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrICkgeyAlfScgKyAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnNlbGVjdC5cIiArICggby5vcHRpb25zW2ldLnZhbHVlID8gXCJvcHRpb25cIiA6IFwib3B0Z3JvdXBcIiApLCBvLm9wdGlvbnNbaV0gKTsgJX0nICsgJ3slIH0gJX0nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIG9wdGdyb3VwOiAnPGRpdiBjbGFzcz1cImRpdmlkZXItd3JwIGJsb2NrXCI+JyArICc8ZGl2IGNsYXNzPVwiZGl2aWRlclwiPicgKyAneyU9by5wcm9wJX0nICsgJzwvZGl2PicgKyAnPC9kaXY+JyxcbiAgICAgICAgICAgIG9wdGlvbjogJzxkaXYgY2xhc3M9XCJsYWJlbC13cnAgYnV0dG9uLXdycFwiIGRhdGEtdmFsdWU9XCJ7JT1vLnByb3AlfVwiPicgKyAnPGRpdiBjbGFzcz1cImxhYmVsIGFjdGlvbmFibGUgc2hhcnBcIj4nICsgJzxkaXYgY2xhc3M9XCJsYWJlbC1jZW50ZXJcIj4nICsgJ3slPW8udmFsdWUlfScgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRzZWxlY3QgPSB0aGlzLiR0cmlnZ2VyLmZpbmQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgdGhpcy4kb3B0aW9ucyA9IHRoaXMuJHNlbGVjdC5maW5kKCdvcHRpb24nKTtcbiAgICAgICAgICAgIHRoaXMuJHNlbGVjdF9sYWJlbCA9IHRoaXMuJHRyaWdnZXIuZmluZCgnLnNlbGVjdC1sYWJlbCcpO1xuICAgICAgICAgICAgdGhpcy4kdmFsdWVob2xkZXIgPSB0aGlzLiR0cmlnZ2VyLmZpbmQoJy52YWx1ZWhvbGRlcicpO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kdHJpZ2dlci5kYXRhKCdzZWxlY3QnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHZhbHVlaG9sZGVyLmxlbmd0aCA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdmFsdWVob2xkZXIgPSB0aGlzLiRzZWxlY3RfbGFiZWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucyA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhbHVlaG9sZGVyKCk7XG5cbiAgICAgICAgICAgIGlmICghJC5icm93c2VyLmlzTW9iaWxlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzZWxlY3QuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF9zZWxlY3Rfb3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfZHJvcGRvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRzZWxlY3QsICdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoISQuYnJvd3Nlci5pc01vYmlsZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kYnV0dG9ucywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9idXR0b25fY2xpY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEJVVFRPTiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2J1dHRvbl9jbGljazogZnVuY3Rpb24gX2hhbmRsZXJfYnV0dG9uX2NsaWNrKGV2ZW50LCBidXR0b24pIHtcblxuICAgICAgICAgICAgdGhpcy4kc2VsZWN0LnZhbCgkKGJ1dHRvbikuZGF0YSgndmFsdWUnKSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9pbml0X3NlbGVjdF9vcHRpb25zOiBmdW5jdGlvbiBfaW5pdF9zZWxlY3Rfb3B0aW9ucygpIHtcbiAgICAgICAgICAgIC8vRklYTUU6IEFkZCBzdXBwb3J0IGZvciBhcmJpdHJhcnkgbnVtYmVyIG9mIG9wdGdyb3VwcyBsZXZlbHNcblxuICAgICAgICAgICAgdmFyIHByZXZpb3VzX29wdGdyb3VwLCBjdXJyZW50X29wdGdyb3VwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuJG9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJG9wdGlvbiA9IHRoaXMuJG9wdGlvbnMuZXEoaSksXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQgPSAkb3B0aW9uLnBhcmVudCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRwYXJlbnQuaXMoJ29wdGdyb3VwJykpIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X29wdGdyb3VwID0gJHBhcmVudC5hdHRyKCdsYWJlbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50X29wdGdyb3VwICE9PSBwcmV2aW91c19vcHRncm91cCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c19vcHRncm91cCA9IGN1cnJlbnRfb3B0Z3JvdXA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0X29wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcDogY3VycmVudF9vcHRncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdF9vcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJG9wdGlvbi5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3A6ICRvcHRpb24uYXR0cigndmFsdWUnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X2Ryb3Bkb3duOiBmdW5jdGlvbiBfaW5pdF9kcm9wZG93bigpIHtcblxuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl90bXBsKCdiYXNlJywgeyBpZDogdGhpcy5pZCwgb3B0aW9uczogdGhpcy5zZWxlY3Rfb3B0aW9ucyB9KTtcblxuICAgICAgICAgICAgJGJvZHkuYXBwZW5kKGh0bWwpO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93biA9ICQoJyNkcm9wZG93bi0nICsgdGhpcy5pZCk7XG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bl9jb250YWluZXIgPSB0aGlzLiRkcm9wZG93bi5maW5kKCcuY29udGFpbmVyJyk7XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zID0gdGhpcy4kZHJvcGRvd24uZmluZCgnLmJ1dHRvbi13cnAnKTtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlci5hZGRDbGFzcygnZHJvcGRvd24tdHJpZ2dlcicpLmF0dHIoJ2RhdGEtZHJvcGRvd24nLCAnZHJvcGRvd24tJyArIHRoaXMuaWQpO1xuXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5kcm9wZG93bih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fc2V0X2Ryb3Bkb3duX3dpZHRoLmJpbmQoaW5zdGFuY2UpKCk7IC8vRklYTUU6IGlzIHRoZSBiaW5kIG5lY2Vzc2FyeT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl90cmlnZ2VyKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlOiBpbnN0YW5jZS5vcHRpb25zLmNhbGxiYWNrcy5jbG9zZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfZHJvcGRvd24oKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3ZhbHVlaG9sZGVyOiBmdW5jdGlvbiBfdXBkYXRlX3ZhbHVlaG9sZGVyKCkge1xuXG4gICAgICAgICAgICB2YXIgJHNlbGVjdGVkX29wdGlvbiA9IHRoaXMuJG9wdGlvbnMuZmlsdGVyKCdbdmFsdWU9XCInICsgdGhpcy4kc2VsZWN0LnZhbCgpICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlci5odG1sKCRzZWxlY3RlZF9vcHRpb24uaHRtbCgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2Ryb3Bkb3duOiBmdW5jdGlvbiBfdXBkYXRlX2Ryb3Bkb3duKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5maWx0ZXIoJ1tkYXRhLXZhbHVlPVwiJyArIHRoaXMuJHNlbGVjdC52YWwoKSArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldF9kcm9wZG93bl93aWR0aDogZnVuY3Rpb24gX3NldF9kcm9wZG93bl93aWR0aCgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd25fY29udGFpbmVyLmNzcygnbWluLXdpZHRoJywgdGhpcy4kdHJpZ2dlci53aWR0aCgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCh2YWx1ZSkge1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLmZpbHRlcignW2RhdGEtdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJykuY2xpY2soKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgICAgICAgaWYgKCEkLmJyb3dzZXIuaXNNb2JpbGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9kcm9wZG93bigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFsdWVob2xkZXIoKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnNlbGVjdC10cmlnZ2VyJykuc2VsZWN0KCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIGRyb3Bkb3duIGZvciBhY3Rpb25zIEFORC9PUiByaWdodCBjbGljayBmb3IgYWN0aW9uXG4vL0ZJWE1FOiBtYWtlIGl0IHdvcmthYmxlIHdpdGggc29ydGluZyAodXBkYXRlIGFmdGVyIHNvcnRpbmcgc2luY2Ugd2UgbWF5KVxuLy9UT0RPOiBtYWtlIGl0IHdvcmsgd2l0aCBjaGVja2JveGVzXG4vL0ZJWE1FOiBzZWxlY3QgbXVsdGlwbGUgd2l0aCBzaGlmdCwgdGhlbiBqdXN0IGNsaWNrIGluc2lkZSB0aGUgc2VsZWN0aW9uLCB0aGUgY2xpY2tlZCBlbGVtZW50IGRvZXNuJ3QgZ2V0IHNlbGVjdGVkXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBQUklWQVRFICovXG5cbiAgICB2YXIgY2xlYXJfc2VsZWN0aW9uID0gZnVuY3Rpb24gY2xlYXJfc2VsZWN0aW9uKCkge1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcblxuICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuXG4gICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogU0VMRUNUQUJMRSAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5zZWxlY3RhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ3Rib2R5IHRyOm5vdCguZW1wdHkpJyxcbiAgICAgICAgICAgIHNlbGVjdGVkX2NsYXNzOiAnc2VsZWN0ZWQnLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kcm93cyA9IHRoaXMuX2dldF9yb3dzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3JvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZW5kX3JvdyA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBLRVlTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9rZXlzX2luKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2tleXNfb3V0KTtcblxuICAgICAgICAgICAgLyogTU9VU0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlZG93bicsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgdGhpcy5faGFuZGxlcl9tb3VzZWRvd24pO1xuXG4gICAgICAgICAgICAvKiBPVEhFUlMgKi9cblxuICAgICAgICAgICAgLy9GSVhNRTogYWRkIHN1cHBvcnQgdGFibGVIZWxwZXIgYW5kIHNvcnRhYmxlXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdjaGFuZ2Ugc29ydCcsIHRoaXMuX2hhbmRsZXJfY2hhbmdlKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlZG93biBtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9jbGVhcl9zZWxlY3Rpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENUUkwgKyBBIC8gQ1RSTCArIFNISUZUICsgQSAvIENUUkwgKyBJICovXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfa2V5c19pbigpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9rZXlzX291dDogZnVuY3Rpb24gX2hhbmRsZXJfa2V5c19vdXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfa2V5ZG93bjogZnVuY3Rpb24gX2hhbmRsZXJfa2V5c19rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmICgkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQubWV0YUtleSB8fCAhJC5icm93c2VyLmlzTWFjICYmIGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAvL0lORk86IENPTU1BTkQgb3IgQ1RSTCwgaXMgd2UgYXJlIG9uIE1hYyBvciBub3RcblxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSA2NSkge1xuICAgICAgICAgICAgICAgICAgICAvL0lORk86IEFcblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm93cy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MsICFldmVudC5zaGlmdEtleSk7IC8vSU5GTzogU0hJRlQgb3Igbm90IC8vRklYTUU6IG9ubHkgd29ya3MgaWYgdGhlIGxhc3QgY2hhcmFjdGVyIHB1c2hlZCBpcyB0aGUgYEFgLCBidXQgaXMgaXQgYW4gdW53YW50ZWQgYmVoYXZpb3VyP1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNzMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JTkZPOiBJXG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvd3MudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdzZWxlY3QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0xJQ0sgLyBDVFJMICsgQ0xJQ0sgLyBTSElGVCArIENMSUNLIC8gQ1RSTCArIENMSUNLIC0+IERSQUcgKi9cblxuICAgICAgICBfaGFuZGxlcl9tb3VzZWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX21vdXNlZG93bihldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSByZXR1cm47IC8vSU5GTzogT25seSB0aGUgbGVmdCBjbGljayBpcyBlbmFibGVkXG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3JvdyA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZXJfbW91c2Vtb3ZlKTtcblxuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNldXAnLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsIHRoaXMuX2hhbmRsZXJfbW91c2V1cCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfbW91c2Vtb3ZlOiBmdW5jdGlvbiBfaGFuZGxlcl9tb3VzZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIERSQUdcblxuICAgICAgICAgICAgaWYgKCQuYnJvd3Nlci5pc01hYyAmJiAhZXZlbnQubWV0YUtleSB8fCAhJC5icm93c2VyLmlzTWFjICYmICFldmVudC5jdHJsS2V5KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVyX21vdXNlbW92ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZignbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfbW91c2V1cCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gdGhpcy4kc3RhcnRfcm93O1xuXG4gICAgICAgICAgICB0aGlzLiRzdGFydF9yb3cudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgJGh0bWwuYWRkQ2xhc3MoJ2RyYWdnaW5nJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWVudGVyJywgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2VlbnRlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2V1cCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW91c2VlbnRlcjogZnVuY3Rpb24gX2hhbmRsZXJfZHJhZ19tb3VzZWVudGVyKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBEUkFHIEhPVkVSXG5cbiAgICAgICAgICAgIHRoaXMuJGVuZF9yb3cgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnRfaW5kZXggPSB0aGlzLiRyb3dzLmluZGV4KHRoaXMuJHN0YXJ0X3JvdyksXG4gICAgICAgICAgICAgICAgZW5kX2luZGV4ID0gdGhpcy4kcm93cy5pbmRleCh0aGlzLiRlbmRfcm93KSxcbiAgICAgICAgICAgICAgICBtaW5faW5kZXggPSBNYXRoLm1pbihzdGFydF9pbmRleCwgZW5kX2luZGV4KSxcbiAgICAgICAgICAgICAgICBtYXhfaW5kZXggPSBNYXRoLm1heChzdGFydF9pbmRleCwgZW5kX2luZGV4KTtcblxuICAgICAgICAgICAgaWYgKG1pbl9pbmRleCA9PT0gc3RhcnRfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBkb3duXG5cbiAgICAgICAgICAgICAgICBtaW5faW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICBtYXhfaW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRuZXdfZHJhZ2dlZCA9IHRoaXMuJHJvd3Muc2xpY2UobWluX2luZGV4LCBtYXhfaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kcHJldl9kcmFnZ2VkKSB7XG5cbiAgICAgICAgICAgICAgICAkbmV3X2RyYWdnZWQubm90KHRoaXMuJHByZXZfZHJhZ2dlZCkudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfZHJhZ2dlZC5ub3QoJG5ld19kcmFnZ2VkKS50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICRuZXdfZHJhZ2dlZC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X2RyYWdnZWQgPSAkbmV3X2RyYWdnZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ3NlbGVjdCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW91c2V1cDogZnVuY3Rpb24gX2hhbmRsZXJfZHJhZ19tb3VzZXVwKCkge1xuICAgICAgICAgICAgLy8gRFJBRyBFTkRcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9kcmFnX21vdXNlZW50ZXIpO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYoJGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfZHJhZ19tb3VzZXVwKTtcblxuICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICRodG1sLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX21vdXNldXA6IGZ1bmN0aW9uIF9oYW5kbGVyX21vdXNldXAoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIENMSUNLXG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVyX21vdXNlbW92ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZignbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfbW91c2V1cCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0X2luZGV4ID0gdGhpcy4kcm93cy5pbmRleCh0aGlzLiRwcmV2X3JvdyksXG4gICAgICAgICAgICAgICAgICAgIGVuZF9pbmRleCA9IHRoaXMuJHByZXZfcm93ID8gdGhpcy4kcm93cy5pbmRleCh0aGlzLiRzdGFydF9yb3cpIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbWluX2luZGV4ID0gTWF0aC5taW4oc3RhcnRfaW5kZXgsIGVuZF9pbmRleCksXG4gICAgICAgICAgICAgICAgICAgIG1heF9pbmRleCA9IE1hdGgubWF4KHN0YXJ0X2luZGV4LCBlbmRfaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbl9pbmRleCA9PT0gc3RhcnRfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG93blxuXG4gICAgICAgICAgICAgICAgICAgIG1pbl9pbmRleCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBtYXhfaW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgJG5ld19zaGlmdGVkID0gdGhpcy4kcm93cy5zbGljZShtaW5faW5kZXgsIG1heF9pbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcHJldl9zaGlmdGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJG5ld19zaGlmdGVkLm5vdCh0aGlzLiRwcmV2X3NoaWZ0ZWQpLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcHJldl9zaGlmdGVkLm5vdCgkbmV3X3NoaWZ0ZWQpLnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAkbmV3X3NoaWZ0ZWQudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3NoaWZ0ZWQgPSAkbmV3X3NoaWZ0ZWQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5tZXRhS2V5IHx8ICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSB8fCAkLmJyb3dzZXIuaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IE9uIG1vYmlsZSB3ZSBiZWhhdmUgbGlrZSBpZiB0aGUgYGN0cmxgIGtleSBpcyBhbHdheXMgcHJlc3NlZCwgc28gdGhhdCB3ZSBjYW4gc3VwcG9ydCBzZWxlY3RpbmcgbXVsdGlwbGUgcm93cyBldmVuIHRoZXJlIC8vRklYTUU6IElzIHRoaXMgdGhlIHdhbnRlZCBiZWhhdmlvdXM/XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzdGFydF9yb3cudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IHRoaXMuJHN0YXJ0X3JvdztcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRyb3dzLm5vdCh0aGlzLiRzdGFydF9yb3cpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzdGFydF9yb3cudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IHRoaXMuJHN0YXJ0X3JvdztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignc2VsZWN0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1RIRVIgRVZFTlRTICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHJvd3MgPSB0aGlzLl9nZXRfcm93cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbjogZnVuY3Rpb24gX2hhbmRsZXJfY2xlYXJfc2VsZWN0aW9uKCkge1xuXG4gICAgICAgICAgICAkLnJlZmxvdygpO1xuXG4gICAgICAgICAgICBjbGVhcl9zZWxlY3Rpb24oKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX3Jlc2V0X3ByZXZzOiBmdW5jdGlvbiBfcmVzZXRfcHJldnMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHByZXZfcm93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRwcmV2X3NoaWZ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJHByZXZfZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRfcm93czogZnVuY3Rpb24gX2dldF9yb3dzKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ3RhYmxlLnNlbGVjdGFibGUnKS5zZWxlY3RhYmxlKCk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqIEByZXF1aXJlcyAuLi9kcmFnZ2FibGUvZHJhZ2dhYmxlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU0xJREVSICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnNsaWRlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICBkZWNpbWFsczogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGluY3JlYXNlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIGRlY3JlYXNlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHNsaWRlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRtaW4gPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNsaWRlci1taW4nKTtcbiAgICAgICAgICAgIHRoaXMuJG1heCA9IHRoaXMuJHNsaWRlci5maW5kKCcuc2xpZGVyLW1heCcpO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRzbGlkZXIuZmluZCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHRoaXMuJGJhcl93cnAgPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNsaWRlci1iYXItd3JwJyk7XG4gICAgICAgICAgICB0aGlzLiR1bmhpZ2hsaWdodGVkID0gdGhpcy4kc2xpZGVyLmZpbmQoJy5zbGlkZXItdW5oaWdobGlnaHRlZCcpO1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQgPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNsaWRlci1oaWdobGlnaHRlZCcpO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl93cnAgPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNsaWRlci1oYW5kbGVyLXdycCcpO1xuICAgICAgICAgICAgdGhpcy4kbGFiZWwgPSB0aGlzLiRoYW5kbGVyX3dycC5maW5kKCcuc2xpZGVyLWxhYmVsJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RlcHNfbnIgPSAodGhpcy5vcHRpb25zLm1heCAtIHRoaXMub3B0aW9ucy5taW4pIC8gdGhpcy5vcHRpb25zLnN0ZXA7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YXJpYWJsZXMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBJTlBVVCBDSEFOR0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odHJ1ZSwgdGhpcy4kaW5wdXQsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSk7XG5cbiAgICAgICAgICAgIC8qIFdJTkRPVyBSRVNJWkUgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJfcmVzaXplKTtcblxuICAgICAgICAgICAgLyogQVJST1dTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNsaWRlciwgJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2Fycm93c19pbik7XG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRzbGlkZXIsICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfb3V0KTtcblxuICAgICAgICAgICAgLyogTUlOIC8gTUFYIEJVVFRPTlMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kbWluLCAnY2xpY2snLCB0aGlzLmRlY3JlYXNlKTtcbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJG1heCwgJ2NsaWNrJywgdGhpcy5pbmNyZWFzZSk7XG5cbiAgICAgICAgICAgIC8qIERSQUcgKi9cblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl93cnAuZHJhZ2dhYmxlKHtcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRoaXMuX2RyYWdnYWJsZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGF4aXM6ICd4JyxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudDogdGhpcy4kYmFyX3dycCxcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWluX2NlbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXhpczogJ3gnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5tb2RpZmllcl94LmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVzdGFydDogdGhpcy5faGFuZGxlcl9kcmFnX2JlZm9yZXN0YXJ0LmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIG1vdmU6IHRoaXMuX2hhbmRsZXJfZHJhZ19tb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGVuZDogdGhpcy5faGFuZGxlcl9kcmFnX2VuZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIENMSUNLICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHVuaGlnaGxpZ2h0ZWQsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2spO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfcm91bmRfdmFsdWU6IGZ1bmN0aW9uIF9yb3VuZF92YWx1ZSh2YWx1ZSkge1xuXG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKE51bWJlcih2YWx1ZSkudG9GaXhlZCh0aGlzLm9wdGlvbnMuZGVjaW1hbHMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX3Bvc2l0aW9uczogZnVuY3Rpb24gX3VwZGF0ZV9wb3NpdGlvbnMoKSB7XG5cbiAgICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gKHRoaXMub3B0aW9ucy52YWx1ZSAtIHRoaXMub3B0aW9ucy5taW4pIC8gdGhpcy5vcHRpb25zLnN0ZXAgKiAxMDAgLyB0aGlzLnN0ZXBzX25yO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycC5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHBlcmNlbnRhZ2UgKyAnJScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZC5jc3Moe1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxMDAgLSBwZXJjZW50YWdlICsgJyUnLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ25vbmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2xhYmVsOiBmdW5jdGlvbiBfdXBkYXRlX2xhYmVsKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGxhYmVsLmh0bWwoXy5pc1VuZGVmaW5lZCh2YWx1ZSkgPyB0aGlzLm9wdGlvbnMudmFsdWUgOiB2YWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV92YXJpYWJsZXM6IGZ1bmN0aW9uIF91cGRhdGVfdmFyaWFibGVzKCkge1xuXG4gICAgICAgICAgICB0aGlzLnVuaGlnaGxpZ2h0ZWRfd2lkdGggPSB0aGlzLiR1bmhpZ2hsaWdodGVkLndpZHRoKCk7XG4gICAgICAgICAgICB0aGlzLnVuaGlnaGxpZ2h0ZWRfb2Zmc2V0ID0gdGhpcy4kdW5oaWdobGlnaHRlZC5vZmZzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RlcF93aWR0aCA9IHRoaXMudW5oaWdobGlnaHRlZF93aWR0aCAvIHRoaXMuc3RlcHNfbnI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0KHRoaXMuJGlucHV0LnZhbCgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBSRVNJWkUgKi9cblxuICAgICAgICBfaGFuZGxlcl9yZXNpemU6IGZ1bmN0aW9uIF9oYW5kbGVyX3Jlc2l6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIExFRlQgLyBSSUdIVCBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3NfaW46IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19pbigpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24oJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19vdXQ6IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19vdXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuTEVGVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRE9XTikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZWFzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUklHSFQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgIF9kcmFnZ2FibGU6IGZ1bmN0aW9uIF9kcmFnZ2FibGUoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vZGlmaWVyX3g6IGZ1bmN0aW9uIG1vZGlmaWVyX3goZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIC8vVE9ETzogbWF5YmUgd2Ugc2hvdWxkIGV4cG9ydCB0aGlzIGZ1bmN0aW9uIGFzIGEgbG9kYXNoIG1peGluXG5cbiAgICAgICAgICAgIHZhciBsZWZ0ID0gZGlzdGFuY2UgJSB0aGlzLnN0ZXBfd2lkdGg7XG5cbiAgICAgICAgICAgIGlmIChsZWZ0ID49IHRoaXMuc3RlcF93aWR0aCAvIDIpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZSAtIGxlZnQgKyB0aGlzLnN0ZXBfd2lkdGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlIC0gbGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX2JlZm9yZXN0YXJ0OiBmdW5jdGlvbiBfaGFuZGxlcl9kcmFnX2JlZm9yZXN0YXJ0KCkge1xuXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlWCA9IHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlcl93cnAuY3NzKCdsZWZ0JyksIDEwKTtcblxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl93cnAuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LDAsMCknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQuY3NzKHtcbiAgICAgICAgICAgICAgICByaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LDAsMCknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX21vdmU6IGZ1bmN0aW9uIF9oYW5kbGVyX2RyYWdfbW92ZShkYXRhKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodGVkLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBkYXRhLm1vZGlmaWVkWFkuWCArICdweCwwLDApJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9sYWJlbCh0aGlzLl9yb3VuZF92YWx1ZSh0aGlzLm9wdGlvbnMubWluICsgZGF0YS5tb2RpZmllZFhZLlggLyB0aGlzLnN0ZXBfd2lkdGggKiB0aGlzLm9wdGlvbnMuc3RlcCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfZW5kOiBmdW5jdGlvbiBfaGFuZGxlcl9kcmFnX2VuZChkYXRhKSB7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1fc3RyID0gdGhpcy4kaGFuZGxlcl93cnAuY3NzKCd0cmFuc2Zvcm0nKSxcbiAgICAgICAgICAgICAgICBtYXRyaXggPSB0cmFuc2Zvcm1fc3RyICE9PSAnbm9uZScgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoKC9bMC05LiwgLV0rLylbMF0uc3BsaXQoJywgJykgOiBbMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgICAgICAgICAgIHZhciBzZXR0ZWQgPSB0aGlzLnNldCh0aGlzLm9wdGlvbnMubWluICsgcGFyc2VGbG9hdChtYXRyaXhbNF0sIDEwKSAvIHRoaXMuc3RlcF93aWR0aCAqIHRoaXMub3B0aW9ucy5zdGVwKTtcblxuICAgICAgICAgICAgaWYgKCFzZXR0ZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9wb3NpdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9jbGljayhldmVudCkge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLiRoYW5kbGVyX3dycC5nZXQoMCkpIHJldHVybjsgLy9JTkZPOiBzaG91bGRuJ3Qgd29yayBpZiB3ZSBjbGljayBvbiB0aGUgaGFuZGxlciAvL0lORk86IE1heWJlIHdlIGFyZSBkcmFnZ2luZywgc2hvdWxkbid0IGJlIGhhbmRsZWQgYXMgYSBjbGljayBvbiB0aGUgdW5oaWdobGl0ZWQgYmFyXG5cbiAgICAgICAgICAgIHZhciBjbGlja19wb3MgPSAkLmV2ZW50WFkoZXZlbnQpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gdGhpcy5tb2RpZmllcl94KGNsaWNrX3Bvcy5YIC0gdGhpcy51bmhpZ2hsaWdodGVkX29mZnNldC5sZWZ0KTtcblxuICAgICAgICAgICAgdGhpcy5zZXQodGhpcy5vcHRpb25zLm1pbiArIGRpc3RhbmNlIC8gdGhpcy5zdGVwX3dpZHRoICogdGhpcy5vcHRpb25zLnN0ZXApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHZhbHVlID0gXy5jbGFtcCh0aGlzLm9wdGlvbnMubWluLCB0aGlzLl9yb3VuZF92YWx1ZSh2YWx1ZSksIHRoaXMub3B0aW9ucy5tYXgpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMub3B0aW9ucy52YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdmFsdWUgPiB0aGlzLm9wdGlvbnMudmFsdWUgPyAnaW5jcmVhc2VkJyA6ICdkZWNyZWFzZWQnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfcG9zaXRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xhYmVsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC52YWwodmFsdWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihjYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5jcmVhc2U6IGZ1bmN0aW9uIGluY3JlYXNlKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQodGhpcy5vcHRpb25zLnZhbHVlICsgdGhpcy5vcHRpb25zLnN0ZXApO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlY3JlYXNlOiBmdW5jdGlvbiBkZWNyZWFzZSgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHRoaXMub3B0aW9ucy52YWx1ZSAtIHRoaXMub3B0aW9ucy5zdGVwKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnNsaWRlcicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHNsaWRlciA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBtaW46IE51bWJlcigkc2xpZGVyLmZpbmQoJy5zbGlkZXItbWluJykuZGF0YSgnbWluJykgfHwgMCksXG4gICAgICAgICAgICAgICAgbWF4OiBOdW1iZXIoJHNsaWRlci5maW5kKCcuc2xpZGVyLW1heCcpLmRhdGEoJ21heCcpIHx8IDEwMCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IE51bWJlcigkc2xpZGVyLmZpbmQoJ2lucHV0JykudmFsKCkgfHwgMCksXG4gICAgICAgICAgICAgICAgc3RlcDogTnVtYmVyKCRzbGlkZXIuZGF0YSgnc3RlcCcpIHx8IDEpLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBOdW1iZXIoJHNsaWRlci5kYXRhKCdkZWNpbWFscycpIHx8IDApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2xpZGVyLnNsaWRlcihvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIHRhYmxlSGVscGVyLCBqdXN0IHB1dCB0aGUgbmV3IGFkZGRlZCByb3cgaW4gdGhlIHJpZ2h0IHBvc2l0aW9uLCBnb29kIHBlcmZvcm1hbmNlIGdhaW4gaGVyZSFcbi8vVE9ETzogY2FjaGUgdGhlIGNvbHVtbiBkYXRhcywgaWYgcG9zc2libGVcbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIHNvcnRpbmcgb3RoZXIgdGhpbmdzIG90aGVyIHRoYW4gdGFibGVzXG4vL1RPRE86IGlmIHBvc3NpYmxlIHNvcnQgdXNpbmcgZmxleGJveCdzIGBvcmRlcmAgcHJvcGVydHlcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNPUlRBQkxFICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnNvcnRhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzb3J0ZXJzOiB7XG4gICAgICAgICAgICAgICAgaW50OiBmdW5jdGlvbiBpbnQoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoYSwgMTApIC0gcGFyc2VJbnQoYiwgMTApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmxvYXQ6IGZ1bmN0aW9uIGZsb2F0KGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYSkgLSBwYXJzZUZsb2F0KGIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBhID0gYS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBiID0gYi50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBzb3J0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdGFibGUgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaGVhZGVycyA9IHRoaXMuJHRhYmxlLmZpbmQoJ3RoZWFkIHRoJyk7XG4gICAgICAgICAgICB0aGlzLiRzb3J0YWJsZXMgPSB0aGlzLiRoZWFkZXJzLmZpbHRlcignW2RhdGEtc29ydF0nKTtcbiAgICAgICAgICAgIHRoaXMuJHRib2R5ID0gdGhpcy4kdGFibGUuZmluZCgndGJvZHknKTtcblxuICAgICAgICAgICAgdGhpcy50YWJsZSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMudGJvZHkgPSB0aGlzLiR0Ym9keS5nZXQoMCk7XG5cbiAgICAgICAgICAgIHRoaXMuc29ydF9kYXRhcyA9IHt9OyAvL0lORk86IENhY2hpbmcgb2JqZWN0IGZvciBkYXRhcyBhbmQgcmVmZXJlbmNlcyB0byByb3dzXG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IGZhbHNlOyAvL0lORk86IGAkaGVhZGVyc2AgaW5kZXgsIG5vdCBgJHNvcnRhYmxlc2AgaW5kZXhcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9kaXJlY3Rpb24gPSBmYWxzZTs7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXG4gICAgICAgICAgICB2YXIgJGluaXRpYWwgPSB0aGlzLiRoZWFkZXJzLmZpbHRlcignLmFzYywgLmRlc2MnKS5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoJGluaXRpYWwubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNvcnQodGhpcy4kaGVhZGVycy5pbmRleCgkaW5pdGlhbCksICRpbml0aWFsLmhhc0NsYXNzKCdhc2MnKSA/ICdhc2MnIDogJ2Rlc2MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0cnVlLCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UpOyAvL1RPRE86IHVwZGF0ZSB0byBzdXBwb3J0IHRhYmxlSGVscGVyXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJHNvcnRhYmxlcywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGljayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiBfaGFuZGxlcl9jaGFuZ2UoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRfaW5kZXgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydF9kYXRhcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0KHRoaXMuY3VycmVudF9pbmRleCwgdGhpcy5jdXJyZW50X2RpcmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0xJQ0sgKi9cblxuICAgICAgICBfaGFuZGxlcl9jbGljazogZnVuY3Rpb24gX2hhbmRsZXJfY2xpY2soZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIG5ld19pbmRleCA9IHRoaXMuJGhlYWRlcnMuaW5kZXgoZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICBuZXdfZGlyZWN0aW9uID0gdGhpcy5jdXJyZW50X2luZGV4ID09PSBuZXdfaW5kZXggPyB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIHRoaXMuc29ydChuZXdfaW5kZXgsIG5ld19kaXJlY3Rpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNPUlQgKi9cblxuICAgICAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGluZGV4LCBkaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgLy8gVkFMSURBVEVcblxuICAgICAgICAgICAgdmFyICRzb3J0YWJsZSA9IHRoaXMuJGhlYWRlcnMuZXEoaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAoISRzb3J0YWJsZS5sZW5ndGgpIHJldHVybjsgLy8gYmFkIGluZGV4XG5cbiAgICAgICAgICAgIHZhciBzb3J0ZXJfbmFtZSA9ICRzb3J0YWJsZS5kYXRhKCdzb3J0Jyk7XG5cbiAgICAgICAgICAgIGlmICghc29ydGVyX25hbWUpIHJldHVybjsgLy8gdW5zb3J0YWJsZSBjb2x1bW5cblxuICAgICAgICAgICAgdmFyIHNvcnRlciA9IHRoaXMub3B0aW9ucy5zb3J0ZXJzW3NvcnRlcl9uYW1lXTtcblxuICAgICAgICAgICAgaWYgKCFzb3J0ZXIpIHJldHVybjsgLy8gdW5zdXBwb3J0ZWQgc29ydGVyXG5cbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24udG9Mb3dlckNhc2UoKSA9PT0gJ2Rlc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIC8vIFNUWUxFXG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRfaW5kZXggIT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzb3J0YWJsZXMuZXEodGhpcy5jdXJyZW50X2luZGV4KS5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRfZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNvcnRhYmxlLmFkZENsYXNzKGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIENIRUNLSU5HIENBQ0hFRCBEQVRBU1xuXG4gICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZCh0aGlzLnNvcnRfZGF0YXNbaW5kZXhdKSkge1xuXG4gICAgICAgICAgICAgICAgLy8gVkFSSUFCTEVTXG5cbiAgICAgICAgICAgICAgICB2YXIgJHRycyA9IHRoaXMuJHRib2R5LmZpbmQoJ3RyOm5vdCguZW1wdHkpJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdID0gQXJyYXkoJHRycy5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUE9QVUxBVEVcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gJHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRkID0gJHRycy5lcShpKS5maW5kKCd0ZCcpLmVxKGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHRkLmRhdGEoJ3NvcnQtdmFsdWUnKSB8fCAkdGQudGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydF9kYXRhc1tpbmRleF1baV0gPSBbJHRycy5nZXQoaSksIHZhbHVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNPUlRcblxuICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzW2luZGV4XS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc29ydGVyKGFbMV0sIGJbMV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkZXNjJykgdGhpcy5zb3J0X2RhdGFzW2luZGV4XS5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgIC8vIEFQUEVORFxuXG4gICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKHRoaXMudGJvZHkpOyAvLyBkZXRhY2hcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50Ym9keS5hcHBlbmRDaGlsZCh0aGlzLnNvcnRfZGF0YXNbaW5kZXhdW2ldWzBdKTsgLy8gcmVvcmRlclxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMudGJvZHkpOyAvLyBhdHRhY2hcblxuICAgICAgICAgICAgLy8gVVBEQVRFXG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2RpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuICAgICAgICAgICAgLy8gVFJJR0dFUlxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdzb3J0Jywge1xuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRfaW5kZXgsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgndGFibGUuc29ydGFibGUnKS5zb3J0YWJsZSgpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU1RFUFBFUiAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by5zdGVwcGVyJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgc3RlcDogMSxcbiAgICAgICAgICAgIGRlY2ltYWxzOiAwLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgaW5jcmVhc2U6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBkZWNyZWFzZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0ZXBwZXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRzdGVwcGVyLmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICB0aGlzLiRkZWNyZWFzZXIgPSB0aGlzLiRzdGVwcGVyLmZpbmQoJy5zdGVwcGVyLWRlY3JlYXNlcicpO1xuICAgICAgICAgICAgdGhpcy4kaW5jcmVhc2VyID0gdGhpcy4kc3RlcHBlci5maW5kKCcuc3RlcHBlci1pbmNyZWFzZXInKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuXG4gICAgICAgICAgICAvKiBJTlBVVCAvIENIQU5HRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0cnVlLCB0aGlzLiRpbnB1dCwgJ2lucHV0IGNoYW5nZScsIHRoaXMuX2hhbmRsZXJfaW5wdXRfY2hhbmdlKTtcblxuICAgICAgICAgICAgLyogQVJST1dTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9hcnJvd3NfaW4pO1xuICAgICAgICAgICAgdGhpcy5fb24oJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2Fycm93c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBJTkNSRUFTRSAvIERFQ1JFQVNFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGRlY3JlYXNlciwgJ2NsaWNrJywgdGhpcy5kZWNyZWFzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKHRoaXMuJGluY3JlYXNlciwgJ2NsaWNrJywgdGhpcy5pbmNyZWFzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9yb3VuZF92YWx1ZTogZnVuY3Rpb24gX3JvdW5kX3ZhbHVlKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKHZhbHVlKS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFscykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2lucHV0X2NoYW5nZTogZnVuY3Rpb24gX2hhbmRsZXJfaW5wdXRfY2hhbmdlKCkge1xuXG4gICAgICAgICAgICB0aGlzLnNldF92YWx1ZSh0aGlzLiRpbnB1dC52YWwoKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogTEVGVCAvIFJJR0hUIEFSUk9XUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19pbjogZnVuY3Rpb24gX2hhbmRsZXJfYXJyb3dzX2luKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfb3V0OiBmdW5jdGlvbiBfaGFuZGxlcl9hcnJvd3Nfb3V0KGV2ZW50KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uIF9oYW5kbGVyX2Fycm93c19rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuTEVGVCB8fCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRE9XTikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZWFzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUklHSFQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgc2V0X3ZhbHVlOiBmdW5jdGlvbiBzZXRfdmFsdWUodmFsdWUpIHtcblxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9yb3VuZF92YWx1ZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5vcHRpb25zLnZhbHVlIHx8IHRoaXMuJGlucHV0LnZhbCgpLmxlbmd0aCA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsYW1wZWQgPSBfLmNsYW1wKHRoaXMub3B0aW9ucy5taW4sIHZhbHVlLCB0aGlzLm9wdGlvbnMubWF4KTtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy52YWx1ZSA9IGNsYW1wZWQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC52YWwoY2xhbXBlZCkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRkZWNyZWFzZXIudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgY2xhbXBlZCA9PT0gdGhpcy5vcHRpb25zLm1pbik7XG4gICAgICAgICAgICAgICAgdGhpcy4kaW5jcmVhc2VyLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIGNsYW1wZWQgPT09IHRoaXMub3B0aW9ucy5tYXgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihjbGFtcGVkID4gdGhpcy5vcHRpb25zLnZhbHVlID8gJ2luY3JlYXNlJyA6ICdkZWNyZWFzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluY3JlYXNlOiBmdW5jdGlvbiBpbmNyZWFzZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZSh0aGlzLm9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVjcmVhc2U6IGZ1bmN0aW9uIGRlY3JlYXNlKCkge1xuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlKC10aGlzLm9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmF2aWdhdGU6IGZ1bmN0aW9uIG5hdmlnYXRlKG1vZGlmaWVyKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfdmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUgKyBtb2RpZmllcjtcblxuICAgICAgICAgICAgdGhpcy5zZXRfdmFsdWUobmV3X3ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnN0ZXBwZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRzdGVwcGVyID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkaW5wdXQgPSAkc3RlcHBlci5maW5kKCdpbnB1dCcpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWluOiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSgnbWluJykgfHwgMCksXG4gICAgICAgICAgICAgICAgbWF4OiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSgnbWF4JykgfHwgMTAwKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogTnVtYmVyKCRpbnB1dC52YWwoKSB8fCAwKSxcbiAgICAgICAgICAgICAgICBzdGVwOiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSgnc3RlcCcpIHx8IDEpLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSgnZGVjaW1hbHMnKSB8fCAwKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHN0ZXBwZXIuc3RlcHBlcihvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqIEByZXF1aXJlcyAuLi9kcmFnZ2FibGUvZHJhZ2dhYmxlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU1dJVENIICovXG5cbiAgICAkLndpZGdldCgncHJlc3RvLnN3aXRjaCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICAgICAgb246ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgIG9mZjogJ2dyYXknXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVuY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHN3aXRjaCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJHN3aXRjaC5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgdGhpcy4kYmFyX3dycCA9IHRoaXMuJHN3aXRjaC5maW5kKCcuc3dpdGNoLWJhci13cnAnKTtcbiAgICAgICAgICAgIHRoaXMuJGJhciA9IHRoaXMuJHN3aXRjaC5maW5kKCcuc3dpdGNoLWJhcicpO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlciA9IHRoaXMuJHN3aXRjaC5maW5kKCcuc3dpdGNoLWhhbmRsZXInKTtcbiAgICAgICAgICAgIHRoaXMuJGljb24gPSB0aGlzLiRoYW5kbGVyLmZpbmQoJy5pY29uJyk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuJGlucHV0LnByb3AoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayh0aGlzLmNoZWNrZWQsIHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG5cbiAgICAgICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0cnVlLCB0aGlzLiRpbnB1dCwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlKTtcblxuICAgICAgICAgICAgLyogS0VZUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfa2V5c19pbik7XG4gICAgICAgICAgICB0aGlzLl9vbignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfa2V5c19vdXQpO1xuXG4gICAgICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRiYXIsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2spO1xuXG4gICAgICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIuZHJhZ2dhYmxlKHtcbiAgICAgICAgICAgICAgICBheGlzOiAneCcsXG4gICAgICAgICAgICAgICAgY29uc3RyYWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQ6IHRoaXMuJGJhcl93cnBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuX2hhbmRsZXJfZHJhZ19lbmQuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gX2hhbmRsZXJfY2hhbmdlKCkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2NoZWNrZWQgPSB0aGlzLiRpbnB1dC5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWQgIT09IG5ld19jaGVja2VkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSBuZXdfY2hlY2tlZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayh0aGlzLmNoZWNrZWQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEtFWVMgKi9cblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2luOiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX2luKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfb3V0OiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX291dCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmKCRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXNfa2V5ZG93bik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlzX2tleWRvd24oZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5MRUZUKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlJJR0hUKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5TUEFDRSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiBfaGFuZGxlcl9jbGljaygpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfZW5kOiBmdW5jdGlvbiBfaGFuZGxlcl9kcmFnX2VuZChkYXRhKSB7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmRyYWdnZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLiRoYW5kbGVyLm9mZnNldCgpLmxlZnQgLSB0aGlzLiRiYXJfd3JwLm9mZnNldCgpLmxlZnQgKyB0aGlzLiRoYW5kbGVyLndpZHRoKCkgLyAyID49IHRoaXMuJGJhcl93cnAud2lkdGgoKSAvIDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSBjaGVja2VkID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrKHRoaXMuY2hlY2tlZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldF9jaGVjazogZnVuY3Rpb24gX3NldF9jaGVjayhjaGVja2VkLCBmb3JjZSkge1xuXG4gICAgICAgICAgICBpZiAoY2hlY2tlZCAhPT0gdGhpcy4kaW5wdXQucHJvcCgnY2hlY2tlZCcpIHx8IGZvcmNlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzd2l0Y2gudG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnLCBjaGVja2VkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIChjaGVja2VkID8gJzEuNzMzMzNlbScgOiAnMCcpICsgJywwLDApJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRiYXIudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLmNvbG9ycy5vbiwgY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGFuZGxlci50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuY29sb3JzLm9uLCBjaGVja2VkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJhci50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuY29sb3JzLm9mZiwgIWNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLmNvbG9ycy5vZmYsICFjaGVja2VkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnByb3AoJ2NoZWNrZWQnLCBjaGVja2VkKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoY2hlY2tlZCA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBjaGVjazogZnVuY3Rpb24gY2hlY2soKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1bmNoZWNrOiBmdW5jdGlvbiB1bmNoZWNrKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2soZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSAhdGhpcy5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrKHRoaXMuY2hlY2tlZCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5zd2l0Y2gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRzd2l0Y2ggPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uOiAkc3dpdGNoLmRhdGEoJ2NvbG9yLW9uJykgfHwgJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIG9mZjogJHN3aXRjaC5kYXRhKCdjb2xvci1vZmYnKSB8fCAnZ3JheSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc3dpdGNoWydzd2l0Y2gnXShvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUQUJMRSBIRUxQRVIgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8udGFibGVIZWxwZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGFkZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsZWFyOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdGFibGUgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kdGhlYWQgPSB0aGlzLiR0YWJsZS5maW5kKCd0aGVhZCcpLCB0aGlzLiR0Zm9vdCA9IHRoaXMuJHRhYmxlLmZpbmQoJ3Rmb290JyksIHRoaXMuJHRib2R5ID0gdGhpcy4kdGFibGUuZmluZCgndGJvZHknKSwgdGhpcy4kaGVhZGVycyA9IHRoaXMuJHRoZWFkLmZpbmQoJ3RoJyksIHRoaXMuJGVtcHR5X3JvdyA9IHRoaXMuJHRib2R5LmZpbmQoJ3RyLmVtcHR5JyksIHRoaXMuY29sdW1uc19uciA9IHRoaXMuJGhlYWRlcnMubGVuZ3RoO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2NoZWNrX2VtcHR5OiBmdW5jdGlvbiBfY2hlY2tfZW1wdHkoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVtcHR5X3Jvdy50b2dnbGVDbGFzcygnaGlkZGVuJywgdGhpcy4kdGJvZHkuZmluZCgndHI6bm90KC5lbXB0eSknKS5sZW5ndGggPiAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0X3Jvd19pZDogZnVuY3Rpb24gX2dldF9yb3dfaWQoaWQpIHtcblxuICAgICAgICAgICAgcmV0dXJuICdyaWRfJyArIHRoaXMudXVpZCArICdfJyArIGlkO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKGlkKSB7XG4gICAgICAgICAgICAvL0lORk86IGlkLCBkYXRhcy4uLlxuXG4gICAgICAgICAgICB2YXIgZGF0YXMgPSBfLnRhaWwoYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKGRhdGFzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRmaWxsYWJsZXMgPSB0aGlzLiR0Ym9keS5maW5kKCd0ZC5maWxsYWJsZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRmaWxsYWJsZXMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzX2ZpbGxhYmxlID0gXy5zbGljZShkYXRhcywgMCwgJGZpbGxhYmxlcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzID0gXy5zbGljZShkYXRhcywgZGF0YXNfZmlsbGFibGUubGVuZ3RoIC0gMSwgZGF0YXMubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRhdGFzX2ZpbGxhYmxlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmlsbGFibGVzLmVxKGkpLmh0bWwoZGF0YXNfZmlsbGFibGVbaV0pLnJlbW92ZUNsYXNzKCdmaWxsYWJsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlkICYmICQoJy4nICsgdGhpcy5fZ2V0X3Jvd19pZChpZCkpLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICQubm90eSgnQSB0YWJsZSBjYW5ub3QgY29udGFpbiAyIHJvd3Mgd2l0aCB0aGUgc2FtZSBJRCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGNodW5rcyA9IF8uY2h1bmsoZGF0YXMsIHRoaXMuY29sdW1uc19ucik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaSA9IDAsIGNsID0gY2h1bmtzLmxlbmd0aDsgY2kgPCBjbDsgY2krKykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IGNodW5rc1tjaV07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd19odG1sID0gJzx0ciAnICsgKGlkID8gJ2NsYXNzPVwiJyArIHRoaXMuX2dldF9yb3dfaWQoaWQpICsgJ1wiJyA6ICcnKSArICc+JztcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNodW5rLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dfaHRtbCArPSAnPHRkPicgKyAoY2h1bmtbaV0gfHwgJycpICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaHVuay5sZW5ndGgsIGwgPSB0aGlzLmNvbHVtbnNfbnI7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcm93X2h0bWwgKz0gJzx0ZCBjbGFzcz1cImZpbGxhYmxlXCI+PC90ZD4nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcm93X2h0bWwgKz0gJzwvdHI+JztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0Ym9keS5hcHBlbmQocm93X2h0bWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrX2VtcHR5KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJsZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2FkZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShpZCkge1xuICAgICAgICAgICAgLy9JTkZPOiBpZCwgZGF0YXMuLi5cblxuICAgICAgICAgICAgdmFyIGRhdGFzID0gXy50YWlsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgJHJvdyA9ICQoJy4nICsgdGhpcy5fZ2V0X3Jvd19pZChpZCkpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YXMubGVuZ3RoICYmICRyb3cubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJHRkcyA9ICRyb3cuZmluZCgndGQnKTtcblxuICAgICAgICAgICAgICAgIF8uZWFjaChkYXRhcywgZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRkcy5lcShpbmRleCkuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFibGUudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCd1cGRhdGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaWQpIHtcblxuICAgICAgICAgICAgdmFyICRyb3cgPSAkKCcuJyArIHRoaXMuX2dldF9yb3dfaWQoaWQpKTtcblxuICAgICAgICAgICAgaWYgKCRyb3cubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAkcm93LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigncmVtb3ZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblxuICAgICAgICAgICAgdmFyICRyb3dzID0gdGhpcy4kdGJvZHkuZmluZCgndHI6bm90KC5lbXB0eSknKTtcblxuICAgICAgICAgICAgaWYgKCRyb3dzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgJHJvd3MucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFibGUudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCdjbGVhcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgndGFibGUnKS50YWJsZUhlbHBlcigpO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IE1heWJlIHN3aXRjaCBmcm9tIHRoZSBpbmRpY2F0b3IgdG8gLmJ1dHRvbi5oaWdobGlnaHRcbi8vRklYTUU6IHBvc2l0aW9uYXRlX2luZGljYXRvciBpcyB0b28gaGFja3lcblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRBQlMgKi9cblxuICAgICQud2lkZ2V0KCdwcmVzdG8udGFicycsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uc193cnA6ICcudGFicy1idXR0b25zJyxcbiAgICAgICAgICAgICAgICBidXR0b25zOiAnLmJ1dHRvbi13cnAgPiAubGFiZWwnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbl9hY3RpdmVfY2xhc3M6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICAgIGluZGljYXRvcjogJy50YWJzLWJ1dHRvbnMtaW5kaWNhdG9yJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXJzX3dycDogJy50YWJzLWNvbnRhaW5lcnMnLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnM6ICc+IC5jb250YWluZXInLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcl9hY3RpdmVfY2xhc3M6ICdhY3RpdmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kaWNhdG9yX2RlbGF5OiA0MCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHNlbGVjdDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uIF92YXJpYWJsZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYnMgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPSB0aGlzLiR0YWJzLmhhc0NsYXNzKCd2ZXJ0aWNhbCcpO1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJzX2J1dHRvbnMgPSB0aGlzLiR0YWJzLmZpbmQodGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25zX3dycCk7XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zID0gdGhpcy4kdGFic19idXR0b25zLmZpbmQodGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25zKTtcbiAgICAgICAgICAgIHRoaXMuJGluZGljYXRvciA9IHRoaXMuJHRhYnMuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmluZGljYXRvcik7XG5cbiAgICAgICAgICAgIHRoaXMuJHRhYnNfY29udGFpbmVycyA9IHRoaXMuJHRhYnMuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcnNfd3JwKTtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lcnMgPSB0aGlzLiR0YWJzX2NvbnRhaW5lcnMuZmluZCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcnMpO1xuXG4gICAgICAgICAgICB2YXIgJGN1cnJlbnRfYnV0dG9uID0gdGhpcy4kYnV0dG9ucy5maWx0ZXIoJy4nICsgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzKS5maXJzdCgpO1xuXG4gICAgICAgICAgICAkY3VycmVudF9idXR0b24gPSAkY3VycmVudF9idXR0b24ubGVuZ3RoID4gMCA/ICRjdXJyZW50X2J1dHRvbiA6IHRoaXMuJGJ1dHRvbnMuZmlyc3QoKTtcblxuICAgICAgICAgICAgdGhpcy5wcmV2X2luZGV4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IHRoaXMuJGJ1dHRvbnMuaW5kZXgoJGN1cnJlbnRfYnV0dG9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuY3VycmVudF9pbmRleCwgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24odGhpcy4kdGFic19idXR0b25zLCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbnMsIHRoaXMuX2hhbmRlcl9idXR0b25fY2xpY2spO1xuXG4gICAgICAgICAgICB0aGlzLl9vbigkd2luZG93LCAncmVzaXplJywgdGhpcy5fcG9zaXRpb25hdGVfaW5kaWNhdG9yKTsgLy9UT0RPOiB0aHJvdHRsZSBvciBkZXZvdW5jZSBpdFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaGFuZGVyX2J1dHRvbl9jbGljazogZnVuY3Rpb24gX2hhbmRlcl9idXR0b25fY2xpY2soZXZlbnQsIG5vZGUpIHtcblxuICAgICAgICAgICAgdmFyIG5ld19pbmRleCA9IHRoaXMuJGJ1dHRvbnMuaW5kZXgoJChub2RlKSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KG5ld19pbmRleCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3Bvc2l0aW9uYXRlX2luZGljYXRvcjogZnVuY3Rpb24gX3Bvc2l0aW9uYXRlX2luZGljYXRvcigpIHtcblxuICAgICAgICAgICAgdmFyICRhY3RpdmUgPSB0aGlzLiRidXR0b25zLmZpbHRlcignLicgKyB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gJGFjdGl2ZS5wb3NpdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfaGVpZ2h0ID0gdGhpcy4kdGFic19idXR0b25zLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBwb3NpdGlvbi50b3AgKyAodGhpcy4kYnV0dG9ucy5pbmRleCgkYWN0aXZlKSA9PT0gMCA/IDEgOiAwKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MoJ3RvcCcsIHRvcCAqIDEwMCAvIHRvdGFsX2hlaWdodCArICclJyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gdGhpcy5vcHRpb25zLmluZGljYXRvcl9kZWxheSA6IDApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBib3R0b20gPSB0b3RhbF9oZWlnaHQgLSBwb3NpdGlvbi50b3AgLSAkYWN0aXZlLmhlaWdodCgpICsgKHRoaXMuJGJ1dHRvbnMuaW5kZXgoJGFjdGl2ZSkgPT09IHRoaXMuJGJ1dHRvbnMubGVuZ3RoIC0gMSA/IDEgOiAwKTsgLy9GSVhNRTogaXQncyBoYWNreVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZGljYXRvci5jc3MoJ2JvdHRvbScsIGJvdHRvbSAqIDEwMCAvIHRvdGFsX2hlaWdodCArICclJyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gMCA6IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JfZGVsYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHZhciB0b3RhbF93aWR0aCA9IHRoaXMuJHRhYnNfYnV0dG9ucy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gcG9zaXRpb24ubGVmdCArICh0aGlzLiRidXR0b25zLmluZGV4KCRhY3RpdmUpID09PSAwID8gMSA6IDApOyAvL0ZJWE1FOiBpdCdzIGhhY2t5XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9yLmNzcygnbGVmdCcsIGxlZnQgKiAxMDAgLyB0b3RhbF93aWR0aCArICclJyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gdGhpcy5vcHRpb25zLmluZGljYXRvcl9kZWxheSA6IDApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciByaWdodCA9IHRvdGFsX3dpZHRoIC0gcG9zaXRpb24ubGVmdCAtICRhY3RpdmUud2lkdGgoKSArICh0aGlzLiRidXR0b25zLmluZGV4KCRhY3RpdmUpID09PSB0aGlzLiRidXR0b25zLmxlbmd0aCAtIDEgPyAxIDogMCk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzKCdyaWdodCcsIHJpZ2h0ICogMTAwIC8gdG90YWxfd2lkdGggKyAnJScpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuY3VycmVudF9pbmRleCA+IHRoaXMucHJldl9pbmRleCA/IDAgOiB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChpbmRleCwgZm9yY2UpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCAhPT0gaW5kZXggfHwgZm9yY2UpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMuZXEodGhpcy5jdXJyZW50X2luZGV4KS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmJ1dHRvbl9hY3RpdmVfY2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMuZXEoaW5kZXgpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuYnV0dG9uX2FjdGl2ZV9jbGFzcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXJzLmVxKHRoaXMuY3VycmVudF9pbmRleCkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jb250YWluZXJfYWN0aXZlX2NsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXJzLmVxKGluZGV4KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcl9hY3RpdmVfY2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCAhPT0gaW5kZXgpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZfaW5kZXggPSB0aGlzLmN1cnJlbnRfaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF9pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uYXRlX2luZGljYXRvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcudGFicycpLnRhYnMoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgdGhlIHRhZyBwb2ludGVyXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIHRhZ3MgYnkgcGFzc2luZzogc2luZ2xlIHRhZyBzdHJpbmcsIHNpbmdsZSB0YWdzIHN0cmluZyBzZXBhcmF0ZWQgYnkgc2VwYXJhdG9yLCBhcnJheSBvZiB0YWdzLCBtdWx0aXBsZSBwYXJhbWV0ZXJzXG4vL0ZJWE1FOiBkbyB3ZSBoYW5kbGUgdGhlIGluc2VydGlvbiBvZiBjaGFyYWN0ZXJzIGxpa2UgYCZgIG9yIGAnYCBwcm9wZXJ0bHk/XG4vL0ZJWE1FOiBzaG91bGQgYmUgZm9yYmlkIGNoYXJhY3RlcnMgb3IganVzdCBlc2NhcGUgdGhlbT9cblxuJ3VzZSBzdHJpY3QnO1xuXG47KGZ1bmN0aW9uICgkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRBR0JPWCAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by50YWdib3gnLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICB0YWc6ICc8ZGl2IGNsYXNzPVwibXVsdGlwbGUtd3JwIGpvaW5lZCB0YWdib3gtdGFnXCIgZGF0YS10YWctdmFsdWU9XCJ7JT1vLnN0ciV9XCI+JyArICc8ZGl2IGNsYXNzPVwibXVsdGlwbGVcIj4nICsgJzxkaXYgY2xhc3M9XCJsYWJlbC13cnBcIj4nICsgJzxkaXYgY2xhc3M9XCJsYWJlbCBjb21wYWN0IHslPShvLmNvbG9yID8gby5jb2xvciA6IFwiXCIpJX0geyU9KG8uc2l6ZSA/IG8uc2l6ZSA6IFwiXCIpJX0geyU9KG8uY3NzID8gby5jc3MgOiBcIlwiKSV9XCI+JyArICc8ZGl2IGNsYXNzPVwibGFiZWwtY2VudGVyXCI+JyArICd7JT1vLnN0ciV9JyArICc8ZGl2IGNsYXNzPVwiaWNvbiBpY29uLW5hdmlnYXRpb24tY2xvc2UgcmlnaHQgdGFnYm94LXRhZy1yZW1vdmVyXCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgICAgIGluaXQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0cjogJycsXG4gICAgICAgICAgICAgICAgYXJyOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhZzoge1xuICAgICAgICAgICAgICAgIG1pbl9sZW5ndGg6IDMsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICAgICAgICAgIHNpemU6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgIGNzczogJ291dGxpbmVkJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYXJhY3RlcnM6IHtcbiAgICAgICAgICAgICAgICBmb3JiaWRkZW46IFsnPCcsICc+JywgJzsnLCAnYCddLCAvL0ZJWE1FOiBhZGQgdGFiLCBlbnRlciwgYW5kIGFsbCB0aGUgb3RoZXIgc3BlY2lhbHNcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6ICcsJywgLy9JTkZPOiBJdCB3aWxsIGFsc28gYmVjb21lIGtpbmQgb2YgYSBmb3JiaWRkZW4gY2hhcmFjdGVyLCB1c2VkIGZvciBpbnNlcnRpb25cbiAgICAgICAgICAgICAgICBpbnNlcnRlcnM6IFskLnVpLmtleUNvZGUuRU5URVIsICQudWkua2V5Q29kZS5UQUJdIH0sXG4gICAgICAgICAgICAvL1RPRE86IHdyaXRlIHRoZW0gYXMgc3RyaW5nLCBzbyB0aGV5IGFyZSBlYXNpZXIgdG8gZWRpdCBhbmQgdGhhdCdzIHRoZSBmb3JtYXQgdGhhdCB0aGUgdXNlciBleHBlY3RzXG4gICAgICAgICAgICBzb3J0OiBmYWxzZSwgLy9JTkZPOiBUaGUgdGFncyBhcmUgZGlzcGxheWVkIGluIHNvcnRlZCBvcmRlclxuICAgICAgICAgICAgZXNjYXBlOiB0cnVlLCAvL0lORk86IEVzY2FwZSBwb3RlbnRpYWwgWFNTIGNoYXJhY3RlcnNcbiAgICAgICAgICAgIGRlYnVycjogZmFsc2UsIC8vSU5GTzogUmVwbGFjZSBub24gbGF0aW4gYmFzaWMgbGV0dGVyc1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgYWRkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdGFnYm94ID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdmFyICRpbnB1dHMgPSB0aGlzLiR0YWdib3guZmluZCgnaW5wdXQnKTtcblxuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSAkaW5wdXRzLmVxKDApO1xuICAgICAgICAgICAgdGhpcy4kcGFydGlhbCA9ICRpbnB1dHMuZXEoMSk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpYWwgPSB0aGlzLiRwYXJ0aWFsLmdldCgwKTtcblxuICAgICAgICAgICAgdGhpcy4kcGFydGlhbF93cnAgPSB0aGlzLiRwYXJ0aWFsLnBhcmVudCgnLmlucHV0LXdycCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGQodGhpcy5vcHRpb25zLnRhZ3MuaW5pdCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gX2V2ZW50cygpIHtcblxuICAgICAgICAgICAgLyogUEFSVElBTCAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRwYXJ0aWFsLCAna2V5cHJlc3Mga2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5cHJlc3Nfa2V5ZG93bik7IC8vSU5GTzogYGtleXByZXNzYCBpcyBmb3IgcHJpbnRhYmxlIGNoYXJhY3RlcnMsIGBrZXlkb3duYCBmb3IgdGhlIG90aGVyc1xuXG4gICAgICAgICAgICB0aGlzLl9vbih0aGlzLiRwYXJ0aWFsLCAncGFzdGUnLCB0aGlzLl9oYW5kbGVyX3Bhc3RlKTtcblxuICAgICAgICAgICAgLyogT04gRU1QVFkgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24oJ2NsaWNrJywgdGhpcy5faGFuZGxlcl9jbGlja19vbl9lbXB0eSk7XG5cbiAgICAgICAgICAgIC8qIFRBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbignY2xpY2snLCAnLnRhZ2JveC10YWctcmVtb3ZlcicsIHRoaXMuX2hhbmRsZXJfY2xpY2tfb25fdGFnX3JlbW92ZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfZ2V0X3RhZ19odG1sOiBmdW5jdGlvbiBfZ2V0X3RhZ19odG1sKHRhZ19zdHIpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RtcGwoJ3RhZycsIF8ubWVyZ2UoeyBzdHI6IHRhZ19zdHIgfSwgdGhpcy5vcHRpb25zLnRhZykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfdGFnc19zdHI6IGZ1bmN0aW9uIF91cGRhdGVfdGFnc19zdHIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLnN0ciA9IHRoaXMub3B0aW9ucy50YWdzLmFyci5qb2luKHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLnNlcGFyYXRvcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3Nhbml0aXplX3RhZ19zdHI6IGZ1bmN0aW9uIF9zYW5pdGl6ZV90YWdfc3RyKHRhZ19zdHIpIHtcblxuICAgICAgICAgICAgdGFnX3N0ciA9IF8udHJpbSh0YWdfc3RyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lc2NhcGUpIHtcblxuICAgICAgICAgICAgICAgIHRhZ19zdHIgPSBfLmVzY2FwZSh0YWdfc3RyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kZWJ1cnIpIHtcblxuICAgICAgICAgICAgICAgIHRhZ19zdHIgPSBfLmRlYnVycih0YWdfc3RyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhZ19zdHI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9pbnB1dDogZnVuY3Rpb24gX3VwZGF0ZV9pbnB1dCgpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5wdXQudmFsKHRoaXMub3B0aW9ucy50YWdzLnN0cikudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NsZWFyX3BhcnRpYWw6IGZ1bmN0aW9uIF9jbGVhcl9wYXJ0aWFsKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogVEFHICovXG5cbiAgICAgICAgX3BhcnRpYWxfYWRkX3RhZzogZnVuY3Rpb24gX3BhcnRpYWxfYWRkX3RhZyh0YWdfc3RyKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdfc3RyX3RyaW1tZWQgPSBfLnRyaW0odGFnX3N0ciksXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IHRoaXMuX3Nhbml0aXplX3RhZ19zdHIodGFnX3N0cik7XG5cbiAgICAgICAgICAgIGlmICh0YWdfc3RyX3RyaW1tZWQubGVuZ3RoIDwgdGhpcy5vcHRpb25zLnRhZy5taW5fbGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGFnX3N0cl90cmltbWVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JTkZPOiBTbyBpdCB3b24ndCBiZSB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGVudGVyIGFuZCB0aGUgJHBhcnRpYWwgaXMgZW1wdHlcblxuICAgICAgICAgICAgICAgICAgICAkLm5vdHkoJ2AnICsgdGFnX3N0ciArICdgIGlzIHNob3J0ZXIgdGhhbiAnICsgdGhpcy5vcHRpb25zLnRhZy5taW5fbGVuZ3RoICsgJyBjaGFyYWN0ZXJzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmNvbnRhaW5zKHRoaXMub3B0aW9ucy50YWdzLmFyciwgdGFnX3N0cikpIHtcblxuICAgICAgICAgICAgICAgICQubm90eSgnYCcgKyB0YWdfc3RyICsgJ2AgaXMgYSBkdXBsaWNhdGUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5hcnIucHVzaCh0YWdfc3RyKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc29ydCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLmFyci5zb3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhZ19odG1sID0gdGhpcy5fZ2V0X3RhZ19odG1sKHRhZ19zdHIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50YWdzLmFyci5sZW5ndGggPT09IDEgfHwgIXRoaXMub3B0aW9ucy5zb3J0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbF93cnAuYmVmb3JlKHRhZ19odG1sKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMub3B0aW9ucy50YWdzLmFyci5pbmRleE9mKHRhZ19zdHIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0YWdib3guZmluZCgnLnRhZ2JveC10YWcnKS5maXJzdCgpLmJlZm9yZSh0YWdfaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhZ2JveC5maW5kKCcudGFnYm94LXRhZycpLmVxKGluZGV4IC0gMSkuYWZ0ZXIodGFnX2h0bWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcGFydGlhbF9yZW1vdmVfdGFnOiBmdW5jdGlvbiBfcGFydGlhbF9yZW1vdmVfdGFnKCR0YWcsIHRhZ19zdHIpIHtcblxuICAgICAgICAgICAgJHRhZy5yZW1vdmUoKTtcblxuICAgICAgICAgICAgXy5wdWxsKHRoaXMub3B0aW9ucy50YWdzLmFyciwgdGFnX3N0cik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogS0VZUFJFU1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9rZXlwcmVzc19rZXlkb3duOiBmdW5jdGlvbiBfaGFuZGxlcl9rZXlwcmVzc19rZXlkb3duKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdfc3RyID0gdGhpcy4kcGFydGlhbC52YWwoKTtcblxuICAgICAgICAgICAgaWYgKF8uY29udGFpbnModGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuaW5zZXJ0ZXJzLCBldmVudC5rZXlDb2RlKSB8fCBldmVudC5rZXlDb2RlID09PSB0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5zZXBhcmF0b3IuY2hhckNvZGVBdCgwKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFkZGVkID0gdGhpcy5hZGQodGFnX3N0cik7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWRkZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcl9wYXJ0aWFsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkJBQ0tTUEFDRSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhZ19zdHIubGVuZ3RoID09PSAwICYmIHRoaXMub3B0aW9ucy50YWdzLmFyci5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICR0YWcgPSB0aGlzLiR0YWdib3guZmluZCgnLnRhZ2JveC10YWcnKS5sYXN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0ID0gISgkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQubWV0YUtleSB8fCAhJC5icm93c2VyLmlzTWFjICYmIGV2ZW50LmN0cmxLZXkpOyAvL0lORk86IFdpdGggYGN0cmxgIG5vdCBvbiBhIE1hYyBvciBgY21kYCBvbiBNYWM6IHJlbW92ZSBpdCBjb21wbGV0ZWxseSwgb3RoZXJ3aXNlOiBjb3B5IGl0IHRvIHRoZSBpbnB1dFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCR0YWcsIGVkaXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmNvbnRhaW5zKHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLmZvcmJpZGRlbiwgU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5rZXlDb2RlKSkpIHtcblxuICAgICAgICAgICAgICAgICQubm90eSgnVGhlIGNoYXJhY3RlciB5b3UgZW50ZXJlZCBpcyBmb3JiaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUEFTVEUgKi9cblxuICAgICAgICBfaGFuZGxlcl9wYXN0ZTogZnVuY3Rpb24gX2hhbmRsZXJfcGFzdGUoZXZlbnQpIHtcblxuICAgICAgICAgICAgdGhpcy5fZGVsYXkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vRklYTUU6IGlzIGl0IG5lY2Vzc2FyeT9cblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMuJHBhcnRpYWwudmFsKCkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJfcGFydGlhbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0xJQ0sgT04gQ0xPU0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jbGlja19vbl90YWdfcmVtb3ZlcjogZnVuY3Rpb24gX2hhbmRsZXJfY2xpY2tfb25fdGFnX3JlbW92ZXIoZXZlbnQsIHRhZ19yZW1vdmVyKSB7XG5cbiAgICAgICAgICAgIHZhciAkdGFnID0gJCh0YWdfcmVtb3ZlcikucGFyZW50cygnLnRhZ2JveC10YWcnKTtcblxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoJHRhZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0xJQ0sgT04gRU1QVFkgKi9cblxuICAgICAgICBfaGFuZGxlcl9jbGlja19vbl9lbXB0eTogZnVuY3Rpb24gX2hhbmRsZXJfY2xpY2tfb25fZW1wdHkoZXZlbnQpIHtcblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMucGFydGlhbCAmJiAhJChldmVudC50YXJnZXQpLmlzKCdpbnB1dCwgLnRhZ2JveC10YWctbGFiZWwnKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRhZ3Muc3RyO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKHRhZ3Nfc3RyKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdzID0gdGFnc19zdHIuc3BsaXQodGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICBhZGRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGFkZHMucHVzaCh0aGlzLl9wYXJ0aWFsX2FkZF90YWcodGFnc1tpXSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYWRkZWQgPSBfLmNvbXBhY3QoYWRkcykubGVuZ3RoID4gMDtcblxuICAgICAgICAgICAgaWYgKGFkZGVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfdGFnc19zdHIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZGVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHRhZ3Nfc3RyLCBlZGl0KSB7XG5cbiAgICAgICAgICAgIGlmICh0YWdzX3N0ciBpbnN0YW5jZW9mIGpRdWVyeSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRhZ3Nfb2JqID0gW3RhZ3Nfc3RyXSxcbiAgICAgICAgICAgICAgICAgICAgdGFncyA9IFt0YWdzX3N0ci5kYXRhKCd0YWctdmFsdWUnKV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRhZ3Nfb2JqID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBbXTtcblxuICAgICAgICAgICAgICAgIHRhZ3Nfc3RyID0gdGFnc19zdHIuc3BsaXQodGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFnc19zdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ19zdHIgPSB0aGlzLl9zYW5pdGl6ZV90YWdfc3RyKHRhZ3Nfc3RyW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWcgPSB0aGlzLiR0YWdib3guZmluZCgnLnRhZ2JveC10YWdbZGF0YS10YWctdmFsdWU9XCInICsgdGFnX3N0ciArICdcIl0nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRhZy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnc19vYmoucHVzaCgkdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaCh0YWdfc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRhZ3Nfb2JqLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzX29iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFsX3JlbW92ZV90YWcodGFnc19vYmpbaV0sIHRhZ3NbaV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV90YWdzX3N0cigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGwgPT09IDEgJiYgZWRpdCA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHBhcnRpYWwudmFsKHRhZ3NbMF0pLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGFncy5hcnIubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5zdHIgPSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5hcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhZ2JveC5maW5kKCcudGFnYm94LXRhZycpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJfcGFydGlhbCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnRhZ2JveCcpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHRhZ2JveCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGlucHV0ID0gJHRhZ2JveC5maW5kKCdpbnB1dCcpLmVxKDApLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgICAgICAgICBpbml0OiAkaW5wdXQudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHN0cjogJycsXG4gICAgICAgICAgICAgICAgICAgIGFycjogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkdGFnYm94LnRhZ2JveChvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUSU1FIEFHTyAqL1xuXG4gICAgJC53aWRnZXQoJ3ByZXN0by50aW1lQWdvJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IGZhbHNlLFxuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gX3ZhcmlhYmxlcygpIHtcblxuICAgICAgICAgICAgdGhpcy4kdGltZUFnb193cnAgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGltZXN0YW1wID0gdGhpcy4kdGltZUFnb193cnAuZGF0YSh0aGlzLm9wdGlvbnMudGl0bGUgPyAndGltZXN0YW1wLXRpdGxlJyA6ICd0aW1lc3RhbXAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9sb29wKDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfdXBkYXRlX2xvb3A6IGZ1bmN0aW9uIF91cGRhdGVfbG9vcCh3YWl0KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9sb29wKHRoaXMudXBkYXRlKCkubmV4dCk7XG4gICAgICAgICAgICB9LCB3YWl0ICogMTAwMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgIHZhciB0aW1lQWdvID0gXy50aW1lQWdvKHRoaXMub3B0aW9ucy50aW1lc3RhbXApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRpdGxlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycC5hdHRyKCd0aXRsZScsIHRpbWVBZ28uc3RyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycC5odG1sKHRpbWVBZ28uc3RyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcigndXBkYXRlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aW1lQWdvO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdbZGF0YS10aW1lc3RhbXBdJykudGltZUFnbygpO1xuICAgICAgICAkKCdbZGF0YS10aW1lc3RhbXAtdGl0bGVdJykudGltZUFnbyh7IHRpdGxlOiB0cnVlIH0pO1xuICAgIH0pO1xufSkoalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIFRJTUVSIC0gaHR0cDovL2pjaGF2YW5uZXMuY29tL2pxdWVyeS10aW1lciAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbjsoZnVuY3Rpb24gKCQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVElNRVIgKi9cblxuICAgICQudGltZXIgPSBmdW5jdGlvbiAoZnVuYywgdGltZSwgYXV0b3N0YXJ0KSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lcihmdW5jLCB0aW1lLCBhdXRvc3RhcnQpO1xuICAgIH07XG5cbiAgICAvKiBUSU1FUiBPQkogKi9cblxuICAgIHZhciBUaW1lciA9IGZ1bmN0aW9uIFRpbWVyKGZ1bmMsIHRpbWUsIGF1dG9zdGFydCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldChmdW5jLCB0aW1lLCBhdXRvc3RhcnQpO1xuICAgIH07XG5cbiAgICBUaW1lci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnVuYywgdGltZSwgYXV0b3N0YXJ0KSB7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IGZ1bmM7XG5cbiAgICAgICAgICAgIGlmICghaXNOYU4odGltZSkpIHRoaXMuaW50ZXJ2YWxUaW1lID0gdGltZTtcblxuICAgICAgICAgICAgaWYgKGF1dG9zdGFydCAmJiAhdGhpcy5pc0FjdGl2ZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBvbmNlOiBmdW5jdGlvbiBvbmNlKHRpbWUpIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGlzTmFOKHRpbWUpKSB0aW1lID0gMDtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lci5hY3Rpb24oKTtcbiAgICAgICAgICAgIH0sIHRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KHJlc2V0KSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc2V0KSB0aGlzLnNldFRpbWVyKCk7ZWxzZSB0aGlzLnNldFRpbWVyKHRoaXMucmVtYWluaW5nX3RpbWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ190aW1lIC09IG5ldyBEYXRlKCkgLSB0aGlzLmxhc3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgPSB0aGlzLmludGVydmFsVGltZTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShyZXNldCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkgdGhpcy5wYXVzZSgpO2Vsc2UgaWYgKHJlc2V0KSB0aGlzLnBsYXkodHJ1ZSk7ZWxzZSB0aGlzLnBsYXkoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBsYXkodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyVGltZXI6IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRPYmplY3QpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRpbWVyOiBmdW5jdGlvbiBzZXRUaW1lcih0aW1lKSB7XG5cbiAgICAgICAgICAgIHZhciB0aW1lciA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChpc05hTih0aW1lKSkgdGltZSA9IHRoaXMuaW50ZXJ2YWxUaW1lO1xuXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ190aW1lID0gdGltZTtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcblxuICAgICAgICAgICAgdGhpcy50aW1lb3V0T2JqZWN0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lci5nbygpO1xuICAgICAgICAgICAgfSwgdGltZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ286IGZ1bmN0aW9uIGdvKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtYWluaW5nOiBmdW5jdGlvbiByZW1haW5pbmcodmFsdWUpIHtcblxuICAgICAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm4gdGhpcy5yZW1haW5pbmdfdGltZTtcblxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2J0ZWFjaC9idEVhY2guanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbid1c2Ugc3RyaWN0JztcblxuOyhmdW5jdGlvbiAoJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVVElMSVRJRVMgKi9cblxuICAgIHZhciBnZXRfY29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBnZXRfY29vcmRpbmF0ZXMoJGVsZSkge1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSAkZWxlLm9mZnNldCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBYMTogb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICBYMjogb2Zmc2V0LmxlZnQgKyAkZWxlLndpZHRoKCksXG4gICAgICAgICAgICBZMTogb2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIFkyOiBvZmZzZXQudG9wICsgJGVsZS5oZWlnaHQoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZ2V0X292ZXJsYXBwaW5nX2FyZWEgPSBmdW5jdGlvbiBnZXRfb3ZlcmxhcHBpbmdfYXJlYShjMSwgYzIpIHtcblxuICAgICAgICB2YXIgeF9vdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYzEuWDIsIGMyLlgyKSAtIE1hdGgubWF4KGMxLlgxLCBjMi5YMSkpLFxuICAgICAgICAgICAgeV9vdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYzEuWTIsIGMyLlkyKSAtIE1hdGgubWF4KGMxLlkxLCBjMi5ZMSkpO1xuXG4gICAgICAgIHJldHVybiB4X292ZXJsYXAgKiB5X292ZXJsYXA7XG4gICAgfTtcblxuICAgIC8qIFRPVUNISU5HICovXG5cbiAgICAkLmZuLnRvdWNoaW5nID0gZnVuY3Rpb24gKGN1c3RvbV9vcHRpb25zKSB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSh7XG4gICAgICAgICAgICBzdGFydEluZGV4OiBmYWxzZSwgLy9JTkZPOiBVc2VmdWwgZm9yIHNwZWVkaW5nIHVwIHRoZSBzZWFyY2hpbmcgcHJvY2VzcyBpZiB3ZSBtYXkgYWxyZWFkeSBndWVzcyB0aGUgaW5pdGlhbCBwb3NpdGlvbi4uLlxuICAgICAgICAgICAgcG9pbnQ6IGZhbHNlLCAvL0lORk86IFVzZWQgZm9yIHRoZSBwdW5jdHVhbCBzZWFyY2hcbiAgICAgICAgICAgIGJpbmFyeVNlYXJjaDogdHJ1ZSwgLy9JTkZPOiB0b2dnbGUgdGhlIGJpbmFyeSBzZWFyY2ggd2hlbiBwZXJmb3JtaW5nIGEgcHVuY3R1YWwgc2VhcmNoXG4gICAgICAgICAgICAvLyAge1xuICAgICAgICAgICAgLy8gICAgICBYOiAwLFxuICAgICAgICAgICAgLy8gICAgICBZOiAwXG4gICAgICAgICAgICAvLyAgfSxcbiAgICAgICAgICAgICRjb21wYXJlcjogZmFsc2UsIC8vSU5GTzogVXNlZCBmb3IgdGhlIG92ZXJsYXBwaW5nIHNlYXJjaFxuICAgICAgICAgICAgJG5vdDogZmFsc2UsXG4gICAgICAgICAgICBzZWxlY3Q6ICdhbGwnXG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zKTtcblxuICAgICAgICAvKiBTRUFSQ0hBQkxFICovXG5cbiAgICAgICAgdmFyICRzZWFyY2hhYmxlID0gb3B0aW9ucy4kbm90ID8gdGhpcy5ub3Qob3B0aW9ucy4kbm90KSA6IHRoaXM7XG5cbiAgICAgICAgLyogQ09NUEFSRVIgKi9cblxuICAgICAgICBpZiAob3B0aW9ucy4kY29tcGFyZXIpIHtcblxuICAgICAgICAgICAgdmFyIGMxID0gZ2V0X2Nvb3JkaW5hdGVzKG9wdGlvbnMuJGNvbXBhcmVyKSxcbiAgICAgICAgICAgICAgICBub2RlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGFyZWFzID0gW107XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICAgICAgJHNlYXJjaGFibGUuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBnZXRfY29vcmRpbmF0ZXMoJCh0aGlzKSksXG4gICAgICAgICAgICAgICAgICAgIGFyZWEgPSBnZXRfb3ZlcmxhcHBpbmdfYXJlYShjMSwgYzIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFyZWEgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgYXJlYXMucHVzaChhcmVhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3dpdGNoIChvcHRpb25zLnNlbGVjdCkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYWxsJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9zdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKG5vZGVzW2FyZWFzLmluZGV4T2YoXy5tYXgoYXJlYXMpKV0pO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRlbXB0eTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogUFVOQ1RVQUwgKi9cblxuICAgICAgICBpZiAob3B0aW9ucy5wb2ludCkge1xuXG4gICAgICAgICAgICB2YXIgJHRvdWNoZWQ7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmJpbmFyeVNlYXJjaCkge1xuXG4gICAgICAgICAgICAgICAgJHNlYXJjaGFibGUuYnRFYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJG5vZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGdldF9jb29yZGluYXRlcygkbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9pbnQuWSA+PSBjLlkxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnBvaW50LlkgPD0gYy5ZMikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9pbnQuWCA+PSBjLlgxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9pbnQuWCA8PSBjLlgyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0b3VjaGVkID0gJG5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuc3RhcnRJbmRleCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJHRvdWNoZWQgfHwgJGVtcHR5O1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICRzZWFyY2hhYmxlLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbm9kZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gZ2V0X2Nvb3JkaW5hdGVzKCRub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wb2ludC5ZID49IGMuWTEgJiYgb3B0aW9ucy5wb2ludC5ZIDw9IGMuWTIgJiYgb3B0aW9ucy5wb2ludC5YID49IGMuWDEgJiYgb3B0aW9ucy5wb2ludC5YIDw9IGMuWDIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvdWNoZWQgPSAkbm9kZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJHRvdWNoZWQgfHwgJGVtcHR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCk7IiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIExPREFTSCBFWFRSQSAqL1xuXG4gICAgXy5taXhpbiAoe1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgVW5peCBlcG9jaFxuICAgICAgICAgKiAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgICAgICpcbiAgICAgICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93U2VjcygpIC0gc3RhbXApO1xuICAgICAgICAgKiB9LCBfLm5vd1NlY3MoKSk7XG4gICAgICAgICAqIC8vID0+IGxvZ3MgdGhlIG51bWJlciBvZiBzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBmdW5jdGlvbiB0byBiZSBpbnZva2VkXG4gICAgICAgICAqL1xuXG4gICAgICAgIG5vd1NlY3M6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIF8uZmxvb3IgKCBfLm5vdyAoKSAvIDEwMDAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgc3RyaW5nIGZvcm1hdCBvZiBudW1iZXIgb2Ygc2Vjb25kcyBlbGFwc2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBfLnRpbWVBZ28gKCBfLm5vd1NlY3MgKCkgKVxuICAgICAgICAgKiAvLyA9PiBKdXN0IG5vd1xuICAgICAgICAgKi9cblxuICAgICAgICB0aW1lQWdvOiBmdW5jdGlvbiAoIHRpbWVzdGFtcCApIHsgLy9JTkZPOiBUaW1lc3RhbXAgaXMgcmVxdWlyZWQgaW4gc2Vjb25kc1xuXG4gICAgICAgICAgICB2YXIgZWxhcHNlZCA9IF8ubm93U2VjcyAoKSAtIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBqdXN0X25vdyA9IDU7XG5cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IFsneWVhcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnXSxcbiAgICAgICAgICAgICAgICB0aW1lcyA9IFszMTUzNjAwMCwgMjU5MjAwMCwgNjA0ODAwLCA4NjQwMCwgMzYwMCwgNjAsIDFdO1xuXG4gICAgICAgICAgICBpZiAoIGVsYXBzZWQgPCBqdXN0X25vdyApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0cjogJ0p1c3Qgbm93JyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDoganVzdF9ub3cgLSBlbGFwc2VkXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG5hbWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjcyA9IHRpbWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gXy5mbG9vciAoIGVsYXBzZWQgLyBzZWNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBudW1iZXIgPj0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHI6IG51bWJlciArICcgJyArIG5hbWUgKyAoIG51bWJlciA+IDEgPyAncycgOiAnJyApICsgJyBhZ28nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IHNlY3MgLSAoIGVsYXBzZWQgLSAoIG51bWJlciAqIHNlY3MgKSApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBhIGJvb2xlYW4gaWYgdGhlIHN0cmluZyBpcyBmdXp6eSBtYXRjaGVkIHdpdGggdGhlIHNlYXJjaCBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZnV6enlNYXRjaCAoICdzb21ldGhpbmcnLCAnc21UbmcnICk7XG4gICAgICAgICAqIC8vID0+IHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogXy5mdXp6eU1hdGNoICggJ3NvbWV0aGluZycsICdzbVRuZycsIGZhbHNlICk7XG4gICAgICAgICAqIC8vID0+IGZhbHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIF8uZnV6enlNYXRjaCAoICdzb21ldGhpbmcnLCAnc2VtdGhpbmcnICk7XG4gICAgICAgICAqIC8vID0+IGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZ1enp5TWF0Y2g6IGZ1bmN0aW9uICggc3RyLCBzZWFyY2gsIGlzQ2FzZVNlbnNpdGl2ZSApIHtcblxuICAgICAgICAgICAgaWYgKCBpc0Nhc2VTZW5zaXRpdmUgIT09IGZhbHNlICkge1xuXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlICgpO1xuICAgICAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b0xvd2VyQ2FzZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY3VycmVudF9pbmRleCA9IC0xLFxuICAgICAgICAgICAgICAgIHN0cl9sID0gc3RyLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICggdmFyIHNlYXJjaF9pID0gMCwgc2VhcmNoX2wgPSBzZWFyY2gubGVuZ3RoOyBzZWFyY2hfaSA8IHNlYXJjaF9sOyBzZWFyY2hfaSsrICkge1xuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIHN0cl9pID0gY3VycmVudF9pbmRleCArIDE7IHN0cl9pIDwgc3RyX2w7IHN0cl9pKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzdHJbc3RyX2ldID09PSBzZWFyY2hbc2VhcmNoX2ldICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2luZGV4ID0gc3RyX2k7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJfaSA9IHN0cl9sICsgMTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIHN0cl9pID09PSBzdHJfbCApIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIG51bWJlciBjbGFtcGVkIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLlxuICAgICAgICAgKiBJZiB0aGUgbWF4aW11bSBpc24ndCBwcm92aWRlZCwgb25seSBjbGFtcHMgZnJvbSB0aGUgYm90dG9tLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluaW11bSBUaGUgbWluaW11bSB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbGFtcC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG1heGltdW0gVGhlIG1heGltdW0gdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgdmFsdWUgYmV0d2VlbiBtaW5pbXVtIGFuZCBtYXhpbXVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBfLmNsYW1wKDIsIDQsIDYpOyAvLyA9PiA0XG4gICAgICAgICAqIF8uY2xhbXAoMywgMiwgNSk7IC8vID0+IDNcbiAgICAgICAgICogXy5jbGFtcCgyLCA3LCA1KTsgLy8gPT4gNVxuICAgICAgICAgKi9cblxuICAgICAgICBjbGFtcDogZnVuY3Rpb24gKCBtaW5pbXVtLCB2YWx1ZSwgbWF4aW11bSApIHtcblxuICAgICAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIG1pbmltdW0gKSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPCBtaW5pbXVtICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbWluaW11bTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggbWF4aW11bSApICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA+IG1heGltdW0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtYXhpbXVtO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQZXJmb3JtcyBhIGJpbmFyeSBlYWNoIG9mIHRoZSBhcnJheVxuICAgICAgICAgKi9cblxuICAgICAgICBidEVhY2g6IGZ1bmN0aW9uICggYXJyLCBjYWxsYmFjaywgc3RhcnRJbmRleCApIHtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gMCxcbiAgICAgICAgICAgICAgICBlbmQgPSBhcnIubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBfLmlzTnVtYmVyICggc3RhcnRJbmRleCApID8gc3RhcnRJbmRleCA6IF8uY2VpbCAoICggc3RhcnQgKyBlbmQgKSAvIDIgKSxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb247XG5cbiAgICAgICAgICAgIHdoaWxlICggc3RhcnQgPD0gZW5kICkge1xuXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gY2FsbGJhY2suY2FsbCAoIGFycltjZW50ZXJdLCBjZW50ZXIsIGFycltjZW50ZXJdICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2VudGVyIC0gMTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGRpcmVjdGlvbiA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBjZW50ZXIgKyAxO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VudGVyO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2VudGVyID0gXy5jZWlsICggKCBzdGFydCArIGVuZCApIC8gMiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWVcbiAgICAgICAgICovXG5cbiAgICAgICAgdHJ1ZTogXy5jb25zdGFudCAoIHRydWUgKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBmYWxzZVxuICAgICAgICAgKi9cblxuICAgICAgICBmYWxzZTogXy5jb25zdGFudCAoIGZhbHNlIClcblxuICAgIH0pO1xuXG59KCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiB4OiBub3RoaW5nLCBpdCdzIGhlcmUganVzdCBmb3IgY29tcGF0aWJpbGl0eSxcbi8vICAgICAgdDogY3VycmVudCB0aW1lLFxuLy8gICAgICBiOiBzdGFydCB2YWx1ZSxcbi8vICAgICAgYzogZW5kIHZhbHVlLFxuLy8gICAgICBkOiBkdXJhdGlvblxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogRUFTSU5HICovXG5cbiAgICAkLmVhc2luZyA9IHtcbiAgICAgICAgZGVmOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBzd2luZzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuICQuZWFzaW5nWyQuZWFzaW5nLmRlZl0oIHgsIHQsIGIsIGMsIGQgKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gKCBjIC0gYiApIC8gZCAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICggdCAvPSBkICkgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAqICggdCAvPSBkICkgKiAoIHQgLSAyICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICBpZiAoICggdCAvPSBkIC8gMiApIDwgMSApIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoICggLS10ICkgKiAoIHQgLSAyICkgLSAxICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoIHQgLz0gZCApICogdCAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCAoIHQgPSB0IC8gZCAtIDEgKSAqIHQgKiB0ICsgMSApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIGlmICggKCB0IC89IGQgLyAyICkgPCAxICkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICggKCB0IC09IDIgKSAqIHQgKiB0ICsgMiApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKCB0IC89IGQgKSAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIC1jICogKCAoIHQgPSB0IC8gZCAtIDEgKSAqIHQgKiB0ICogdCAtIDEgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICBpZiAoICggdCAvPSBkIC8gMiApIDwgMSApIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICggKCB0IC09IDIgKSAqIHQgKiB0ICogdCAtIDIgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblF1aW50OiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICggdCAvPSBkICkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICggKCB0ID0gdCAvIGQgLSAxICkgKiB0ICogdCAqIHQgKiB0ICsgMSApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIGlmICggKCB0IC89IGQgLyAyICkgPCAxICkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCAoIHQgLT0gMiApICogdCAqIHQgKiB0ICogdCArIDIgKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJblNpbmU6IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zICggdCAvIGQgKiAoIE1hdGguUEkgLyAyICkgKSArIGMgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbiAoIHQgLyBkICogKCBNYXRoLlBJIC8gMiApICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbiAoIHgsIHQsIGIsIGMsIGQgKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCBNYXRoLmNvcyAoIE1hdGguUEkgKiB0IC8gZCApIC0gMSApICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZUluRXhwbzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuICggdCA9PSAwICkgPyBiIDogYyAqIE1hdGgucG93ICggMiwgMTAgKiAoIHQgLyBkIC0gMSApICkgKyBiO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0RXhwbzogZnVuY3Rpb24gKCB4LCB0LCBiLCBjLCBkICkge1xuICAgICAgICAgICAgcmV0dXJuICggdCA9PSBkICkgPyBiICsgYyA6IGMgKiAoIC1NYXRoLnBvdyAoIDIsIC0xMCAqIHQgLyBkICkgKyAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uICggeCwgdCwgYiwgYywgZCApIHtcbiAgICAgICAgICAgIGlmICggdCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgICAgIGlmICggdCA9PSBkKSByZXR1cm4gYiArIGM7XG4gICAgICAgICAgICBpZiAoICggdCAvPSBkIC8gMiApIDwgMSkgcmV0dXJuIGMgLyAyICogTWF0aC5wb3cgKCAyLCAxMCAqICggdCAtIDEgKSApICsgYjtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICggLU1hdGgucG93ICggMiwgLTEwICogLS10ICkgKyAyICkgKyBiO1xuICAgICAgICB9XG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9lYXNpbmcvZWFzaW5nLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuIFxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEpRVUVSWSBFWFRSQSAqL1xuXG4gICAgJC5yZWZsb3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy9JTkZPOiBSZXF1ZXN0aW5nIHRoZSBgb2Zmc2V0SGVpZ2h0YCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlZmxvdy4gTmVjZXNzYXJ5LCBzbyB0aGF0IHRoZSBkZWZlcnJlZCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGluIGFub3RoZXIgY3ljbGVcblxuICAgIH07XG5cbiAgICAkLmV2ZW50WFkgPSBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgIGlmICggZXZlbnQuaXNQb2ludGVyRXZlbnQgKSB7IC8vSU5GTzogSGFzIGJlZW4gY3JlYXRlZCB1c2luZyB0aGUgYFBvaW50ZXJgIGFic3RyYWN0aW9uXG5cbiAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCAkLmJyb3dzZXIuaGFzVG91Y2ggJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICkge1xuXG4gICAgICAgICAgICBldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgWDogZXZlbnQucGFnZVgsXG4gICAgICAgICAgICBZOiBldmVudC5wYWdlWVxuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIC8qIENPTU1PTiBPQkpFQ1RTICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB3aW5kb3cuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICAgICAgd2luZG93LiRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuICAgICAgICB3aW5kb3cuJGh0bWwgPSAkKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIHdpbmRvdy4kYm9keSA9ICQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIHdpbmRvdy4kZW1wdHkgPSAkKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogVE1QTCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtVGVtcGxhdGVzICovXG5cbi8qXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAgICAgIERvY3VtZW50YXRpb24gICAgICAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogSW50ZXJwb2xhdGlvblxuICpcbiAqIC0gQmFzaWNcbiAqIDxoMz57JT1vLnRpdGxlJX08L2gzPlxuICpcbiAqIC0gVW5lc2NhcGVkXG4gKiA8aDM+eyUjby51c2VyX2lkJX08L2gzPlxuICpcbiAqIC0gUmVzdWx0IG9mIGZ1bmN0aW9uIGNhbGxcbiAqIDxhIGhyZWY9XCJ7JT1lbmNvZGVVUkkoby51cmwpJX1cIj5XZWJzaXRlPC9hPlxuICpcbiAqIC0gTmVzdGVkIHByb3BlcnRpZXNcbiAqIDxzdHJvbmc+eyU9by5hdXRob3IubmFtZSV9PC9zdHJvbmc+XG4gKlxuICogRXZhbHVhdGlvblxuICpcbiAqIC0gUHJpbnRcbiAqIDxzcGFuPlllYXI6IHslIHZhciBkPW5ldyBEYXRlKCk7IHByaW50KGQuZ2V0RnVsbFllYXIoKSk7ICV9PC9zcGFuPlxuICpcbiAqIC0gUHJpbnQgdW5lc2NhcGVkXG4gKiA8c3Bhbj57JSBwcmludChcIkZhc3QgJmFtcDsgcG93ZXJmdWxcIiwgdHJ1ZSk7ICV9PC9zcGFuPlxuICpcbiAqIC0gSW5jbHVkZSBhbm90aGVyIHRlbXBsYXRlXG4gKiA8ZGl2PlxuICogICAgIHslIGluY2x1ZGUoJ3RtcGwtbGluaycsIHtuYW1lOiBcIldlYnNpdGVcIiwgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5vcmdcIn0pOyAlfVxuICogPC9kaXY+XG4gKlxuICogLSBJZiBlbHNlIGNvbmRpdGlvblxuICogeyUgaWYgKG8uYXV0aG9yLnVybCkgeyAlfVxuICogICAgIDxhIGhyZWY9XCJ7JT1lbmNvZGVVUkkoby5hdXRob3IudXJsKSV9XCI+eyU9by5hdXRob3IubmFtZSV9PC9hPlxuICogeyUgfSBlbHNlIHsgJX1cbiAqICAgICA8ZW0+Tm8gYXV0aG9yIHVybC48L2VtPlxuICogeyUgfSAlfVxuICpcbiAqIC0gRm9yIGxvb3BcbiAqIDx1bD5cbiAqICAgICB7JSBmb3IgKHZhciBpPTA7IGk8by5mZWF0dXJlcy5sZW5ndGg7IGkrKykgeyAlfVxuICogICAgICAgICA8bGk+eyU9by5mZWF0dXJlc1tpXSV9PC9saT5cbiAqICAgICB7JSB9ICV9XG4gKiA8L3VsPlxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVE1QTCAqL1xuXG4gICAgdmFyIHRtcGwgPSBmdW5jdGlvbiAoIHN0ciwgZGF0YSApIHtcblxuICAgICAgICB2YXIgZiA9ICEvW15cXHdcXC1cXC46XS8udGVzdCAoIHN0ciApXG4gICAgICAgICAgICAgICAgICAgID8gdG1wbC5jYWNoZVtzdHJdID0gdG1wbC5jYWNoZVtzdHJdIHx8IHRtcGwgKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAoIHN0ciApLmlubmVySFRNTCApXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IEZ1bmN0aW9uICggdG1wbC5hcmcgKyAnLHRtcGwnLCBcInZhciBfZT1fLmVzY2FwZVwiICsgdG1wbC5oZWxwZXIgKyBcIixfcz0nXCIgKyBzdHIucmVwbGFjZSAoIHRtcGwucmVnZXhwLCB0bXBsLmZ1bmMgKSArIFwiJztyZXR1cm4gX3M7XCIgKTtcblxuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgICAgICAgICAgICAgID8gZiAoIGRhdGEsIHRtcGwgKVxuICAgICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKCBkYXRhICkgeyByZXR1cm4gZiAoIGRhdGEsIHRtcGwgKTsgfTtcblxuICAgIH07XG5cbiAgICB0bXBsLmNhY2hlID0ge307XG5cbiAgICB0bXBsLnJlZ2V4cCA9IC8oW1xccydcXFxcXSkoPyEoPzpbXntdfFxceyg/ISUpKSolXFx9KXwoPzpcXHslKD18IykoW1xcc1xcU10rPyklXFx9KXwoXFx7JSl8KCVcXH0pL2c7XG5cbiAgICB0bXBsLmZ1bmMgPSBmdW5jdGlvbiAoIHMsIHAxLCBwMiwgcDMsIHA0LCBwNSApIHtcblxuICAgICAgICBpZiAoIHAxICkgeyAvLyB3aGl0ZXNwYWNlLCBxdW90ZSBhbmQgYmFja3NwYWNlIGluIEhUTUwgY29udGV4dFxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICdcXG4nOiAnXFxcXG4nLFxuICAgICAgICAgICAgICAgICdcXHInOiAnXFxcXHInLFxuICAgICAgICAgICAgICAgICdcXHQnOiAnXFxcXHQnLFxuICAgICAgICAgICAgICAgICcgJyA6ICcgJ1xuICAgICAgICAgICAgfVtwMV0gfHwgJ1xcXFwnICsgcDE7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggcDIgKSB7IC8vIGludGVycG9sYXRpb246IHslPXByb3AlfSwgb3IgdW5lc2NhcGVkOiB7JSNwcm9wJX1cblxuICAgICAgICAgICAgaWYgKCBwMiA9PT0gJz0nICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiJytfZShcIiArIHAzICsgXCIpKydcIjtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gXCInKyhcIiArIHAzICsgXCI9PW51bGw/Jyc6XCIgKyBwMyArIFwiKSsnXCI7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggcDQgKSB7IC8vIGV2YWx1YXRpb24gc3RhcnQgdGFnOiB7JVxuXG4gICAgICAgICAgICByZXR1cm4gXCInO1wiO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHA1ICkgeyAvLyBldmFsdWF0aW9uIGVuZCB0YWc6ICV9XG5cbiAgICAgICAgICAgIHJldHVybiBcIl9zKz0nXCI7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRtcGwuYXJnID0gJ28nO1xuXG4gICAgdG1wbC5oZWxwZXIgPSBcIixwcmludD1mdW5jdGlvbihzLGUpe19zKz1lPyhzPT1udWxsPycnOnMpOl9lKHMpO30saW5jbHVkZT1mdW5jdGlvbihzLGQpe19zKz10bXBsKHMsZCk7fVwiO1xuXG4gICAgLyogSEVMUEVSICovXG5cbiAgICAkLnRtcGwgPSB0bXBsO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGRldGVjdCBicm93c2VycywgdmVyc2lvbnMsIE9TZXMsIGJ1dC4uLiBpcyBpdCB1c2VmdWw/XG4vL1RPRE86IGRldGVjdDogd2luZG93cyBwaG9uZSwgc21hcnRwaG9uZSwgd2luZG93cywgbGludXgsIHNhZmFyaSwgb3BlcmEsIGZpcmVmb3gsIGxvd2VuZFxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVkFSSUFCTEVTICovXG5cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSAoKTtcblxuICAgIC8qIEJST1dTRVIgKi9cblxuICAgICQuYnJvd3NlciA9IHtcbiAgICAgICAgaXNNb2JpbGU6IC9pcGhvbmV8aXBhZHxhbmRyb2lkfGlwb2R8b3BlcmEgbWluaXxvcGVyYSBtb2JpbGV8YmxhY2tiZXJyeXxpZW1vYmlsZXx3ZWJvc3x3aW5kb3dzIHBob25lfHBsYXlib29rfHRhYmxldHxraW5kbGUvaS50ZXN0ICggdXNlckFnZW50ICksXG4gICAgICAgIGlzVGFibGV0OiAvaXBhZHxwbGF5Ym9va3x0YWJsZXR8a2luZGxlL2kudGVzdCAoIHVzZXJBZ2VudCApLFxuICAgICAgICBpc0FuZHJvaWQ6IC9hbmRyb2lkL2kudGVzdCAoIHVzZXJBZ2VudCApLFxuICAgICAgICBpc0lPUzogLyhpcGhvbmV8aXBhZHxpcG9kKS9pLnRlc3QgKCB1c2VyQWdlbnQgKSxcbiAgICAgICAgaXNNYWM6IC9tYWMvaS50ZXN0ICggdXNlckFnZW50ICksXG4gICAgICAgIGlzSUU6IC9tc2llIFtcXHcuXSsvLnRlc3QgKCB1c2VyQWdlbnQgKSxcbiAgICAgICAgaXNDaHJvbWU6IC9jaHJvbWUvaS50ZXN0ICggdXNlckFnZW50IClcbiAgICB9O1xuXG4gICAgJC5icm93c2VyLmhhc1RvdWNoID0gKCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgJiYgISgkLmJyb3dzZXIuaXNDaHJvbWUgJiYgISQuYnJvd3Nlci5pc0FuZHJvaWQpICk7IC8vRklYTUU6IFdoeSBkbyB3ZSBuZWVkIHRoZSBzZWNvbmQgY2hlY2s/IERvIG90aGVyIGxpYnJhcmllcyBkbyB0aGUgc2FtZT9cblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyBqUXVlcnktZXh0cmEuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vRklYTUU6IFJpZ2h0IG5vdyBob3cgY2FuIHdlIGJpbmQgYW4gZXZlbnQgaGFuZGxlciBvbiBqdXN0IHRhcD8gKHdoZW4gZG91YmxldGFwIGRvZXNuJ3QgaGFwcGVuIGxhdGVyKVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUE9JTlRFUiAqL1xuXG4gICAgJC5Qb2ludGVyID0ge1xuICAgICAgICBwcmVzc0R1cmF0aW9uOiAzMDAsXG4gICAgICAgIGRvdWJsZVRhcEludGVydmFsOiAzMDAsXG4gICAgICAgIGZsaWNrRHVyYXRpb246IDE1MCxcbiAgICAgICAgbW90aW9uVGhyZXNob2xkOiA1XG4gICAgfTtcblxuICAgIHZhciBldmVudHNfbmFtZXMgPSBbJ3RhcCcsICdkYmx0YXAnLCAncHJlc3MnLCAnZHJhZ3N0YXJ0JywgJ2RyYWdtb3ZlJywgJ2RyYWdlbmQnLCAnZmxpY2snXSxcbiAgICAgICAgZXZlbnRzX25hbWVzcGFjZSA9ICdwb2ludGVyJztcblxuICAgIF8uZWFjaCAoIGV2ZW50c19uYW1lcywgZnVuY3Rpb24gKCBldmVudF9uYW1lICkge1xuXG4gICAgICAgIHZhciBmdWxsX2V2ZW50ID0gZXZlbnRzX25hbWVzcGFjZSArIGV2ZW50X25hbWU7XG5cbiAgICAgICAgJC5Qb2ludGVyW2V2ZW50X25hbWVdID0gZnVsbF9ldmVudDtcblxuICAgICAgICAkLmZuW2V2ZW50X25hbWVdID0gZnVuY3Rpb24gKCBmbiApIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZuID8gdGhpcy5vbiAoIGZ1bGxfZXZlbnQsIGZuICkgOiB0aGlzLnRyaWdnZXIgKCBmdWxsX2V2ZW50ICk7XG5cbiAgICAgICAgfTtcblxuICAgIH0pO1xuXG4gICAgLyogVFJJR0dFUlMgKi9cblxuICAgIHZhciBzdGFydEV2ZW50cyA9ICQuYnJvd3Nlci5oYXNUb3VjaCA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nLFxuICAgICAgICBtb3ZlRXZlbnRzID0gJC5icm93c2VyLmhhc1RvdWNoID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgZW5kRXZlbnRzID0gJC5icm93c2VyLmhhc1RvdWNoID8gJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJyA6ICdtb3VzZXVwIG1vdXNlbGVhdmUnLFxuICAgICAgICAkaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxcbiAgICAgICAgc3RhcnRYWSxcbiAgICAgICAgbW92ZVhZLFxuICAgICAgICBkZWx0YVhZLFxuICAgICAgICBlbmRYWSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICAkdGFyZ2V0LFxuICAgICAgICBzdGFydF90aW1lc3RhbXAsXG4gICAgICAgIGVuZF90aW1lc3RhbXAsXG4gICAgICAgIHByZXZfdGFwX3RpbWVzdGFtcCA9IDAsXG4gICAgICAgIG1vdGlvbixcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgcHJlc3NfdGltZW91dDtcblxuICAgIHZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uICggbmFtZSwgb3JpZ2luYWxFdmVudCApIHtcblxuICAgICAgICB2YXIgZXZlbnQgPSAkLkV2ZW50ICggbmFtZSApO1xuXG4gICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICBldmVudC5pc1BvaW50ZXJFdmVudCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuXG4gICAgfTtcblxuICAgIHZhciBzdGFydEhhbmRsZXIgPSBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgIHN0YXJ0WFkgPSAkLmV2ZW50WFkgKCBldmVudCApO1xuXG4gICAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgJHRhcmdldCA9ICQodGFyZ2V0KTtcblxuICAgICAgICBzdGFydF90aW1lc3RhbXAgPSBldmVudC50aW1lU3RhbXAgfHwgXy5ub3cgKCk7XG5cbiAgICAgICAgbW90aW9uID0gZmFsc2U7XG5cbiAgICAgICAgcHJlc3NfdGltZW91dCA9IHNldFRpbWVvdXQgKCBfLndyYXAgKCBldmVudCwgcHJlc3NIYW5kbGVyICksICQuUG9pbnRlci5wcmVzc0R1cmF0aW9uICk7XG5cbiAgICAgICAgJHRhcmdldC50cmlnZ2VyICggY3JlYXRlRXZlbnQgKCAkLlBvaW50ZXIuZHJhZ3N0YXJ0LCBldmVudCApLCB7XG4gICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRodG1sLm9uICggbW92ZUV2ZW50cywgbW92ZUhhbmRsZXIgKTtcbiAgICAgICAgJGh0bWwub24gKCBlbmRFdmVudHMsIGVuZEhhbmRsZXIgKTtcblxuICAgIH07XG5cbiAgICB2YXIgcHJlc3NIYW5kbGVyID0gZnVuY3Rpb24gKCBldmVudCApIHsgLy9GSVhNRTogaXQgZG9lc24ndCBnZXQgY2FsbGVkIGlmIHdlIGRvIGV2ZW50LnByZXZlbnREZWZhdWx0ICgpIHdpdGggZHJhZ3N0YXJ0XG5cbiAgICAgICAgJHRhcmdldC50cmlnZ2VyICggY3JlYXRlRXZlbnQgKCAkLlBvaW50ZXIucHJlc3MsIGV2ZW50ICkgKTtcblxuICAgIH07XG5cbiAgICB2YXIgbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dCAoIHByZXNzX3RpbWVvdXQgKTtcblxuICAgICAgICBtb3ZlWFkgPSAkLmV2ZW50WFkgKCBldmVudCApO1xuXG4gICAgICAgIGRlbHRhWFkgPSB7XG4gICAgICAgICAgICBYOiBtb3ZlWFkuWCAtIHN0YXJ0WFkuWCxcbiAgICAgICAgICAgIFk6IG1vdmVYWS5ZIC0gc3RhcnRYWS5ZXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCBNYXRoLmFicyAoIGRlbHRhWFkuWCApID4gJC5Qb2ludGVyLm1vdGlvblRocmVzaG9sZCB8fCBNYXRoLmFicyAoIGRlbHRhWFkuWSApID4gJC5Qb2ludGVyLm1vdGlvblRocmVzaG9sZCApIHtcblxuICAgICAgICAgICAgbW90aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgJHRhcmdldC50cmlnZ2VyICggY3JlYXRlRXZlbnQgKCAkLlBvaW50ZXIuZHJhZ21vdmUsIGV2ZW50ICksIHtcbiAgICAgICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZLFxuICAgICAgICAgICAgICAgIG1vdmVYWTogbW92ZVhZLFxuICAgICAgICAgICAgICAgIGRlbHRhWFk6IGRlbHRhWFlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICB2YXIgZW5kSGFuZGxlciA9IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0ICggcHJlc3NfdGltZW91dCApO1xuXG4gICAgICAgIGVuZFhZID0gJC5ldmVudFhZICggZXZlbnQgKTtcbiAgICAgICAgZGVsdGFYWSA9IHtcbiAgICAgICAgICAgIFg6IGVuZFhZLlggLSBzdGFydFhZLlgsXG4gICAgICAgICAgICBZOiBlbmRYWS5ZIC0gc3RhcnRYWS5ZXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCB0YXJnZXQgPT09IGV2ZW50LnRhcmdldCApIHtcblxuICAgICAgICAgICAgZW5kX3RpbWVzdGFtcCA9IGV2ZW50LnRpbWVTdGFtcCB8fCBfLm5vdyAoKTtcblxuICAgICAgICAgICAgaWYgKCAhJC5icm93c2VyLmhhc1RvdWNoIHx8ICFtb3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci50YXAsIGV2ZW50ICkgKTtcblxuICAgICAgICAgICAgICAgIGlmICggZW5kX3RpbWVzdGFtcCAtIHByZXZfdGFwX3RpbWVzdGFtcCA8PSAkLlBvaW50ZXIuZG91YmxlVGFwSW50ZXJ2YWwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC50cmlnZ2VyICggY3JlYXRlRXZlbnQgKCAkLlBvaW50ZXIuZGJsdGFwLCBldmVudCApICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcmV2X3RhcF90aW1lc3RhbXAgPSBlbmRfdGltZXN0YW1wO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggbW90aW9uICYmICggZW5kX3RpbWVzdGFtcCAtIHN0YXJ0X3RpbWVzdGFtcCA8PSAkLlBvaW50ZXIuZmxpY2tEdXJhdGlvbiApICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBNYXRoLmFicyAoIGRlbHRhWFkuWCApID4gTWF0aC5hYnMgKCBkZWx0YVhZLlkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJztcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKCBkZWx0YVhZLlggPiAwICkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJztcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKCBkZWx0YVhZLlkgPiAwICkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5mbGljaywgZXZlbnQgKSwge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZLFxuICAgICAgICAgICAgICAgICAgICBlbmRYWTogZW5kWFksXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWFk6IGRlbHRhWFksXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAkaHRtbC5vZmYgKCBtb3ZlRXZlbnRzLCBtb3ZlSGFuZGxlciApO1xuICAgICAgICAkaHRtbC5vZmYgKCBlbmRFdmVudHMsIGVuZEhhbmRsZXIgKTtcblxuICAgICAgICAkdGFyZ2V0LnRyaWdnZXIgKCBjcmVhdGVFdmVudCAoICQuUG9pbnRlci5kcmFnZW5kLCBldmVudCApLCB7XG4gICAgICAgICAgICBzdGFydFhZOiBzdGFydFhZLFxuICAgICAgICAgICAgZW5kWFk6IGVuZFhZLFxuICAgICAgICAgICAgZGVsdGFYWTogZGVsdGFYWVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkaHRtbC5vbiAoIHN0YXJ0RXZlbnRzLCBzdGFydEhhbmRsZXIgKTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyB0bXBsLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IEFkZCBzdXBwb3J0IGZvciBfdHJpZ2dlciAtPiBwcmV2ZW50RGVmYXVsdFxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQkFTRSBXSURHRVQgKi9cblxuICAgICQuV2lkZ2V0ID0gZnVuY3Rpb24gKCAvKiBvcHRpb25zLCBlbGVtZW50ICovICkge307XG5cbiAgICAkLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnMgPSBbXTtcblxuICAgICQuV2lkZ2V0LnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICB3aWRnZXRPcmlnaW5hbE5hbWU6ICd3aWRnZXQnLFxuICAgICAgICB3aWRnZXROYW1lOiAnd2lkZ2V0JyxcbiAgICAgICAgd2lkZ2V0RnVsbE5hbWU6ICd3aWRnZXQnLFxuXG4gICAgICAgIGRlZmF1bHRFbGVtZW50OiBmYWxzZSxcbiAgICAgICAgdGVtcGxhdGVzOiB7fSwgLy9JTkZPOiBUaGUgYGJhc2VgIHRlbXBsYXRlIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29uc3RydWN0b3JcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7fVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFdJREdFVCBGVU5DVElPTlMgKi9cblxuICAgICAgICBfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiAoIG9wdGlvbnMsIGVsZW1lbnQgKSB7XG5cbiAgICAgICAgICAgIC8vIFZBUklBQkxFU1xuXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uVHlwZSA9IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2VsZW1lbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZGVmYXVsdEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdodG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50ZW1wbGF0ZXMuYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZW1wbGF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8qIEVYVEVORCBPUFRJT05TICovXG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IF8ubWVyZ2UgKCB7fSwgdGhpcy5vcHRpb25zLCB0aGlzLl9nZXRDcmVhdGVPcHRpb25zICgpLCBvcHRpb25zICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5pbml0aWFsaXphdGlvblR5cGUgPT09ICdlbGVtZW50JyApIHtcblxuICAgICAgICAgICAgICAgIF8ubWVyZ2UgKCB0aGlzLm9wdGlvbnMsICQoZWxlbWVudCkuZGF0YSAoIHRoaXMud2lkZ2V0TmFtZSApICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSU5JVCBFTEVNRU5UXG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgKCB0aGlzLnRlbXBsYXRlcy5iYXNlID8gdGhpcy5fdG1wbCAoICdiYXNlJywgdGhpcy5vcHRpb25zICkgOiBmYWxzZSApIHx8IHRoaXMgKS5nZXQgKCAwICk7XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuICAgICAgICAgICAgdGhpcy5ndWlkID0gXy51bmlxdWVJZCAoKTtcblxuICAgICAgICAgICAgLy8gRElTQUJMRURcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRpc2FibGVkID0gKCBvcHRpb25zICYmIG9wdGlvbnMuZGlzYWJsZWQgKSA/IG9wdGlvbnMuZGlzYWJsZWQgOiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzICggdGhpcy53aWRnZXROYW1lICsgJy1kaXNhYmxlZCcgKTtcblxuICAgICAgICAgICAgLy8gU0FWSU5HIElOU1RBTkNFXG5cbiAgICAgICAgICAgICQuZGF0YSAoIHRoaXMuZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyApO1xuXG4gICAgICAgICAgICAvLyBPTiAkRUxFTUVOVCBSRU1PVkUgLT4gV0lER0VUIERFU1RST1lcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0cnVlLCB0aGlzLiRlbGVtZW50LCAncmVtb3ZlJywgZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ICgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogQ0FMTEJBQ0tTICovXG5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZSAoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjcmVhdGUnLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEgKCkgKTtcblxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVzICgpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbml0ICgpO1xuXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0Q3JlYXRlT3B0aW9uczogXy5ub29wLFxuICAgICAgICBfZ2V0Q3JlYXRlRXZlbnREYXRhOiBfLm5vb3AsXG4gICAgICAgIF9jcmVhdGU6IF8ubm9vcCxcbiAgICAgICAgX3ZhcmlhYmxlczogXy5ub29wLFxuICAgICAgICBfaW5pdDogXy5ub29wLFxuICAgICAgICBfZXZlbnRzOiBfLm5vb3AsXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95ICgpO1xuXG4gICAgICAgICAgICAkLnJlbW92ZURhdGEgKCB0aGlzLmVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9kZXN0cm95OiBfLm5vb3AsXG5cbiAgICAgICAgd2lkZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyBGVU5DVElPTlMgKi9cblxuICAgICAgICBvcHRpb246IGZ1bmN0aW9uICgga2V5LCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgaWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwICggdGhpcy5vcHRpb25zICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBrZXksXG4gICAgICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICAgICAgY3VyT3B0aW9uLFxuICAgICAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICAgIGlmICggdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgbmVzdGVkIGtleXMsIGUuZy4sIFwiZm9vLmJhclwiID0+IHsgZm9vOiB7IGJhcjogX19fIH0gfVxuXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIHBhcnRzID0ga2V5LnNwbGl0ICggJy4nICk7XG4gICAgICAgICAgICAgICAga2V5ID0gcGFydHMuc2hpZnQgKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHBhcnRzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb24gPSBvcHRpb25zW2tleV0gPSBfLmV4dGVuZCAoIHt9LCB0aGlzLm9wdGlvbnNba2V5XSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb25bcGFydHNbaV1dID0gY3VyT3B0aW9uW3BhcnRzW2ldXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9wdGlvbiA9IGN1ck9wdGlvbltwYXJ0c1tpXV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHBhcnRzLnBvcCAoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJPcHRpb25ba2V5XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvbltrZXldO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjdXJPcHRpb25ba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMub3B0aW9uc1trZXldO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zZXRPcHRpb25zICggb3B0aW9ucyApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRPcHRpb25zOiBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBrZXkgaW4gb3B0aW9ucyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NldE9wdGlvbiAoIGtleSwgb3B0aW9uc1trZXldICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiAoIGtleSwgdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICgga2V5ID09PSAnZGlzYWJsZWQnICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyAoIHRoaXMud2lkZ2V0TmFtZSArICctZGlzYWJsZWQnLCAhIXZhbHVlICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBFTkFCTElORyAvIERJU0FCTElORyAqL1xuXG4gICAgICAgIGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyAoeyBkaXNhYmxlZDogZmFsc2UgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRPcHRpb25zICh7IGRpc2FibGVkOiB0cnVlIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogRVZFTlRTICovXG5cbiAgICAgICAgX29uOiBmdW5jdGlvbiAoIHN1cHByZXNzRGlzYWJsZWRDaGVjaywgJGVsZW1lbnQsIGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXIgKSB7XG5cbiAgICAgICAgICAgIC8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIGN1c3RvbSBkYXRhXG5cbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gJ2Jvb2xlYW4nICkge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gZXZlbnRzO1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9ICRlbGVtZW50O1xuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuICAgICAgICAgICAgICAgIHN1cHByZXNzRGlzYWJsZWRDaGVjayA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggISggJGVsZW1lbnQgaW5zdGFuY2VvZiAkICkgKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBldmVudHM7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggc2VsZWN0b3IgJiYgIWhhbmRsZXIgKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBmYWxzZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyID0gXy5pc1N0cmluZyAoIGhhbmRsZXIgKSA/IHRoaXNbaGFuZGxlcl0gOiBoYW5kbGVyO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyUHJveHkgKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmICggaW5zdGFuY2Uub3B0aW9ucy5kaXNhYmxlZCB8fCBpbnN0YW5jZS4kZWxlbWVudC5oYXNDbGFzcyAoIGluc3RhbmNlLndpZGdldE5hbWUgKyAnLWRpc2FibGVkJyApICkgKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IF8uc2xpY2UgKCBhcmd1bWVudHMgKTtcblxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaCAoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmFwcGx5ICggaW5zdGFuY2UsIGFyZ3MgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyUHJveHkuZ3VpZCA9IGhhbmRsZXIuZ3VpZCA9ICggaGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrICk7XG5cbiAgICAgICAgICAgIGlmICggc2VsZWN0b3IgKSB7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbiAoIGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXJQcm94eSApO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQub24gKCBldmVudHMsIGhhbmRsZXJQcm94eSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfb2ZmOiBmdW5jdGlvbiAoICRlbGVtZW50LCBldmVudHMsIGhhbmRsZXIgKSB7XG5cbiAgICAgICAgICAgIGlmICggIWhhbmRsZXIgKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gZXZlbnRzO1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9ICRlbGVtZW50O1xuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyID0gXy5pc1N0cmluZyAoIGhhbmRsZXIgKSA/IHRoaXNbaGFuZGxlcl0gOiBoYW5kbGVyO1xuXG4gICAgICAgICAgICAkZWxlbWVudC5vZmYgKCBldmVudHMsIGhhbmRsZXIgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF90cmlnZ2VyOiBmdW5jdGlvbiAoIGV2ZW50cywgZGF0YSApIHtcblxuICAgICAgICAgICAgZGF0YSA9IGRhdGEgfHwge307XG5cbiAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdCAoICcgJyApO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgZWkgPSAwLCBlbCA9IGV2ZW50cy5sZW5ndGg7IGVpIDwgZWw7IGVpKysgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIgKCB0aGlzLndpZGdldE5hbWUgKyAnOicgKyBldmVudHNbZWldLCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuY2FsbGJhY2tzW2V2ZW50c1tlaV1dID09PSAnZnVuY3Rpb24nICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jYWxsYmFja3NbZXZlbnRzW2VpXV0uY2FsbCAoIHRoaXMuZWxlbWVudCwgZGF0YSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBERUxBWUlORyAqL1xuXG4gICAgICAgIF9kZWxheTogZnVuY3Rpb24gKCBoYW5kbGVyLCBkZWxheSApIHtcblxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5ICggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXG4gICAgICAgICAgICB9LCBkZWxheSB8fCAwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBURU1QTEFURSAqL1xuXG4gICAgICAgIF90bXBsOiBmdW5jdGlvbiAoIG5hbWUsIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAkLnRtcGwgKCB0aGlzLndpZGdldE9yaWdpbmFsTmFtZSArICcuJyArIG5hbWUsIG9wdGlvbnMgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE1BTklQVUxBVElPTiAqL1xuXG4gICAgICAgIGluc2VydEJlZm9yZTogZnVuY3Rpb24gKCBzZWxlY3RvciApIHtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5pbnNlcnRCZWZvcmUgKCBzZWxlY3RvciApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiAoIHNlbGVjdG9yICkge1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50Lmluc2VydEFmdGVyICggc2VsZWN0b3IgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBwcmVwZW5kVG86IGZ1bmN0aW9uICggc2VsZWN0b3IgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQucHJlcGVuZFRvICggc2VsZWN0b3IgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBhcHBlbmRUbzogZnVuY3Rpb24gKCBzZWxlY3RvciApIHtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hcHBlbmRUbyAoIHNlbGVjdG9yICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgYmFzZV93aWRnZXQuanNcbiAqIEByZXF1aXJlcyB0bXBsLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogV0lER0VUIEZBQ1RPUlkgKi9cblxuICAgICQud2lkZ2V0ID0gZnVuY3Rpb24gKCBvcmlnaW5hbE5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblxuICAgICAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgICAgICB2YXIgZnVsbE5hbWUsXG4gICAgICAgICAgICBleGlzdGluZ0NvbnN0cnVjdG9yLFxuICAgICAgICAgICAgY29uc3RydWN0b3IsXG4gICAgICAgICAgICBiYXNlUHJvdG90eXBlLFxuICAgICAgICAgICAgcHJveGllZFByb3RvdHlwZSA9IHt9LFxuICAgICAgICAgICAgbmFtZVBhcnRzID0gb3JpZ2luYWxOYW1lLnNwbGl0ICggJy4nICksXG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBuYW1lUGFydHMubGVuZ3RoID4gMSA/IG5hbWVQYXJ0c1swXSA6IGZhbHNlLFxuICAgICAgICAgICAgbmFtZSA9IG5hbWVQYXJ0cy5sZW5ndGggPiAxID8gbmFtZVBhcnRzWzFdIDogbmFtZVBhcnRzWzBdO1xuXG4gICAgICAgIGZ1bGxOYW1lID0gbmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJy0nICsgbmFtZSA6IG5hbWU7XG5cbiAgICAgICAgLyogTk8gQkFTRSAqL1xuXG4gICAgICAgIGlmICggIXByb3RvdHlwZSApIHtcblxuICAgICAgICAgICAgcHJvdG90eXBlID0gYmFzZTtcbiAgICAgICAgICAgIGJhc2UgPSAkLldpZGdldDtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyogTkFNRVNQQUNFICovXG5cbiAgICAgICAgaWYgKCBuYW1lc3BhY2UgKSB7XG5cbiAgICAgICAgICAgICRbbmFtZXNwYWNlXSA9ICRbbmFtZXNwYWNlXSB8fCB7fTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyogQ09OU1RSVUNUT1IgKi9cblxuICAgICAgICBleGlzdGluZ0NvbnN0cnVjdG9yID0gbmFtZXNwYWNlID8gJFtuYW1lc3BhY2VdW25hbWVdIDogJFtuYW1lXTtcblxuICAgICAgICBjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICggb3B0aW9ucywgZWxlbWVudCApIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3RvciAoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVXaWRnZXQgKCBvcHRpb25zLCBlbGVtZW50ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBuYW1lc3BhY2UgKSB7XG5cbiAgICAgICAgICAgICRbbmFtZXNwYWNlXVtuYW1lXSA9IGNvbnN0cnVjdG9yO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICRbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyogRVhURU5ESU5HIENPTlNUUlVDVE9SIElOIE9SREVSIFRPIENBUlJZIE9WRVIgU1RBVElDIFBST1BFUlRJRVMgKi9cblxuICAgICAgICBfLmV4dGVuZCAoIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLCB7XG4gICAgICAgICAgICBfcHJvdG86IF8uZXh0ZW5kICgge30sIHByb3RvdHlwZSApLFxuICAgICAgICAgICAgX2NoaWxkQ29uc3RydWN0b3JzOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICAvKiBCQVNFIFBST1RPVFlQRSAqL1xuXG4gICAgICAgIGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSAoKTtcblxuICAgICAgICBiYXNlUHJvdG90eXBlLm9wdGlvbnMgPSBfLmV4dGVuZCAoIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTsgLy9JTkZPOiBXZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Ugb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZSBpbmhlcml0aW5nIGZyb21cblxuICAgICAgICAvKiBQUk9YSUVEIFBST1RPVFlQRSAqL1xuXG4gICAgICAgIGZvciAoIHZhciBwcm9wIGluIHByb3RvdHlwZSApIHtcblxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgcHJvdG90eXBlW3Byb3BdICE9PSAnZnVuY3Rpb24nICkge1xuXG4gICAgICAgICAgICAgICAgcHJveGllZFByb3RvdHlwZVtwcm9wXSA9IHByb3RvdHlwZVtwcm9wXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm94aWVkUHJvdG90eXBlW3Byb3BdID0gKGZ1bmN0aW9uICggcHJvcCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5wcm90b3R5cGVbcHJvcF0uYXBwbHkgKCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3N1cGVyQXBwbHkgPSBmdW5jdGlvbiAoIGFyZ3MgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5wcm90b3R5cGVbcHJvcF0uYXBwbHkgKCB0aGlzLCBhcmdzICk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSBfc3VwZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHByb3RvdHlwZVtwcm9wXS5hcHBseSAoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX19zdXBlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXJBcHBseSA9IF9fc3VwZXJBcHBseTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9KSggcHJvcCApO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBDT05TVFJVQ1RPUiBQUk9UT1RZUEUgKi9cblxuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBfLmV4dGVuZCAoIGJhc2VQcm90b3R5cGUsIHByb3hpZWRQcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlLFxuICAgICAgICAgICAgd2lkZ2V0T3JpZ2luYWxOYW1lOiBvcmlnaW5hbE5hbWUsXG4gICAgICAgICAgICB3aWRnZXROYW1lOiBuYW1lLFxuICAgICAgICAgICAgd2lkZ2V0RnVsbE5hbWU6IGZ1bGxOYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qIENBQ0hFIFRFTVBMQVRFUyAqL1xuXG4gICAgICAgIGZvciAoIHZhciB0bXBsX25hbWUgaW4gcHJvdG90eXBlLnRlbXBsYXRlcyApIHtcblxuICAgICAgICAgICAgJC50bXBsLmNhY2hlW29yaWdpbmFsTmFtZSArICcuJyArIHRtcGxfbmFtZV0gPSAkLnRtcGwgKCBwcm90b3R5cGUudGVtcGxhdGVzW3RtcGxfbmFtZV0gKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyogVVBEQVRFIFBST1RPVFlQRSBDSEFJTiAqL1xuXG4gICAgICAgIGlmICggZXhpc3RpbmdDb25zdHJ1Y3RvciApIHtcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkUHJvdG90eXBlID0gZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnNbaV0ucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgJC53aWRnZXQgKCAoIGNoaWxkUHJvdG90eXBlLm5hbWVzcGFjZSA/IGNoaWxkUHJvdG90eXBlLm5hbWVzcGFjZSArICcuJyArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUgOiBjaGlsZFByb3RvdHlwZS53aWRnZXROYW1lICksIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9yc1tpXS5fcHJvdG8gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnM7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYmFzZS5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaCAoIGNvbnN0cnVjdG9yICk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIENPTlNUUlVDVCAqL1xuXG4gICAgICAgICQud2lkZ2V0LmJyaWRnZSAoIG5hbWUsIGNvbnN0cnVjdG9yICk7XG5cbiAgICAgICAgLyogUkVUVVJOICovXG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuXG4gICAgfTtcblxuICAgICQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uICggbmFtZSwgb2JqZWN0ICkge1xuXG4gICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgIHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblxuICAgICAgICAvKiBQTFVHSU4gKi9cblxuICAgICAgICAkLmZuW25hbWVdID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMubGVuZ3RoID09PSAwICYmICFvYmplY3QucHJvdG90eXBlLmRlZmF1bHRFbGVtZW50ICYmICFvYmplY3QucHJvdG90eXBlLnRlbXBsYXRlcy5iYXNlICkgcmV0dXJuOyAvL0lORk86IG5vdGhpbmcgdG8gd29yayBvbiAvL0ZJWE1FOiBjcmVhdGUgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdEVsZW1lbnQgb3IgdGhlIHRlbXBsYXRlcy5iYXNlIG9wdGlvbnMsIHRoZW4gYWRkIHRoZSBpbnN0YW5jZSB0byBoaW1cblxuICAgICAgICAgICAgdmFyIGlzTWV0aG9kQ2FsbCA9ICggdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnICksXG4gICAgICAgICAgICAgICAgYXJncyA9IF8udGFpbCAoIGFyZ3VtZW50cyApLFxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCBpc01ldGhvZENhbGwgKSB7XG5cbiAgICAgICAgICAgICAgICAvKiBNRVRIT0QgQ0FMTCAqL1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gJC5kYXRhICggdGhpcywgZnVsbE5hbWUgKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiBHRVRUSU5HIElOU1RBTkNFICovXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBvcHRpb25zID09PSAnaW5zdGFuY2UnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGluc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qIENIRUNLSU5HIFZBTElEIENBTEwgKi9cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFpbnN0YW5jZSApIHJldHVybjsgLy9JTkZPOiBObyBpbnN0YW5jZSBmb3VuZFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggISh0eXBlb2YgaW5zdGFuY2Vbb3B0aW9uc10gPT09ICdmdW5jdGlvbicpIHx8IG9wdGlvbnMuY2hhckF0ICggMCApID09PSAnXycgKSByZXR1cm47IC8vSU5GTzogUHJpdmF0ZSBtZXRob2RcblxuICAgICAgICAgICAgICAgICAgICAvKiBDQUxMSU5HICovXG5cbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kVmFsdWUgPSBpbnN0YW5jZVtvcHRpb25zXS5hcHBseSAoIGluc3RhbmNlLCBhcmdzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLyogU1VQUE9SVCBGT1IgUEFTU0lORyBNVUxUSVBMRSBPUFRJT05TIE9CSkVDVFMgKi9cblxuICAgICAgICAgICAgICAgIGlmICggYXJncy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kLmFwcGx5ICggbnVsbCwgW29wdGlvbnNdLmNvbmNhdCAoIGFyZ3MgKSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogSU5TVEFOQ0lBVElORyAqL1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIEdFVCBJTlNUQU5DRSAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9ICQuZGF0YSAoIHRoaXMsIGZ1bGxOYW1lICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uub3B0aW9uICggb3B0aW9ucyB8fCB7fSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQuZGF0YSAoIHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0ICggb3B0aW9ucywgdGhpcyApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIGxvZGFzaC1leHRyYS5qc1xuICogQHJlcXVpcmVzIGpRdWVyeS1leHRyYS5qc1xuICogQHJlcXVpcmVzIHRtcGwuanNcbiAqIEByZXF1aXJlcyBicm93c2VyLmpzXG4gKiBAcmVxdWlyZXMgcG9pbnRlci5qc1xuICogQHJlcXVpcmVzIGJhc2Vfd2lkZ2V0LmpzXG4gKiBAcmVxdWlyZXMgd2lkZ2V0LmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVUkgKi9cblxuICAgICQudWkgPSB7XG4gICAgICAgIGtleUNvZGU6IHtcbiAgICAgICAgICAgIEJBQ0tTUEFDRTogOCxcbiAgICAgICAgICAgIENPTU1BOiAxODgsXG4gICAgICAgICAgICBERUxFVEU6IDQ2LFxuICAgICAgICAgICAgRE9XTjogNDAsXG4gICAgICAgICAgICBFTkQ6IDM1LFxuICAgICAgICAgICAgRU5URVI6IDEzLFxuICAgICAgICAgICAgRVNDQVBFOiAyNyxcbiAgICAgICAgICAgIEhPTUU6IDM2LFxuICAgICAgICAgICAgTEVGVDogMzcsXG4gICAgICAgICAgICBQQUdFX0RPV046IDM0LFxuICAgICAgICAgICAgUEFHRV9VUDogMzMsXG4gICAgICAgICAgICBQRVJJT0Q6IDE5MCxcbiAgICAgICAgICAgIFJJR0hUOiAzOSxcbiAgICAgICAgICAgIFNQQUNFOiAzMixcbiAgICAgICAgICAgIFRBQjogOSxcbiAgICAgICAgICAgIFVQOiAzOFxuICAgICAgICB9LFxuICAgICAgICBtb3VzZUJ1dHRvbjoge1xuICAgICAgICAgICAgTEVGVDogMCxcbiAgICAgICAgICAgIE1JRERMRTogMSxcbiAgICAgICAgICAgIFJJR0hUOiAyXG4gICAgICAgIH1cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEFDQ09SRElPTiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmFjY29yZGlvbicsIHtcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRhY2NvcmRpb24gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kZXhwYW5kZXJzID0gdGhpcy4kYWNjb3JkaW9uLmNoaWxkcmVuICggJy5leHBhbmRlcicgKTtcblxuICAgICAgICAgICAgdGhpcy5leHBhbmRlcnNfaW5zdGFuY2VzID0gQXJyYXkgKCB0aGlzLiRleHBhbmRlcnMubGVuZ3RoICk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IHRoaXMuJGFjY29yZGlvbi5oYXNDbGFzcyAoICdtdWx0aXBsZScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRoaXMuJGV4cGFuZGVycy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaV0gPSB0aGlzLiRleHBhbmRlcnMuZXEgKCBpICkuZXhwYW5kZXIgKCAnaW5zdGFuY2UnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnZXhwYW5kZXI6b3BlbicsICcuZXhwYW5kZXInLCB0aGlzLl9oYW5kbGVyX29wZW4gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QRU4gKi9cblxuICAgICAgICBfaGFuZGxlcl9vcGVuOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhLCBub2RlICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzTXVsdGlwbGUgKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLiRleHBhbmRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy4kZXhwYW5kZXJzW2ldICE9PSBub2RlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaV0uY2xvc2UgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0udG9nZ2xlICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlQWxsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCAoIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKCBpbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnRvZ2dsZSAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoIGluZGV4ICkge1xuXG4gICAgICAgICAgICB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXNbaW5kZXhdLm9wZW4gKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuQWxsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIF8uZWFjaCAoIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlcywgZnVuY3Rpb24gKCBpbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm9wZW4gKCk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICggaW5kZXggKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZXJzX2luc3RhbmNlc1tpbmRleF0uY2xvc2UgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZUFsbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBfLmVhY2ggKCB0aGlzLmV4cGFuZGVyc19pbnN0YW5jZXMsIGZ1bmN0aW9uICggaW5zdGFuY2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmFjY29yZGlvbicpLmFjY29yZGlvbiAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9JTkZPOiBPbmx5IHdvcmtzIHdpdGggYGJveC1zaXppbmc6IGJvcmRlci1ib3hgXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBBVVRPR1JPVyAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmF1dG9ncm93Jywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBtaW5pbXVtX3dpZHRoOiAwLFxuICAgICAgICAgICAgbWluaW11bV9oZWlnaHQ6IDAsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGdyb3dhYmxlID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pc0lucHV0ID0gdGhpcy4kZ3Jvd2FibGUuaXMgKCAnaW5wdXQnICk7XG4gICAgICAgICAgICB0aGlzLmlzVGV4dGFyZWEgPSB0aGlzLiRncm93YWJsZS5pcyAoICd0ZXh0YXJlYScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdpbnB1dCBjaGFuZ2UnLCB0aGlzLnVwZGF0ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogSU5QVVQgKi9cblxuICAgICAgICBfdXBkYXRlX2lucHV0X3dpZHRoOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZWVkZWRfd2lkdGggPSB0aGlzLl9nZXRfaW5wdXRfbmVlZGVkX3dpZHRoICggdGhpcy4kZ3Jvd2FibGUgKTtcblxuICAgICAgICAgICAgdGhpcy4kZ3Jvd2FibGUud2lkdGggKCBNYXRoLm1heCAoIG5lZWRlZF93aWR0aCwgdGhpcy5vcHRpb25zLm1pbmltdW1fd2lkdGggKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldF9pbnB1dF9uZWVkZWRfd2lkdGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRzcGFuID0gJCggJzxzcGFuPicgKyB0aGlzLiRncm93YWJsZS52YWwgKCkgKyAnPC9zcGFuPicgKTtcblxuICAgICAgICAgICAgJHNwYW4uY3NzICh7XG4gICAgICAgICAgICAgICAgZm9udDogdGhpcy4kZ3Jvd2FibGUuY3NzICggJ2ZvbnQnICksXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzcGFuLmFwcGVuZFRvICggJGJvZHkgKTtcblxuICAgICAgICAgICAgdmFyIHdpZHRoID0gJHNwYW4ud2lkdGggKCk7XG5cbiAgICAgICAgICAgICRzcGFuLnJlbW92ZSAoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogVEVYVEFSRUEgKi9cblxuICAgICAgICBfdXBkYXRlX3RleHRhcmVhX2hlaWdodDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgbmVlZGVkX2hlaWdodCA9IHRoaXMuJGdyb3dhYmxlLmhlaWdodCAoIDEgKS5nZXQgKCAwICkuc2Nyb2xsSGVpZ2h0IC0gcGFyc2VGbG9hdCAoIHRoaXMuJGdyb3dhYmxlLmNzcyAoICdwYWRkaW5nLXRvcCcgKSApIC0gcGFyc2VGbG9hdCAoIHRoaXMuJGdyb3dhYmxlLmNzcyAoICdwYWRkaW5nLWJvdHRvbScgKSApO1xuXG4gICAgICAgICAgICB0aGlzLiRncm93YWJsZS5oZWlnaHQgKCBNYXRoLm1heCAoIG5lZWRlZF9oZWlnaHQsIHRoaXMub3B0aW9ucy5taW5pbXVtX2hlaWdodCApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmlzSW5wdXQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXRfd2lkdGggKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3VwZGF0ZScgKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggdGhpcy5pc1RleHRhcmVhICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RleHRhcmVhX2hlaWdodCAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAndXBkYXRlJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnaW5wdXQuYXV0b2dyb3csIHRleHRhcmVhLmF1dG9ncm93LCAuaW5wdXQtd3JwLmF1dG9ncm93IGlucHV0LCAudGV4dGFyZWEtd3JwLmF1dG9ncm93IHRleHRhcmVhJykuYXV0b2dyb3cgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBCTFVSICovXG5cbiAgICAkLmZuLmJsdXJyZWQgPSBmdW5jdGlvbiAoIGZvcmNlICkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUNsYXNzICggJ2JsdXJyZWQnLCBmb3JjZSApO1xuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2xvZGFzaC1leHRyYS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEJJTkFSWSBUUkVFIC5lYWNoICgpICovXG5cbiAgICAkLmZuLmJ0RWFjaCA9IGZ1bmN0aW9uICggY2FsbGJhY2ssIHN0YXJ0SW5kZXggKSB7XG5cbiAgICAgICAgcmV0dXJuIF8uYnRFYWNoICggdGhpcywgY2FsbGJhY2ssIHN0YXJ0SW5kZXggKTtcblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQ0hFQ0tCT1ggKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5jaGVja2JveCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVuY2hlY2tlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kY2hlY2tib3ggPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRjaGVja2JveC5maW5kICggJ2lucHV0JyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHsgLy9GSVhNRTogaXMgaXQgbmVjZXNzYXJ5IHRvIGluY2x1ZGUgaXQ/IE1heWJlIHdlIHNob3VsZCBmaXggbWlzdGFrZXMgd2l0aCB0aGUgbWFya3VwLi4uXG5cbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9IHRoaXMuJGNoZWNrYm94Lmhhc0NsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5nZXQgKCkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoICFoYXNDbGFzcyApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGVja2JveC5hZGRDbGFzcyAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBoYXNDbGFzcyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNoZWNrYm94LnJlbW92ZUNsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdHJ1ZSwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGlzQ2hlY2tlZCA9IHRoaXMuZ2V0ICgpO1xuXG4gICAgICAgICAgICB0aGlzLiRjaGVja2JveC50b2dnbGVDbGFzcyAoICdjaGVja2VkJywgaXNDaGVja2VkICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBpc0NoZWNrZWQgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IC8vRklYTUU6IG1heWJlIHRoaXMgc2hvdWxkIHJldHVybiB0aGUgdmFsdWUsIGFuZCBhIGlzQ2hlY2tlZCBlcXVpdmFsZW50IHNob3VsZCBkbyB0aGlzIGpvYlxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoIGZvcmNlICkge1xuXG4gICAgICAgICAgICB2YXIgaXNDaGVja2VkID0gdGhpcy5nZXQgKCk7XG5cbiAgICAgICAgICAgIGlmICggXy5pc1VuZGVmaW5lZCAoIGZvcmNlICkgKSB7XG5cbiAgICAgICAgICAgICAgICBmb3JjZSA9ICFpc0NoZWNrZWQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBmb3JjZSAhPT0gaXNDaGVja2VkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJywgZm9yY2UgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBmb3JjZSA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnICk7IC8vRklYTUU6IGlzIHRyaWdnZXJlZCB0d2ljZSBwZXIgdG9nZ2xlXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlICggdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5jaGVjazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoIGZhbHNlICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmNoZWNrYm94JykuY2hlY2tib3ggKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIENPTE9SIEhFTFBFUiAqL1xuXG4gICAgd2luZG93LkNvbG9ySGVscGVyID0ge1xuXG4gICAgICAgIC8qIENPTE9SIFNQQUNFUyBDT05WRVJURVJTICovXG5cbiAgICAgICAgaGV4MnJnYjogZnVuY3Rpb24gKCBoZXggKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogdGhpcy5oZXgyZGVjICggaGV4LnIgKSxcbiAgICAgICAgICAgICAgICBnOiB0aGlzLmhleDJkZWMgKCBoZXguZyApLFxuICAgICAgICAgICAgICAgIGI6IHRoaXMuaGV4MmRlYyAoIGhleC5iIClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSxcblxuICAgICAgICBoZXgyaHN2OiBmdW5jdGlvbiAoIGhleCApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmdiMmhzdiAoIHRoaXMuaGV4MnJnYiAoIGhleCApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZ2IyaGV4OiBmdW5jdGlvbiAoIHJnYiApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiB0aGlzLmRlYzJoZXggKCByZ2IuciApLFxuICAgICAgICAgICAgICAgIGc6IHRoaXMuZGVjMmhleCAoIHJnYi5nICksXG4gICAgICAgICAgICAgICAgYjogdGhpcy5kZWMyaGV4ICggcmdiLmIgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJnYjJoc3Y6IGZ1bmN0aW9uICggcmdiICkge1xuXG4gICAgICAgICAgICB2YXIgciA9IHJnYi5yIC8gMjU1LFxuICAgICAgICAgICAgICAgIGcgPSByZ2IuZyAvIDI1NSxcbiAgICAgICAgICAgICAgICBiID0gcmdiLmIgLyAyNTUsXG4gICAgICAgICAgICAgICAgaCwgcyxcbiAgICAgICAgICAgICAgICB2ID0gTWF0aC5tYXggKCByLCBnLCBiICksXG4gICAgICAgICAgICAgICAgZGlmZiA9IHYgLSBNYXRoLm1pbiAoIHIsIGcsIGIgKSxcbiAgICAgICAgICAgICAgICBkaWZmYyA9IGZ1bmN0aW9uICggYyApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICggdiAtIGMgKSAvIDYgLyBkaWZmICsgMSAvIDI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCBkaWZmID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgaCA9IHMgPSAwO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcyA9IGRpZmYgLyB2O1xuXG4gICAgICAgICAgICAgICAgdmFyIHJyID0gZGlmZmMgKCByICksXG4gICAgICAgICAgICAgICAgICAgIGdnID0gZGlmZmMgKCBnICksXG4gICAgICAgICAgICAgICAgICAgIGJiID0gZGlmZmMgKCBiICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHIgPT09IHYgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCA9IGJiIC0gZ2c7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBnID09PSB2ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGggPSAoIDEgLyAzICkgKyByciAtIGJiO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYiA9PT0gdiApIHtcblxuICAgICAgICAgICAgICAgICAgICBoID0gKCAyIC8gMyApICsgZ2cgLSBycjtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggaCA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCArPSAxO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggaCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaCAtPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGg6IGggKiAzNjAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHM6IHMgKiAxMDAsIC8vRklYTUU6IHJlbW92ZWQgTWF0aC5yb3VuZCwgdGVzdCBpZiBpcyBva1xuICAgICAgICAgICAgICAgIHY6IHYgKiAxMDAgLy9GSVhNRTogcmVtb3ZlZCBNYXRoLnJvdW5kLCB0ZXN0IGlmIGlzIG9rXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MmhleDogZnVuY3Rpb24gKCBoc3YgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJnYjJoZXggKCB0aGlzLmhzdjJyZ2IgKCBoc3YgKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHN2MnJnYjogZnVuY3Rpb24gKCBoc3YgKSB7XG5cbiAgICAgICAgICAgIHZhciByLCBnLCBiLFxuICAgICAgICAgICAgICAgIGggPSBoc3YuaCxcbiAgICAgICAgICAgICAgICBzID0gaHN2LnMsXG4gICAgICAgICAgICAgICAgdiA9IGhzdi52O1xuXG4gICAgICAgICAgICBzIC89IDEwMDtcbiAgICAgICAgICAgIHYgLz0gMTAwO1xuXG4gICAgICAgICAgICBpZiAoIHMgPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICByID0gZyA9IGIgPSB2O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGksIGYsIHAsIHEsIHQ7XG5cbiAgICAgICAgICAgICAgICBoIC89IDYwO1xuICAgICAgICAgICAgICAgIGkgPSBNYXRoLmZsb29yICggaCApO1xuICAgICAgICAgICAgICAgIGYgPSBoIC0gaTtcbiAgICAgICAgICAgICAgICBwID0gdiAqICggMSAtIHMgKTtcbiAgICAgICAgICAgICAgICBxID0gdiAqICggMSAtIHMgKiBmICk7XG4gICAgICAgICAgICAgICAgdCA9IHYgKiAoIDEgLSBzICogKCAxIC0gZiApICk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCBpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHE7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJvdW5kICggciAqIDI1NSApLFxuICAgICAgICAgICAgICAgIGc6IE1hdGgucm91bmQgKCBnICogMjU1ICksXG4gICAgICAgICAgICAgICAgYjogTWF0aC5yb3VuZCAoIGIgKiAyNTUgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGhzdjJoc2w6IGZ1bmN0aW9uICggaHN2ICkge1xuXG4gICAgICAgICAgICB2YXIgcyA9IGhzdi5zIC8gMTAwLFxuICAgICAgICAgICAgICAgIHYgPSBoc3YudiAvIDEwMCxcbiAgICAgICAgICAgICAgICB0ZW1wTCA9ICggMiAtIHMgKSAqIHYsXG4gICAgICAgICAgICAgICAgdGVtcFMgPSBzICogdjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoOiBoc3YuaCxcbiAgICAgICAgICAgICAgICBzOiAoIHRlbXBTIC8gKCAoIHRlbXBMIDw9IDEgKSA/IHRlbXBMIDogMiAtIHRlbXBMICkgKSAqIDEwMCxcbiAgICAgICAgICAgICAgICBsOiAoIHRlbXBMIC8gMiApICogMTAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaHNsMmhzdjogZnVuY3Rpb24gKCBoc2wgKSB7XG5cbiAgICAgICAgICAgIHZhciBsID0gaHNsLmwgLyAxMDAgKiAyLFxuICAgICAgICAgICAgICAgIHMgPSAoIGhzbC5zIC8gMTAwICkgKiAoIGwgPD0gMSA/IGwgOiAyIC0gbCApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGg6IGhzbC5oLFxuICAgICAgICAgICAgICAgIHM6ICggMiAqIHMgKSAvICggbCArIHMgKSAqIDEwMCxcbiAgICAgICAgICAgICAgICB2OiAoIGwgKyBzICkgLyAyICogMTAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0NBTEUgQ09OVkVSVEVSUyAqL1xuXG4gICAgICAgIGRlYzJoZXg6IGZ1bmN0aW9uICggZGVjICkge1xuXG4gICAgICAgICAgICByZXR1cm4gXy5wYWRMZWZ0ICggZGVjLnRvU3RyaW5nICggMTYgKSwgMiwgJzAnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBoZXgyZGVjOiBmdW5jdGlvbiAoIGhleCApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ICggaGV4LCAxNiApO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvbG9yX2hlbHBlci9jb2xvckhlbHBlci5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEhFWCBDT0xPUiAqL1xuXG4gICAgd2luZG93LkhleENvbG9yID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICBpZiAoIF8uaXNTdHJpbmcgKCB2YWx1ZSApICkge1xuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UgKCAnIycsICcnICk7XG5cbiAgICAgICAgICAgICBpZiAoIC9eKFswLTlhLWZdezN9KXsyfSQvaS50ZXN0ICggdmFsdWUgKSApIHsgLy9JTkZPOiBmdWxsIDYtY2hhcnMgY29sb3JcblxuICAgICAgICAgICAgICAgIHRoaXMuaHN2ID0gQ29sb3JIZWxwZXIuaGV4MmhzdiAoe1xuICAgICAgICAgICAgICAgICAgICByOiB2YWx1ZVswXSArIHZhbHVlWzFdLFxuICAgICAgICAgICAgICAgICAgICBnOiB2YWx1ZVsyXSArIHZhbHVlWzNdLFxuICAgICAgICAgICAgICAgICAgICBiOiB2YWx1ZVs0XSArIHZhbHVlWzVdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIC9eWzAtOWEtZl17M30kL2kudGVzdCAoIHZhbHVlICkgKSB7IC8vSU5GTzogc2hvcnRoYW5kIDMtY2hhcnMgY29sb3JcblxuICAgICAgICAgICAgICAgIHRoaXMuaHN2ID0gQ29sb3JIZWxwZXIuaGV4MmhzdiAoe1xuICAgICAgICAgICAgICAgICAgICByOiB2YWx1ZVswXSArIHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgICAgICBnOiB2YWx1ZVsxXSArIHZhbHVlWzFdLFxuICAgICAgICAgICAgICAgICAgICBiOiB2YWx1ZVsyXSArIHZhbHVlWzJdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKiBIRVggQ09MT1IgUFJPVE9UWVBFICovXG5cbiAgICBIZXhDb2xvci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG5cbiAgICAgICAgaHN2OiB7XG4gICAgICAgICAgICBoOiAwLFxuICAgICAgICAgICAgczogMCxcbiAgICAgICAgICAgIHY6IDBcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRIZXhTdHI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGhleCA9IENvbG9ySGVscGVyLmhzdjJoZXggKCB0aGlzLmhzdiApO1xuXG4gICAgICAgICAgICByZXR1cm4gJyMnICsgaGV4LnIgKyBoZXguZyArIGhleC5iO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL2hleF9jb2xvci9oZXhDb2xvci5qc1xuICogQHJlcXVpcmVzIC4uL2NvbG9yX2hlbHBlci9jb2xvckhlbHBlci5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgYWxwaGEgY2hhbm5lbFxuLy9UT0RPOiBhZGQgYSAkYmdzIHZhcmlhYmxlIHdoZXJlIHdlIHVwZGF0ZSB0aGUgYmFja2dyb3VuZFxuLy9UT0RPOiBBZGQgYW4gaW5wdXQgaW5zaWRlLCBzbyB0aGF0IGl0IHdvcmtzIGFsc28gd2l0aG91dCBhbiBleHRlcm5hbCBpbnB1dFxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogQ09MT1JQSUNLRVIgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5jb2xvcnBpY2tlcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgZGVmYXVsdF9jb2xvcjogJyNmZjAwMDAnLFxuICAgICAgICAgICAgbGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kY29sb3JwaWNrZXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kc2Jfd3JwID0gdGhpcy4kY29sb3JwaWNrZXIuZmluZCAoICcuY29sb3JwaWNrZXItc2F0dXJhdGlvbi1icmlnaHRuZXNzLXdycCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfc2IgPSB0aGlzLiRzYl93cnAuZmluZCAoICcuY29sb3JwaWNrZXItaGFuZGxlcicgKTtcbiAgICAgICAgICAgIHRoaXMuJGh1ZV93cnAgPSB0aGlzLiRjb2xvcnBpY2tlci5maW5kICggJy5jb2xvcnBpY2tlci1odWUtd3JwJyApO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl9odWUgPSB0aGlzLiRodWVfd3JwLmZpbmQgKCAnLmNvbG9ycGlja2VyLWhhbmRsZXInICk7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiRjb2xvcnBpY2tlci5hdHRyICggJ2lkJyApO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXRzID0gJCgnaW5wdXRbbmFtZT1cIicgKyB0aGlzLmlkICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3IEhleENvbG9yICgpO1xuICAgICAgICAgICAgdGhpcy5oZXggPSAnJztcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcyAoKTtcblxuICAgICAgICAgICAgdGhpcy5zYl93cnBfc2l6ZSA9IHRoaXMuJHNiX3dycC53aWR0aCAoKTtcblxuICAgICAgICAgICAgdGhpcy5odWVfd3JwX2hlaWdodCA9IHRoaXMuc2Jfd3JwX3NpemU7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLnNldCAoIHRoaXMuJGlucHV0cy52YWwgKCkgKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXcgSGV4Q29sb3IgKCB0aGlzLm9wdGlvbnMuZGVmYXVsdF9jb2xvciApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3NiICgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogV0lORE9XIFJFU0laRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICR3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVyX3Jlc2l6ZSApO1xuXG4gICAgICAgICAgICAvKiBJTlBVVFMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRpbnB1dHMsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9pbnB1dF9rZXlkb3duICk7XG5cbiAgICAgICAgICAgIC8qIFNCIEFSUk9XUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHNiX3dycCwgJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX3NiX3dycF9hcnJvd3NfaW4gKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc2Jfd3JwLCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19vdXQgKTtcblxuICAgICAgICAgICAgLyogU0IgRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHNiX3dycCwgJC5Qb2ludGVyLmRyYWdtb3ZlLCB0aGlzLl9oYW5kbGVyX3NiX2RyYWdfbW92ZSApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRzYl93cnAsICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9oYW5kbGVyX3NiX2RyYWdfZW5kICk7XG5cbiAgICAgICAgICAgIC8qIEhVRSBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRodWVfd3JwLCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfaHVlX3dycF9hcnJvd3NfaW4gKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kaHVlX3dycCwgJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX291dCApO1xuXG4gICAgICAgICAgICAvKiBIVUUgRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGh1ZV93cnAsICQuUG9pbnRlci5kcmFnbW92ZSwgdGhpcy5faGFuZGxlcl9odWVfZHJhZ19tb3ZlICk7XG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGh1ZV93cnAsICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9oYW5kbGVyX2h1ZV9kcmFnX2VuZCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF91cGRhdGVfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2Jfd3JwX29mZnNldCA9IHRoaXMuJHNiX3dycC5vZmZzZXQgKCk7XG4gICAgICAgICAgICB0aGlzLmh1ZV93cnBfb2Zmc2V0ID0gdGhpcy4kaHVlX3dycC5vZmZzZXQgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSU5ET1cgUkVTSVpFICovXG5cbiAgICAgICAgX2hhbmRsZXJfcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YXJpYWJsZXMgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTQiBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9zYl93cnBfYXJyb3dzX2luOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfc2Jfd3JwX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9zYl93cnBfYXJyb3dzX291dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9zYl93cnBfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX3dycF9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuVVA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnYgPSBNYXRoLm1pbiAoIDEwMCwgdGhpcy5jb2xvci5oc3YudiArIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YucyA9IE1hdGgubWluICggMTAwLCB0aGlzLmNvbG9yLmhzdi5zICsgMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LnYgPSBNYXRoLm1heCAoIDAsIHRoaXMuY29sb3IuaHN2LnYgLSAxICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YucyA9IE1hdGgubWF4ICggMCwgdGhpcy5jb2xvci5oc3YucyAtIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3NiICgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU0IgRFJBRyAqL1xuXG4gICAgICAgIF9zYl9kcmFnX3NldDogZnVuY3Rpb24gKCBYWSwgdXBkYXRlICkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi5zID0gIF8uY2xhbXAgKCAwLCBYWS5YIC0gdGhpcy5zYl93cnBfb2Zmc2V0LmxlZnQsIHRoaXMuc2Jfd3JwX3NpemUgKSAqIDEwMCAvIHRoaXMuc2Jfd3JwX3NpemU7XG4gICAgICAgICAgICB0aGlzLmNvbG9yLmhzdi52ID0gIDEwMCAtICggXy5jbGFtcCAoIDAsIFhZLlkgLSB0aGlzLnNiX3dycF9vZmZzZXQudG9wLCB0aGlzLnNiX3dycF9zaXplICkgKiAxMDAgLyB0aGlzLnNiX3dycF9zaXplICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zYiAoKTtcblxuICAgICAgICAgICAgaWYgKCB1cGRhdGUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX2RyYWdfbW92ZTogZnVuY3Rpb24gKCBldmVudCwgZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy5fc2JfZHJhZ19zZXQgKCBkYXRhLm1vdmVYWSwgdGhpcy5vcHRpb25zLmxpdmUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX3NiX2RyYWdfZW5kOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xuXG4gICAgICAgICAgICB0aGlzLl9zYl9kcmFnX3NldCAoIGRhdGEuZW5kWFksIHRydWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEhVRSBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19pbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2h1ZV93cnBfYXJyb3dzX291dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9odWVfd3JwX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9odWVfd3JwX2Fycm93c19rZXlkb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICQudWkua2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IE1hdGgubWluICggMzU5LCB0aGlzLmNvbG9yLmhzdi5oICsgMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuaHN2LmggPSBNYXRoLm1heCAoIDAsIHRoaXMuY29sb3IuaHN2LmggLSAxICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9odWUgKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaW5wdXQgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBIVUUgRFJBRyAqL1xuXG4gICAgICAgIF9odWVfZHJhZ19zZXQ6IGZ1bmN0aW9uICggWFksIHVwZGF0ZSApIHtcblxuICAgICAgICAgICAgdGhpcy5jb2xvci5oc3YuaCA9IDM1OSAtICggXy5jbGFtcCAoIDAsIFhZLlkgLSB0aGlzLmh1ZV93cnBfb2Zmc2V0LnRvcCwgdGhpcy5odWVfd3JwX2hlaWdodCApICogMzU5IC8gdGhpcy5odWVfd3JwX2hlaWdodCApO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaHVlICgpO1xuXG4gICAgICAgICAgICBpZiAoIHVwZGF0ZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfaHVlX2RyYWdfbW92ZTogZnVuY3Rpb24gKCBldmVudCwgZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy5faHVlX2RyYWdfc2V0ICggZGF0YS5tb3ZlWFksIHRoaXMub3B0aW9ucy5saXZlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9odWVfZHJhZ19lbmQ6IGZ1bmN0aW9uICggZXZlbnQsIGRhdGEgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2h1ZV9kcmFnX3NldCAoIGRhdGEuZW5kWFksIHRydWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIElOUFVUICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRU5URVIgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoICF0aGlzLnNldCAoIHRoaXMuJGlucHV0cy52YWwgKCkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dHMudmFsICggdGhpcy5oZXggKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1RIRVJTICovXG5cbiAgICAgICAgX3VwZGF0ZV9pbnB1dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmhleCA9IHRoaXMuY29sb3IuZ2V0SGV4U3RyICgpO1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMudmFsICggdGhpcy5oZXggKS5jc3MgKCAnYmFja2dyb3VuZC1jb2xvcicsIHRoaXMuaGV4ICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9zYjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgaHNsID0gQ29sb3JIZWxwZXIuaHN2MmhzbCAoIHRoaXMuY29sb3IuaHN2ICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfc2IuY3NzICh7XG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAnaHNsKCcgKyBoc2wuaCArICcsJyArIGhzbC5zICsgJyUsJyArIGhzbC5sICsgJyUpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgKCB0aGlzLnNiX3dycF9zaXplIC8gMTAwICogdGhpcy5jb2xvci5oc3YucyApICsgJ3B4LCcgKyAoIHRoaXMuc2Jfd3JwX3NpemUgLyAxMDAgKiAoIDEwMCAtIHRoaXMuY29sb3IuaHN2LnYgKSApICsgJ3B4LDApJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlX2h1ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgaHNsID0gQ29sb3JIZWxwZXIuaHN2MmhzbCAoIHRoaXMuY29sb3IuaHN2ICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfaHVlLmNzcyAoe1xuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2hzbCgnICsgdGhpcy5jb2xvci5oc3YuaCArICcsMTAwJSw1MCUpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCcgKyAoIHRoaXMuaHVlX3dycF9oZWlnaHQgLyAxMDAgKiAoIDEwMCAtICggdGhpcy5jb2xvci5oc3YuaCAvIDM2MCAqIDEwMCApICkgKSArICdweCwwKSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3NiLmNzcyAoICdiYWNrZ3JvdW5kLWNvbG9yJywgJ2hzbCgnICsgaHNsLmggKyAnLCcgKyBoc2wucyArICclLCcgKyBoc2wubCArICclKScgKTtcblxuICAgICAgICAgICAgdGhpcy4kc2Jfd3JwLmNzcyAoICdiYWNrZ3JvdW5kLWNvbG9yJywgJ2hzbCgnICsgdGhpcy5jb2xvci5oc3YuaCArICcsMTAwJSw1MCUpJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfc2IgKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfaHVlICgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yLmdldEhleFN0ciAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgdmFyIG5ld19jb2xvciA9IG5ldyBIZXhDb2xvciAoIHZhbHVlICk7XG5cbiAgICAgICAgICAgIGlmICggbmV3X2NvbG9yLmlzVmFsaWQgJiYgIV8uaXNFcXVhbCAoIG5ld19jb2xvci5oc3YsIHRoaXMuY29sb3IuaHN2ICkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3X2NvbG9yO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdfY29sb3IuaXNWYWxpZDtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuY29sb3JwaWNrZXInKS5jb2xvcnBpY2tlciAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBVUkw6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9jb29raWUgKi9cblxuLyogQ09PS0lFICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVVElMSVRJRVMgKi9cblxuICAgIHZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQsXG4gICAgICAgIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblxuICAgIC8qIENPT0tJRSAqL1xuXG4gICAgJC5jb29raWUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoIGtleSApIHtcblxuICAgICAgICAgICAgaWYgKCAha2V5ICkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNvZGUgKCBkb2N1bWVudC5jb29raWUucmVwbGFjZSAoIG5ldyBSZWdFeHAgKCAnKD86KD86XnwuKjspXFxcXHMqJyArIGVuY29kZSAoIGtleSApLnJlcGxhY2UgKCAvW1xcLVxcLlxcK1xcKl0vZywgJ1xcXFwkJicgKSArICdcXFxccypcXFxcPVxcXFxzKihbXjtdKikuKiQpfF4uKiQnICksICckMScgKSApIHx8IG51bGw7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgga2V5LCB2YWx1ZSwgZW5kLCBwYXRoLCBkb21haW4sIHNlY3VyZSApIHtcblxuICAgICAgICAgICAgaWYgKCAha2V5IHx8IC9eKD86ZXhwaXJlc3xtYXhcXC1hZ2V8cGF0aHxkb21haW58c2VjdXJlKSQvaS50ZXN0ICgga2V5ICkgKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBleHBpcmVzID0gJyc7XG5cbiAgICAgICAgICAgIGlmICggZW5kICkge1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICggZW5kLmNvbnN0cnVjdG9yICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9ICggZW5kID09PSBJbmZpbml0eSApID8gJzsgZXhwaXJlcz1GcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVCcgOiAnOyBtYXgtYWdlPScgKyBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIERhdGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gJzsgZXhwaXJlcz0nICsgZW5kLnRvVVRDU3RyaW5nICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZW5jb2RlICgga2V5ICkgKyAnPScgKyBlbmNvZGUgKCB2YWx1ZSApICsgZXhwaXJlcyArICggZG9tYWluID8gJzsgZG9tYWluPScgKyBkb21haW4gOiAnJyApICsgKCBwYXRoID8gJzsgcGF0aD0nICsgcGF0aCA6ICcnICkgKyAoIHNlY3VyZSA/ICc7IHNlY3VyZScgOiAnJyApO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCBrZXksIHBhdGgsIGRvbWFpbiApIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5oYXMgKCBrZXkgKSApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZW5jb2RlICgga2V5ICkgKyAnPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCcgKyAoIGRvbWFpbiA/ICc7IGRvbWFpbj0nICsgZG9tYWluIDogJycgKSArICggcGF0aCA/ICc7IHBhdGg9JyArIHBhdGggOiAnJyApO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGhhczogZnVuY3Rpb24gKCBrZXkgKSB7XG5cbiAgICAgICAgICAgIGlmICggIWtleSApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuICggbmV3IFJlZ0V4cCAoICcoPzpefDtcXFxccyopJyArIGVuY29kZSAoIGtleSApLnJlcGxhY2UgKCAvW1xcLVxcLlxcK1xcKl0vZywgJ1xcXFwkJicgKSArICdcXFxccypcXFxcPScgKSApLnRlc3QgKCBkb2N1bWVudC5jb29raWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGtleXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGtleXMgPSBkb2N1bWVudC5jb29raWUucmVwbGFjZSAoIC8oKD86XnxcXHMqOylbXlxcPV0rKSg/PTt8JCl8Xlxccyp8XFxzKig/OlxcPVteO10qKT8oPzpcXDF8JCkvZywgJycgKS5zcGxpdCAoIC9cXHMqKD86XFw9W147XSopPztcXHMqLyApO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgIGtleXNbaV0gPSBkZWNvZGUgKCBrZXlzW2ldICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBEUkFHR0FCTEUgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5kcmFnZ2FibGUnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICcuZHJhZ2dhYmxlLWhhbmRsZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBfLnRydWUsIC8vSU5GTzogY2hlY2tzIGlmIHdlIGNhbiBkcmFnIGl0IG9yIG5vdFxuICAgICAgICAgICAgb25seV9oYW5kbGVyczogZmFsc2UsIC8vSU5GTzogb25seSBhbiBoYW5kbGVyIGNhbiBkcmFnIGl0IGFyb3VuZFxuICAgICAgICAgICAgcmV2ZXJ0YWJsZTogZmFsc2UsIC8vSU5GTzogb24gZHJhZ2VuZCB0YWtlIGl0IGJhY2sgdG8gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBsaW1pdCB0aGUgbW92ZW1lbnRzIHRvIHRoaXMgYXhpc1xuICAgICAgICAgICAgY29uc3RyYWluZXI6IHsgLy9JTkZPOiBjb25zdHJhaW4gdGhlIGRyYWcgaW5zaWRlIHRoZSAkZWxlbWVudCBvciBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICRlbGVtZW50OiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhpcyAkZWxlbWVudFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGtlZXAgdGhlIGRyYWdnYWJsZSBpbnNpZGUgdGhlIGNvb3JkaW5hdGVzIC8vVE9ETzogaW1wbGVtZW50XG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICB4MTogMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgeDI6IDAsXG4gICAgICAgICAgICAgICAgLy8gICAgIHkxOiAwLFxuICAgICAgICAgICAgICAgIC8vICAgICB5MjogMFxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBjb25zdHJhaW5fY2VudGVyOiBmYWxzZSwgLy9JTkZPOiBzZXQgdGhlIGNvbnN0cmFpbiB0eXBlLCBpdCB3aWxsIGNvbnN0cmFpbiB0aGUgd2hvbGUgc2hhcGUsIG9yIHRoZSBjZW50ZXJcbiAgICAgICAgICAgICAgICBheGlzOiBmYWxzZSwgLy9JTkZPOiBpZiB3ZSB3YW50IHRvIGNvbnN0cmFpbiB0aGUgZHJhZ2dhYmxlIG9ubHkgaW4gYSBzcGVjaWZpYyBheGlzXG4gICAgICAgICAgICAgICAgdG9sbGVyYW5jZTogeyAvL0lORk86IHRoZSBhbW91bnQgb2YgcGl4ZWwgZmxleGliaWxpdHkgdGhhdCBhIGNvbnN0cmFpbmVyIGhhc1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGlmaWVyczogeyAvL0lORk86IGl0IGNhbiBtb2RpZnkgdGhlIHNldHRlZCBYIGFuZCBZIHRyYW5zZm9ybXMgdmFsdWVzXG4gICAgICAgICAgICAgICAgeDogXy50cnVlLFxuICAgICAgICAgICAgICAgIHk6IF8udHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGJlZm9yZXN0YXJ0OiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBtb3ZlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZW5kOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmRyYWdnYWJsZSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGRyYWdnYWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLm9ubHlfaGFuZGxlcnMgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVycyA9IHRoaXMuJGRyYWdnYWJsZS5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5oYW5kbGVyICk7IC8vRklYTUU6IGRvZXMgaXQgbWFrZSBzZW5zZSB0byBoYXZlIGhhbmRsZXJzIGluc2lkZSB0aGUgJGRyYWdnYWJsZT9cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5vbmx5X2hhbmRsZXJzICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRoYW5kbGVycywgJC5Qb2ludGVyLmRyYWdzdGFydCwgdGhpcy5fc3RhcnQgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGhhbmRsZXJzLCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX21vdmUgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGhhbmRsZXJzLCAkLlBvaW50ZXIuZHJhZ2VuZCwgdGhpcy5fZW5kICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoICQuUG9pbnRlci5kcmFnc3RhcnQsIHRoaXMuX3N0YXJ0ICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb24gKCAkLlBvaW50ZXIuZHJhZ21vdmUsIHRoaXMuX21vdmUgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoICQuUG9pbnRlci5kcmFnZW5kLCB0aGlzLl9lbmQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9zdGFydDogZnVuY3Rpb24gKCBldmVudCwgZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgKCk7XG5cbiAgICAgICAgICAgIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnYmVmb3Jlc3RhcnQnICk7XG5cbiAgICAgICAgICAgIHRoaXMubW90aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1fc3RyID0gdGhpcy4kZHJhZ2dhYmxlLmNzcyAoICd0cmFuc2Zvcm0nICksXG4gICAgICAgICAgICAgICAgbWF0cml4ID0gICggdHJhbnNmb3JtX3N0ciAhPT0gJ25vbmUnICkgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoICggL1swLTkuLCAtXSsvIClbMF0uc3BsaXQgKCAnLCAnICkgOiBbMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFhZID0ge1xuICAgICAgICAgICAgICAgIFg6IHBhcnNlSW50ICggbWF0cml4WzRdLCAxMCApLFxuICAgICAgICAgICAgICAgIFk6IHBhcnNlSW50ICggbWF0cml4WzVdLCAxMCApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3N0YXJ0JywgXy5tZXJnZSAoIGRhdGEsIHsgaW5pdGlhbFhZOiB0aGlzLmluaXRpYWxYWSwgZHJhZ2dhYmxlOiB0aGlzLmRyYWdnYWJsZSwgJGRyYWdnYWJsZTogdGhpcy4kZHJhZ2dhYmxlIH0gKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX21vdmU6IGZ1bmN0aW9uICggZXZlbnQsIGRhdGEgKSB7IC8vVE9ETzogbWFrZSBpdCBtb3JlIHBlcmZvcm1hbnRcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm1vdGlvbiA9PT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWluZXJfb2Zmc2V0ID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50Lm9mZnNldCAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZV9vZmZzZXQgPSB0aGlzLiRkcmFnZ2FibGUub2Zmc2V0ICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9taW4gPSBjb25zdHJhaW5lcl9vZmZzZXQubGVmdCAtICggZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC0gdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpIC8gMiA6IDAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVYX21heCA9IGNvbnN0cmFpbmVyX29mZnNldC5sZWZ0ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LndpZHRoICgpIC0gKCAoIGRyYWdnYWJsZV9vZmZzZXQubGVmdCAtIHRoaXMuaW5pdGlhbFhZLlggKSArIHRoaXMuJGRyYWdnYWJsZS53aWR0aCAoKSApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IHRoaXMuJGRyYWdnYWJsZS53aWR0aCAoKSAvIDIgOiAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVZX21pbiA9IGNvbnN0cmFpbmVyX29mZnNldC50b3AgLSAoIGRyYWdnYWJsZV9vZmZzZXQudG9wIC0gdGhpcy5pbml0aWFsWFkuWSApICsgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29uc3RyYWluX2NlbnRlciA/IC0gdGhpcy4kZHJhZ2dhYmxlLmhlaWdodCAoKSAvIDIgOiAwICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSBjb25zdHJhaW5lcl9vZmZzZXQudG9wICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLiRlbGVtZW50LmhlaWdodCAoKSAtICggKCBkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKSArIHRoaXMuJGRyYWdnYWJsZS5oZWlnaHQgKCkgKSArICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dhYmxlX29mZnNldCA9IHRoaXMuJGRyYWdnYWJsZS5vZmZzZXQgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy54MSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVhfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngxIC0gKCBkcmFnZ2FibGVfb2Zmc2V0LmxlZnQgLSB0aGlzLmluaXRpYWxYWS5YICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLSB0aGlzLiRkcmFnZ2FibGUud2lkdGggKCkgLyAyIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLngyICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWF9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueDIgLSAoICggZHJhZ2dhYmxlX29mZnNldC5sZWZ0IC0gdGhpcy5pbml0aWFsWFkuWCApICsgdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gdGhpcy4kZHJhZ2dhYmxlLndpZHRoICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhXy5pc1VuZGVmaW5lZCAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb29yZGluYXRlcy55MSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVlfbWluID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkxIC0gKCBkcmFnZ2FibGVfb2Zmc2V0LnRvcCAtIHRoaXMuaW5pdGlhbFhZLlkgKSArICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvbnN0cmFpbl9jZW50ZXIgPyAtIHRoaXMuJGRyYWdnYWJsZS5oZWlnaHQgKCkgLyAyIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFfLmlzVW5kZWZpbmVkICggdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLmNvb3JkaW5hdGVzLnkyICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlWV9tYXggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMueTIgLSAoICggZHJhZ2dhYmxlX29mZnNldC50b3AgLSB0aGlzLmluaXRpYWxYWS5ZICkgKyB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpICkgKyAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5jb25zdHJhaW5fY2VudGVyID8gLSB0aGlzLiRkcmFnZ2FibGUuaGVpZ2h0ICgpIC8gMiA6IDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkaHRtbC5hZGRDbGFzcyAoICdkcmFnZ2luZycgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuYWRkQ2xhc3MgKCAnZHJhZ2dpbmcnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVggPSB0aGlzLmluaXRpYWxYWS5YICsgKCAoIHRoaXMub3B0aW9ucy5heGlzID09PSAneScgKSA/IDAgOiBkYXRhLmRlbHRhWFkuWCApLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSB0aGlzLmluaXRpYWxYWS5ZICsgKCAoIHRoaXMub3B0aW9ucy5heGlzID09PSAneCcgKSA/IDAgOiBkYXRhLmRlbHRhWFkuWSApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci4kZWxlbWVudCB8fCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuY29vcmRpbmF0ZXMgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci5heGlzICE9PSAneScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IF8uY2xhbXAgKCBfLmlzVW5kZWZpbmVkICggdGhpcy50cmFuc2xhdGVYX21pbiApID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVYX21pbiAtIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLngsIHRyYW5zbGF0ZVgsIF8uaXNVbmRlZmluZWQgKCB0aGlzLnRyYW5zbGF0ZVhfbWF4ICkgPyB1bmRlZmluZWQgOiB0aGlzLnRyYW5zbGF0ZVhfbWF4ICsgdGhpcy5vcHRpb25zLmNvbnN0cmFpbmVyLnRvbGxlcmFuY2UueCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIuYXhpcyAhPT0gJ3gnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSBfLmNsYW1wICggXy5pc1VuZGVmaW5lZCAoIHRoaXMudHJhbnNsYXRlWV9taW4gKSA/IHVuZGVmaW5lZCA6IHRoaXMudHJhbnNsYXRlWV9taW4gLSB0aGlzLm9wdGlvbnMuY29uc3RyYWluZXIudG9sbGVyYW5jZS55LCB0cmFuc2xhdGVZLCBfLmlzVW5kZWZpbmVkICggdGhpcy50cmFuc2xhdGVZX21heCApID8gdW5kZWZpbmVkIDogdGhpcy50cmFuc2xhdGVZX21heCArIHRoaXMub3B0aW9ucy5jb25zdHJhaW5lci50b2xsZXJhbmNlLnkgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRYWSA9IHtcbiAgICAgICAgICAgICAgICBYOiB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLnggKCB0cmFuc2xhdGVYICksXG4gICAgICAgICAgICAgICAgWTogdGhpcy5vcHRpb25zLm1vZGlmaWVycy55ICggdHJhbnNsYXRlWSApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgKCBfLmlzQm9vbGVhbiAoIG1vZGlmaWVkWFkuWCApID8gKCBtb2RpZmllZFhZLlggPyB0cmFuc2xhdGVYIDogdGhpcy5pbml0aWFsWFkuWCApIDogbW9kaWZpZWRYWS5YICkgKyAncHgsJyArICggXy5pc0Jvb2xlYW4gKCBtb2RpZmllZFhZLlkgKSA/ICggbW9kaWZpZWRYWS5ZID8gdHJhbnNsYXRlWSA6IHRoaXMuaW5pdGlhbFhZLlkgKSA6IG1vZGlmaWVkWFkuWSApICsgJ3B4LDApJyApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ21vdmUnLCBfLm1lcmdlICggZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBtb2RpZmllZFhZOiBtb2RpZmllZFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUgfSApICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZW5kOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xuXG4gICAgICAgICAgICBpZiAoICF0aGlzLmlzRHJhZ2dhYmxlICkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMubW90aW9uID09PSB0cnVlICkge1xuXG4gICAgICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MgKCAnZHJhZ2dpbmcnICk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZHJhZ2dhYmxlLnJlbW92ZUNsYXNzICggJ2RyYWdnaW5nJyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMucmV2ZXJ0YWJsZSApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkcmFnZ2FibGUuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgdGhpcy5pbml0aWFsWFkuWCArICdweCwnICsgdGhpcy5pbml0aWFsWFkuWSArICdweCwwKScgKTsgLy9UT0RPOiBhbmltYXRlIGl0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdlbmQnLCBfLm1lcmdlICggZGF0YSwgeyBpbml0aWFsWFk6IHRoaXMuaW5pdGlhbFhZLCBkcmFnZ2FibGU6IHRoaXMuZHJhZ2dhYmxlLCAkZHJhZ2dhYmxlOiB0aGlzLiRkcmFnZ2FibGUsIGRyYWdnZWQ6IHRoaXMubW90aW9uIH0gKSApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5kcmFnZ2FibGUnKS5kcmFnZ2FibGUgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogZGVhbCB3aXRoIFVUQyB0aW1lIGV0Yy4uLlxuLy9UT0RPOiBBZGQgc3VwcG9ydCBmb3IgbWluIGFuZCBtYXggZGF0ZSBkZWxpbWl0ZXJcbi8vVE9ETzogQWRkIGFuIGlucHV0IGluc2lkZSwgc28gdGhhdCBpdCB3b3JrcyBhbHNvIHdpdGhvdXQgYW4gZXh0ZXJuYWwgaW5wdXRcbi8vRklYTUU6IFdoZW4gdXNpbmcgdGhlIGFycm93cyB0aGUgcHJldiBkYXkgc3RpbGwgcmVtYWlucyBob3ZlcmVkIGV2ZW4gaWYgaXQncyBub3QgYmVsb3cgdGhlIGN1cnNvclxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogREFURVBJQ0tFUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmRhdGVwaWNrZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG5hbWVzOiB7XG4gICAgICAgICAgICAgICAgbW9udGhzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgICAgICAgdG9kYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgcmVmcmVzaDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlciA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLiRkYXRlcGlja2VyLmF0dHIgKCAnaWQnICk7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dHMgPSB0aGlzLmlkID8gJCgnaW5wdXRbbmFtZT1cIicgKyB0aGlzLmlkICsgJ1wiXScpIDogJGVtcHR5O1xuXG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX3ByZXYgPSB0aGlzLiRkYXRlcGlja2VyLmZpbmQgKCAnLmRhdGVwaWNrZXItbmF2aWdhdGlvbi1wcmV2JyApO1xuICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGlvbl90aXRsZSA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCAoICcuZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXRpdGxlJyApO1xuICAgICAgICAgICAgdGhpcy4kbmF2aWdhdGlvbl9uZXh0ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kICggJy5kYXRlcGlja2VyLW5hdmlnYXRpb24tbmV4dCcgKTtcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kICggJy5kYXRlcGlja2VyLWRheS1wcmV2JyApO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19jdXJyZW50ID0gdGhpcy4kZGF0ZXBpY2tlci5maW5kICggJy5kYXRlcGlja2VyLWRheScgKTtcbiAgICAgICAgICAgIHRoaXMuJGRheXNfbmV4dCA9IHRoaXMuJGRhdGVwaWNrZXIuZmluZCAoICcuZGF0ZXBpY2tlci1kYXktbmV4dCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGRheXNfYWxsID0gdGhpcy4kZGF5c19wcmV2LmFkZCAoIHRoaXMuJGRheXNfY3VycmVudCApLmFkZCAoIHRoaXMuJGRheXNfbmV4dCApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5kYXRlLnRvZGF5ID09PSBmYWxzZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLnRvZGF5ID0gbmV3IERhdGUgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50ID09PSBmYWxzZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQgPSBuZXcgRGF0ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRkYXlfdG9kYXkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGRheV9zZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogREFURVBJQ0tFUiAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9hcnJvd3NfaW4gKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVyX2Fycm93c19vdXQgKTtcblxuICAgICAgICAgICAgLyogSU5QVVRTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kaW5wdXRzLCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfaW5wdXRfa2V5ZG93biApO1xuXG4gICAgICAgICAgICAvKiBOQVZJR0FUSU9OICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kbmF2aWdhdGlvbl9wcmV2LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX3ByZXZfY2xpY2sgKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kbmF2aWdhdGlvbl9uZXh0LCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX25leHRfY2xpY2sgKTtcblxuICAgICAgICAgICAgLyogU0VMRUNUSU9OICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NsaWNrJywgJy5kYXRlcGlja2VyLWRheScsIHRoaXMuX2hhbmRsZXJfZGF5X2N1cnJlbnRfY2xpY2sgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIERBVEVQSUtFUiAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2Fycm93c19pbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfb3V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgc3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGggKCAtMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuICAgICAgICAgICAgICAgIGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGggKCAxICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBJTlBVVCAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2lucHV0X2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVOVEVSICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQgKCB0aGlzLiRpbnB1dHMudmFsICgpICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE5BVklHQVRJT04gKi9cblxuICAgICAgICBfaGFuZGxlcl9wcmV2X2NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGggKCAtMSApXG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9uZXh0X2NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGggKCAxICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTRUxFQ1RJT04gKi9cblxuICAgICAgICBfaGFuZGxlcl9kYXlfY3VycmVudF9jbGljazogZnVuY3Rpb24gKCBldmVudCwgbm9kZSApIHtcblxuICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG5cbiAgICAgICAgICAgIHZhciBkYXkgPSBwYXJzZUludCAoICQobm9kZSkuaHRtbCAoKSwgMTAgKTtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQgPSBuZXcgRGF0ZSAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCksIGRheSApO1xuXG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9USEVSUyAqL1xuXG4gICAgICAgIF9idWlsZF9jYWxlbmRhcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgcHJldl9tb250aF9kYXlzID0gbmV3IERhdGUgKCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyICgpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoICgpLCAwICkuZ2V0RGF0ZSAoKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50X21vbnRoX2RheXMgPSBuZXcgRGF0ZSAoIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCksIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCkgKyAxLCAwICkuZ2V0RGF0ZSAoKSxcbiAgICAgICAgICAgICAgICBpbml0aWFsX2RheV9vZl93ZWVrID0gbmV3IERhdGUgKCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyICgpLCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoICgpLCAxICkuZ2V0RGF5ICgpO1xuXG4gICAgICAgICAgICBpbml0aWFsX2RheV9vZl93ZWVrID0gKCBpbml0aWFsX2RheV9vZl93ZWVrID09PSAwICkgPyA2IDogaW5pdGlhbF9kYXlfb2Zfd2VlayAtIDE7IC8vSU5GTzogV2UgdXNlIGBNb25kYXlgIGFzIHRoZSAwIGluZGV4XG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfYWxsLnJlbW92ZUNsYXNzICggJ2hpZGRlbicgKTtcblxuICAgICAgICAgICAgLy8gUFJFVlxuXG4gICAgICAgICAgICB2YXIgZXhjZWVkaW5nX2RheXMgPSAzMSAtIHByZXZfbW9udGhfZGF5cyxcbiAgICAgICAgICAgICAgICBuZWVkZWRfZGF5cyA9IGluaXRpYWxfZGF5X29mX3dlZWssXG4gICAgICAgICAgICAgICAgbGVmdF9kYXlzID0gOSAtIGV4Y2VlZGluZ19kYXlzIC0gbmVlZGVkX2RheXM7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfcHJldi5zbGljZSAoIGxlZnRfZGF5cyArIG5lZWRlZF9kYXlzLCB0aGlzLiRkYXlzX3ByZXYubGVuZ3RoICkuYWRkQ2xhc3MgKCAnaGlkZGVuJyApO1xuICAgICAgICAgICAgdGhpcy4kZGF5c19wcmV2LnNsaWNlICggMCwgbGVmdF9kYXlzICkuYWRkQ2xhc3MgKCAnaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAvLyBDVVJSRU5UXG5cbiAgICAgICAgICAgIHRoaXMuJGRheXNfY3VycmVudC5zbGljZSAoIGN1cnJlbnRfbW9udGhfZGF5cywgdGhpcy4kZGF5c19jdXJyZW50LmxlbmdodCApLmFkZENsYXNzICggJ2hpZGRlbicgKTtcblxuICAgICAgICAgICAgLy8gTkVYVFxuXG4gICAgICAgICAgICB2YXIgbGVmdF9kYXlzID0gKCAoIGN1cnJlbnRfbW9udGhfZGF5cyArIGluaXRpYWxfZGF5X29mX3dlZWsgKSAlIDcgKTtcblxuICAgICAgICAgICAgdGhpcy4kZGF5c19uZXh0LnNsaWNlICggKCBsZWZ0X2RheXMgPT09IDAgKSA/IDAgOiA3IC0gbGVmdF9kYXlzICkuYWRkQ2xhc3MgKCAnaGlkZGVuJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hpZ2hsaWdodF9kYXk6IGZ1bmN0aW9uICggZGF5LCBjc3NfY2xhc3MgKSB7XG5cbiAgICAgICAgICAgIGlmICggZGF5ICYmIGRheS5nZXRGdWxsWWVhciAoKSA9PT0gdGhpcy5vcHRpb25zLmRhdGUuY3VycmVudC5nZXRGdWxsWWVhciAoKSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBkZWx0YV9tb250aHMgPSBkYXkuZ2V0TW9udGggKCkgLSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoICgpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICggZGVsdGFfbW9udGhzICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGF5c19wcmV2LmVxICggZGF5LmdldERhdGUgKCkgLSAyMyApLmFkZENsYXNzICggY3NzX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRheXNfY3VycmVudC5lcSAoIGRheS5nZXREYXRlICgpIC0gMSApLmFkZENsYXNzICggY3NzX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRheXNfbmV4dC5lcSAoIGRheS5nZXREYXRlICgpIC0gMSApLmFkZENsYXNzICggY3NzX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuaGlnaGxpZ2h0X3NlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy4kZGF5X3NlbGVjdGVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF5X3NlbGVjdGVkLnJlbW92ZUNsYXNzICggJ2RhdGVwaWNrZXItZGF5LXNlbGVjdGVkJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGlnaGxpZ2h0X3NlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV9zZWxlY3RlZCA9IHRoaXMuX2hpZ2hsaWdodF9kYXkgKCB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCwgJ2RhdGVwaWNrZXItZGF5LXNlbGVjdGVkJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuaGlnaGxpZ2h0X3RvZGF5OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy4kZGF5X3RvZGF5ICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF5X3RvZGF5LnJlbW92ZUNsYXNzICggJ2RhdGVwaWNrZXItZGF5LXRvZGF5JyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGlnaGxpZ2h0X3RvZGF5OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGRheV90b2RheSA9IHRoaXMuX2hpZ2hsaWdodF9kYXkgKCB0aGlzLm9wdGlvbnMuZGF0ZS50b2RheSwgJ2RhdGVwaWNrZXItZGF5LXRvZGF5JyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV90aXRsZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uX3RpdGxlLmh0bWwgKCB0aGlzLm9wdGlvbnMubmFtZXMubW9udGhzW3RoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0TW9udGggKCldICsgJywgJyArIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuZ2V0RnVsbFllYXIgKCkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfaW5wdXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0cy52YWwgKCB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhciAoKSArICctJyArIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldE1vbnRoICgpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RGF0ZSAoKSApLmNoYW5nZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlZnJlc2g6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdW5oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG4gICAgICAgICAgICB0aGlzLl91bmhpZ2hsaWdodF90b2RheSAoKTtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkX2NhbGVuZGFyICgpO1xuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0X3NlbGVjdGVkICgpO1xuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0X3RvZGF5ICgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RpdGxlICgpO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3JlZnJlc2gnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBBUEkgKi9cblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICggZm9ybWF0dGVkICkge1xuXG4gICAgICAgICAgICBpZiAoIGZvcm1hdHRlZCAmJiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhciAoKSArICctJyArIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldE1vbnRoICgpICsgJy0nICsgdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0RGF0ZSAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZDtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoIGRhdGUgKSB7XG5cbiAgICAgICAgICAgIGlmICggXy5pc1N0cmluZyAoIGRhdGUgKSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IGRhdGUuc3BsaXQgKCAnLScgKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlICggc2VnbWVudHNbMF0sIHNlZ21lbnRzWzFdLCBzZWdtZW50c1syXSApO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSAoIGRhdGUgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoICFfLmlzTmFOICggZGF0ZS52YWx1ZU9mICgpICkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZCA9IGRhdGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldEZ1bGxZZWFyICgpID09PSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldEZ1bGxZZWFyICgpICYmIHRoaXMub3B0aW9ucy5kYXRlLnNlbGVjdGVkLmdldE1vbnRoICgpID09PSB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoICgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VuaGlnaGxpZ2h0X3NlbGVjdGVkICgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRfc2VsZWN0ZWQgKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0RnVsbFllYXIgKCB0aGlzLm9wdGlvbnMuZGF0ZS5zZWxlY3RlZC5nZXRGdWxsWWVhciAoKSApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LnNldE1vbnRoICggdGhpcy5vcHRpb25zLmRhdGUuc2VsZWN0ZWQuZ2V0TW9udGggKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoICgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBuYXZpZ2F0ZV9tb250aDogZnVuY3Rpb24gKCBzdGVwcyApIHtcblxuICAgICAgICAgICAgaWYgKCBzdGVwcyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kYXRlLmN1cnJlbnQuc2V0TW9udGggKCB0aGlzLm9wdGlvbnMuZGF0ZS5jdXJyZW50LmdldE1vbnRoICgpICsgc3RlcHMgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3JlZnJlc2ggKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIHByZXZfbW9udGg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZV9tb250aCAoIC0xICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBuZXh0X21vbnRoOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVfbW9udGggKCAxICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLmRhdGVwaWNrZXInKS5kYXRlcGlja2VyICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vRklYTUU6IGlmIHRoZSBhbmNob3IgaXMgaGFsZiBvdmVyZmxvd2luZyB0aGUgdmlld3BvcnQgYXQgdGhlIGxlZnQsIGJ1dCBzdGlsbCBpZiB0aGVyZSdzIHNwYWNlIGF0IHRoZSBib3R0b20gdGhlIHBvc2l0aW9uYWJsZSBnZXRzIHBvc2l0aW9uYXRlZCBhdCB0aGUgYm90dG9tLCBpbnN0ZWFkIG9mIHRoZSByaWdodDogbWF5YmUgY3JlYXRlIGEgbmV3IG5vcm1hbGl6ZWQgYXJlYSBtYXAsIHRoYXQgZ2l2ZXMgbW9yZSBpbXBvcnRhbmNlIHRvIHRoaXMgdGhpbmdcbi8vVE9ETzogYWRkIHN1cHBvcnQgZm9yIGEgJHBvaW50ZXIgKCB0aGF0IGNhbiBhbHNvIGJlIGEgZnVuY3Rpb24gKVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUE9TSVRJT05BVEUgKi9cblxuICAgICQuZm4ucG9zaXRpb25hdGUgPSBmdW5jdGlvbiAoIGN1c3RvbV9vcHRpb25zICkge1xuXG4gICAgICAgIC8vIE9QVElPTlNcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IF8ubWVyZ2UgKHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogZmFsc2UsIC8vSU5GTzogU2V0IGEgcHJlZmVycmVkIGRpcmVjdGlvblxuICAgICAgICAgICAgYXhpczogZmFsc2UsIC8vSU5GTzogU2V0IGEgcHJlZmVycmVkIGF4aXNcbiAgICAgICAgICAgICRhbmNob3I6IGZhbHNlLCAvL0lORk86IFBvc2l0aW9uYXRlIG5leHQgdG8gYW4gJGFuY2hvciBlbGVtZW50XG4gICAgICAgICAgICAkcG9pbnRlcjogZmFsc2UsIC8vSU5GTzogVGhlIGVsZW1lbnQgd2hvIGlzIHBvaW50aW5nIHRvIHRoZSBhbmNob3JcbiAgICAgICAgICAgIHBvaW50OiBmYWxzZSwgLy9JTkZPOiBQb3NpdGlvYW50ZSBhdCBjb29yZGluYXRlcywgZXg6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfVxuICAgICAgICAgICAgcmFua3M6IHsgLy9JTkZPOiBIb3cgdGhlIGRpcmVjdGlvbnMgc2hvdWxkIGJlIHByaW9yaXRpemVkIHdoZW4gc2VsZWN0aW5nIHRoZSBgeGAgYXhpcywgdGhlIGB5YCBheGlzLCBvciBhbGwgb2YgdGhlbVxuICAgICAgICAgICAgICAgIHg6IFsncmlnaHQnLCAnbGVmdCddLFxuICAgICAgICAgICAgICAgIHk6IFsnYm90dG9tJywgJ3RvcCddLFxuICAgICAgICAgICAgICAgIGFsbDogWydib3R0b20nLCAncmlnaHQnLCAnbGVmdCcsICd0b3AnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uYXRlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGN1c3RvbV9vcHRpb25zICk7XG5cbiAgICAgICAgLy8gUkVTRVRUSU5HXG5cbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyAoICdwb3NpdGlvbmF0ZS10b3AgcG9zaXRpb25hdGUtYm90dG9tIHBvc2l0aW9uYXRlLWxlZnQgcG9zaXRpb25hdGUtcmlnaHQnICk7XG5cbiAgICAgICAgLy8gVkFSSUFCTEVTXG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbnMgPSBfLnVuaXF1ZSAoIF8udW5pb24gKCBvcHRpb25zLmRpcmVjdGlvbiA/IFtvcHRpb25zLmRpcmVjdGlvbl0gOiBbXSwgb3B0aW9ucy5heGlzID8gb3B0aW9ucy5yYW5rc1tvcHRpb25zLmF4aXNdIDogW10sIG9wdGlvbnMucmFua3MuYWxsICkgKSxcbiAgICAgICAgICAgIHdpbmRvd193aWR0aCA9ICR3aW5kb3cud2lkdGggKCksXG4gICAgICAgICAgICB3aW5kb3dfaGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQgKCksXG4gICAgICAgICAgICBodG1sX3Njcm9sbFRvcCA9ICRodG1sLnNjcm9sbFRvcCAoKSxcbiAgICAgICAgICAgIGh0bWxfc2Nyb2xsTGVmdCA9ICRodG1sLnNjcm9sbExlZnQgKCksXG4gICAgICAgICAgICBwb3NpdGlvbmFibGVfb2Zmc2V0ID0gdGhpcy5vZmZzZXQgKCksXG4gICAgICAgICAgICBwb3NpdGlvbmFibGVfd2lkdGggPSB0aGlzLm91dGVyV2lkdGggKCksXG4gICAgICAgICAgICBwb3NpdGlvbmFibGVfaGVpZ2h0ID0gdGhpcy5vdXRlckhlaWdodCAoKSxcbiAgICAgICAgICAgIGFuY2hvcl9vZmZzZXQgPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub2Zmc2V0ICgpIDogeyB0b3A6IG9wdGlvbnMucG9pbnQueSwgbGVmdDogb3B0aW9ucy5wb2ludC54IH0sXG4gICAgICAgICAgICBhbmNob3Jfd2lkdGggPSBvcHRpb25zLiRhbmNob3IgPyBvcHRpb25zLiRhbmNob3Iub3V0ZXJXaWR0aCAoKSA6IDAsXG4gICAgICAgICAgICBhbmNob3JfaGVpZ2h0ID0gb3B0aW9ucy4kYW5jaG9yID8gb3B0aW9ucy4kYW5jaG9yLm91dGVySGVpZ2h0ICgpIDogMDtcblxuICAgICAgICAvLyBTUEFDRVNcblxuICAgICAgICB2YXIgc3BhY2VzID0gXy5tYXAgKCBkaXJlY3Rpb25zLCBmdW5jdGlvbiAoIGRpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgc3dpdGNoICggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvcl9vZmZzZXQudG9wIC0gaHRtbF9zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93X2hlaWdodCAtIGFuY2hvcl9vZmZzZXQudG9wIC0gYW5jaG9yX2hlaWdodCArIGh0bWxfc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmNob3Jfb2Zmc2V0LmxlZnQgLSBodG1sX3Njcm9sbExlZnQ7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3dfd2lkdGggLSBhbmNob3Jfb2Zmc2V0LmxlZnQgLSBhbmNob3Jfd2lkdGggKyBodG1sX3Njcm9sbExlZnQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBUkVBU1xuXG4gICAgICAgIHZhciBhcmVhcyA9IF8ubWFwICggZGlyZWN0aW9ucywgZnVuY3Rpb24gKCBkaXJlY3Rpb24sIGluZGV4ICkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbiAoIHBvc2l0aW9uYWJsZV9oZWlnaHQsIHNwYWNlc1tpbmRleF0gKSAqIE1hdGgubWluICggd2luZG93X3dpZHRoLCBwb3NpdGlvbmFibGVfd2lkdGggKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluICggcG9zaXRpb25hYmxlX3dpZHRoLCBzcGFjZXNbaW5kZXhdICkgKiBNYXRoLm1pbiAoIHdpbmRvd19oZWlnaHQsIHBvc2l0aW9uYWJsZV9oZWlnaHQgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENIT09TSU5HIEEgRElSRUNUSU9OXG5cbiAgICAgICAgdmFyIGNob3Nlbl9kaXJlY3Rpb24gPSBkaXJlY3Rpb25zW2FyZWFzLmluZGV4T2YgKCBfLm1heCAoIGFyZWFzICkgKV07XG5cbiAgICAgICAgLy8gR0VUVElORyBUT1AgQU5EIExFRlRcblxuICAgICAgICBzd2l0Y2ggKCBjaG9zZW5fZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGFuY2hvcl9vZmZzZXQubGVmdCArICggYW5jaG9yX3dpZHRoIC8gMiApIC0gKCBwb3NpdGlvbmFibGVfd2lkdGggLyAyICksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogKCBjaG9zZW5fZGlyZWN0aW9uID09PSAndG9wJyApID8gYW5jaG9yX29mZnNldC50b3AgLSBwb3NpdGlvbmFibGVfaGVpZ2h0IDogYW5jaG9yX29mZnNldC50b3AgKyBhbmNob3JfaGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IGFuY2hvcl9vZmZzZXQudG9wICsgKCBhbmNob3JfaGVpZ2h0IC8gMiApIC0gKCBwb3NpdGlvbmFibGVfaGVpZ2h0IC8gMiApLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAoIGNob3Nlbl9kaXJlY3Rpb24gPT09ICdsZWZ0JyApID8gYW5jaG9yX29mZnNldC5sZWZ0IC0gcG9zaXRpb25hYmxlX3dpZHRoIDogYW5jaG9yX29mZnNldC5sZWZ0ICsgYW5jaG9yX3dpZHRoXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ09OU1RSQUlOIFRPIFRIRSBXSU5ET1dcblxuICAgICAgICAvL1RPRE86IGFkZCBhIHZpZXdwb3J0IGNoZWNrIGhlcmUsIHdlIHNob3VsZCBwb3NpdGlvbmF0ZSBpdCB0byB0aGUgdmlld3BvcnQgaWYgdGhlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiBpdFxuXG4gICAgICAgIGNvb3JkaW5hdGVzLnRvcCA9IF8uY2xhbXAgKCAwLCBjb29yZGluYXRlcy50b3AsIHdpbmRvd19oZWlnaHQgLSBwb3NpdGlvbmFibGVfaGVpZ2h0ICk7XG4gICAgICAgIGNvb3JkaW5hdGVzLmxlZnQgPSBfLmNsYW1wICggMCwgY29vcmRpbmF0ZXMubGVmdCwgd2luZG93X3dpZHRoIC0gcG9zaXRpb25hYmxlX3dpZHRoICk7XG5cbiAgICAgICAgLy8gREFUQVNcblxuICAgICAgICB2YXIgZGF0YXMgPSB7XG4gICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBkaXJlY3Rpb246IGNob3Nlbl9kaXJlY3Rpb25cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTRVRUSU5HIFRPUCBBTkQgTEVGVFxuXG4gICAgICAgIHRoaXMuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgY29vcmRpbmF0ZXMubGVmdCArICdweCwnICsgY29vcmRpbmF0ZXMudG9wICsgJ3B4LDApJyApO1xuXG4gICAgICAgIHRoaXMuYWRkQ2xhc3MgKCAncG9zaXRpb25hdGUtJyArIGNob3Nlbl9kaXJlY3Rpb24gKTtcblxuICAgICAgICAvLyBTRVRUSU5HIFRIRSBQT0lOVEVSXG5cbiAgICAgICAgaWYgKCBvcHRpb25zLiRhbmNob3IgJiYgb3B0aW9ucy4kcG9pbnRlciApIHtcblxuICAgICAgICAgICAgdmFyICRwb2ludGVyID0gXy5pc0Z1bmN0aW9uICggb3B0aW9ucy4kcG9pbnRlciApID8gb3B0aW9ucy4kcG9pbnRlciAoIGRhdGFzICkgOiBvcHRpb25zLiRwb2ludGVyO1xuXG4gICAgICAgICAgICBpZiAoICRwb2ludGVyIGluc3RhbmNlb2YgJCApIHtcblxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1fc3RyID0gJHBvaW50ZXIuY3NzICggJ3RyYW5zZm9ybScgKSxcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4ID0gICggdHJhbnNmb3JtX3N0ciAhPT0gJ25vbmUnICkgPyB0cmFuc2Zvcm1fc3RyLm1hdGNoICggL1swLTkuLCAtXSsvIClbMF0uc3BsaXQgKCAnLCAnICkgOiBbMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJfcG9zaXRpb24gPSAkcG9pbnRlci5wb3NpdGlvbiAoKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoIGNob3Nlbl9kaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludGVyX3dpZHRoID0gJHBvaW50ZXIud2lkdGggKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IHBhcnNlSW50ICggbWF0cml4WzRdLCAxMCApICsgKCAoIGFuY2hvcl9vZmZzZXQubGVmdCArICggYW5jaG9yX3dpZHRoIC8gMiApIC0gaHRtbF9zY3JvbGxMZWZ0ICkgLSAoIGNvb3JkaW5hdGVzLmxlZnQgKyBwb2ludGVyX3Bvc2l0aW9uLmxlZnQgKyAoIHBvaW50ZXJfd2lkdGggLyAyICkgKSApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSBwYXJzZUludCAoIG1hdHJpeFs1XSwgMTAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRlcl9oZWlnaHQgPSAkcG9pbnRlci5oZWlnaHQgKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWCA9IHBhcnNlSW50ICggbWF0cml4WzRdLCAxMCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSBwYXJzZUludCAoIG1hdHJpeFs1XSwgMTAgKSArICggKCBhbmNob3Jfb2Zmc2V0LnRvcCArICggYW5jaG9yX2hlaWdodCAvIDIgKSAtIGh0bWxfc2Nyb2xsVG9wICkgLSAoIGNvb3JkaW5hdGVzLnRvcCArIHBvaW50ZXJfcG9zaXRpb24udG9wICsgKCBwb2ludGVyX2hlaWdodCAvIDIgKSApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRwb2ludGVyLmNzcyAoICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsMCknICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ0FMTEJBQ0tcblxuICAgICAgICBvcHRpb25zLmNhbGxiYWNrcy5wb3NpdGlvbmF0ZWQgKCBkYXRhcyApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqIEByZXF1aXJlcyAuLi9wb3NpdGlvbmF0ZS9wb3NpdGlvbmF0ZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgZGVsZWdhdGluZyB0aGUgdHJpZ2dlciBjbGljaywgc28gdGhhdCB3ZSBzdXBwb3J0IHRoZSBjYXNlIHdoZW4gYSB0cmlnZ2VyIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBET00gZHluYW1pY2FsbHlcbi8vVE9ETzogYWRkIGRyb3Bkb3duLWNsb3NlclxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVkFSSUFCTEVTICovXG5cbiAgICB2YXIgYXNzaWdubWVudHMgPSB7fTtcblxuICAgIC8qIERST1BET1dOICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uZHJvcGRvd24nLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24gPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kdGlwcyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQgKCAnLmRyb3Bkb3duLXRpcCcgKTtcbiAgICAgICAgICAgIHRoaXMuJHRvcF90aXAgPSB0aGlzLiR0aXBzLmZpbHRlciAoICcudG9wJyApO1xuICAgICAgICAgICAgdGhpcy4kcmlnaHRfdGlwID0gdGhpcy4kdGlwcy5maWx0ZXIgKCAnLnJpZ2h0JyApO1xuICAgICAgICAgICAgdGhpcy4kYm90dG9tX3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyICggJy5ib3R0b20nICk7XG4gICAgICAgICAgICB0aGlzLiRsZWZ0X3RpcCA9IHRoaXMuJHRpcHMuZmlsdGVyICggJy5sZWZ0JyApO1xuICAgICAgICAgICAgdGhpcy4kYWN0aW9uYWJsZXMgPSB0aGlzLiRkcm9wZG93bi5maW5kICggJy5hY3Rpb25hYmxlJyApO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kZHJvcGRvd24uYXR0ciAoICdpZCcgKTtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlcnMgPSAkKCcuZHJvcGRvd24tdHJpZ2dlcltkYXRhLWRyb3Bkb3duPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaGFzVGlwcyA9ICF0aGlzLiRkcm9wZG93bi5oYXNDbGFzcyAoICduby10aXAnICk7XG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNoZWQgPSB0aGlzLiRkcm9wZG93bi5oYXNDbGFzcyAoICdhdHRhY2hlZCcgKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiR0cmlnZ2VycywgJ2NsaWNrJywgdGhpcy50b2dnbGUgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRhY3Rpb25hYmxlcywgJ2NsaWNrJywgdGhpcy5jbG9zZSApO1xuXG4gICAgICAgICAgICAvLyB0aGlzLiRidG5fcGFyZW50cy5vbiAoICdzY3JvbGwnLCB0aGlzLnVwZGF0ZSApOyAvL0ZJWE1FOiBJZiB3ZSBhcmUgZG9pbmcgaXQgaW50byBhIHNjcm9sbGFibGUgY29udGVudCBpdCB3aWxsIGJlIGEgcHJvYmxlbSBpZiB3ZSBkb24ndCBoYW5kbGUgaXQsIHRoZSBkcm9wZG93biB3aWxsIG5vdCBtb3ZlXG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBXSU5ET1cgUkVTSVpFIC8gU0NST0xMICovXG5cbiAgICAgICAgX2JpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkd2luZG93LCAncmVzaXplIHNjcm9sbCcsIHRoaXMuX3VwZGF0ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VuYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkd2luZG93LCAncmVzaXplIHNjcm9sbCcsIHRoaXMuX3VwZGF0ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogV0lORE9XIENMSUNLICovXG5cbiAgICAgICAgX2JpbmRfd2luZG93X2NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJHdpbmRvdywgJ2NsaWNrJywgdGhpcy5faGFuZGxlcl93aW5kb3dfY2xpY2sgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF91bmJpbmRfd2luZG93X2NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICR3aW5kb3csICdjbGljaycsIHRoaXMuX2hhbmRsZXJfd2luZG93X2NsaWNrICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl93aW5kb3dfY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHZhciAkcGFyZW50cyA9ICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzICgpO1xuXG4gICAgICAgICAgICBpZiAoICRwYXJlbnRzLmluZGV4ICggdGhpcy4kZHJvcGRvd24gKSA9PT0gLTEgKSB7IC8vSU5GTzogQ2hlY2tpbmcgaWYgd2UgY2xpY2tlZCBpbnNpZGUgdGhlIGRyb3Bkb3duIG9yIGFub3RoZXIgdHJpZ2dlciBmb3IgdGhpcyBkcm9wZG93blxuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGhpcy4kdHJpZ2dlcnMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQudGFyZ2V0ID09PSB0aGlzLiR0cmlnZ2Vycy5nZXQgKCBpICkgfHwgJHBhcmVudHMuaW5kZXggKCB0aGlzLiR0cmlnZ2Vycy5nZXQgKCBpICkgKSAhPT0gLTEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQT1NJVElPTkFURSAqL1xuXG4gICAgICAgIF9wb3NpdGlvbmF0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvLyBWYXJpYWJsZXNcblxuICAgICAgICAgICAgdmFyICR0cmlnZ2VyID0gJChhc3NpZ25tZW50c1t0aGlzLmlkXSksXG4gICAgICAgICAgICAgICAgbm9fdGlwID0gJHRyaWdnZXIuaGFzQ2xhc3MgKCAnbm8tdGlwJyApIHx8ICF0aGlzLmhhc1RpcHMgfHwgdGhpcy5pc0F0dGFjaGVkLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgLy8gUG9zaXRpb25hdGVcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24ucG9zaXRpb25hdGUgKHtcbiAgICAgICAgICAgICAgICAkYW5jaG9yOiAkdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAkcG9pbnRlcjogZnVuY3Rpb24gKCBkYXRhICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICFub190aXAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbJyQnICsgaW5zdGFuY2UuX2dldF9vcHBvc2l0ZV9kaXJlY3Rpb24gKCBkYXRhLmRpcmVjdGlvbiApICsgJ190aXAnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uYXRlZDogZnVuY3Rpb24gKCBkYXRhICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRyaWdnZXIuYWRkQ2xhc3MgKCAnZHJvcGRvd24tdHJpZ2dlci0nICsgZGF0YS5kaXJlY3Rpb24gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9nZXRfb3Bwb3NpdGVfZGlyZWN0aW9uOiBmdW5jdGlvbiAoIGRpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgc3dpdGNoICggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdib3R0b20nO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b3AnO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcGVuZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmF0ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoIGV2ZW50LCB0cmlnZ2VyICkge1xuXG4gICAgICAgICAgICB0aGlzWyggdGhpcy5vcGVuZWQgJiYgYXNzaWdubWVudHNbdGhpcy5pZF0gPT09IHRyaWdnZXIgKSA/ICdjbG9zZScgOiAnb3BlbiddKCBldmVudCwgdHJpZ2dlciApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24gKCBldmVudCwgdHJpZ2dlciApIHtcblxuICAgICAgICAgICAgaWYgKCB0cmlnZ2VyICkge1xuXG4gICAgICAgICAgICAgICAgJChhc3NpZ25tZW50c1t0aGlzLmlkXSkucmVtb3ZlQ2xhc3MgKCAnZHJvcGRvd24tdHJpZ2dlci10b3AgZHJvcGRvd24tdHJpZ2dlci1ib3R0b20gZHJvcGRvd24tdHJpZ2dlci1sZWZ0IGRyb3Bkb3duLXRyaWdnZXItcmlnaHQgYWN0aXZlJyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wZW5lZCAmJiBhc3NpZ25tZW50c1t0aGlzLmlkXSAhPT0gdHJpZ2dlciApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkcm9wZG93bi5hZGRDbGFzcyAoICdtb3ZpbmcnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhc3NpZ25tZW50c1t0aGlzLmlkXSA9IHRyaWdnZXI7XG5cbiAgICAgICAgICAgICAgICAkKHRyaWdnZXIpLmFkZENsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmF0ZSAoKTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24uYWRkQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggdGhpcy5fYmluZF93aW5kb3dfY2xpY2sgKTsgLy9GSVhNRTogV2h5IHdpdGhvdXQgdGhlIGRlbGF5IGl0IGRvZXNuJ3Qgd29yaz9cbiAgICAgICAgICAgIHRoaXMuX2JpbmRfd2luZG93X3Jlc2l6ZV9zY3JvbGwgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnb3BlbicgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoYXNzaWdubWVudHNbdGhpcy5pZF0pLnJlbW92ZUNsYXNzICggJ2Ryb3Bkb3duLXRyaWdnZXItdG9wIGRyb3Bkb3duLXRyaWdnZXItYm90dG9tIGRyb3Bkb3duLXRyaWdnZXItbGVmdCBkcm9wZG93bi10cmlnZ2VyLXJpZ2h0IGFjdGl2ZScgKTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24ucmVtb3ZlQ2xhc3MgKCAnYWN0aXZlIG1vdmluZycgKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdW5iaW5kX3dpbmRvd19jbGljayAoKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZF93aW5kb3dfcmVzaXplX3Njcm9sbCAoKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjbG9zZScgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZHJvcGRvd24nKS5kcm9wZG93biAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEVYUEFOREVSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uZXhwYW5kZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIHRvZ2dsZXI6ICcuZXhwYW5kZXItdG9nZ2xlcicsXG4gICAgICAgICAgICAgICAgY29udGVudDogJy5jb250YWluZXItY29udGVudCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgICAgIG9wZW46IDI1MCxcbiAgICAgICAgICAgICAgICBjbG9zZTogMjUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRleHBhbmRlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRjb250ZW50ID0gdGhpcy4kZXhwYW5kZXIuZmluZCAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGVudCApO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiRleHBhbmRlci5oYXNDbGFzcyAoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4gKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLnRvZ2dsZXIsIHRoaXMudG9nZ2xlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICggZm9yY2UgKSB7XG5cbiAgICAgICAgICAgIGlmICggIV8uaXNCb29sZWFuICggZm9yY2UgKSApIHtcblxuICAgICAgICAgICAgICAgIGZvcmNlID0gIXRoaXMub3BlbmVkO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggZm9yY2UgIT09IHRoaXMub3BlbmVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmb3JjZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGV4cGFuZGVyLnRvZ2dsZUNsYXNzICggJ29wZW5lZCcsIHRoaXMub3BlbmVkICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjb250ZW50W3RoaXMub3BlbmVkID8gJ3NsaWRlRG93bicgOiAnc2xpZGVVcCddKCB0aGlzLm9wdGlvbnMuZGVsYXkuY2xvc2UgKTsgLy9GSVhNRTogdGhlIGFuaW1hdGlvbiBpcyB0b28gZXhwZW5zaXZlXG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggdGhpcy5vcGVuZWQgPyAnb3BlbicgOiAnY2xvc2UnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUgKCB0cnVlICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSAoIGZhbHNlKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuZXhwYW5kZXInKS5leHBhbmRlciAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEZMSVBQQUJMRSAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmZsaXBwYWJsZScsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgZmxpcHBlcjogJy5mbGlwcGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGZvbnQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBiYWNrOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZmxpcHBlZDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZmxpcHBhYmxlID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGZyb250ID0gdGhpcy4kZmxpcHBhYmxlLmZpbmQgKCAnLmZsaXBwYWJsZS1mcm9udCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGJhY2sgPSB0aGlzLiRmbGlwcGFibGUuZmluZCAoICcuZmxpcHBhYmxlLWJhY2snICk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNGbGlwcGVkID0gdGhpcy4kZmxpcHBhYmxlLmhhc0NsYXNzICggJ2ZsaXBwZWQnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5mbGlwcGVyLCB0aGlzLmZsaXAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGZsaXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5pc0ZsaXBwZWQgPSAhdGhpcy5pc0ZsaXBwZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuJGZsaXBwYWJsZS50b2dnbGVDbGFzcyAoICdmbGlwcGVkJywgdGhpcy5pc0ZsaXBwZWQgKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoIHRoaXMuaXNGbGlwcGVkID8gJ2Zyb250JyA6ICdiYWNrJyApO1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdmbGlwcGVkJyApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5mbGlwcGFibGUtd3JwJykuZmxpcHBhYmxlICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogbWF5YmUgc3luYyBhdCB0aGUgaW5pdCB0aW1lIGFsc29cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFZBUklBQkxFUyAqL1xuXG4gICAgdmFyIHN5bmNlZF9ncm91cHMgPSBbXTtcblxuICAgIC8qIEZPUk0gU1lOQyAqL1xuXG4gICAgJC5mbi5mb3JtU3luYyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgc3luY19ncm91cCA9ICRmb3JtLmRhdGEgKCAnc3luYy1ncm91cCcgKTtcblxuICAgICAgICAgICAgaWYgKCBzeW5jZWRfZ3JvdXBzLmluZGV4T2YgKCBzeW5jX2dyb3VwICkgIT09IC0xICkgcmV0dXJuO1xuXG4gICAgICAgICAgICBzeW5jZWRfZ3JvdXBzLnB1c2ggKCBzeW5jX2dyb3VwICk7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybXMgPSAkKCdmb3JtW2RhdGEtc3luYy1ncm91cD1cIicgKyBzeW5jX2dyb3VwICsgJ1wiXScpLFxuICAgICAgICAgICAgICAgICRlbGVzID0gJGZvcm1zLmZpbmQgKCAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnICk7XG5cbiAgICAgICAgICAgICRlbGVzLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSAkZWxlLmF0dHIgKCAnbmFtZScgKSxcbiAgICAgICAgICAgICAgICAgICAgaXNfY2hlY2thYmxlID0gJGVsZS5pcyAoICdbdHlwZT1cInJhZGlvXCJdLCBbdHlwZT1cImNoZWNrYm94XCJdJyApLFxuICAgICAgICAgICAgICAgICAgICBpc19yYWRpbyA9IGlzX2NoZWNrYWJsZSAmJiAkZWxlLmlzICggJ1t0eXBlPVwicmFkaW9cIl0nICksXG4gICAgICAgICAgICAgICAgICAgIGlzX3RleHRib3ggPSAkZWxlLmlzICggJ2lucHV0LCB0ZXh0YXJlYScgKSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzID0gaXNfdGV4dGJveCA/ICdpbnB1dCBjaGFuZ2UnIDogJ2NoYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50X2Zvcm0gPSAkZWxlLnBhcmVudCAoICdmb3JtJyApLFxuICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZm9ybXMgPSAkZm9ybXMubm90ICggJGN1cnJlbnRfZm9ybSApLFxuICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZWxlcyA9ICRvdGhlcl9mb3Jtcy5maW5kICggJ1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdJyApO1xuXG4gICAgICAgICAgICAgICAgJGVsZS5vbiAoIGV2ZW50cywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X3ZhbHVlID0gJGVsZS52YWwgKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2NoZWNrZWQgPSAhISRlbGUucHJvcCAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGVzLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkb3RoZXJfZWxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcl92YWx1ZSA9ICRvdGhlcl9lbGUudmFsICgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyX2NoZWNrZWQgPSAhISRvdGhlcl9lbGUucHJvcCAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzX3JhZGlvICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50X3ZhbHVlICE9PSBvdGhlcl92YWx1ZSB8fCBjdXJyZW50X2NoZWNrZWQgPT09IG90aGVyX2NoZWNrZWQgKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGN1cnJlbnRfdmFsdWUgPT09IG90aGVyX3ZhbHVlICYmIGN1cnJlbnRfY2hlY2tlZCA9PT0gb3RoZXJfY2hlY2tlZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzX2NoZWNrYWJsZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvdGhlcl9lbGUucHJvcCAoICdjaGVja2VkJywgY3VycmVudF9jaGVja2VkICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb3RoZXJfZWxlLnZhbCAoIGN1cnJlbnRfdmFsdWUgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdmb3JtW2RhdGEtc3luYy1ncm91cF0nKS5mb3JtU3luYyAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvalF1ZXJ5LWV4dHJhLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTE9BRElORyAqL1xuXG4gICAgJC5mbi5sb2FkaW5nID0gZnVuY3Rpb24gKCBmb3JjZSwgY3VzdG9tX29wdGlvbnMgKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gXy5tZXJnZSAoe1xuICAgICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgc3Bpbm5lcjogJ3NlY29uZGFyeSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY3VzdG9tX29wdGlvbnMgKTtcblxuICAgICAgICAvLyBMT0FESU5HXG5cbiAgICAgICAgdGhpcy5hZGRDbGFzcyAoICdzcGlubmVyLW92ZXJsYXktYWN0aXZhYmxlJyApO1xuXG4gICAgICAgIGlmICggXy5pc1VuZGVmaW5lZCAoIGZvcmNlICkgKSB7XG5cbiAgICAgICAgICAgIGZvcmNlID0gIXRoaXMuaGFzQ2xhc3MgKCAnc3Bpbm5lci1vdmVybGF5LWFjdGl2ZScgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdmFyICRvdmVybGF5ID0gdGhpcy5jaGlsZHJlbiAoICcuc3Bpbm5lci1vdmVybGF5JyApO1xuXG4gICAgICAgIGlmICggJG92ZXJsYXkubGVuZ3RoID09PSAwICkge1xuXG4gICAgICAgICAgICB0aGlzLnByZXBlbmQgKFxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic3Bpbm5lci1vdmVybGF5ICcgKyBvcHRpb25zLmNvbG9yLndyYXBwZXIgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic3Bpbm5lci13cnBcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic3Bpbm5lciAnICsgb3B0aW9ucy5jb2xvci5zcGlubmVyICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlLXdycCBsZWZ0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlLXdycCByaWdodFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNpcmNsZVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICggZm9yY2UgKSB7XG5cbiAgICAgICAgICAgICAgICAkb3ZlcmxheS5hdHRyICggJ2NsYXNzJywgJ3NwaW5uZXItb3ZlcmxheSAnICsgb3B0aW9ucy5jb2xvci53cmFwcGVyICk7XG4gICAgICAgICAgICAgICAgJG92ZXJsYXkuZmluZCAoICcuc3Bpbm5lcicgKS5hdHRyICggJ2NsYXNzJywgJ3NwaW5uZXIgJyArIG9wdGlvbnMuY29sb3Iuc3Bpbm5lciApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgICQucmVmbG93ICgpOyAvL0ZJWE1FOiBpcyBpdCBuZWVkZWQ/XG5cbiAgICAgICAgdGhpcy50b2dnbGVDbGFzcyAoICdzcGlubmVyLW92ZXJsYXktYWN0aXZlJywgZm9yY2UgKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBzd2lwZSB0byBkaXNtaXNzIGluIG1vYmlsZSBhbmQgdG91Y2hzY3JlZW4gZW5hYmxlZCBkZXZpY2VzXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBWQVJJQUJMRVMgKi9cblxuICAgIHZhciB0aW1lcnMgPSBbXTtcblxuICAgIC8qIEhFTFBFUiAqL1xuXG4gICAgJC5ub3R5ID0gZnVuY3Rpb24gKCBjdXN0b21fb3B0aW9ucyApIHtcblxuICAgICAgICAvLyBFWFRFTkRcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCBfLmlzU3RyaW5nICggY3VzdG9tX29wdGlvbnMgKSApIHtcblxuICAgICAgICAgICAgb3B0aW9ucy5ib2R5ID0gY3VzdG9tX29wdGlvbnM7XG5cbiAgICAgICAgfSBlbHNlIGlmICggXy5pc1BsYWluT2JqZWN0ICggY3VzdG9tX29wdGlvbnMgKSApIHtcblxuICAgICAgICAgICAgXy5tZXJnZSAoIG9wdGlvbnMsIGN1c3RvbV9vcHRpb25zICk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggb3B0aW9ucy5idXR0b25zICkge1xuXG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPSAnYWN0aW9uJztcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTk9UWVxuXG4gICAgICAgIHZhciBub3R5ID0gbmV3ICQucHJlc3RvLm5vdHkgKCBvcHRpb25zICk7XG5cbiAgICAgICAgaWYgKCBvcHRpb25zLmF1dG9wbGF5ICkge1xuXG4gICAgICAgICAgICBub3R5Lm9wZW4gKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3R5O1xuXG4gICAgfTtcblxuICAgIC8qIE5PVFkgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5ub3R5Jywge1xuXG4gICAgICAgIC8qIFRFTVBMQVRFUyAqL1xuXG4gICAgICAgIHRlbXBsYXRlczoge1xuICAgICAgICAgICAgYmFzZTogJzxkaXYgY2xhc3M9XCJub3R5IGNvbnRhaW5lciB7JT1vLnR5cGUlfSB7JT1vLmNvbG9yJX0geyU9by5jc3MlfVwiPicgKyAvL1RPRE86IGFkZCBiYWNrIHRyYW5zcGFyZW50aXplXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250YWluZXItY29udGVudFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImluZm9iYXItd3JwIGluc2V0IHslPW8uY29sb3IlfVwiPicgKyAvL1RPRE86IGFkZCBiYWNrIHRyYW5zcGFyZW50aXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaWYgKCBvLmltZyApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmltZ1wiLCBvLmltZ8KgKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5mb2Jhci1jZW50ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaWYgKCBvLnRpdGxlICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkudGl0bGVcIiwgby50aXRsZSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpZiAoIG8uYm9keSApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmJvZHlcIiwgby5ib2R5ICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaWYgKCBvLmJ1dHRvbnMubGVuZ3RoID09PSAxICkgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuc2luZ2xlX2J1dHRvblwiLCBvLmJ1dHRvbnNbMF0gKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaWYgKCBvLmJ1dHRvbnMubGVuZ3RoID4gMSApIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmJ1dHRvbnNcIiwgby5idXR0b25zICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICBpbWc6ICc8ZGl2IGNsYXNzPVwibm90eS1pbWcgaW5mb2Jhci1sZWZ0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCJ7JT1vJX1cIiBjbGFzcz1cInNtb290aFwiIC8+JyArXG4gICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgdGl0bGU6ICc8cCBjbGFzcz1cImluZm9iYXItdGl0bGVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgJ3slI28lfScgK1xuICAgICAgICAgICAgICAgICAgICc8L3A+JyxcbiAgICAgICAgICAgIGJvZHk6ICd7JSNvJX0nLFxuICAgICAgICAgICAgc2luZ2xlX2J1dHRvbjogJzxkaXYgY2xhc3M9XCJpbmZvYmFyLXJpZ2h0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGluY2x1ZGUgKCBcInByZXN0by5ub3R5LmJ1dHRvblwiLCBvICk7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgIGJ1dHRvbnM6ICc8ZGl2IGNsYXNzPVwibm90eS1idXR0b25zIG11bHRpcGxlLXdycCBjZW50ZXJlZFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXVsdGlwbGVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGZvciAoIHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKysgKSB7ICV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaW5jbHVkZSAoIFwicHJlc3RvLm5vdHkuYnV0dG9uXCIsIG9baV0gKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIH0gJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgIGJ1dHRvbjogJzxkaXYgY2xhc3M9XCJsYWJlbC13cnAgYnV0dG9uLXdycFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJsYWJlbCBhY3Rpb25hYmxlIHslPShvLmNvbG9yIHx8IFwid2hpdGVcIiklfSB7JT0oby5zaXplIHx8IFwic21hbGxcIiklfSB7JT0oby5jc3MgfHwgXCJcIiklfVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGFiZWwtY2VudGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSMoby50ZXh0IHx8IFwiXCIpJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGFuY2hvcjoge1xuICAgICAgICAgICAgICAgIHk6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgIHg6ICdsZWZ0J1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGVsYXk6IHtcbiAgICAgICAgICAgICAgICByZW1vdmU6IDIwMFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbWc6IGZhbHNlLFxuICAgICAgICAgICAgYnV0dG9uczogW10sXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfLm5vb3BcbiAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgdHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snLFxuICAgICAgICAgICAgY3NzOiAnJyxcblxuICAgICAgICAgICAgdHRsOiAzNTAwLFxuXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG5vdHkgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXZlck9wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2luaXRfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLmNsb3NlICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X2J1dHRvbnNfY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGJ1dHRvbnMgPSB0aGlzLiRub3R5LmZpbmQgKCAnLmJ1dHRvbi13cnAgLmxhYmVsJyApLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfLmVhY2ggKCB0aGlzLm9wdGlvbnMuYnV0dG9ucywgZnVuY3Rpb24gKCBidXR0b24sIGluZGV4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJGJ1dHRvbnMuZXEgKCBpbmRleCApOyAvL0ZJWE1FOiBpdCB3aWxsIG5vdCB3b3JrIGlmIHdlIGFkZCBhIGJ1dHRvbiB0byB0aGUgYm9keSBtYW51YWxseVxuXG4gICAgICAgICAgICAgICAgICAgICRidXR0b24ub24gKCAnY2xpY2snLCBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGJ1dHRvbi5vbkNsaWNrICkgYnV0dG9uLm9uQ2xpY2suY2FsbCAoIHRoaXMsIGV2ZW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X3RpbWVyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoID09PSAwICYmIHRoaXMub3B0aW9ucy50dGwgIT09ICdmb3JldmVyJyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSAkLnRpbWVyICggdGhpcy5jbG9zZS5iaW5kICggdGhpcyApLCB0aGlzLm9wdGlvbnMudHRsLCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICB0aW1lcnMucHVzaCAoIHRoaXMudGltZXIgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRfaG92ZXI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kbm90eS5ob3ZlciAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF8uZWFjaCAoIHRpbWVycywgZnVuY3Rpb24gKCB0aW1lciApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aW1lci5wYXVzZSAoKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfLmVhY2ggKCB0aW1lcnMsIGZ1bmN0aW9uICggdGltZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGltZXIucmVtYWluaW5nICggTWF0aC5tYXggKCAxMDAwLCB0aW1lci5yZW1haW5pbmcgKCkgfHwgMCApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGltZXIucGxheSAoKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc09wZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcubm90eS1xdWV1ZXMuJyArIHRoaXMub3B0aW9ucy5hbmNob3IueSArICcgLm5vdHktcXVldWUuJyArIHRoaXMub3B0aW9ucy5hbmNob3IueCkuZmlyc3QgKCkuYXBwZW5kICggdGhpcy4kbm90eSApO1xuXG4gICAgICAgICAgICAgICAgJC5yZWZsb3cgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRub3R5LmFkZENsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5uZXZlck9wZW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0X2NsaWNrICgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0X2J1dHRvbnNfY2xpY2sgKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfaG92ZXIgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXZlck9wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF90aW1lciAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnb3BlbicgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLnRpbWVyICkge1xuXG4gICAgICAgICAgICAgICAgXy5wdWxsICggdGltZXJzLCB0aGlzLnRpbWVyICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyLnN0b3AgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kbm90eS5yZW1vdmVDbGFzcyAoICdhY3RpdmUnICk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kbm90eS5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5kZWxheS5yZW1vdmUgKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjbG9zZScgKTtcblxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkYm9keS5hcHBlbmQgKFxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcyB0b3BcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgZXhwYW5kZWRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWVzLXJvd1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgbGVmdFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgY2VudGVyXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZSByaWdodFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm90eS1xdWV1ZXMgYm90dG9tXCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlcy1yb3dcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGxlZnRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGNlbnRlclwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdHktcXVldWUgcmlnaHRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJub3R5LXF1ZXVlIGV4cGFuZGVkXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICApO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vbG9hZGluZy9sb2FkaW5nLmpzXG4gKiBAcmVxdWlyZXMgLi4vbm90eS9ub3R5LmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGNoZWNrIGlmIGl0IHdvcmtzLCBhbHNvIGZvciB1cGxvYWRcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIEZPUk0gQUpBWCAqL1xuXG4gICAgJC5mbi5mb3JtQWpheCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLm9uICggJ3N1Ym1pdCcsIGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ICgpOyAvL0ZJWE1FOiBEb2VzIGl0IHdvcms/XG5cbiAgICAgICAgICAgICQuYWpheCAoe1xuXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsXG4gICAgICAgICAgICAgICAgZGF0YTogbmV3IEZvcm1EYXRhICggdGhpcyApLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAkZm9ybS5hdHRyICggJ21ldGhvZCcgKSB8fCAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyICggJ2FjdGlvbicgKSxcblxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5sb2FkaW5nICggdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIHJlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIF8uaXNTdHJpbmcgKCByZXMgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZXNbMF0gPT09ICc8JyApIHsgLy9JTkZPOiBJcyBIVE1MXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnVGhlcmUgd2FzIGFuIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluIG9yIHJlcG9ydCB0aGUgcHJvYmxlbScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZCAoIHJlcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggcmVzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnVGhlcmUgd2FzIGFuIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluIG9yIHJlcG9ydCB0aGUgcHJvYmxlbScgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCByZXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfLmlzU3RyaW5nICggcmVzICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmVzID09PSAncmVmcmVzaCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnRG9uZSEgUmVmcmVzaGluZyB0aGUgcGFnZS4uLicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggL14oKFxcUyopPzpcXC9cXC8pP1xcLz9cXFMqJC8udGVzdCAoIHJlcyApICkgeyAvL0lORk86IElzIGFuIHVybCwgZWl0aGVyIGFic29sdXRlIG9yIHJlbGF0aXZlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlcyA9PT0gd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgcmVzID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggJ0RvbmUhIFJlZnJlc2hpbmcgdGhlIHBhZ2UuLi4nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkICgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnRG9uZSEgUmVkaXJlY3RpbmcuLi4nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uYXNzaWduICggcmVzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHJlc1swXSA9PT0gJzwnICkgeyAvL0lORk86IElzIEhUTUxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubm90eSAoICdEb25lISBBIHBhZ2UgcmVmcmVzaCBtYXkgYmUgbmVlZGVkIHRvIHNlZSB0aGUgY2hhbmdlcycgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZCAoIHJlcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggcmVzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCAnRG9uZSEgQSBwYWdlIHJlZnJlc2ggbWF5IGJlIG5lZWRlZCB0byBzZWUgdGhlIGNoYW5nZXMnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJGZvcm0ubG9hZGluZyAoIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdmb3JtLmFqYXgnKS5mb3JtQWpheCAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBtYXliZSBhZGQgdGhlIGFiaWxpdHkgdG8gb3BlbiBpdFxuLy9UT0RPOiBtYXliZSBqdXN0IGhpZGluZyBpdCBvbiBjbG9zZSBpcyBlbm91Z2gsIGRvIHdlIGdhaW4gYSBwZXJmb3JtYW5jZSBiZW5lZml0IHRoaXMgd2F5P1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogSU5GT0JBUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLmluZm9iYXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlbGVjdG9yczoge1xuICAgICAgICAgICAgICAgIGNsb3NlcjogJy5pbmZvYmFyLWNsb3NlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgICAgIGNsb3NlOiAyNTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5mb2JhciA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5jbG9zZXIsIHRoaXMuY2xvc2UgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGluZm9iYXIuYWRkQ2xhc3MgKCAncmVtb3ZlJyApLnNsaWRlVXAgKCB0aGlzLm9wdGlvbnMuZGVsYXkuY2xvc2UgKTsgLy9GSVhNRTogdGhlIGFuaW1hdGlvbiBpcyB0b28gZXhwZW5zaXZlXG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5mb2Jhci5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2Nsb3NlJyApO1xuXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZGVsYXkuY2xvc2UgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuaW5mb2Jhci13cnAnKS5pbmZvYmFyICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogTU9EQUwgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5tb2RhbCcsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3JzOiB7XG4gICAgICAgICAgICAgICAgY2xvc2VyOiAnLm1vZGFsLWNsb3NlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgY2xvc2U6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG1vZGFsID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNsb3NlciwgdGhpcy5jbG9zZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2VzY19rZXlkb3duOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FU0NBUEUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJG1vZGFsLmFkZENsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9lc2Nfa2V5ZG93biApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ29wZW4nICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RhbC5yZW1vdmVDbGFzcyAoICdhY3RpdmUnICk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2VzY19rZXlkb3duICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnY2xvc2UnICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLm1vZGFsJykubW9kYWwgKCk7XG5cbiAgICAgICAgJCgnW2RhdGEtbW9kYWwtdHJpZ2dlcl0nKS5vbiAoICdjbGljaycsIGZ1bmN0aW9uICgpIHsgLy9UT0RPOiBtYXliZSBkbyBzb21ldGhpbmcgbGlrZSB0aGlzIGZvciB0aGUgb3RoZXIgdHJpZ2dhYmxlIHdpZGdldHMuLi4gc28gdGhhdCB3ZSBkb24ndCBjYXJlIGlmIGEgdHJpZ2dlciBjaGFuZ2VzIG9yIGlzIGFkZGVkIGR5bmFtaWNhbGx5IC8vVE9ETzogdXNlIGRlbGVnYXRpb25cblxuICAgICAgICAgICAgJCgnIycgKyAkKHRoaXMpLmRhdGEgKCAnbW9kYWwtdHJpZ2dlcicgKSkubW9kYWwgKCAnaW5zdGFuY2UnICkub3BlbiAoKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy9UT0RPOiBBZGQgZmxpY2sgY2FwYWJpbGl0aWVzIChzaG93IGFuZCBoaWRlIG9uIGZsaWNrIGluIHRoZSByaWdodCBkaXJlY3Rpb24gYW5kIHN0YXJ0aW5nIHdpdGhpbiB0aGUgcmlnaHQgem9uZSlcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIE5BVkJBUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLm5hdmJhcicsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb3BlbjogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRuYXZiYXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kd3JwID0gdGhpcy4kbmF2YmFyLnBhcmVudCAoKTtcblxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuJG5hdmJhci5hdHRyICggJ2lkJyApO1xuXG4gICAgICAgICAgICB0aGlzLiRjbG9zZXJzID0gdGhpcy4kd3JwLmZpbmQgKCAnLm5hdmJhci1jbG9zZXInICk7XG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VycyA9ICQoJy5uYXZiYXItdHJpZ2dlcltkYXRhLW5hdmJhcj1cIicgKyB0aGlzLmlkICsgJ1wiXScpO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IHRoaXMuJHdycC5oYXNDbGFzcyAoICdvcGVuZWQnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8qIENMT1NFUiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGNsb3NlcnMsICdjbGljaycsIHRoaXMuY2xvc2UgKTtcblxuICAgICAgICAgICAgLyogVFJJR0dFUiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHRyaWdnZXJzLCAnY2xpY2snLCB0aGlzLm9wZW4gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCBmb3JjZSApIHtcblxuICAgICAgICAgICAgaWYgKCBfLmlzVW5kZWZpbmVkICggZm9yY2UgKSApIHtcblxuICAgICAgICAgICAgICAgIGZvcmNlID0gIXRoaXMub3BlbmVkO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggZm9yY2UgIT09IHRoaXMub3BlbmVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmb3JjZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHdycC50b2dnbGVDbGFzcyAoICdvcGVuZWQnLCB0aGlzLm9wZW5lZCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoIHRoaXMub3BlbmVkID8gJ29wZW4nIDogJ2Nsb3NlJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlICggdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGUgKCBmYWxzZSApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5uYXZiYXInKS5uYXZiYXIgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9ub3R5L25vdHkuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogSWYgdGhlIHRhYiBoYXNuJ3QgdGhlIGZvY3VzIGFuZCB3ZSBjYW4gdXNlIHRoZSBuYXRpdmUgbm90aWZpY2F0aW9ucyB0aGFuIHdlJ2xsIHNlbmQgYSBuYXRpdmUgbm90aWZpY2F0aW9uLCBvdGhlcndpc2Ugd2Ugd2lsbCBmYWxsYmFjayB0byBhIG5vdHlcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIE5PVElGSUNBVElPTiAqL1xuXG4gICAgJC5ub3RpZmljYXRpb24gPSBmdW5jdGlvbiAoIGN1c3RvbV9vcHRpb25zICkge1xuXG4gICAgICAgIC8vIE9QVElPTlNcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IF8ubWVyZ2UgKHtcbiAgICAgICAgICAgIHRpdGxlOiBmYWxzZSxcbiAgICAgICAgICAgIGJvZHk6IGZhbHNlLFxuICAgICAgICAgICAgaW1nOiBmYWxzZVxuICAgICAgICB9LCBjdXN0b21fb3B0aW9ucyApO1xuXG4gICAgICAgIC8vIE5PVElGSUNBVElPTlxuXG4gICAgICAgIGlmICggIWRvY3VtZW50Lmhhc0ZvY3VzICgpICYmIHdpbmRvdy5Ob3RpZmljYXRpb24gJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdkZW5pZWQnICkge1xuXG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24gKCBmdW5jdGlvbiAoIHN0YXR1cyApIHtcblxuICAgICAgICAgICAgICAgIGlmICggc3RhdHVzID09PSAnZ3JhbnRlZCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24gKCBvcHRpb25zLnRpdGxlLCB7IGJvZHk6IG9wdGlvbnMuYm9keSwgaWNvbjogb3B0aW9ucy5pbWcgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAkLm5vdHkgKCBvcHRpb25zICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICQubm90eSAoIG9wdGlvbnMgKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2Nvb2tpZS9jb29raWUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vSU5GTzogdGhlIHBpcGUgY2hhcmFjdGVyICh8KSBpcyBmb3JiaWRkZW4gaW5zaWRlIGEgbmFtZSwgY29va2llJ3MgdHRsIGlzIDEgeWVhclxuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBvdGhlciBjb29raWUgc2V0dGFibGUgcGFyYW1ldGVyc1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogT05FIFRJTUUgQUNUSU9OICovXG5cbiAgICAkLm9uZVRpbWVBY3Rpb24gPSBmdW5jdGlvbiAoIGN1c3RvbV9vcHRpb25zLCBhY3Rpb24gKSB7XG5cbiAgICAgICAgLy8gT1BUSU9OU1xuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgY29udGFpbmVyOiAnb3RhJywgLy9JTkZPOiB0aGUgY29va2llIG5hbWUgdGhhdCBob2xkcyB0aGUgYWN0aW9ucywgYSBuYW1lc3BhY2UgZm9yIHJlbGF0ZWQgYWN0aW9ucyBiYXNpY2FsbHlcbiAgICAgICAgICAgIGV4cGlyeTogSW5maW5pdHksIC8vSU5GTzogdGhlIGV4cGlyZSB0aW1lIG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgIG5hbWU6IGZhbHNlLCAvL0lORk86IHRoZSBhY3Rpb24gbmFtZVxuICAgICAgICAgICAgYWN0aW9uOiBmYWxzZSAvL0lORk86IHRoZSBhY3Rpb24gdG8gZXhlY3V0ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggXy5pc1N0cmluZyAoIGN1c3RvbV9vcHRpb25zICkgKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbnMubmFtZSA9IGN1c3RvbV9vcHRpb25zO1xuXG4gICAgICAgICAgICBpZiAoIF8uaXNGdW5jdGlvbiAoIGFjdGlvbiApICkge1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hY3Rpb24gPSBhY3Rpb247XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKCBfLmlzUGxhaW5PYmplY3QgKCBjdXN0b21fb3B0aW9ucyApICkge1xuXG4gICAgICAgICAgICBfLm1lcmdlICggb3B0aW9ucywgY3VzdG9tX29wdGlvbnMgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT05FIFRJTUUgQUNUSU9OXG5cbiAgICAgICAgaWYgKCBvcHRpb25zLm5hbWUgKSB7XG5cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBuZXcgQWN0aW9uICggb3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMubmFtZSApO1xuXG4gICAgICAgICAgICBpZiAoIG9wdGlvbnMuYWN0aW9uICYmICFhY3Rpb24uZ2V0ICgpICkge1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hY3Rpb24gKCk7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG5cbiAgICAgICAgfSBlbHNlIGlmICggb3B0aW9ucy5jb250YWluZXIgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyICggb3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMuZXhwaXJ5ICk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qIENPTlRBSU5FUiBPQkogKi9cblxuICAgIHZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoIG5hbWUsIGV4cGlyeSApIHtcblxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmV4cGlyeSA9IGV4cGlyeTtcblxuICAgICAgICB0aGlzLmFjdGlvbnNTdHIgPSAkLmNvb2tpZS5nZXQgKCB0aGlzLm5hbWUgKSB8fCAnJztcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdGhpcy5hY3Rpb25zU3RyLmxlbmd0aCA+IDAgPyB0aGlzLmFjdGlvbnNTdHIuc3BsaXQgKCAnfCcgKSA6IFtdO1xuXG4gICAgfTtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoIGFjdGlvbiApIHtcblxuICAgICAgICAgICAgcmV0dXJuIF8uY29udGFpbnMgKCB0aGlzLmFjdGlvbnMsIGFjdGlvbiApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoIGFjdGlvbiApIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5nZXQgKCBhY3Rpb24gKSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5wdXNoICggYWN0aW9uICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uc1N0ciA9IHRoaXMuYWN0aW9ucy5qb2luICggJ3wnICk7XG5cbiAgICAgICAgICAgICQuY29va2llLnNldCAoIHRoaXMubmFtZSwgdGhpcy5hY3Rpb25zU3RyLCB0aGlzLmV4cGlyeSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICggYWN0aW9uICkge1xuXG4gICAgICAgICAgICBpZiAoIGFjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgIF8ucHVsbCAoIHRoaXMuYWN0aW9ucywgYWN0aW9uICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICQuY29va2llLnJlbW92ZSAoIHRoaXMubmFtZSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qIEFDVElPTiBPQkogKi9cblxuICAgIHZhciBBY3Rpb24gPSBmdW5jdGlvbiAoIGNvbnRhaW5lciwgbmFtZSwgYWN0aW9uICkge1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IENvbnRhaW5lciAoIGNvbnRhaW5lciApO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgfTtcblxuICAgIEFjdGlvbi5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXQgKCB0aGlzLm5hbWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXQgKCB0aGlzLm5hbWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlc2V0ICggdGhpcy5uYW1lICk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogdGhpcyB3YXkgb2YgZXhlbnRpbmcgdGhlIHByb3BlcnR5IGVyYXNlcyBwcmV2aW91cyBzZXR0ZWQgc3R5bGVzIChzeW5jZSBhIGFycmF5IGlzIGV4dGVuZGVkIHdpdGggYSBjb3B5LCB3ZSBhcmUgbm90IGV4dGVuZGluZyB0aGUgY2hpbGRyZW4pXG4vL1RPRE86IG1ha2UgdGVtcGxhdGVzIERSWVxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUFJJVkFURSAqL1xuXG4gICAgdmFyIGdlbmVyYXRlX29wdGlvbnMgPSBmdW5jdGlvbiAoIG9wdGlvbnMsIG11bHRpcGxlICkge1xuXG4gICAgICAgIGlmICggIV8uaXNVbmRlZmluZWQgKCBtdWx0aXBsZSApICkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X29wdGlvbnMgPSB7IHBlcmNlbnRhZ2VzOiBBcnJheSAoIGFyZ3VtZW50cy5sZW5ndGggKSB9O1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgbmV3X29wdGlvbnMucGVyY2VudGFnZXNbaV0gPSBfLmlzTnVtYmVyICggYXJndW1lbnRzW2ldICkgPyB7IHZhbHVlOiBhcmd1bWVudHNbaV0gfSA6IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfb3B0aW9ucyA9IF8uaXNOdW1iZXIgKCBvcHRpb25zICkgPyB7IHBlcmNlbnRhZ2VzOiBbeyB2YWx1ZTogb3B0aW9ucyB9XSB9IDogKCBvcHRpb25zLnBlcmNlbnRhZ2VzID8gb3B0aW9ucyA6IHsgcGVyY2VudGFnZXM6IFtvcHRpb25zXSB9ICk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdfb3B0aW9ucztcblxuICAgIH07XG5cbiAgICAvKiBIRUxQRVIgKi9cblxuICAgICQucHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiAoIG9wdGlvbnMsIG11bHRpcGxlICkge1xuXG4gICAgICAgIG9wdGlvbnMgPSBnZW5lcmF0ZV9vcHRpb25zLmFwcGx5ICggbnVsbCwgYXJndW1lbnRzICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkLnByZXN0by5wcm9ncmVzc0JhciAoIG9wdGlvbnMgKTtcblxuICAgIH07XG5cbiAgICAvKiBQUk9HUkVTUyBCQVIgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5wcm9ncmVzc0JhcicsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIGJhc2U6ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXIgeyU9KG8uc3RyaXBlZCA/IFwic3RyaXBlZFwiIDogXCJcIiklfSB7JT1vLmNvbG9yJX0geyU9by5zaXplJX0geyU9by5jc3MlfVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItdW5oaWdobGlnaHRlZFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnByb2dyZXNzQmFyLnBlcmNlbnRhZ2VzXCIgKyAoIG8ubGFiZWxlZCA/IFwiX2xhYmVsZWRcIiA6IFwiXCIgKSwgby5wZXJjZW50YWdlcyApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyLXN0cmlwZXNcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgcGVyY2VudGFnZXM6ICd7JSBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrICkgeyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgaW5jbHVkZSAoIFwicHJlc3RvLnByb2dyZXNzQmFyLnBlcmNlbnRhZ2VcIiwgb1tpXSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICd7JSB9ICV9JyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VzX2xhYmVsZWQ6ICd7JSBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrICkgeyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpbmNsdWRlICggXCJwcmVzdG8ucHJvZ3Jlc3NCYXIucGVyY2VudGFnZV9sYWJlbGVkXCIsIG9baV0gKTsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSB9ICV9JyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItaGlnaGxpZ2h0ZWQgeyU9KG8uY29sb3IgfHwgXCJcIiklfSB7JT0oby5jc3MgfHwgXCJcIiklfVwiPjwvZGl2PicsXG4gICAgICAgICAgICBwZXJjZW50YWdlX2xhYmVsZWQ6ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NCYXItaGlnaGxpZ2h0ZWQgeyU9KG8uY29sb3IgfHwgXCJcIiklfSB7JT0oby5jc3MgfHwgXCJcIiklfVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3slIGluY2x1ZGUgKCBcInByZXN0by5wcm9ncmVzc0Jhci5sYWJlbFwiLCB7fSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgIGxhYmVsOiAnPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyLWxhYmVsXCI+PC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBwZXJjZW50YWdlczogW10sXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogJydcbiAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBjb2xvcjogJycsXG4gICAgICAgICAgICBzaXplOiAnJyxcbiAgICAgICAgICAgIGNzczogJycsXG5cbiAgICAgICAgICAgIHN0cmlwZWQ6IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxlZDogZmFsc2UsXG4gICAgICAgICAgICBkZWNpbWFsczogMCxcblxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgZnVsbDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kcHJvZ3Jlc3NCYXIgPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWRzID0gdGhpcy4kcHJvZ3Jlc3NCYXIuZmluZCAoICcucHJvZ3Jlc3NCYXItaGlnaGxpZ2h0ZWQnICk7XG4gICAgICAgICAgICB0aGlzLiRzdHJpcGVzID0gdGhpcy4kcHJvZ3Jlc3NCYXIuZmluZCAoICcucHJvZ3Jlc3NCYXItc3RyaXBlcycgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5pbml0aWFsaXphdGlvblR5cGUgIT09ICdlbGVtZW50JyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgIHZhciAkaGlnaGxpZ2h0ZWQgPSB0aGlzLiRoaWdobGlnaHRlZHMuZXEgKCBpICk7XG5cbiAgICAgICAgICAgICAgICAkaGlnaGxpZ2h0ZWQud2lkdGggKCB0aGlzLm9wdGlvbnMucGVyY2VudGFnZXNbaV0udmFsdWUgKyAnJScgKTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmxhYmVsZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRsYWJlbCA9ICRoaWdobGlnaHRlZC5maW5kICggJy5wcm9ncmVzc0Jhci1sYWJlbCcgKTtcblxuICAgICAgICAgICAgICAgICAgICAkbGFiZWwuaHRtbCAoICsodGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VzW2ldLnZhbHVlKS50b0ZpeGVkICggdGhpcy5vcHRpb25zLmRlY2ltYWxzICkgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3VtID0gXy5jbGFtcCAoIDAsIF8uc3VtICggdGhpcy5nZXQgKCkuc2xpY2UgKCAwLCB0aGlzLiRoaWdobGlnaHRlZHMubGVuZ3RoICkgKSwgMTAwICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnN0cmlwZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzdHJpcGVzLndpZHRoICggc3VtICsgJyUnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBzdW0gPT09IDEwMCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnZnVsbCcgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBfLm1hcCAoIHRoaXMub3B0aW9ucy5wZXJjZW50YWdlcywgZnVuY3Rpb24gKCBwZXJjZW50YWdlICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnRhZ2UudmFsdWU7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoIG9wdGlvbnMsIG11bHRpcGxlICkge1xuXG4gICAgICAgICAgICBvcHRpb25zID0gZ2VuZXJhdGVfb3B0aW9ucy5hcHBseSAoIG51bGwsIGFyZ3VtZW50cyApO1xuXG4gICAgICAgICAgICBfLm1lcmdlICggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7IC8vRklYTUU6IGRvZXMgdGhlIG1lcmdlIHdvcmsgaGVyZT8gb3Igd2UgbW9kaWZ5IHRoZSBvcmlnaW5hbCBvcHRpb25zP1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUgKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAndXBkYXRlJyApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5wcm9ncmVzc0JhcicpLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkcHJvZ3Jlc3NCYXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc3RyaXBlZDogJHByb2dyZXNzQmFyLmhhc0NsYXNzICggJ3N0cmlwZWQnICksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsZWQ6ICEhJHByb2dyZXNzQmFyLmZpbmQgKCAnLnByb2dyZXNzQmFyLWxhYmVsJyApLmxlbmd0aFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRwcm9ncmVzc0Jhci5maW5kICggJy5wcm9ncmVzc0Jhci1oaWdobGlnaHRlZCcgKS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wZXJjZW50YWdlcy5wdXNoICh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJzZUZsb2F0ICggdGhpcy5zdHlsZS53aWR0aCApXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkcHJvZ3Jlc3NCYXIucHJvZ3Jlc3NCYXIgKCBvcHRpb25zICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiLyogaHR0cDovL3ByaXNtanMuY29tL2Rvd25sb2FkLmh0bWw/dGhlbWVzPXByaXNtJmxhbmd1YWdlcz1tYXJrdXArY3NzK2Nzcy1leHRyYXMrY2xpa2UramF2YXNjcmlwdCAqL1xuc2VsZj10eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiP3dpbmRvdzp0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUhPVwidW5kZWZpbmVkXCImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZT9zZWxmOnt9O3ZhciBQcmlzbT1mdW5jdGlvbigpe3ZhciBlPS9cXGJsYW5nKD86dWFnZSk/LSg/IVxcKikoXFx3KylcXGIvaSx0PXNlbGYuUHJpc209e3V0aWw6e2VuY29kZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIG4/bmV3IG4oZS50eXBlLHQudXRpbC5lbmNvZGUoZS5jb250ZW50KSxlLmFsaWFzKTp0LnV0aWwudHlwZShlKT09PVwiQXJyYXlcIj9lLm1hcCh0LnV0aWwuZW5jb2RlKTplLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvXFx1MDBhMC9nLFwiIFwiKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9cXFtvYmplY3QgKFxcdyspXFxdLylbMV19LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciBuPXQudXRpbC50eXBlKGUpO3N3aXRjaChuKXtjYXNlXCJPYmplY3RcIjp2YXIgcj17fTtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYocltpXT10LnV0aWwuY2xvbmUoZVtpXSkpO3JldHVybiByO2Nhc2VcIkFycmF5XCI6cmV0dXJuIGUuc2xpY2UoKX1yZXR1cm4gZX19LGxhbmd1YWdlczp7ZXh0ZW5kOmZ1bmN0aW9uKGUsbil7dmFyIHI9dC51dGlsLmNsb25lKHQubGFuZ3VhZ2VzW2VdKTtmb3IodmFyIGkgaW4gbilyW2ldPW5baV07cmV0dXJuIHJ9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLG4scixpKXtpPWl8fHQubGFuZ3VhZ2VzO3ZhciBzPWlbZV07aWYoYXJndW1lbnRzLmxlbmd0aD09Mil7cj1hcmd1bWVudHNbMV07Zm9yKHZhciBvIGluIHIpci5oYXNPd25Qcm9wZXJ0eShvKSYmKHNbb109cltvXSk7cmV0dXJuIHN9dmFyIHU9e307Zm9yKHZhciBhIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShhKSl7aWYoYT09bilmb3IodmFyIG8gaW4gcilyLmhhc093blByb3BlcnR5KG8pJiYodVtvXT1yW29dKTt1W2FdPXNbYV19dC5sYW5ndWFnZXMuREZTKHQubGFuZ3VhZ2VzLGZ1bmN0aW9uKHQsbil7bj09PWlbZV0mJnQhPWUmJih0aGlzW3RdPXUpfSk7cmV0dXJuIGlbZV09dX0sREZTOmZ1bmN0aW9uKGUsbixyKXtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpKXtuLmNhbGwoZSxpLGVbaV0scnx8aSk7dC51dGlsLnR5cGUoZVtpXSk9PT1cIk9iamVjdFwiP3QubGFuZ3VhZ2VzLkRGUyhlW2ldLG4pOnQudXRpbC50eXBlKGVbaV0pPT09XCJBcnJheVwiJiZ0Lmxhbmd1YWdlcy5ERlMoZVtpXSxuLGkpfX19LGhpZ2hsaWdodEFsbDpmdW5jdGlvbihlLG4pe3ZhciByPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdLCBbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdIGNvZGUsIGNvZGVbY2xhc3MqPVwibGFuZy1cIl0sIFtjbGFzcyo9XCJsYW5nLVwiXSBjb2RlJyk7Zm9yKHZhciBpPTAscztzPXJbaSsrXTspdC5oaWdobGlnaHRFbGVtZW50KHMsZT09PSEwLG4pfSxoaWdobGlnaHRFbGVtZW50OmZ1bmN0aW9uKHIsaSxzKXt2YXIgbyx1LGE9cjt3aGlsZShhJiYhZS50ZXN0KGEuY2xhc3NOYW1lKSlhPWEucGFyZW50Tm9kZTtpZihhKXtvPShhLmNsYXNzTmFtZS5tYXRjaChlKXx8WyxcIlwiXSlbMV07dT10Lmxhbmd1YWdlc1tvXX1pZighdSlyZXR1cm47ci5jbGFzc05hbWU9ci5jbGFzc05hbWUucmVwbGFjZShlLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikrXCIgbGFuZ3VhZ2UtXCIrbzthPXIucGFyZW50Tm9kZTsvcHJlL2kudGVzdChhLm5vZGVOYW1lKSYmKGEuY2xhc3NOYW1lPWEuY2xhc3NOYW1lLnJlcGxhY2UoZSxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpK1wiIGxhbmd1YWdlLVwiK28pO3ZhciBmPXIudGV4dENvbnRlbnQ7aWYoIWYpcmV0dXJuO3ZhciBsPXtlbGVtZW50OnIsbGFuZ3VhZ2U6byxncmFtbWFyOnUsY29kZTpmfTt0Lmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRcIixsKTtpZihpJiZzZWxmLldvcmtlcil7dmFyIGM9bmV3IFdvcmtlcih0LmZpbGVuYW1lKTtjLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtsLmhpZ2hsaWdodGVkQ29kZT1uLnN0cmluZ2lmeShKU09OLnBhcnNlKGUuZGF0YSksbyk7dC5ob29rcy5ydW4oXCJiZWZvcmUtaW5zZXJ0XCIsbCk7bC5lbGVtZW50LmlubmVySFRNTD1sLmhpZ2hsaWdodGVkQ29kZTtzJiZzLmNhbGwobC5lbGVtZW50KTt0Lmhvb2tzLnJ1bihcImFmdGVyLWhpZ2hsaWdodFwiLGwpfTtjLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtsYW5ndWFnZTpsLmxhbmd1YWdlLGNvZGU6bC5jb2RlfSkpfWVsc2V7bC5oaWdobGlnaHRlZENvZGU9dC5oaWdobGlnaHQobC5jb2RlLGwuZ3JhbW1hcixsLmxhbmd1YWdlKTt0Lmhvb2tzLnJ1bihcImJlZm9yZS1pbnNlcnRcIixsKTtsLmVsZW1lbnQuaW5uZXJIVE1MPWwuaGlnaGxpZ2h0ZWRDb2RlO3MmJnMuY2FsbChyKTt0Lmhvb2tzLnJ1bihcImFmdGVyLWhpZ2hsaWdodFwiLGwpfX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGUscixpKXt2YXIgcz10LnRva2VuaXplKGUscik7cmV0dXJuIG4uc3RyaW5naWZ5KHQudXRpbC5lbmNvZGUocyksaSl9LHRva2VuaXplOmZ1bmN0aW9uKGUsbixyKXt2YXIgaT10LlRva2VuLHM9W2VdLG89bi5yZXN0O2lmKG8pe2Zvcih2YXIgdSBpbiBvKW5bdV09b1t1XTtkZWxldGUgbi5yZXN0fWU6Zm9yKHZhciB1IGluIG4pe2lmKCFuLmhhc093blByb3BlcnR5KHUpfHwhblt1XSljb250aW51ZTt2YXIgYT1uW3VdO2E9dC51dGlsLnR5cGUoYSk9PT1cIkFycmF5XCI/YTpbYV07Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDsrK2Ype3ZhciBsPWFbZl0sYz1sLmluc2lkZSxoPSEhbC5sb29rYmVoaW5kLHA9MCxkPWwuYWxpYXM7bD1sLnBhdHRlcm58fGw7Zm9yKHZhciB2PTA7djxzLmxlbmd0aDt2Kyspe3ZhciBtPXNbdl07aWYocy5sZW5ndGg+ZS5sZW5ndGgpYnJlYWsgZTtpZihtIGluc3RhbmNlb2YgaSljb250aW51ZTtsLmxhc3RJbmRleD0wO3ZhciBnPWwuZXhlYyhtKTtpZihnKXtoJiYocD1nWzFdLmxlbmd0aCk7dmFyIHk9Zy5pbmRleC0xK3AsZz1nWzBdLnNsaWNlKHApLGI9Zy5sZW5ndGgsdz15K2IsRT1tLnNsaWNlKDAseSsxKSxTPW0uc2xpY2UodysxKSx4PVt2LDFdO0UmJngucHVzaChFKTt2YXIgVD1uZXcgaSh1LGM/dC50b2tlbml6ZShnLGMpOmcsZCk7eC5wdXNoKFQpO1MmJngucHVzaChTKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMseCl9fX19cmV0dXJuIHN9LGhvb2tzOnthbGw6e30sYWRkOmZ1bmN0aW9uKGUsbil7dmFyIHI9dC5ob29rcy5hbGw7cltlXT1yW2VdfHxbXTtyW2VdLnB1c2gobil9LHJ1bjpmdW5jdGlvbihlLG4pe3ZhciByPXQuaG9va3MuYWxsW2VdO2lmKCFyfHwhci5sZW5ndGgpcmV0dXJuO2Zvcih2YXIgaT0wLHM7cz1yW2krK107KXMobil9fX0sbj10LlRva2VuPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnR5cGU9ZTt0aGlzLmNvbnRlbnQ9dDt0aGlzLmFsaWFzPW59O24uc3RyaW5naWZ5PWZ1bmN0aW9uKGUscixpKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm4gZTtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PVwiW29iamVjdCBBcnJheV1cIilyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uc3RyaW5naWZ5KHQscixlKX0pLmpvaW4oXCJcIik7dmFyIHM9e3R5cGU6ZS50eXBlLGNvbnRlbnQ6bi5zdHJpbmdpZnkoZS5jb250ZW50LHIsaSksdGFnOlwic3BhblwiLGNsYXNzZXM6W1widG9rZW5cIixlLnR5cGVdLGF0dHJpYnV0ZXM6e30sbGFuZ3VhZ2U6cixwYXJlbnQ6aX07cy50eXBlPT1cImNvbW1lbnRcIiYmKHMuYXR0cmlidXRlcy5zcGVsbGNoZWNrPVwidHJ1ZVwiKTtpZihlLmFsaWFzKXt2YXIgbz10LnV0aWwudHlwZShlLmFsaWFzKT09PVwiQXJyYXlcIj9lLmFsaWFzOltlLmFsaWFzXTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzLmNsYXNzZXMsbyl9dC5ob29rcy5ydW4oXCJ3cmFwXCIscyk7dmFyIHU9XCJcIjtmb3IodmFyIGEgaW4gcy5hdHRyaWJ1dGVzKXUrPWErJz1cIicrKHMuYXR0cmlidXRlc1thXXx8XCJcIikrJ1wiJztyZXR1cm5cIjxcIitzLnRhZysnIGNsYXNzPVwiJytzLmNsYXNzZXMuam9pbihcIiBcIikrJ1wiICcrdStcIj5cIitzLmNvbnRlbnQrXCI8L1wiK3MudGFnK1wiPlwifTtpZighc2VsZi5kb2N1bWVudCl7aWYoIXNlbGYuYWRkRXZlbnRMaXN0ZW5lcilyZXR1cm4gc2VsZi5QcmlzbTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIG49SlNPTi5wYXJzZShlLmRhdGEpLHI9bi5sYW5ndWFnZSxpPW4uY29kZTtzZWxmLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHQudXRpbC5lbmNvZGUodC50b2tlbml6ZShpLHQubGFuZ3VhZ2VzW3JdKSkpKTtzZWxmLmNsb3NlKCl9LCExKTtyZXR1cm4gc2VsZi5QcmlzbX12YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtyPXJbci5sZW5ndGgtMV07aWYocil7dC5maWxlbmFtZT1yLnNyYztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYhci5oYXNBdHRyaWJ1dGUoXCJkYXRhLW1hbnVhbFwiKSYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIix0LmhpZ2hsaWdodEFsbCl9cmV0dXJuIHNlbGYuUHJpc219KCk7dHlwZW9mIG1vZHVsZSE9XCJ1bmRlZmluZWRcIiYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1QcmlzbSk7O1xuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cD17Y29tbWVudDovPCEtLVtcXHdcXFddKj8tLT4vZyxwcm9sb2c6LzxcXD8uKz9cXD8+Lyxkb2N0eXBlOi88IURPQ1RZUEUuKz8+LyxjZGF0YTovPCFcXFtDREFUQVxcW1tcXHdcXFddKj9dXT4vaSx0YWc6e3BhdHRlcm46LzxcXC8/W1xcdzotXStcXHMqKD86XFxzK1tcXHc6LV0rKD86PSg/OihcInwnKShcXFxcP1tcXHdcXFddKSo/XFwxfFteXFxzJ1wiPj1dKykpP1xccyopKlxcLz8+L2dpLGluc2lkZTp7dGFnOntwYXR0ZXJuOi9ePFxcLz9bXFx3Oi1dKy9pLGluc2lkZTp7cHVuY3R1YXRpb246L148XFwvPy8sbmFtZXNwYWNlOi9eW1xcdy1dKz86L319LFwiYXR0ci12YWx1ZVwiOntwYXR0ZXJuOi89KD86KCd8XCIpW1xcd1xcV10qPyhcXDEpfFteXFxzPl0rKS9naSxpbnNpZGU6e3B1bmN0dWF0aW9uOi89fD58XCIvZ319LHB1bmN0dWF0aW9uOi9cXC8/Pi9nLFwiYXR0ci1uYW1lXCI6e3BhdHRlcm46L1tcXHc6LV0rL2csaW5zaWRlOntuYW1lc3BhY2U6L15bXFx3LV0rPzovfX19fSxlbnRpdHk6L1xcJiM/W1xcZGEtel17MSw4fTsvZ2l9LFByaXNtLmhvb2tzLmFkZChcIndyYXBcIixmdW5jdGlvbih0KXtcImVudGl0eVwiPT09dC50eXBlJiYodC5hdHRyaWJ1dGVzLnRpdGxlPXQuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sXCImXCIpKX0pOztcblByaXNtLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1xcL1xcKltcXHdcXFddKj9cXCpcXC8vZyxhdHJ1bGU6e3BhdHRlcm46L0BbXFx3LV0rPy4qPyg7fCg/PVxccyp7KSkvZ2ksaW5zaWRlOntwdW5jdHVhdGlvbjovWzs6XS9nfX0sdXJsOi91cmxcXCgoW1wiJ10/KS4qP1xcMVxcKS9naSxzZWxlY3RvcjovW15cXHtcXH1cXHNdW15cXHtcXH07XSooPz1cXHMqXFx7KS9nLHByb3BlcnR5Oi8oXFxifFxcQilbXFx3LV0rKD89XFxzKjopL2dpLHN0cmluZzovKFwifCcpKFxcXFw/LikqP1xcMS9nLGltcG9ydGFudDovXFxCIWltcG9ydGFudFxcYi9naSxwdW5jdHVhdGlvbjovW1xce1xcfTs6XS9nLFwiZnVuY3Rpb25cIjovWy1hLXowLTldKyg/PVxcKCkvZ2l9LFByaXNtLmxhbmd1YWdlcy5tYXJrdXAmJihQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwibWFya3VwXCIsXCJ0YWdcIix7c3R5bGU6e3BhdHRlcm46LzxzdHlsZVtcXHdcXFddKj8+W1xcd1xcV10qPzxcXC9zdHlsZT4vZ2ksaW5zaWRlOnt0YWc6e3BhdHRlcm46LzxzdHlsZVtcXHdcXFddKj8+fDxcXC9zdHlsZT4vZ2ksaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZX0scmVzdDpQcmlzbS5sYW5ndWFnZXMuY3NzfSxhbGlhczpcImxhbmd1YWdlLWNzc1wifX0pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJpbnNpZGVcIixcImF0dHItdmFsdWVcIix7XCJzdHlsZS1hdHRyXCI6e3BhdHRlcm46L1xccypzdHlsZT0oXCJ8JykuKz9cXDEvZ2ksaW5zaWRlOntcImF0dHItbmFtZVwiOntwYXR0ZXJuOi9eXFxzKnN0eWxlL2dpLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGV9LHB1bmN0dWF0aW9uOi9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXCJhdHRyLXZhbHVlXCI6e3BhdHRlcm46Ly4rL2dpLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMuY3NzfX0sYWxpYXM6XCJsYW5ndWFnZS1jc3NcIn19LFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnKSk7O1xuUHJpc20ubGFuZ3VhZ2VzLmNzcy5zZWxlY3Rvcj17cGF0dGVybjovW15cXHtcXH1cXHNdW15cXHtcXH1dKig/PVxccypcXHspL2csaW5zaWRlOntcInBzZXVkby1lbGVtZW50XCI6LzooPzphZnRlcnxiZWZvcmV8Zmlyc3QtbGV0dGVyfGZpcnN0LWxpbmV8c2VsZWN0aW9uKXw6OlstXFx3XSsvZyxcInBzZXVkby1jbGFzc1wiOi86Wy1cXHddKyg/OlxcKC4qXFwpKT8vZyxcImNsYXNzXCI6L1xcLlstOlxcLlxcd10rL2csaWQ6LyNbLTpcXC5cXHddKy9nfX0sUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImNzc1wiLFwiaWdub3JlXCIse2hleGNvZGU6LyNbXFxkYS1mXXszLDZ9L2dpLGVudGl0eTovXFxcXFtcXGRhLWZdezEsOH0vZ2ksbnVtYmVyOi9bXFxkJVxcLl0rL2d9KTs7XG5QcmlzbS5sYW5ndWFnZXMuY2xpa2U9e2NvbW1lbnQ6W3twYXR0ZXJuOi8oXnxbXlxcXFxdKVxcL1xcKltcXHdcXFddKj9cXCpcXC8vZyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W15cXFxcOl0pXFwvXFwvLio/KFxccj9cXG58JCkvZyxsb29rYmVoaW5kOiEwfV0sc3RyaW5nOi8oXCJ8JykoXFxcXD8uKSo/XFwxL2csXCJjbGFzcy1uYW1lXCI6e3BhdHRlcm46LygoPzooPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfHRyYWl0fGluc3RhbmNlb2Z8bmV3KVxccyspfCg/OmNhdGNoXFxzK1xcKCkpW2EtejAtOV9cXC5cXFxcXSsvZ2ksbG9va2JlaGluZDohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi8oXFwufFxcXFwpL319LGtleXdvcmQ6L1xcYihpZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcXGIvZyxcImJvb2xlYW5cIjovXFxiKHRydWV8ZmFsc2UpXFxiL2csXCJmdW5jdGlvblwiOntwYXR0ZXJuOi9bYS16MC05X10rXFwoL2dpLGluc2lkZTp7cHVuY3R1YXRpb246L1xcKC99fSxudW1iZXI6L1xcYi0/KDB4W1xcZEEtRmEtZl0rfFxcZCpcXC4/XFxkKyhbRWVdLT9cXGQrKT8pXFxiL2csb3BlcmF0b3I6L1stK117MSwyfXwhfDw9P3w+PT98PXsxLDN9fCZ7MSwyfXxcXHw/XFx8fFxcP3xcXCp8XFwvfFxcfnxcXF58XFwlL2csaWdub3JlOi8mKGx0fGd0fGFtcCk7L2dpLHB1bmN0dWF0aW9uOi9be31bXFxdOygpLC46XS9nfTs7XG5QcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKFwiY2xpa2VcIix7a2V5d29yZDovXFxiKGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZhbHNlfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ1ZXx0cnl8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXFxiL2csbnVtYmVyOi9cXGItPygweFtcXGRBLUZhLWZdK3xcXGQqXFwuP1xcZCsoW0VlXS0/XFxkKyk/fE5hTnwtP0luZmluaXR5KVxcYi9nfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImphdmFzY3JpcHRcIixcImtleXdvcmRcIix7cmVnZXg6e3BhdHRlcm46LyhefFteL10pXFwvKD8hXFwvKShcXFsuKz9dfFxcXFwufFteL1xcclxcbl0pK1xcL1tnaW1dezAsM30oPz1cXHMqKCR8W1xcclxcbiwuO30pXSkpL2csbG9va2JlaGluZDohMH19KSxQcmlzbS5sYW5ndWFnZXMubWFya3VwJiZQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwibWFya3VwXCIsXCJ0YWdcIix7c2NyaXB0OntwYXR0ZXJuOi88c2NyaXB0W1xcd1xcV10qPz5bXFx3XFxXXSo/PFxcL3NjcmlwdD4vZ2ksaW5zaWRlOnt0YWc6e3BhdHRlcm46LzxzY3JpcHRbXFx3XFxXXSo/Pnw8XFwvc2NyaXB0Pi9naSxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlfSxyZXN0OlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSxhbGlhczpcImxhbmd1YWdlLWphdmFzY3JpcHRcIn19KTs7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFJBRElPICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8ucmFkaW8nLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHJhZGlvID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kcmFkaW8uZmluZCAoICdpbnB1dCcgKTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdGhpcy4kaW5wdXQuYXR0ciAoICduYW1lJyApO1xuXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLiRyYWRpby5wYXJlbnRzICggJ2Zvcm0nICkuZmlyc3QgKCk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy4kY29udGFpbmVyLmxlbmd0aCA9PT0gMCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICRkb2N1bWVudDtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRvdGhlcl9yYWRpb3MgPSB0aGlzLiRjb250YWluZXIuZmluZCAoICdpbnB1dFtuYW1lPVwiJyArIHRoaXMubmFtZSArICdcIl0nICkucGFyZW50ICggJy5yYWRpbycgKS5ub3QgKCB0aGlzLiRyYWRpbyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHsgLy9GSVhNRTogaXMgaXQgbmVjZXNzYXJ5IHRvIGluY2x1ZGUgaXQ/IE1heWJlIHdlIHNob3VsZCBmaXggbWlzdGFrZXMgd2l0aCB0aGUgbWFya3VwLi4uXG5cbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9IHRoaXMuJHJhZGlvLmhhc0NsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5nZXQgKCkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoICFoYXNDbGFzcyApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyYWRpby5hZGRDbGFzcyAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBoYXNDbGFzcyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHJhZGlvLnJlbW92ZUNsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrICgpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0cnVlLCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENIQU5HRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgaXNDaGVja2VkID0gdGhpcy5nZXQgKCk7XG5cbiAgICAgICAgICAgIGlmICggaXNDaGVja2VkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kb3RoZXJfcmFkaW9zLnJlbW92ZUNsYXNzICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcmFkaW8udG9nZ2xlQ2xhc3MgKCAnY2hlY2tlZCcsIGlzQ2hlY2tlZCApO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggaXNDaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hlY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5nZXQgKCkgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5wcm9wICggJ2NoZWNrZWQnLCB0cnVlICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2NoZWNrZWQnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcucmFkaW8nKS5yYWRpbyAoKTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFJJUFBMRSAqL1xuXG4gICAgdmFyIFJpcHBsZSA9IHtcblxuICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgc2hvdzogMzUwLFxuICAgICAgICAgICAgaGlkZTogNDAwXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24gKCBldmVudCwgJGVsZW1lbnQgKSB7XG5cbiAgICAgICAgICAgIHZhciAkcmlwcGxlID0gJCggJzxkaXYgY2xhc3M9XCJyaXBwbGUtY2lyY2xlXCI+PC9kaXY+JyApLmFwcGVuZFRvICggJGVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAkZWxlbWVudC5vZmZzZXQgKCksXG4gICAgICAgICAgICAgICAgZXZlbnRYWSA9ICQuZXZlbnRYWSAoIGV2ZW50ICksXG4gICAgICAgICAgICAgICAgbm93ID0gXy5ub3cgKCk7XG5cbiAgICAgICAgICAgICRyaXBwbGUuY3NzICh7XG4gICAgICAgICAgICAgICAgdG9wOiBldmVudFhZLlkgLSBvZmZzZXQudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGV2ZW50WFkuWCAtIG9mZnNldC5sZWZ0XG4gICAgICAgICAgICB9KS5hZGRDbGFzcyAoICdyaXBwbGUtY2lyY2xlLXNob3cnICk7XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9uICggJ21vdXNldXAgbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIFJpcHBsZS5oaWRlICggJHJpcHBsZSwgbm93ICk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24gKCAkcmlwcGxlLCBiZWZvcmUgKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWxheSA9IE1hdGgubWF4ICggMCwgUmlwcGxlLmRlbGF5LnNob3cgKyBiZWZvcmUgLSBfLm5vdyAoKSApO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJHJpcHBsZS5hZGRDbGFzcyAoICdyaXBwbGUtY2lyY2xlLWhpZGUnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICRyaXBwbGUucmVtb3ZlICgpO1xuXG4gICAgICAgICAgICAgICAgfSwgUmlwcGxlLmRlbGF5LmhpZGUgKTtcblxuICAgICAgICAgICAgfSwgZGVsYXkgKTtcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkYm9keS5vbiAoICdtb3VzZWRvd24nLCAnLnJpcHBsZScsIGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQuYnV0dG9uID09PSAkLnVpLm1vdXNlQnV0dG9uLlJJR0hUICkgcmV0dXJuO1xuXG4gICAgICAgICAgICBSaXBwbGUuc2hvdyAoIGV2ZW50LCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogQWRkIHN1cHBvcnQgZm9yIHNlbGVjdGluZyBtdWx0aXBsZSBvcHRpb25zICh3aXRoIGNoZWNrYm94ZXMgbWF5YmUpXG4vL0ZJWE1FOiBEb2Vzbid0IHdvcmsgd2hlbiB0aGUgcGFnZSBpcyBzY3JvbGxlZCAoY2hlY2sgaW4gdGhlIGNvbXBvbmVudHMvZm9ybSlcbi8vVE9ETzogYWRkIHNlbGVjdC1jbG9zZXJcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFNFTEVDVCAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnNlbGVjdCcsIHtcblxuICAgICAgICAvKiBURU1QTEFURVMgKi9cblxuICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgIGJhc2U6ICc8ZGl2IGlkPVwiZHJvcGRvd24teyU9by5pZCV9XCIgY2xhc3M9XCJkcm9wZG93biBzZWxlY3QtZHJvcGRvd24gYXR0YWNoZWRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lci1jb250ZW50XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm11bHRpcGxlLXdycCB2ZXJ0aWNhbCBzdHJldGNoZWQgam9pbmVkXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtdWx0aXBsZVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgZm9yICggdmFyIGkgPSAwLCBsID0gby5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKyApIHsgJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JSBpbmNsdWRlICggXCJwcmVzdG8uc2VsZWN0LlwiICsgKCBvLm9wdGlvbnNbaV0udmFsdWUgPyBcIm9wdGlvblwiIDogXCJvcHRncm91cFwiICksIG8ub3B0aW9uc1tpXSApOyAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyUgfSAlfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgb3B0Z3JvdXA6ICc8ZGl2IGNsYXNzPVwiZGl2aWRlci13cnAgYmxvY2tcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkaXZpZGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyU9by5wcm9wJX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgb3B0aW9uOiAnPGRpdiBjbGFzcz1cImxhYmVsLXdycCBidXR0b24td3JwXCIgZGF0YS12YWx1ZT1cInslPW8ucHJvcCV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsIGFjdGlvbmFibGUgc2hhcnBcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsLWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneyU9by52YWx1ZSV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgIH0sXG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIG9wZW46IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBjbG9zZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kdHJpZ2dlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRzZWxlY3QgPSB0aGlzLiR0cmlnZ2VyLmZpbmQgKCAnc2VsZWN0JyApO1xuICAgICAgICAgICAgdGhpcy4kb3B0aW9ucyA9IHRoaXMuJHNlbGVjdC5maW5kICggJ29wdGlvbicgKTtcbiAgICAgICAgICAgIHRoaXMuJHNlbGVjdF9sYWJlbCA9IHRoaXMuJHRyaWdnZXIuZmluZCAoICcuc2VsZWN0LWxhYmVsJyApO1xuICAgICAgICAgICAgdGhpcy4kdmFsdWVob2xkZXIgPSB0aGlzLiR0cmlnZ2VyLmZpbmQgKCAnLnZhbHVlaG9sZGVyJyApO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy4kdHJpZ2dlci5kYXRhICggJ3NlbGVjdCcgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiR2YWx1ZWhvbGRlci5sZW5ndGggPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR2YWx1ZWhvbGRlciA9IHRoaXMuJHNlbGVjdF9sYWJlbDtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdF9vcHRpb25zID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuJGRyb3Bkb3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bl9jb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMgPSBmYWxzZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YWx1ZWhvbGRlciAoKTtcblxuICAgICAgICAgICAgaWYgKCAhJC5icm93c2VyLmlzTW9iaWxlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kc2VsZWN0LmFkZENsYXNzICggJ2hpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfc2VsZWN0X29wdGlvbnMgKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF9kcm9wZG93biAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHNlbGVjdCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ2NoYW5nZScgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoICEkLmJyb3dzZXIuaXNNb2JpbGUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJGJ1dHRvbnMsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfYnV0dG9uX2NsaWNrICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIEJVVFRPTiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2J1dHRvbl9jbGljazogZnVuY3Rpb24gKCBldmVudCwgYnV0dG9uICkge1xuXG4gICAgICAgICAgICB0aGlzLiRzZWxlY3QudmFsICggJChidXR0b24pLmRhdGEgKCAndmFsdWUnICkgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfaW5pdF9zZWxlY3Rfb3B0aW9uczogZnVuY3Rpb24gKCkgeyAvL0ZJWE1FOiBBZGQgc3VwcG9ydCBmb3IgYXJiaXRyYXJ5IG51bWJlciBvZiBvcHRncm91cHMgbGV2ZWxzXG5cbiAgICAgICAgICAgIHZhciBwcmV2aW91c19vcHRncm91cCxcbiAgICAgICAgICAgICAgICBjdXJyZW50X29wdGdyb3VwO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0aGlzLiRvcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgIHZhciAkb3B0aW9uID0gdGhpcy4kb3B0aW9ucy5lcSAoIGkgKSxcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICRvcHRpb24ucGFyZW50ICgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCAkcGFyZW50LmlzICggJ29wdGdyb3VwJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfb3B0Z3JvdXAgPSAkcGFyZW50LmF0dHIgKCAnbGFiZWwnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50X29wdGdyb3VwICE9PSBwcmV2aW91c19vcHRncm91cCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNfb3B0Z3JvdXAgPSBjdXJyZW50X29wdGdyb3VwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdF9vcHRpb25zLnB1c2ggKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wOiBjdXJyZW50X29wdGdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdF9vcHRpb25zLnB1c2ggKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICRvcHRpb24uaHRtbCAoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcDogJG9wdGlvbi5hdHRyICggJ3ZhbHVlJyApXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0X2Ryb3Bkb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5fdG1wbCAoICdiYXNlJywgeyBpZDogdGhpcy5pZCwgb3B0aW9uczogdGhpcy5zZWxlY3Rfb3B0aW9ucyB9ICk7XG5cbiAgICAgICAgICAgICRib2R5LmFwcGVuZCAoIGh0bWwgKTtcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24gPSAkKCcjZHJvcGRvd24tJyArIHRoaXMuaWQpO1xuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd25fY29udGFpbmVyID0gdGhpcy4kZHJvcGRvd24uZmluZCAoICcuY29udGFpbmVyJyApO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQgKCAnLmJ1dHRvbi13cnAnICk7XG5cbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXIuYWRkQ2xhc3MgKCAnZHJvcGRvd24tdHJpZ2dlcicgKS5hdHRyICggJ2RhdGEtZHJvcGRvd24nLCAnZHJvcGRvd24tJyArIHRoaXMuaWQgKTtcblxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy4kZHJvcGRvd24uZHJvcGRvd24gKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX3NldF9kcm9wZG93bl93aWR0aC5iaW5kICggaW5zdGFuY2UgKSgpOyAvL0ZJWE1FOiBpcyB0aGUgYmluZCBuZWNlc3Nhcnk/XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fdHJpZ2dlciAoICdvcGVuJyApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjbG9zZTogaW5zdGFuY2Uub3B0aW9ucy5jYWxsYmFja3MuY2xvc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2Ryb3Bkb3duICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV92YWx1ZWhvbGRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHNlbGVjdGVkX29wdGlvbiA9IHRoaXMuJG9wdGlvbnMuZmlsdGVyICggJ1t2YWx1ZT1cIicgKyB0aGlzLiRzZWxlY3QudmFsICgpICsgJ1wiXScgKTtcblxuICAgICAgICAgICAgdGhpcy4kdmFsdWVob2xkZXIuaHRtbCAoICRzZWxlY3RlZF9vcHRpb24uaHRtbCAoKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9kcm9wZG93bjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zLnJlbW92ZUNsYXNzICggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5maWx0ZXIgKCAnW2RhdGEtdmFsdWU9XCInICsgdGhpcy4kc2VsZWN0LnZhbCAoKSArICdcIl0nICkuYWRkQ2xhc3MgKCAnYWN0aXZlJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldF9kcm9wZG93bl93aWR0aDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRkcm9wZG93bl9jb250YWluZXIuY3NzICggJ21pbi13aWR0aCcsIHRoaXMuJHRyaWdnZXIud2lkdGggKCkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucy5maWx0ZXIgKCAnW2RhdGEtdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJyApLmNsaWNrICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggISQuYnJvd3Nlci5pc01vYmlsZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9kcm9wZG93biAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVfdmFsdWVob2xkZXIgKCk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnNlbGVjdC10cmlnZ2VyJykuc2VsZWN0ICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBkcm9wZG93biBmb3IgYWN0aW9ucyBBTkQvT1IgcmlnaHQgY2xpY2sgZm9yIGFjdGlvblxuLy9GSVhNRTogbWFrZSBpdCB3b3JrYWJsZSB3aXRoIHNvcnRpbmcgKHVwZGF0ZSBhZnRlciBzb3J0aW5nIHNpbmNlIHdlIG1heSlcbi8vVE9ETzogbWFrZSBpdCB3b3JrIHdpdGggY2hlY2tib3hlc1xuLy9GSVhNRTogc2VsZWN0IG11bHRpcGxlIHdpdGggc2hpZnQsIHRoZW4ganVzdCBjbGljayBpbnNpZGUgdGhlIHNlbGVjdGlvbiwgdGhlIGNsaWNrZWQgZWxlbWVudCBkb2Vzbid0IGdldCBzZWxlY3RlZFxuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogUFJJVkFURSAqL1xuXG4gICAgdmFyIGNsZWFyX3NlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIGRvY3VtZW50LnNlbGVjdGlvbiApIHtcblxuICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5ICgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIHdpbmRvdy5nZXRTZWxlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24gKCkucmVtb3ZlQWxsUmFuZ2VzICgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKiBTRUxFQ1RBQkxFICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8uc2VsZWN0YWJsZScsIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2VsZWN0b3I6ICd0Ym9keSB0cjpub3QoLmVtcHR5KScsXG4gICAgICAgICAgICBzZWxlY3RlZF9jbGFzczogJ3NlbGVjdGVkJyxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIHNlbGVjdDogXy5ub29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogU1BFQ0lBTCAqL1xuXG4gICAgICAgIF92YXJpYWJsZXM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kcm93cyA9IHRoaXMuX2dldF9yb3dzICgpO1xuXG4gICAgICAgICAgICB0aGlzLiRzdGFydF9yb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGVuZF9yb3cgPSBmYWxzZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0X3ByZXZzICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvKiBLRVlTICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVyX2tleXNfaW4gKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfa2V5c19vdXQgKTtcblxuICAgICAgICAgICAgLyogTU9VU0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2Vkb3duJywgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCB0aGlzLl9oYW5kbGVyX21vdXNlZG93biApO1xuXG4gICAgICAgICAgICAvKiBPVEhFUlMgKi9cblxuICAgICAgICAgICAgLy9GSVhNRTogYWRkIHN1cHBvcnQgdGFibGVIZWxwZXIgYW5kIHNvcnRhYmxlXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJ2NoYW5nZSBzb3J0JywgdGhpcy5faGFuZGxlcl9jaGFuZ2UgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2Vkb3duIG1vdXNldXAnLCB0aGlzLl9oYW5kbGVyX2NsZWFyX3NlbGVjdGlvbiApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ1RSTCArIEEgLyBDVFJMICsgU0hJRlQgKyBBIC8gQ1RSTCArIEkgKi9cblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2luOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9rZXlzX291dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlzX2tleWRvd24gKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2tleXNfa2V5ZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCAoICQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5tZXRhS2V5ICkgfHwgKCAhJC5icm93c2VyLmlzTWFjICYmIGV2ZW50LmN0cmxLZXkgKSApIHsgLy9JTkZPOiBDT01NQU5EIG9yIENUUkwsIGlzIHdlIGFyZSBvbiBNYWMgb3Igbm90XG5cbiAgICAgICAgICAgICAgICBpZiAoIGV2ZW50LmtleUNvZGUgPT09IDY1ICkgeyAvL0lORk86IEFcblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cyAoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3dzLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzLCAhZXZlbnQuc2hpZnRLZXkgKTsgLy9JTkZPOiBTSElGVCBvciBub3QgLy9GSVhNRTogb25seSB3b3JrcyBpZiB0aGUgbGFzdCBjaGFyYWN0ZXIgcHVzaGVkIGlzIHRoZSBgQWAsIGJ1dCBpcyBpdCBhbiB1bndhbnRlZCBiZWhhdmlvdXI/XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdzZWxlY3QnICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSA3MyApIHsgLy9JTkZPOiBJXG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm93cy50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnc2VsZWN0JyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAvIENUUkwgKyBDTElDSyAvIFNISUZUICsgQ0xJQ0sgLyBDVFJMICsgQ0xJQ0sgLT4gRFJBRyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX21vdXNlZG93bjogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCBldmVudC5idXR0b24gIT09IDAgKSByZXR1cm47IC8vSU5GTzogT25seSB0aGUgbGVmdCBjbGljayBpcyBlbmFibGVkXG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3JvdyA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlcl9tb3VzZW1vdmUgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2V1cCcsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgdGhpcy5faGFuZGxlcl9tb3VzZXVwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9tb3VzZW1vdmU6IGZ1bmN0aW9uICggZXZlbnQgKSB7IC8vIERSQUdcblxuICAgICAgICAgICAgaWYgKCAoICQuYnJvd3Nlci5pc01hYyAmJiAhZXZlbnQubWV0YUtleSApIHx8ICggISQuYnJvd3Nlci5pc01hYyAmJiAhZXZlbnQuY3RybEtleSApICkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVyX21vdXNlbW92ZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAnbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfbW91c2V1cCApO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNldF9wcmV2cyAoKTtcblxuICAgICAgICAgICAgdGhpcy4kcHJldl9yb3cgPSB0aGlzLiRzdGFydF9yb3c7XG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAkaHRtbC5hZGRDbGFzcyAoICdkcmFnZ2luZycgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VlbnRlcicsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgdGhpcy5faGFuZGxlcl9kcmFnX21vdXNlZW50ZXIgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5faGFuZGxlcl9kcmFnX21vdXNldXAgKTtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdzZWxlY3QnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX21vdXNlZW50ZXI6IGZ1bmN0aW9uICggZXZlbnQgKSB7IC8vIERSQUcgSE9WRVJcblxuICAgICAgICAgICAgdGhpcy4kZW5kX3JvdyA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgIHZhciBzdGFydF9pbmRleCA9IHRoaXMuJHJvd3MuaW5kZXggKCB0aGlzLiRzdGFydF9yb3cgKSxcbiAgICAgICAgICAgICAgICBlbmRfaW5kZXggPSB0aGlzLiRyb3dzLmluZGV4ICggdGhpcy4kZW5kX3JvdyApLFxuICAgICAgICAgICAgICAgIG1pbl9pbmRleCA9IE1hdGgubWluICggc3RhcnRfaW5kZXgsIGVuZF9pbmRleCApLFxuICAgICAgICAgICAgICAgIG1heF9pbmRleCA9IE1hdGgubWF4ICggc3RhcnRfaW5kZXgsIGVuZF9pbmRleCApO1xuXG4gICAgICAgICAgICBpZiAoIG1pbl9pbmRleCA9PT0gc3RhcnRfaW5kZXggKSB7IC8vIGRvd25cblxuICAgICAgICAgICAgICAgIG1pbl9pbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIG1heF9pbmRleCArPSAxO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkbmV3X2RyYWdnZWQgPSB0aGlzLiRyb3dzLnNsaWNlICggbWluX2luZGV4LCBtYXhfaW5kZXggKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLiRwcmV2X2RyYWdnZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAkbmV3X2RyYWdnZWQubm90ICggdGhpcy4kcHJldl9kcmFnZ2VkICkudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZfZHJhZ2dlZC5ub3QgKCAkbmV3X2RyYWdnZWQgKS50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJG5ld19kcmFnZ2VkLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkID0gJG5ld19kcmFnZ2VkO1xuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3NlbGVjdCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVyX2RyYWdfbW91c2V1cDogZnVuY3Rpb24gKCkgeyAvLyBEUkFHIEVORFxuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfZHJhZ19tb3VzZWVudGVyICk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZiAoICRkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVyX2RyYWdfbW91c2V1cCApO1xuXG4gICAgICAgICAgICB0aGlzLiRwcmV2X2RyYWdnZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MgKCAnZHJhZ2dpbmcnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9tb3VzZXVwOiBmdW5jdGlvbiAoIGV2ZW50ICkgeyAvLyBDTElDS1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVyX21vdXNlbW92ZSApO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAnbW91c2V1cCcsIHRoaXMuX2hhbmRsZXJfbW91c2V1cCApO1xuXG4gICAgICAgICAgICBpZiAoIGV2ZW50LnNoaWZ0S2V5ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0X2luZGV4ID0gdGhpcy4kcm93cy5pbmRleCAoIHRoaXMuJHByZXZfcm93ICksXG4gICAgICAgICAgICAgICAgICAgIGVuZF9pbmRleCA9IHRoaXMuJHByZXZfcm93ID8gdGhpcy4kcm93cy5pbmRleCAoIHRoaXMuJHN0YXJ0X3JvdyApIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbWluX2luZGV4ID0gTWF0aC5taW4gKCBzdGFydF9pbmRleCwgZW5kX2luZGV4ICksXG4gICAgICAgICAgICAgICAgICAgIG1heF9pbmRleCA9IE1hdGgubWF4ICggc3RhcnRfaW5kZXgsIGVuZF9pbmRleCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBtaW5faW5kZXggPT09IHN0YXJ0X2luZGV4ICkgeyAvLyBkb3duXG5cbiAgICAgICAgICAgICAgICAgICAgbWluX2luZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1heF9pbmRleCArPSAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyICRuZXdfc2hpZnRlZCA9IHRoaXMuJHJvd3Muc2xpY2UgKCBtaW5faW5kZXgsIG1heF9pbmRleCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLiRwcmV2X3NoaWZ0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJG5ld19zaGlmdGVkLm5vdCAoIHRoaXMuJHByZXZfc2hpZnRlZCApLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcHJldl9zaGlmdGVkLm5vdCAoICRuZXdfc2hpZnRlZCApLnRvZ2dsZUNsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdGVkX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICRuZXdfc2hpZnRlZC50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJldl9zaGlmdGVkID0gJG5ld19zaGlmdGVkO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAoICQuYnJvd3Nlci5pc01hYyAmJiBldmVudC5tZXRhS2V5ICkgfHwgKCAhJC5icm93c2VyLmlzTWFjICYmIGV2ZW50LmN0cmxLZXkgKSB8fCAkLmJyb3dzZXIuaXNNb2JpbGUgKSB7IC8vVE9ETzogT24gbW9iaWxlIHdlIGJlaGF2ZSBsaWtlIGlmIHRoZSBgY3RybGAga2V5IGlzIGFsd2F5cyBwcmVzc2VkLCBzbyB0aGF0IHdlIGNhbiBzdXBwb3J0IHNlbGVjdGluZyBtdWx0aXBsZSByb3dzIGV2ZW4gdGhlcmUgLy9GSVhNRTogSXMgdGhpcyB0aGUgd2FudGVkIGJlaGF2aW91cz9cblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IHRoaXMuJHN0YXJ0X3JvdztcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHJvd3Mubm90ICggdGhpcy4kc3RhcnRfcm93ICkucmVtb3ZlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRfY2xhc3MgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0X3Jvdy50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RlZF9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRfcHJldnMgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2X3JvdyA9IHRoaXMuJHN0YXJ0X3JvdztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3NlbGVjdCcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIE9USEVSIEVWRU5UUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NoYW5nZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRyb3dzID0gdGhpcy5fZ2V0X3Jvd3MgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9jbGVhcl9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJC5yZWZsb3cgKCk7XG5cbiAgICAgICAgICAgIGNsZWFyX3NlbGVjdGlvbiAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfcmVzZXRfcHJldnM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kcHJldl9yb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJHByZXZfc2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kcHJldl9kcmFnZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0X3Jvd3M6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCAoIHRoaXMub3B0aW9ucy5zZWxlY3RvciApO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLyogUkVBRFkgKi9cblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJ3RhYmxlLnNlbGVjdGFibGUnKS5zZWxlY3RhYmxlICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiBAcmVxdWlyZXMgLi4vZHJhZ2dhYmxlL2RyYWdnYWJsZS5qc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiBcbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTTElERVIgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5zbGlkZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgZGVjaW1hbHM6IDAsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBpbmNyZWFzZWQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICBkZWNyZWFzZWQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHNsaWRlciA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRtaW4gPSB0aGlzLiRzbGlkZXIuZmluZCAoICcuc2xpZGVyLW1pbicgKTtcbiAgICAgICAgICAgIHRoaXMuJG1heCA9IHRoaXMuJHNsaWRlci5maW5kICggJy5zbGlkZXItbWF4JyApO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRzbGlkZXIuZmluZCAoICdpbnB1dCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGJhcl93cnAgPSB0aGlzLiRzbGlkZXIuZmluZCAoICcuc2xpZGVyLWJhci13cnAnICk7XG4gICAgICAgICAgICB0aGlzLiR1bmhpZ2hsaWdodGVkID0gdGhpcy4kc2xpZGVyLmZpbmQgKCAnLnNsaWRlci11bmhpZ2hsaWdodGVkJyApO1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQgPSB0aGlzLiRzbGlkZXIuZmluZCAoICcuc2xpZGVyLWhpZ2hsaWdodGVkJyApO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcl93cnAgPSB0aGlzLiRzbGlkZXIuZmluZCAoICcuc2xpZGVyLWhhbmRsZXItd3JwJyApO1xuICAgICAgICAgICAgdGhpcy4kbGFiZWwgPSB0aGlzLiRoYW5kbGVyX3dycC5maW5kICggJy5zbGlkZXItbGFiZWwnICk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RlcHNfbnIgPSAoICggdGhpcy5vcHRpb25zLm1heCAtIHRoaXMub3B0aW9ucy5taW4gKSAvIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV92YXJpYWJsZXMgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8qIElOUFVUIENIQU5HRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsIHRoaXMuJGlucHV0LCAnY2hhbmdlJywgdGhpcy5faGFuZGxlcl9jaGFuZ2UgKTtcblxuICAgICAgICAgICAgLyogV0lORE9XIFJFU0laRSAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICR3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVyX3Jlc2l6ZSApO1xuXG4gICAgICAgICAgICAvKiBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRzbGlkZXIsICdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlcl9hcnJvd3NfaW4gKTtcbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc2xpZGVyLCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX291dCApO1xuXG4gICAgICAgICAgICAvKiBNSU4gLyBNQVggQlVUVE9OUyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJG1pbiwgJ2NsaWNrJywgdGhpcy5kZWNyZWFzZSApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRtYXgsICdjbGljaycsIHRoaXMuaW5jcmVhc2UgKTtcblxuICAgICAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycC5kcmFnZ2FibGUgKHtcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRoaXMuX2RyYWdnYWJsZS5iaW5kICggdGhpcyApLFxuICAgICAgICAgICAgICAgIGF4aXM6ICd4JyxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudDogdGhpcy4kYmFyX3dycCxcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWluX2NlbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXhpczogJ3gnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5tb2RpZmllcl94LmJpbmQgKCB0aGlzICksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3Jlc3RhcnQ6IHRoaXMuX2hhbmRsZXJfZHJhZ19iZWZvcmVzdGFydC5iaW5kICggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiB0aGlzLl9oYW5kbGVyX2RyYWdfbW92ZS5iaW5kICggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuX2hhbmRsZXJfZHJhZ19lbmQuYmluZCAoIHRoaXMgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHVuaGlnaGxpZ2h0ZWQsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2sgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfcm91bmRfdmFsdWU6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKHZhbHVlKS50b0ZpeGVkICggdGhpcy5vcHRpb25zLmRlY2ltYWxzICkpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9wb3NpdGlvbnM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAoICggdGhpcy5vcHRpb25zLnZhbHVlIC0gdGhpcy5vcHRpb25zLm1pbiApIC8gdGhpcy5vcHRpb25zLnN0ZXAgKSAqIDEwMCAvIHRoaXMuc3RlcHNfbnI7XG5cbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJfd3JwLmNzcyAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHBlcmNlbnRhZ2UgKyAnJScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRlZC5jc3MgKHtcbiAgICAgICAgICAgICAgICByaWdodDogKCAxMDAgLSBwZXJjZW50YWdlICkgKyAnJScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV9sYWJlbDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgdGhpcy4kbGFiZWwuaHRtbCAoIF8uaXNVbmRlZmluZWQgKCB2YWx1ZSApID8gdGhpcy5vcHRpb25zLnZhbHVlIDogdmFsdWUgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHRlZF93aWR0aCA9IHRoaXMuJHVuaGlnaGxpZ2h0ZWQud2lkdGggKCk7XG4gICAgICAgICAgICB0aGlzLnVuaGlnaGxpZ2h0ZWRfb2Zmc2V0ID0gdGhpcy4kdW5oaWdobGlnaHRlZC5vZmZzZXQgKCk7XG4gICAgICAgICAgICB0aGlzLnN0ZXBfd2lkdGggPSB0aGlzLnVuaGlnaGxpZ2h0ZWRfd2lkdGggLyB0aGlzLnN0ZXBzX25yO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0ICggdGhpcy4kaW5wdXQudmFsICgpICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBSRVNJWkUgKi9cblxuICAgICAgICBfaGFuZGxlcl9yZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3ZhcmlhYmxlcyAoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIExFRlQgLyBSSUdIVCBBUlJPV1MgKi9cblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3NfaW46IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX291dDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkxFRlQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkRPV04gKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlICgpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUklHSFQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgIF9kcmFnZ2FibGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBtb2RpZmllcl94OiBmdW5jdGlvbiAoIGRpc3RhbmNlICkgeyAvL1RPRE86IG1heWJlIHdlIHNob3VsZCBleHBvcnQgdGhpcyBmdW5jdGlvbiBhcyBhIGxvZGFzaCBtaXhpblxuXG4gICAgICAgICAgICB2YXIgbGVmdCA9IGRpc3RhbmNlICUgdGhpcy5zdGVwX3dpZHRoO1xuXG4gICAgICAgICAgICBpZiAoIGxlZnQgPj0gdGhpcy5zdGVwX3dpZHRoIC8gMiApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZSAtIGxlZnQgKyB0aGlzLnN0ZXBfd2lkdGg7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzdGFuY2UgLSBsZWZ0O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX2JlZm9yZXN0YXJ0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVYID0gcGFyc2VGbG9hdCAoIHRoaXMuJGhhbmRsZXJfd3JwLmNzcyAoICdsZWZ0JyApLCAxMCApO1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyX3dycC5jc3MgKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LDAsMCknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQuY3NzICh7XG4gICAgICAgICAgICAgICAgcmlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlWCArICdweCwwLDApJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9kcmFnX21vdmU6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0ZWQuY3NzICggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnICsgZGF0YS5tb2RpZmllZFhZLlggKyAncHgsMCwwKScgKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xhYmVsICggdGhpcy5fcm91bmRfdmFsdWUgKCB0aGlzLm9wdGlvbnMubWluICsgKCBkYXRhLm1vZGlmaWVkWFkuWCAvIHRoaXMuc3RlcF93aWR0aCAqIHRoaXMub3B0aW9ucy5zdGVwICkgKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19lbmQ6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybV9zdHIgPSB0aGlzLiRoYW5kbGVyX3dycC5jc3MgKCAndHJhbnNmb3JtJyApLFxuICAgICAgICAgICAgICAgIG1hdHJpeCA9ICAoIHRyYW5zZm9ybV9zdHIgIT09ICdub25lJyApID8gdHJhbnNmb3JtX3N0ci5tYXRjaCAoIC9bMC05LiwgLV0rLyApWzBdLnNwbGl0ICggJywgJyApIDogWzAsIDAsIDAsIDAsIDAsIDBdO1xuXG4gICAgICAgICAgICB2YXIgc2V0dGVkID0gdGhpcy5zZXQgKCB0aGlzLm9wdGlvbnMubWluICsgKCBwYXJzZUZsb2F0ICggbWF0cml4WzRdLCAxMCApIC8gdGhpcy5zdGVwX3dpZHRoICogdGhpcy5vcHRpb25zLnN0ZXAgKSApO1xuXG4gICAgICAgICAgICBpZiAoICFzZXR0ZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfcG9zaXRpb25zICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICBpZiAoIGV2ZW50LnRhcmdldCA9PT0gdGhpcy4kaGFuZGxlcl93cnAuZ2V0ICggMCApICkgcmV0dXJuOyAvL0lORk86IHNob3VsZG4ndCB3b3JrIGlmIHdlIGNsaWNrIG9uIHRoZSBoYW5kbGVyIC8vSU5GTzogTWF5YmUgd2UgYXJlIGRyYWdnaW5nLCBzaG91bGRuJ3QgYmUgaGFuZGxlZCBhcyBhIGNsaWNrIG9uIHRoZSB1bmhpZ2hsaXRlZCBiYXJcblxuICAgICAgICAgICAgdmFyIGNsaWNrX3BvcyA9ICQuZXZlbnRYWSAoIGV2ZW50ICksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLm1vZGlmaWVyX3ggKCBjbGlja19wb3MuWCAtIHRoaXMudW5oaWdobGlnaHRlZF9vZmZzZXQubGVmdCApO1xuXG4gICAgICAgICAgICB0aGlzLnNldCAoIHRoaXMub3B0aW9ucy5taW4gKyAoIGRpc3RhbmNlIC8gdGhpcy5zdGVwX3dpZHRoICogdGhpcy5vcHRpb25zLnN0ZXAgKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHZhbHVlID0gXy5jbGFtcCAoIHRoaXMub3B0aW9ucy5taW4sIHRoaXMuX3JvdW5kX3ZhbHVlICggdmFsdWUgKSwgdGhpcy5vcHRpb25zLm1heCApO1xuXG4gICAgICAgICAgICBpZiAoIHZhbHVlICE9PSB0aGlzLm9wdGlvbnMudmFsdWUgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSAoIHZhbHVlID4gdGhpcy5vcHRpb25zLnZhbHVlICkgPyAnaW5jcmVhc2VkJyA6ICdkZWNyZWFzZWQnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfcG9zaXRpb25zICgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9sYWJlbCAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnZhbCAoIHZhbHVlICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggY2FsbGJhY2sgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpbmNyZWFzZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQgKCB0aGlzLm9wdGlvbnMudmFsdWUgKyB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVjcmVhc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0ICggdGhpcy5vcHRpb25zLnZhbHVlIC0gdGhpcy5vcHRpb25zLnN0ZXAgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc2xpZGVyJykuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRzbGlkZXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbjogTnVtYmVyKCRzbGlkZXIuZmluZCAoICcuc2xpZGVyLW1pbicgKS5kYXRhICggJ21pbicgKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBOdW1iZXIoJHNsaWRlci5maW5kICggJy5zbGlkZXItbWF4JyApLmRhdGEgKCAnbWF4JyApIHx8IDEwMCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIoJHNsaWRlci5maW5kICggJ2lucHV0JyApLnZhbCAoKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogTnVtYmVyKCRzbGlkZXIuZGF0YSAoICdzdGVwJyApIHx8IDEpLFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogTnVtYmVyKCRzbGlkZXIuZGF0YSAoICdkZWNpbWFscycgKSB8fCAwKVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzbGlkZXIuc2xpZGVyICggb3B0aW9ucyApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciB0YWJsZUhlbHBlciwganVzdCBwdXQgdGhlIG5ldyBhZGRkZWQgcm93IGluIHRoZSByaWdodCBwb3NpdGlvbiwgZ29vZCBwZXJmb3JtYW5jZSBnYWluIGhlcmUhXG4vL1RPRE86IGNhY2hlIHRoZSBjb2x1bW4gZGF0YXMsIGlmIHBvc3NpYmxlXG4vL1RPRE86IGFkZCBzdXBwb3J0IGZvciBzb3J0aW5nIG90aGVyIHRoaW5ncyBvdGhlciB0aGFuIHRhYmxlc1xuLy9UT0RPOiBpZiBwb3NzaWJsZSBzb3J0IHVzaW5nIGZsZXhib3gncyBgb3JkZXJgIHByb3BlcnR5XG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTT1JUQUJMRSAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnNvcnRhYmxlJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzb3J0ZXJzOiB7XG4gICAgICAgICAgICAgICAgaW50OiBmdW5jdGlvbiAoIGEsIGIgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCAoIGEsIDEwICkgLSBwYXJzZUludCAoIGIsIDEwICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmbG9hdDogZnVuY3Rpb24gKCBhLCBiICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCAoIGEgKSAtIHBhcnNlRmxvYXQgKCBiICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHJpbmc6IGZ1bmN0aW9uICggYSwgYiApIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGEudG9Mb2NhbGVMb3dlckNhc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBiLnRvTG9jYWxlTG93ZXJDYXNlICgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlICggYiApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBzb3J0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRoZWFkZXJzID0gdGhpcy4kdGFibGUuZmluZCAoICd0aGVhZCB0aCcgKTtcbiAgICAgICAgICAgIHRoaXMuJHNvcnRhYmxlcyA9IHRoaXMuJGhlYWRlcnMuZmlsdGVyICggJ1tkYXRhLXNvcnRdJyApO1xuICAgICAgICAgICAgdGhpcy4kdGJvZHkgPSB0aGlzLiR0YWJsZS5maW5kICggJ3Rib2R5JyApO1xuXG4gICAgICAgICAgICB0aGlzLnRhYmxlID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50Ym9keSA9IHRoaXMuJHRib2R5LmdldCAoIDAgKTtcblxuICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzID0ge307IC8vSU5GTzogQ2FjaGluZyBvYmplY3QgZm9yIGRhdGFzIGFuZCByZWZlcmVuY2VzIHRvIHJvd3NcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gZmFsc2U7IC8vSU5GTzogYCRoZWFkZXJzYCBpbmRleCwgbm90IGAkc29ydGFibGVzYCBpbmRleFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X2RpcmVjdGlvbiA9IGZhbHNlOztcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkaW5pdGlhbCA9IHRoaXMuJGhlYWRlcnMuZmlsdGVyICggJy5hc2MsIC5kZXNjJyApLmZpcnN0ICgpO1xuXG4gICAgICAgICAgICBpZiAoICRpbml0aWFsLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydCAoIHRoaXMuJGhlYWRlcnMuaW5kZXggKCAkaW5pdGlhbCApLCAoICRpbml0aWFsLmhhc0NsYXNzICggJ2FzYycgKSA/ICdhc2MnIDogJ2Rlc2MnICkgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRydWUsICdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2NoYW5nZSApOyAvL1RPRE86IHVwZGF0ZSB0byBzdXBwb3J0IHRhYmxlSGVscGVyXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdGhpcy4kc29ydGFibGVzLCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX2NsaWNrICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRfaW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRfZGF0YXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc29ydCAoIHRoaXMuY3VycmVudF9pbmRleCwgdGhpcy5jdXJyZW50X2RpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X2luZGV4ID0gdGhpcy4kaGVhZGVycy5pbmRleCAoIGV2ZW50LnRhcmdldCApLFxuICAgICAgICAgICAgICAgIG5ld19kaXJlY3Rpb24gPSB0aGlzLmN1cnJlbnRfaW5kZXggPT09IG5ld19pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uID09PSAnYXNjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2Rlc2MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYXNjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYXNjJztcblxuICAgICAgICAgICAgdGhpcy5zb3J0ICggbmV3X2luZGV4LCBuZXdfZGlyZWN0aW9uICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTT1JUICovXG5cbiAgICAgICAgc29ydDogZnVuY3Rpb24gKCBpbmRleCwgZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAvLyBWQUxJREFURVxuXG4gICAgICAgICAgICB2YXIgJHNvcnRhYmxlID0gdGhpcy4kaGVhZGVycy5lcSAoIGluZGV4ICk7XG5cbiAgICAgICAgICAgIGlmICggISRzb3J0YWJsZS5sZW5ndGggKSByZXR1cm47IC8vIGJhZCBpbmRleFxuXG4gICAgICAgICAgICB2YXIgc29ydGVyX25hbWUgPSAkc29ydGFibGUuZGF0YSAoICdzb3J0JyApO1xuXG4gICAgICAgICAgICBpZiAoICFzb3J0ZXJfbmFtZSApIHJldHVybjsgLy8gdW5zb3J0YWJsZSBjb2x1bW5cblxuICAgICAgICAgICAgdmFyIHNvcnRlciA9IHRoaXMub3B0aW9ucy5zb3J0ZXJzW3NvcnRlcl9uYW1lXTtcblxuICAgICAgICAgICAgaWYgKCAhc29ydGVyICkgcmV0dXJuOyAvLyB1bnN1cHBvcnRlZCBzb3J0ZXJcblxuICAgICAgICAgICAgZGlyZWN0aW9uID0gKCBkaXJlY3Rpb24gJiYgZGlyZWN0aW9uLnRvTG93ZXJDYXNlICgpID09PSAnZGVzYycgKSA/ICdkZXNjJyA6ICdhc2MnO1xuXG4gICAgICAgICAgICAvLyBTVFlMRVxuXG4gICAgICAgICAgICBpZiAoIHRoaXMuY3VycmVudF9pbmRleCAhPT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzb3J0YWJsZXMuZXEgKCB0aGlzLmN1cnJlbnRfaW5kZXggKS5yZW1vdmVDbGFzcyAoIHRoaXMuY3VycmVudF9kaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc29ydGFibGUuYWRkQ2xhc3MgKCBkaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgLy8gQ0hFQ0tJTkcgQ0FDSEVEIERBVEFTXG5cbiAgICAgICAgICAgIGlmICggXy5pc1VuZGVmaW5lZCAoIHRoaXMuc29ydF9kYXRhc1tpbmRleF0gKSApIHtcblxuICAgICAgICAgICAgICAgIC8vIFZBUklBQkxFU1xuXG4gICAgICAgICAgICAgICAgdmFyICR0cnMgPSB0aGlzLiR0Ym9keS5maW5kICggJ3RyOm5vdCguZW1wdHkpJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzW2luZGV4XSA9IEFycmF5ICggJHRycy5sZW5ndGggKTtcblxuICAgICAgICAgICAgICAgIC8vIFBPUFVMQVRFXG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSAkdHJzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRkID0gJHRycy5lcSAoIGkgKSAuZmluZCAoICd0ZCcgKS5lcSAoIGluZGV4ICksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR0ZC5kYXRhICggJ3NvcnQtdmFsdWUnICkgfHwgJHRkLnRleHQgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzW2luZGV4XVtpXSA9IFskdHJzLmdldCAoIGkgKSwgdmFsdWVdO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNPUlRcblxuICAgICAgICAgICAgdGhpcy5zb3J0X2RhdGFzW2luZGV4XS5zb3J0ICggZnVuY3Rpb24gKCBhLCBiICkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRlciAoIGFbMV0sIGJbMV0gKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICggZGlyZWN0aW9uID09PSAnZGVzYycgKSB0aGlzLnNvcnRfZGF0YXNbaW5kZXhdLnJldmVyc2UgKCk7XG5cbiAgICAgICAgICAgIC8vIEFQUEVORFxuXG4gICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkICggdGhpcy50Ym9keSApOyAvLyBkZXRhY2hcblxuICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGhpcy5zb3J0X2RhdGFzW2luZGV4XS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRib2R5LmFwcGVuZENoaWxkICggdGhpcy5zb3J0X2RhdGFzW2luZGV4XVtpXVswXSApOyAvLyByZW9yZGVyXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCAoIHRoaXMudGJvZHkgKTsgLy8gYXR0YWNoXG5cbiAgICAgICAgICAgIC8vIFVQREFURVxuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cbiAgICAgICAgICAgIC8vIFRSSUdHRVJcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdzb3J0Jywge1xuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRfaW5kZXgsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmN1cnJlbnRfZGlyZWN0aW9uXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCd0YWJsZS5zb3J0YWJsZScpLnNvcnRhYmxlICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogU1RFUFBFUiAqL1xuXG4gICAgJC53aWRnZXQgKCAncHJlc3RvLnN0ZXBwZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgZGVjaW1hbHM6IDAsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBpbmNyZWFzZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGRlY3JlYXNlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRzdGVwcGVyID0gdGhpcy4kZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kc3RlcHBlci5maW5kICggJ2lucHV0JyApO1xuICAgICAgICAgICAgdGhpcy4kZGVjcmVhc2VyID0gdGhpcy4kc3RlcHBlci5maW5kICggJy5zdGVwcGVyLWRlY3JlYXNlcicgKTtcbiAgICAgICAgICAgIHRoaXMuJGluY3JlYXNlciA9IHRoaXMuJHN0ZXBwZXIuZmluZCAoICcuc3RlcHBlci1pbmNyZWFzZXInICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8qIElOUFVUIC8gQ0hBTkdFICovXG5cbiAgICAgICAgICAgIHRoaXMuX29uICggdHJ1ZSwgdGhpcy4kaW5wdXQsICdpbnB1dCBjaGFuZ2UnLCB0aGlzLl9oYW5kbGVyX2lucHV0X2NoYW5nZSApO1xuXG4gICAgICAgICAgICAvKiBBUlJPV1MgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfYXJyb3dzX2luICk7XG4gICAgICAgICAgICB0aGlzLl9vbiAoICdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfb3V0ICk7XG5cbiAgICAgICAgICAgIC8qIElOQ1JFQVNFIC8gREVDUkVBU0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRkZWNyZWFzZXIsICdjbGljaycsIHRoaXMuZGVjcmVhc2UgKTtcblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRpbmNyZWFzZXIsICdjbGljaycsIHRoaXMuaW5jcmVhc2UgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBSSVZBVEUgKi9cblxuICAgICAgICBfcm91bmRfdmFsdWU6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKHZhbHVlKS50b0ZpeGVkICggdGhpcy5vcHRpb25zLmRlY2ltYWxzICkpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogQ0hBTkdFICovXG5cbiAgICAgICAgX2hhbmRsZXJfaW5wdXRfY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0X3ZhbHVlICggdGhpcy4kaW5wdXQudmFsICgpICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBMRUZUIC8gUklHSFQgQVJST1dTICovXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2luOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2Fycm93c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9hcnJvd3Nfb3V0OiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICB0aGlzLl9vZmYgKCAkZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5faGFuZGxlcl9hcnJvd3Nfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfYXJyb3dzX2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkxFRlQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkRPV04gKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlICgpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUklHSFQgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZSAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgc2V0X3ZhbHVlOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3JvdW5kX3ZhbHVlICggdmFsdWUgKTtcblxuICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPT0gdGhpcy5vcHRpb25zLnZhbHVlIHx8IHRoaXMuJGlucHV0LnZhbCAoKS5sZW5ndGggPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZCA9IF8uY2xhbXAgKCB0aGlzLm9wdGlvbnMubWluLCB2YWx1ZSwgdGhpcy5vcHRpb25zLm1heCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnZhbHVlID0gY2xhbXBlZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnZhbCAoIGNsYW1wZWQgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGRlY3JlYXNlci50b2dnbGVDbGFzcyAoICdkaXNhYmxlZCcsIGNsYW1wZWQgPT09IHRoaXMub3B0aW9ucy5taW4gKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbmNyZWFzZXIudG9nZ2xlQ2xhc3MgKCAnZGlzYWJsZWQnLCBjbGFtcGVkID09PSB0aGlzLm9wdGlvbnMubWF4ICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggY2xhbXBlZCA+IHRoaXMub3B0aW9ucy52YWx1ZSA/ICdpbmNyZWFzZScgOiAnZGVjcmVhc2UnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluY3JlYXNlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGUgKCB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVjcmVhc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZSAoIC0gdGhpcy5vcHRpb25zLnN0ZXAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIG5hdmlnYXRlOiBmdW5jdGlvbiAoIG1vZGlmaWVyICkge1xuXG4gICAgICAgICAgICB2YXIgbmV3X3ZhbHVlID0gdGhpcy5vcHRpb25zLnZhbHVlICsgbW9kaWZpZXI7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0X3ZhbHVlICggbmV3X3ZhbHVlICk7XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnN0ZXBwZXInKS5lYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJHN0ZXBwZXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICRpbnB1dCA9ICRzdGVwcGVyLmZpbmQgKCAnaW5wdXQnICksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBOdW1iZXIoJHN0ZXBwZXIuZGF0YSAoICdtaW4nICkgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgIG1heDogTnVtYmVyKCRzdGVwcGVyLmRhdGEgKCAnbWF4JyApIHx8IDEwMCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIoJGlucHV0LnZhbCAoKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogTnVtYmVyKCRzdGVwcGVyLmRhdGEgKCAnc3RlcCcgKSB8fCAxKSxcbiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IE51bWJlcigkc3RlcHBlci5kYXRhICggJ2RlY2ltYWxzJyApIHx8IDApXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHN0ZXBwZXIuc3RlcHBlciAoIG9wdGlvbnMgKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2NvcmUvY29yZS5qc1xuICogQHJlcXVpcmVzIC4uL2RyYWdnYWJsZS9kcmFnZ2FibGUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBTV0lUQ0ggKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by5zd2l0Y2gnLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgICAgIG9uOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICBvZmY6ICdncmF5J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF8ubm9vcCxcbiAgICAgICAgICAgICAgICB1bmNoZWNrZWQ6IF8ubm9vcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFNQRUNJQUwgKi9cblxuICAgICAgICBfdmFyaWFibGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJHN3aXRjaCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJHN3aXRjaC5maW5kICggJ2lucHV0JyApO1xuICAgICAgICAgICAgdGhpcy4kYmFyX3dycCA9IHRoaXMuJHN3aXRjaC5maW5kICggJy5zd2l0Y2gtYmFyLXdycCcgKTtcbiAgICAgICAgICAgIHRoaXMuJGJhciA9IHRoaXMuJHN3aXRjaC5maW5kICggJy5zd2l0Y2gtYmFyJyApO1xuICAgICAgICAgICAgdGhpcy4kaGFuZGxlciA9IHRoaXMuJHN3aXRjaC5maW5kICggJy5zd2l0Y2gtaGFuZGxlcicgKTtcbiAgICAgICAgICAgIHRoaXMuJGljb24gPSB0aGlzLiRoYW5kbGVyLmZpbmQgKCAnLmljb24nICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuJGlucHV0LnByb3AgKCAnY2hlY2tlZCcgKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayAoIHRoaXMuY2hlY2tlZCwgdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0cnVlLCB0aGlzLiRpbnB1dCwgJ2NoYW5nZScsIHRoaXMuX2hhbmRsZXJfY2hhbmdlICk7XG5cbiAgICAgICAgICAgIC8qIEtFWVMgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZXJfa2V5c19pbiApO1xuICAgICAgICAgICAgdGhpcy5fb24gKCAnbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZXJfa2V5c19vdXQgKTtcblxuICAgICAgICAgICAgLyogQ0xJQ0sgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCB0aGlzLiRiYXIsICdjbGljaycsIHRoaXMuX2hhbmRsZXJfY2xpY2sgKTtcblxuICAgICAgICAgICAgLyogRFJBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVyLmRyYWdnYWJsZSAoe1xuICAgICAgICAgICAgICAgIGF4aXM6ICd4JyxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudDogdGhpcy4kYmFyX3dycFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuZDogdGhpcy5faGFuZGxlcl9kcmFnX2VuZC5iaW5kICggdGhpcyApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDSEFOR0UgKi9cblxuICAgICAgICBfaGFuZGxlcl9jaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIG5ld19jaGVja2VkID0gdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJyApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuY2hlY2tlZCAhPT0gbmV3X2NoZWNrZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSBuZXdfY2hlY2tlZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NldF9jaGVjayAoIHRoaXMuY2hlY2tlZCwgdHJ1ZSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBLRVlTICovXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19pbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICRkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVyX2tleXNfa2V5ZG93biApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2hhbmRsZXJfa2V5c19vdXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmICggJGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2hhbmRsZXJfa2V5c19rZXlkb3duICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlcl9rZXlzX2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkxFRlQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2sgKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5SSUdIVCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2sgKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5TUEFDRSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5kcmFnZ2luZyApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50b2dnbGUgKCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBEUkFHICovXG5cbiAgICAgICAgX2hhbmRsZXJfZHJhZ19lbmQ6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICAgICAgaWYgKCBkYXRhLmRyYWdnZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gKCB0aGlzLiRoYW5kbGVyLm9mZnNldCAoKS5sZWZ0IC0gdGhpcy4kYmFyX3dycC5vZmZzZXQgKCkubGVmdCArICggdGhpcy4kaGFuZGxlci53aWR0aCAoKSAvIDIgKSApID49ICggdGhpcy4kYmFyX3dycC53aWR0aCAoKSAvIDIgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9ICggY2hlY2tlZCApID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrICggdGhpcy5jaGVja2VkLCB0cnVlICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRfY2hlY2s6IGZ1bmN0aW9uICggY2hlY2tlZCwgZm9yY2UgKSB7XG5cbiAgICAgICAgICAgIGlmICggY2hlY2tlZCAhPT0gdGhpcy4kaW5wdXQucHJvcCAoICdjaGVja2VkJyApIHx8IGZvcmNlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kc3dpdGNoLnRvZ2dsZUNsYXNzICggJ2NoZWNrZWQnLCBjaGVja2VkICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRoYW5kbGVyLmNzcyAoICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArICggY2hlY2tlZCA/ICcxLjczMzMzZW0nIDogJzAnICkgKyAnLDAsMCknICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRiYXIudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuY29sb3JzLm9uLCBjaGVja2VkICk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGFuZGxlci50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5jb2xvcnMub24sIGNoZWNrZWQgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJhci50b2dnbGVDbGFzcyAoIHRoaXMub3B0aW9ucy5jb2xvcnMub2ZmLCAhY2hlY2tlZCApO1xuICAgICAgICAgICAgICAgIHRoaXMuJGhhbmRsZXIudG9nZ2xlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuY29sb3JzLm9mZiwgIWNoZWNrZWQgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LnByb3AgKCAnY2hlY2tlZCcsIGNoZWNrZWQgKS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCBjaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgY2hlY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0X2NoZWNrICggdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5jaGVjazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sgKCBmYWxzZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9ICF0aGlzLmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLl9zZXRfY2hlY2sgKCB0aGlzLmNoZWNrZWQgKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc3dpdGNoJykuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRzd2l0Y2ggPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb246ICRzd2l0Y2guZGF0YSAoICdjb2xvci1vbicgKSB8fCAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZjogJHN3aXRjaC5kYXRhICggJ2NvbG9yLW9mZicgKSB8fCAnZ3JheSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzd2l0Y2guc3dpdGNoICggb3B0aW9ucyApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVEFCTEUgSEVMUEVSICovXG5cbiAgICAkLndpZGdldCAoICdwcmVzdG8udGFibGVIZWxwZXInLCB7XG5cbiAgICAgICAgLyogT1BUSU9OUyAqL1xuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgIGFkZDogXy5ub29wLFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogXy5ub29wLFxuICAgICAgICAgICAgICAgIGNsZWFyOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJsZSA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLiR0aGVhZCA9IHRoaXMuJHRhYmxlLmZpbmQgKCAndGhlYWQnICksXG4gICAgICAgICAgICB0aGlzLiR0Zm9vdCA9IHRoaXMuJHRhYmxlLmZpbmQgKCAndGZvb3QnICksXG4gICAgICAgICAgICB0aGlzLiR0Ym9keSA9IHRoaXMuJHRhYmxlLmZpbmQgKCAndGJvZHknICksXG4gICAgICAgICAgICB0aGlzLiRoZWFkZXJzID0gdGhpcy4kdGhlYWQuZmluZCAoICd0aCcgKSxcbiAgICAgICAgICAgIHRoaXMuJGVtcHR5X3JvdyA9IHRoaXMuJHRib2R5LmZpbmQgKCAndHIuZW1wdHknICksXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnNfbnIgPSB0aGlzLiRoZWFkZXJzLmxlbmd0aDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2NoZWNrX2VtcHR5ICgpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9jaGVja19lbXB0eTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRlbXB0eV9yb3cudG9nZ2xlQ2xhc3MgKCAnaGlkZGVuJywgdGhpcy4kdGJvZHkuZmluZCAoICd0cjpub3QoLmVtcHR5KScgKS5sZW5ndGggPiAwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0X3Jvd19pZDogZnVuY3Rpb24gKCBpZCApIHtcblxuICAgICAgICAgICAgcmV0dXJuICdyaWRfJyArIHRoaXMudXVpZCArICdfJyArIGlkO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgYWRkOiBmdW5jdGlvbiAoIGlkICkgeyAvL0lORk86IGlkLCBkYXRhcy4uLlxuXG4gICAgICAgICAgICB2YXIgZGF0YXMgPSBfLnRhaWwgKCBhcmd1bWVudHMgKTtcblxuICAgICAgICAgICAgaWYgKCBkYXRhcy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGZpbGxhYmxlcyA9IHRoaXMuJHRib2R5LmZpbmQgKCAndGQuZmlsbGFibGUnICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICRmaWxsYWJsZXMubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhc19maWxsYWJsZSA9IF8uc2xpY2UgKCBkYXRhcywgMCwgJGZpbGxhYmxlcy5sZW5ndGggKTtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhcyA9IF8uc2xpY2UgKCBkYXRhcywgZGF0YXNfZmlsbGFibGUubGVuZ3RoIC0gMSwgZGF0YXMubGVuZ3RoICk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gZGF0YXNfZmlsbGFibGUubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmlsbGFibGVzLmVxICggaSApLmh0bWwgKCBkYXRhc19maWxsYWJsZVtpXSApLnJlbW92ZUNsYXNzICggJ2ZpbGxhYmxlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggaWQgJiYgJCggJy4nICsgdGhpcy5fZ2V0X3Jvd19pZCAoIGlkICkgKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggJ0EgdGFibGUgY2Fubm90IGNvbnRhaW4gMiByb3dzIHdpdGggdGhlIHNhbWUgSUQnICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjaHVua3MgPSBfLmNodW5rICggZGF0YXMsIHRoaXMuY29sdW1uc19uciApO1xuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGNpID0gMCwgY2wgPSBjaHVua3MubGVuZ3RoOyBjaSA8IGNsOyBjaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IGNodW5rc1tjaV07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd19odG1sID0gJzx0ciAnICsgKCBpZCA/ICdjbGFzcz1cIicgKyB0aGlzLl9nZXRfcm93X2lkICggaWQgKSArICdcIicgOiAnJyApICsgJz4nO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IGNodW5rLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcm93X2h0bWwgKz0gJzx0ZD4nICsgKCBjaHVua1tpXSB8fCAnJyApICsgJzwvdGQ+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSBjaHVuay5sZW5ndGgsIGwgPSB0aGlzLmNvbHVtbnNfbnI7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd19odG1sICs9ICc8dGQgY2xhc3M9XCJmaWxsYWJsZVwiPjwvdGQ+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcm93X2h0bWwgKz0gJzwvdHI+JztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0Ym9keS5hcHBlbmQgKCByb3dfaHRtbCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJsZS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAnYWRkJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoIGlkICkgeyAvL0lORk86IGlkLCBkYXRhcy4uLlxuXG4gICAgICAgICAgICB2YXIgZGF0YXMgPSBfLnRhaWwgKCBhcmd1bWVudHMgKSxcbiAgICAgICAgICAgICAgICAkcm93ID0gJCggJy4nICsgdGhpcy5fZ2V0X3Jvd19pZCAoIGlkICkgKTtcblxuICAgICAgICAgICAgaWYgKCBkYXRhcy5sZW5ndGggJiYgJHJvdy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJHRkcyA9ICRyb3cuZmluZCAoICd0ZCcgKTtcblxuICAgICAgICAgICAgICAgIF8uZWFjaCAoIGRhdGFzLCBmdW5jdGlvbiAoIGRhdGEsIGluZGV4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggXy5pc1N0cmluZyAoIGRhdGEgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRkcy5lcSAoIGluZGV4ICkuaHRtbCAoIGRhdGEgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICd1cGRhdGUnICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICggaWQgKSB7XG5cbiAgICAgICAgICAgIHZhciAkcm93ID0gJCggJy4nICsgdGhpcy5fZ2V0X3Jvd19pZCAoIGlkICkgKTtcblxuICAgICAgICAgICAgaWYgKCAkcm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICRyb3cucmVtb3ZlICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tfZW1wdHkgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJsZS50cmlnZ2VyICggJ2NoYW5nZScgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIgKCAncmVtb3ZlJyApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICRyb3dzID0gdGhpcy4kdGJvZHkuZmluZCAoICd0cjpub3QoLmVtcHR5KScgKTtcblxuICAgICAgICAgICAgaWYgKCAkcm93cy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAkcm93cy5yZW1vdmUgKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja19lbXB0eSAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHRhYmxlLnRyaWdnZXIgKCAnY2hhbmdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlciAoICdjbGVhcicgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCd0YWJsZScpLnRhYmxlSGVscGVyICgpO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vL1RPRE86IE1heWJlIHN3aXRjaCBmcm9tIHRoZSBpbmRpY2F0b3IgdG8gLmJ1dHRvbi5oaWdobGlnaHRcbi8vRklYTUU6IHBvc2l0aW9uYXRlX2luZGljYXRvciBpcyB0b28gaGFja3lcblxuOyhmdW5jdGlvbiAoICQsIF8sIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIFRBQlMgKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by50YWJzJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgICAgICAgICBidXR0b25zX3dycDogJy50YWJzLWJ1dHRvbnMnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6ICcuYnV0dG9uLXdycCA+IC5sYWJlbCcsXG4gICAgICAgICAgICAgICAgYnV0dG9uX2FjdGl2ZV9jbGFzczogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yOiAnLnRhYnMtYnV0dG9ucy1pbmRpY2F0b3InLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNfd3JwOiAnLnRhYnMtY29udGFpbmVycycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyczogJz4gLmNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyX2FjdGl2ZV9jbGFzczogJ2FjdGl2ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRpY2F0b3JfZGVsYXk6IDQwLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJzID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID0gdGhpcy4kdGFicy5oYXNDbGFzcyAoICd2ZXJ0aWNhbCcgKTtcblxuICAgICAgICAgICAgdGhpcy4kdGFic19idXR0b25zID0gdGhpcy4kdGFicy5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25zX3dycCApO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9ucyA9IHRoaXMuJHRhYnNfYnV0dG9ucy5maW5kICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25zICk7XG4gICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IgPSB0aGlzLiR0YWJzLmZpbmQgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmluZGljYXRvciApO1xuXG4gICAgICAgICAgICB0aGlzLiR0YWJzX2NvbnRhaW5lcnMgPSB0aGlzLiR0YWJzLmZpbmQgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcnNfd3JwICk7XG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXJzID0gdGhpcy4kdGFic19jb250YWluZXJzLmZpbmQgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcnMgKTtcblxuICAgICAgICAgICAgdmFyICRjdXJyZW50X2J1dHRvbiA9IHRoaXMuJGJ1dHRvbnMuZmlsdGVyICggJy4nICsgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzICkuZmlyc3QgKCk7XG5cbiAgICAgICAgICAgICRjdXJyZW50X2J1dHRvbiA9ICggJGN1cnJlbnRfYnV0dG9uLmxlbmd0aCA+IDAgKSA/ICRjdXJyZW50X2J1dHRvbiA6IHRoaXMuJGJ1dHRvbnMuZmlyc3QgKCk7XG5cbiAgICAgICAgICAgIHRoaXMucHJldl9pbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfaW5kZXggPSB0aGlzLiRidXR0b25zLmluZGV4ICggJGN1cnJlbnRfYnV0dG9uICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCAoIHRoaXMuY3VycmVudF9pbmRleCwgdHJ1ZSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50czogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHRhYnNfYnV0dG9ucywgJ2NsaWNrJywgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25zLCB0aGlzLl9oYW5kZXJfYnV0dG9uX2NsaWNrICk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uICggJHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX3Bvc2l0aW9uYXRlX2luZGljYXRvciApOyAvL1RPRE86IHRocm90dGxlIG9yIGRldm91bmNlIGl0XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX2hhbmRlcl9idXR0b25fY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQsIG5vZGUgKSB7XG5cbiAgICAgICAgICAgIHZhciBuZXdfaW5kZXggPSB0aGlzLiRidXR0b25zLmluZGV4ICggJChub2RlKSApO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCAoIG5ld19pbmRleCApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3Bvc2l0aW9uYXRlX2luZGljYXRvcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgJGFjdGl2ZSA9IHRoaXMuJGJ1dHRvbnMuZmlsdGVyICggJy4nICsgdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzICksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAkYWN0aXZlLnBvc2l0aW9uICgpO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuaXNWZXJ0aWNhbCApIHtcblxuICAgICAgICAgICAgICAgIHZhciB0b3RhbF9oZWlnaHQgPSB0aGlzLiR0YWJzX2J1dHRvbnMuaGVpZ2h0ICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsYXkgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCA9IHBvc2l0aW9uLnRvcCArICggdGhpcy4kYnV0dG9ucy5pbmRleCAoICRhY3RpdmUgKSA9PT0gMCA/IDEgOiAwICk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzICggJ3RvcCcsICggdG9wICogMTAwIC8gdG90YWxfaGVpZ2h0ICkgKyAnJScgKTtcblxuICAgICAgICAgICAgICAgIH0sIHRoaXMuY3VycmVudF9pbmRleCA+IHRoaXMucHJldl9pbmRleCA/IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JfZGVsYXkgOiAwICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheSAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYm90dG9tID0gdG90YWxfaGVpZ2h0IC0gcG9zaXRpb24udG9wIC0gJGFjdGl2ZS5oZWlnaHQgKCkgKyAoIHRoaXMuJGJ1dHRvbnMuaW5kZXggKCAkYWN0aXZlICkgPT09IHRoaXMuJGJ1dHRvbnMubGVuZ3RoIC0gMSA/IDEgOiAwICk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzICggJ2JvdHRvbScsICggYm90dG9tICogMTAwIC8gdG90YWxfaGVpZ2h0ICkgKyAnJScgKTtcblxuICAgICAgICAgICAgICAgIH0sIHRoaXMuY3VycmVudF9pbmRleCA+IHRoaXMucHJldl9pbmRleCA/IDAgOiB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5ICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfd2lkdGggPSB0aGlzLiR0YWJzX2J1dHRvbnMud2lkdGggKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheSAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHBvc2l0aW9uLmxlZnQgKyAoIHRoaXMuJGJ1dHRvbnMuaW5kZXggKCAkYWN0aXZlICkgPT09IDAgPyAxIDogMCApOyAvL0ZJWE1FOiBpdCdzIGhhY2t5XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9yLmNzcyAoICdsZWZ0JywgKCBsZWZ0ICogMTAwIC8gdG90YWxfd2lkdGggKSArICclJyApO1xuXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jdXJyZW50X2luZGV4ID4gdGhpcy5wcmV2X2luZGV4ID8gdGhpcy5vcHRpb25zLmluZGljYXRvcl9kZWxheSA6IDAgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciByaWdodCA9IHRvdGFsX3dpZHRoIC0gcG9zaXRpb24ubGVmdCAtICRhY3RpdmUud2lkdGggKCkgKyAoIHRoaXMuJGJ1dHRvbnMuaW5kZXggKCAkYWN0aXZlICkgPT09IHRoaXMuJGJ1dHRvbnMubGVuZ3RoIC0gMSA/IDEgOiAwICk7IC8vRklYTUU6IGl0J3MgaGFja3lcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3IuY3NzICggJ3JpZ2h0JywgKCByaWdodCAqIDEwMCAvIHRvdGFsX3dpZHRoICkgKyAnJScgKTtcblxuICAgICAgICAgICAgICAgIH0sIHRoaXMuY3VycmVudF9pbmRleCA+IHRoaXMucHJldl9pbmRleCA/IDAgOiB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yX2RlbGF5ICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIFBVQkxJQyAqL1xuXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKCBpbmRleCwgZm9yY2UgKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5jdXJyZW50X2luZGV4ICE9PSBpbmRleCB8fCBmb3JjZSApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMuZXEgKCB0aGlzLmN1cnJlbnRfaW5kZXggKS5yZW1vdmVDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuYnV0dG9uX2FjdGl2ZV9jbGFzcyApO1xuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnMuZXEgKCBpbmRleCApLmFkZENsYXNzICggdGhpcy5vcHRpb25zLnNlbGVjdG9ycy5idXR0b25fYWN0aXZlX2NsYXNzICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXJzLmVxICggdGhpcy5jdXJyZW50X2luZGV4ICkucmVtb3ZlQ2xhc3MgKCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmNvbnRhaW5lcl9hY3RpdmVfY2xhc3MgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXJzLmVxICggaW5kZXggKS5hZGRDbGFzcyAoIHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuY29udGFpbmVyX2FjdGl2ZV9jbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRfaW5kZXggIT09IGluZGV4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldl9pbmRleCA9IHRoaXMuY3VycmVudF9pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmF0ZV9pbmRpY2F0b3IgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcudGFicycpLnRhYnMgKCk7XG5cbiAgICB9KTtcblxufSggalF1ZXJ5LCBfLCB3aW5kb3csIGRvY3VtZW50ICkpO1xuIiwiXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQFBST0pFQ1QtTkFNRSB2QFBST0pFQ1QtVkVSU0lPTiAtIEBGSUxFLU5BTUUtVVBQRVJDQVNFRCB2MC4xLjBcbiAqIEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9ARklMRS1QQVRIXG4gKiBAUFJPSkVDVC1XRUJTSVRFL0BGSUxFLU5BTUVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgQFBST0pFQ1QtU1RBUlQtWUVBUi1AQ1VSUkVOVC1ZRUFSIEBQUk9KRUNULUNPUFlSSUdIVC1IT0xERVJcbiAqIExpY2Vuc2VkIHVuZGVyIEBQUk9KRUNULUxJQ0VOU0UtTkFNRSAoQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BQUk9KRUNULUxJQ0VOU0UtRklMRS1QQVRIKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEByZXF1aXJlcyAuLi9jb3JlL2NvcmUuanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vVE9ETzogYWRkIHRoZSB0YWcgcG9pbnRlclxuLy9UT0RPOiBhZGQgc3VwcG9ydCBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyB0YWdzIGJ5IHBhc3Npbmc6IHNpbmdsZSB0YWcgc3RyaW5nLCBzaW5nbGUgdGFncyBzdHJpbmcgc2VwYXJhdGVkIGJ5IHNlcGFyYXRvciwgYXJyYXkgb2YgdGFncywgbXVsdGlwbGUgcGFyYW1ldGVyc1xuLy9GSVhNRTogZG8gd2UgaGFuZGxlIHRoZSBpbnNlcnRpb24gb2YgY2hhcmFjdGVycyBsaWtlIGAmYCBvciBgJ2AgcHJvcGVydGx5P1xuLy9GSVhNRTogc2hvdWxkIGJlIGZvcmJpZCBjaGFyYWN0ZXJzIG9yIGp1c3QgZXNjYXBlIHRoZW0/XG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBUQUdCT1ggKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by50YWdib3gnLCB7XG5cbiAgICAgICAgLyogVEVNUExBVEVTICovXG5cbiAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICB0YWc6ICc8ZGl2IGNsYXNzPVwibXVsdGlwbGUtd3JwIGpvaW5lZCB0YWdib3gtdGFnXCIgZGF0YS10YWctdmFsdWU9XCJ7JT1vLnN0ciV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm11bHRpcGxlXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJsYWJlbC13cnBcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJsYWJlbCBjb21wYWN0IHslPShvLmNvbG9yID8gby5jb2xvciA6IFwiXCIpJX0geyU9KG8uc2l6ZSA/IG8uc2l6ZSA6IFwiXCIpJX0geyU9KG8uY3NzID8gby5jc3MgOiBcIlwiKSV9XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsLWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7JT1vLnN0ciV9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uIGljb24tbmF2aWdhdGlvbi1jbG9zZSByaWdodCB0YWdib3gtdGFnLXJlbW92ZXJcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgICAgIGluaXQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0cjogJycsXG4gICAgICAgICAgICAgICAgYXJyOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhZzoge1xuICAgICAgICAgICAgICAgIG1pbl9sZW5ndGg6IDMsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICAgICAgICAgIHNpemU6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgIGNzczogJ291dGxpbmVkJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYXJhY3RlcnM6IHtcbiAgICAgICAgICAgICAgICBmb3JiaWRkZW46IFsgJzwnLCAnPicsICc7JywgJ2AnIF0sIC8vRklYTUU6IGFkZCB0YWIsIGVudGVyLCBhbmQgYWxsIHRoZSBvdGhlciBzcGVjaWFsc1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogJywnLCAvL0lORk86IEl0IHdpbGwgYWxzbyBiZWNvbWUga2luZCBvZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIsIHVzZWQgZm9yIGluc2VydGlvblxuICAgICAgICAgICAgICAgIGluc2VydGVyczogWyQudWkua2V5Q29kZS5FTlRFUiwgJC51aS5rZXlDb2RlLlRBQl0sIC8vVE9ETzogd3JpdGUgdGhlbSBhcyBzdHJpbmcsIHNvIHRoZXkgYXJlIGVhc2llciB0byBlZGl0IGFuZCB0aGF0J3MgdGhlIGZvcm1hdCB0aGF0IHRoZSB1c2VyIGV4cGVjdHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb3J0OiBmYWxzZSwgLy9JTkZPOiBUaGUgdGFncyBhcmUgZGlzcGxheWVkIGluIHNvcnRlZCBvcmRlclxuICAgICAgICAgICAgZXNjYXBlOiB0cnVlLCAvL0lORk86IEVzY2FwZSBwb3RlbnRpYWwgWFNTIGNoYXJhY3RlcnNcbiAgICAgICAgICAgIGRlYnVycjogZmFsc2UsIC8vSU5GTzogUmVwbGFjZSBub24gbGF0aW4gYmFzaWMgbGV0dGVyc1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgYWRkOiBfLm5vb3AsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0YWdib3ggPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICAgICAgICB2YXIgJGlucHV0cyA9IHRoaXMuJHRhZ2JveC5maW5kICggJ2lucHV0JyApO1xuXG4gICAgICAgICAgICB0aGlzLiRpbnB1dCA9ICRpbnB1dHMuZXEgKCAwICk7XG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsID0gJGlucHV0cy5lcSAoIDEgKTtcbiAgICAgICAgICAgIHRoaXMucGFydGlhbCA9IHRoaXMuJHBhcnRpYWwuZ2V0ICggMCApO1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsX3dycCA9IHRoaXMuJHBhcnRpYWwucGFyZW50ICggJy5pbnB1dC13cnAnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmFkZCAoIHRoaXMub3B0aW9ucy50YWdzLmluaXQgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9ldmVudHM6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLyogUEFSVElBTCAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHBhcnRpYWwsICdrZXlwcmVzcyBrZXlkb3duJywgdGhpcy5faGFuZGxlcl9rZXlwcmVzc19rZXlkb3duICk7IC8vSU5GTzogYGtleXByZXNzYCBpcyBmb3IgcHJpbnRhYmxlIGNoYXJhY3RlcnMsIGBrZXlkb3duYCBmb3IgdGhlIG90aGVyc1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoIHRoaXMuJHBhcnRpYWwsICdwYXN0ZScsIHRoaXMuX2hhbmRsZXJfcGFzdGUgKTtcblxuICAgICAgICAgICAgLyogT04gRU1QVFkgKi9cblxuICAgICAgICAgICAgdGhpcy5fb24gKCAnY2xpY2snLCB0aGlzLl9oYW5kbGVyX2NsaWNrX29uX2VtcHR5ICk7XG5cbiAgICAgICAgICAgIC8qIFRBRyAqL1xuXG4gICAgICAgICAgICB0aGlzLl9vbiAoICdjbGljaycsICcudGFnYm94LXRhZy1yZW1vdmVyJywgdGhpcy5faGFuZGxlcl9jbGlja19vbl90YWdfcmVtb3ZlciApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFJJVkFURSAqL1xuXG4gICAgICAgIF9nZXRfdGFnX2h0bWw6IGZ1bmN0aW9uICggdGFnX3N0ciApIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RtcGwgKCAndGFnJywgXy5tZXJnZSAoIHsgc3RyOiB0YWdfc3RyIH0sIHRoaXMub3B0aW9ucy50YWcgKSApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZV90YWdzX3N0cjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5zdHIgPSB0aGlzLm9wdGlvbnMudGFncy5hcnIuam9pbiAoIHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLnNlcGFyYXRvciApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3Nhbml0aXplX3RhZ19zdHI6IGZ1bmN0aW9uICggdGFnX3N0ciApIHtcblxuICAgICAgICAgICAgdGFnX3N0ciA9IF8udHJpbSAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZXNjYXBlICkge1xuXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IF8uZXNjYXBlICggdGFnX3N0ciApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmRlYnVyciApIHtcblxuICAgICAgICAgICAgICAgIHRhZ19zdHIgPSBfLmRlYnVyciAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFnX3N0cjtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVfaW5wdXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy4kaW5wdXQudmFsICggdGhpcy5vcHRpb25zLnRhZ3Muc3RyICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfY2xlYXJfcGFydGlhbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJ0aWFsLnZhbCAoICcnICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBUQUcgKi9cblxuICAgICAgICBfcGFydGlhbF9hZGRfdGFnOiBmdW5jdGlvbiAoIHRhZ19zdHIgKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdfc3RyX3RyaW1tZWQgPSBfLnRyaW0gKCB0YWdfc3RyICksXG4gICAgICAgICAgICAgICAgdGFnX3N0ciA9IHRoaXMuX3Nhbml0aXplX3RhZ19zdHIgKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgIGlmICggdGFnX3N0cl90cmltbWVkLmxlbmd0aCA8IHRoaXMub3B0aW9ucy50YWcubWluX2xlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIGlmICggdGFnX3N0cl90cmltbWVkLmxlbmd0aCA+IDAgKSB7IC8vSU5GTzogU28gaXQgd29uJ3QgYmUgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBlbnRlciBhbmQgdGhlICRwYXJ0aWFsIGlzIGVtcHR5XG5cbiAgICAgICAgICAgICAgICAgICAgJC5ub3R5ICggJ2AnICsgdGFnX3N0ciArICdgIGlzIHNob3J0ZXIgdGhhbiAnICsgdGhpcy5vcHRpb25zLnRhZy5taW5fbGVuZ3RoICsgJyBjaGFyYWN0ZXJzJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBfLmNvbnRhaW5zICggdGhpcy5vcHRpb25zLnRhZ3MuYXJyLCB0YWdfc3RyICkgKSB7XG5cbiAgICAgICAgICAgICAgICAkLm5vdHkgKCAnYCcgKyB0YWdfc3RyICsgJ2AgaXMgYSBkdXBsaWNhdGUnICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFncy5hcnIucHVzaCAoIHRhZ19zdHIgKTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNvcnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ3MuYXJyLnNvcnQgKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnX2h0bWwgPSB0aGlzLl9nZXRfdGFnX2h0bWwgKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy50YWdzLmFyci5sZW5ndGggPT09IDEgfHwgIXRoaXMub3B0aW9ucy5zb3J0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHBhcnRpYWxfd3JwLmJlZm9yZSAoIHRhZ19odG1sICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMub3B0aW9ucy50YWdzLmFyci5pbmRleE9mICggdGFnX3N0ciApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggaW5kZXggPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhZ2JveC5maW5kICggJy50YWdib3gtdGFnJyApLmZpcnN0ICgpLmJlZm9yZSAoIHRhZ19odG1sICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFnYm94LmZpbmQgKCAnLnRhZ2JveC10YWcnICkuZXEgKCBpbmRleCAtIDEgKS5hZnRlciAoIHRhZ19odG1sICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3BhcnRpYWxfcmVtb3ZlX3RhZzogZnVuY3Rpb24gKCAkdGFnLCB0YWdfc3RyICkge1xuXG4gICAgICAgICAgICAkdGFnLnJlbW92ZSAoKTtcblxuICAgICAgICAgICAgXy5wdWxsICggdGhpcy5vcHRpb25zLnRhZ3MuYXJyLCB0YWdfc3RyICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBLRVlQUkVTUyAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2tleXByZXNzX2tleWRvd246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdfc3RyID0gdGhpcy4kcGFydGlhbC52YWwgKCk7XG5cbiAgICAgICAgICAgIGlmICggXy5jb250YWlucyAoIHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLmluc2VydGVycywgZXZlbnQua2V5Q29kZSApIHx8IGV2ZW50LmtleUNvZGUgPT09IHRoaXMub3B0aW9ucy5jaGFyYWN0ZXJzLnNlcGFyYXRvci5jaGFyQ29kZUF0ICggMCApICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFkZGVkID0gdGhpcy5hZGQgKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGFkZGVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyX3BhcnRpYWwgKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCAoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkJBQ0tTUEFDRSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggdGFnX3N0ci5sZW5ndGggPT09IDAgJiYgdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmxlbmd0aCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICR0YWcgPSB0aGlzLiR0YWdib3guZmluZCAoICcudGFnYm94LXRhZycgKS5sYXN0ICgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdCA9ICEoICggJC5icm93c2VyLmlzTWFjICYmIGV2ZW50Lm1ldGFLZXkgKSB8fCAoICEkLmJyb3dzZXIuaXNNYWMgJiYgZXZlbnQuY3RybEtleSApICk7IC8vSU5GTzogV2l0aCBgY3RybGAgbm90IG9uIGEgTWFjIG9yIGBjbWRgIG9uIE1hYzogcmVtb3ZlIGl0IGNvbXBsZXRlbGx5LCBvdGhlcndpc2U6IGNvcHkgaXQgdG8gdGhlIGlucHV0XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUgKCAkdGFnLCBlZGl0ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIF8uY29udGFpbnMgKCB0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5mb3JiaWRkZW4sIFN0cmluZy5mcm9tQ2hhckNvZGUgKCBldmVudC5rZXlDb2RlICkgKSApIHtcblxuICAgICAgICAgICAgICAgICQubm90eSAoICdUaGUgY2hhcmFjdGVyIHlvdSBlbnRlcmVkIGlzIGZvcmJpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQQVNURSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX3Bhc3RlOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICB0aGlzLl9kZWxheSAoIGZ1bmN0aW9uICgpIHsgLy9GSVhNRTogaXMgaXQgbmVjZXNzYXJ5P1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQgKCB0aGlzLiRwYXJ0aWFsLnZhbCAoKSApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJfcGFydGlhbCAoKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBDTElDSyBPTiBDTE9TRSAqL1xuXG4gICAgICAgIF9oYW5kbGVyX2NsaWNrX29uX3RhZ19yZW1vdmVyOiBmdW5jdGlvbiAoIGV2ZW50LCB0YWdfcmVtb3ZlciApIHtcblxuICAgICAgICAgICAgdmFyICR0YWcgPSAkKHRhZ19yZW1vdmVyKS5wYXJlbnRzICggJy50YWdib3gtdGFnJyApO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSAoICR0YWcgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qIENMSUNLIE9OIEVNUFRZICovXG5cbiAgICAgICAgX2hhbmRsZXJfY2xpY2tfb25fZW1wdHk6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgIGlmICggZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5wYXJ0aWFsICYmICEkKGV2ZW50LnRhcmdldCkuaXMgKCAnaW5wdXQsIC50YWdib3gtdGFnLWxhYmVsJyApICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbC5mb2N1cyAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogUFVCTElDICovXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGFncy5zdHI7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBhZGQ6IGZ1bmN0aW9uICggdGFnc19zdHIgKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWdzID0gdGFnc19zdHIuc3BsaXQgKCB0aGlzLm9wdGlvbnMuY2hhcmFjdGVycy5zZXBhcmF0b3IgKSxcbiAgICAgICAgICAgICAgICBhZGRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgbCA9IHRhZ3MubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgYWRkcy5wdXNoICggdGhpcy5fcGFydGlhbF9hZGRfdGFnICggdGFnc1tpXSApICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFkZGVkID0gKCBfLmNvbXBhY3QgKCBhZGRzICkubGVuZ3RoID4gMCApO1xuXG4gICAgICAgICAgICBpZiAoIGFkZGVkICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX3RhZ3Nfc3RyICgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkZWQ7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICggdGFnc19zdHIsIGVkaXQgKSB7XG5cbiAgICAgICAgICAgIGlmICggdGFnc19zdHIgaW5zdGFuY2VvZiBqUXVlcnkgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnc19vYmogPSBbdGFnc19zdHJdLFxuICAgICAgICAgICAgICAgICAgICB0YWdzID0gW3RhZ3Nfc3RyLmRhdGEgKCAndGFnLXZhbHVlJyApXTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHZhciB0YWdzX29iaiA9IFtdLFxuICAgICAgICAgICAgICAgICAgICB0YWdzID0gW107XG5cbiAgICAgICAgICAgICAgICB0YWdzX3N0ciA9IHRhZ3Nfc3RyLnNwbGl0ICggdGhpcy5vcHRpb25zLmNoYXJhY3RlcnMuc2VwYXJhdG9yICk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSB0YWdzX3N0ci5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ19zdHIgPSB0aGlzLl9zYW5pdGl6ZV90YWdfc3RyICggdGFnc19zdHJbaV0gKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWcgPSB0aGlzLiR0YWdib3guZmluZCAoICcudGFnYm94LXRhZ1tkYXRhLXRhZy12YWx1ZT1cIicgKyB0YWdfc3RyICsgJ1wiXScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggJHRhZy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3Nfb2JqLnB1c2ggKCAkdGFnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2ggKCB0YWdfc3RyICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggdGFnc19vYmoubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gdGFnc19vYmoubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxfcmVtb3ZlX3RhZyAoIHRhZ3Nfb2JqW2ldLCB0YWdzW2ldICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVfdGFnc19zdHIgKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2lucHV0ICgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBsID09PSAxICYmIGVkaXQgPT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFydGlhbC52YWwgKCB0YWdzWzBdICkudHJpZ2dlciAoICdjaGFuZ2UnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnRhZ3MuYXJyLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLnN0ciA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YWdzLmFyciA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGFnYm94LmZpbmQgKCAnLnRhZ2JveC10YWcnICkucmVtb3ZlICgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJfcGFydGlhbCAoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZV9pbnB1dCAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5jbGVhciAoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5pdCAoKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8qIFJFQURZICovXG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcudGFnYm94JykuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyICR0YWdib3ggPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICRpbnB1dCA9ICR0YWdib3guZmluZCAoICdpbnB1dCcgKS5lcSAoIDAgKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0OiAkaW5wdXQudmFsICgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycjogW11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICR0YWdib3gudGFnYm94ICggb3B0aW9ucyApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAcmVxdWlyZXMgLi4vY29yZS9jb3JlLmpzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVElNRSBBR08gKi9cblxuICAgICQud2lkZ2V0ICggJ3ByZXN0by50aW1lQWdvJywge1xuXG4gICAgICAgIC8qIE9QVElPTlMgKi9cblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IGZhbHNlLFxuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBfLm5vb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBTUEVDSUFMICovXG5cbiAgICAgICAgX3ZhcmlhYmxlczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycCA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aW1lc3RhbXAgPSB0aGlzLiR0aW1lQWdvX3dycC5kYXRhICggdGhpcy5vcHRpb25zLnRpdGxlID8gJ3RpbWVzdGFtcC10aXRsZScgOiAndGltZXN0YW1wJyApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xvb3AgKCAwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQUklWQVRFICovXG5cbiAgICAgICAgX3VwZGF0ZV9sb29wOiBmdW5jdGlvbiAoIHdhaXQgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlX2xvb3AgKCB0aGlzLnVwZGF0ZSAoKS5uZXh0ICk7XG5cbiAgICAgICAgICAgIH0sIHdhaXQgKiAxMDAwICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKiBQVUJMSUMgKi9cblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVBZ28gPSBfLnRpbWVBZ28gKCB0aGlzLm9wdGlvbnMudGltZXN0YW1wICk7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnRpdGxlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGltZUFnb193cnAuYXR0ciAoICd0aXRsZScsIHRpbWVBZ28uc3RyICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lQWdvX3dycC5odG1sICggdGltZUFnby5zdHIgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyICggJ3VwZGF0ZScgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRpbWVBZ287XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvKiBSRUFEWSAqL1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnW2RhdGEtdGltZXN0YW1wXScpLnRpbWVBZ28gKCk7XG4gICAgICAgICQoJ1tkYXRhLXRpbWVzdGFtcC10aXRsZV0nKS50aW1lQWdvICh7IHRpdGxlOiB0cnVlIH0pO1xuXG4gICAgfSk7XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiIsIlxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEBQUk9KRUNULU5BTUUgdkBQUk9KRUNULVZFUlNJT04gLSBARklMRS1OQU1FLVVQUEVSQ0FTRUQgdjAuMS4wXG4gKiBAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQEZJTEUtUEFUSFxuICogQFBST0pFQ1QtV0VCU0lURS9ARklMRS1OQU1FXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IEBQUk9KRUNULVNUQVJULVlFQVItQENVUlJFTlQtWUVBUiBAUFJPSkVDVC1DT1BZUklHSFQtSE9MREVSXG4gKiBMaWNlbnNlZCB1bmRlciBAUFJPSkVDVC1MSUNFTlNFLU5BTUUgKEBQUk9KRUNULVJFUE9TSVRPUlktVVJML0BQUk9KRUNULUJSQU5DSC9AUFJPSkVDVC1MSUNFTlNFLUZJTEUtUEFUSClcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIFRJTUVSIC0gaHR0cDovL2pjaGF2YW5uZXMuY29tL2pxdWVyeS10aW1lciAqL1xuXG47KGZ1bmN0aW9uICggJCwgXywgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogVElNRVIgKi9cblxuICAgICQudGltZXIgPSBmdW5jdGlvbiAoIGZ1bmMsIHRpbWUsIGF1dG9zdGFydCApIHtcblxuICAgICAgICByZXR1cm4gbmV3IFRpbWVyICggZnVuYywgdGltZSwgYXV0b3N0YXJ0ICk7XG5cbiAgICB9O1xuXG4gICAgLyogVElNRVIgT0JKICovXG5cbiAgICB2YXIgVGltZXIgPSBmdW5jdGlvbiAoIGZ1bmMsIHRpbWUsIGF1dG9zdGFydCApIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXQgKCBmdW5jLCB0aW1lLCBhdXRvc3RhcnQgKTtcblxuICAgIH07XG5cbiAgICBUaW1lci5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoIGZ1bmMsIHRpbWUsIGF1dG9zdGFydCApIHtcblxuICAgICAgICAgICAgdGhpcy5pbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gZnVuYztcblxuICAgICAgICAgICAgaWYgKCAhaXNOYU4gKCB0aW1lICkgKSB0aGlzLmludGVydmFsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgICAgIGlmICggYXV0b3N0YXJ0ICYmICF0aGlzLmlzQWN0aXZlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lciAoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9LFxuXG4gICAgICAgIG9uY2U6IGZ1bmN0aW9uICggdGltZSApIHtcblxuICAgICAgICAgICAgdmFyIHRpbWVyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCBpc05hTiAoIHRpbWUgKSApIHRpbWUgPSAwO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdGltZXIuYWN0aW9uICgpO1xuXG4gICAgICAgICAgICB9LCB0aW1lICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcGxheTogZnVuY3Rpb24gKCByZXNldCApIHtcblxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0FjdGl2ZSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggcmVzZXQgKSB0aGlzLnNldFRpbWVyICgpO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zZXRUaW1lciAoIHRoaXMucmVtYWluaW5nX3RpbWUgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCB0aGlzLmlzQWN0aXZlICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgLT0gbmV3IERhdGUoKSAtIHRoaXMubGFzdDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIgKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgPSB0aGlzLmludGVydmFsVGltZTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lciAoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICggcmVzZXQgKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5pc0FjdGl2ZSApIHRoaXMucGF1c2UgKCk7XG4gICAgICAgICAgICBlbHNlIGlmICggcmVzZXQgKSB0aGlzLnBsYXkgKCB0cnVlICk7XG4gICAgICAgICAgICBlbHNlIHRoaXMucGxheSAoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBsYXkgKCB0cnVlICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJUaW1lcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQgKCB0aGlzLnRpbWVvdXRPYmplY3QgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRpbWVyOiBmdW5jdGlvbiAoIHRpbWUgKSB7XG5cbiAgICAgICAgICAgIHZhciB0aW1lciA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICggaXNOYU4gKCB0aW1lICkgKSB0aW1lID0gdGhpcy5pbnRlcnZhbFRpbWU7XG5cbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nX3RpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5sYXN0ID0gbmV3IERhdGUgKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIgKCk7XG5cbiAgICAgICAgICAgIHRoaXMudGltZW91dE9iamVjdCA9IHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lci5nbyAoKVxuXG4gICAgICAgICAgICB9LCB0aW1lICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBnbzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuaXNBY3RpdmUgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVyICgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZW1haW5pbmc6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgICAgICAgIGlmICggXy5pc1VuZGVmaW5lZCAoIHZhbHVlICkgKSByZXR1cm4gdGhpcy5yZW1haW5pbmdfdGltZTtcblxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdfdGltZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KCBqUXVlcnksIF8sIHdpbmRvdywgZG9jdW1lbnQgKSk7XG4iLCJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBAUFJPSkVDVC1OQU1FIHZAUFJPSkVDVC1WRVJTSU9OIC0gQEZJTEUtTkFNRS1VUFBFUkNBU0VEIHYwLjEuMFxuICogQFBST0pFQ1QtUkVQT1NJVE9SWS1VUkwvQFBST0pFQ1QtQlJBTkNIL0BGSUxFLVBBVEhcbiAqIEBQUk9KRUNULVdFQlNJVEUvQEZJTEUtTkFNRVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCBAUFJPSkVDVC1TVEFSVC1ZRUFSLUBDVVJSRU5ULVlFQVIgQFBST0pFQ1QtQ09QWVJJR0hULUhPTERFUlxuICogTGljZW5zZWQgdW5kZXIgQFBST0pFQ1QtTElDRU5TRS1OQU1FIChAUFJPSkVDVC1SRVBPU0lUT1JZLVVSTC9AUFJPSkVDVC1CUkFOQ0gvQFBST0pFQ1QtTElDRU5TRS1GSUxFLVBBVEgpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQHJlcXVpcmVzIC4uL2J0ZWFjaC9idEVhY2guanNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbjsoZnVuY3Rpb24gKCAkLCBfLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBVVElMSVRJRVMgKi9cblxuICAgIHZhciBnZXRfY29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoICRlbGUgKSB7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9ICRlbGUub2Zmc2V0ICgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBYMTogb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICBYMjogb2Zmc2V0LmxlZnQgKyAkZWxlLndpZHRoICgpLFxuICAgICAgICAgICAgWTE6IG9mZnNldC50b3AsXG4gICAgICAgICAgICBZMjogb2Zmc2V0LnRvcCArICRlbGUuaGVpZ2h0ICgpXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgdmFyIGdldF9vdmVybGFwcGluZ19hcmVhID0gZnVuY3Rpb24gKCBjMSwgYzIgKSB7XG5cbiAgICAgICAgdmFyIHhfb3ZlcmxhcCA9IE1hdGgubWF4ICggMCwgTWF0aC5taW4gKCBjMS5YMiwgYzIuWDIgKSAtIE1hdGgubWF4ICggYzEuWDEsIGMyLlgxICkgKSxcbiAgICAgICAgICAgIHlfb3ZlcmxhcCA9IE1hdGgubWF4ICggMCwgTWF0aC5taW4gKCBjMS5ZMiwgYzIuWTIgKSAtIE1hdGgubWF4ICggYzEuWTEsIGMyLlkxICkgKTtcblxuICAgICAgICByZXR1cm4geF9vdmVybGFwICogeV9vdmVybGFwO1xuXG4gICAgfTtcblxuICAgIC8qIFRPVUNISU5HICovXG5cbiAgICAkLmZuLnRvdWNoaW5nID0gZnVuY3Rpb24gKCBjdXN0b21fb3B0aW9ucyApIHtcblxuICAgICAgICAvKiBPUFRJT05TICovXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfLm1lcmdlICh7XG4gICAgICAgICAgICBzdGFydEluZGV4IDogZmFsc2UsIC8vSU5GTzogVXNlZnVsIGZvciBzcGVlZGluZyB1cCB0aGUgc2VhcmNoaW5nIHByb2Nlc3MgaWYgd2UgbWF5IGFscmVhZHkgZ3Vlc3MgdGhlIGluaXRpYWwgcG9zaXRpb24uLi5cbiAgICAgICAgICAgIHBvaW50OiBmYWxzZSwgLy9JTkZPOiBVc2VkIGZvciB0aGUgcHVuY3R1YWwgc2VhcmNoXG4gICAgICAgICAgICBiaW5hcnlTZWFyY2g6IHRydWUsIC8vSU5GTzogdG9nZ2xlIHRoZSBiaW5hcnkgc2VhcmNoIHdoZW4gcGVyZm9ybWluZyBhIHB1bmN0dWFsIHNlYXJjaFxuICAgICAgICAgICAgLy8gIHtcbiAgICAgICAgICAgIC8vICAgICAgWDogMCxcbiAgICAgICAgICAgIC8vICAgICAgWTogMFxuICAgICAgICAgICAgLy8gIH0sXG4gICAgICAgICAgICAkY29tcGFyZXI6IGZhbHNlLCAvL0lORk86IFVzZWQgZm9yIHRoZSBvdmVybGFwcGluZyBzZWFyY2hcbiAgICAgICAgICAgICRub3Q6IGZhbHNlLFxuICAgICAgICAgICAgc2VsZWN0OiAnYWxsJ1xuICAgICAgICB9LCBjdXN0b21fb3B0aW9ucyApO1xuXG4gICAgICAgIC8qIFNFQVJDSEFCTEUgKi9cblxuICAgICAgICB2YXIgJHNlYXJjaGFibGUgPSBvcHRpb25zLiRub3QgPyB0aGlzLm5vdCAoIG9wdGlvbnMuJG5vdCApIDogdGhpcztcblxuICAgICAgICAvKiBDT01QQVJFUiAqL1xuXG4gICAgICAgIGlmICggb3B0aW9ucy4kY29tcGFyZXIgKSB7XG5cbiAgICAgICAgICAgIHZhciBjMSA9IGdldF9jb29yZGluYXRlcyAoIG9wdGlvbnMuJGNvbXBhcmVyICksXG4gICAgICAgICAgICAgICAgbm9kZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBhcmVhcyA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICRzZWFyY2hhYmxlLmVhY2ggKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBnZXRfY29vcmRpbmF0ZXMgKCAkKHRoaXMpICksXG4gICAgICAgICAgICAgICAgICAgIGFyZWEgPSBnZXRfb3ZlcmxhcHBpbmdfYXJlYSAoIGMxLCBjMiApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBhcmVhID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoICggdGhpcyApO1xuICAgICAgICAgICAgICAgICAgICBhcmVhcy5wdXNoICggYXJlYSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3dpdGNoICggb3B0aW9ucy5zZWxlY3QgKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChub2Rlcyk7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdtb3N0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobm9kZXNbIGFyZWFzLmluZGV4T2YgKCBfLm1heCAoIGFyZWFzICkgKV0pO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRlbXB0eTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvKiBQVU5DVFVBTCAqL1xuXG4gICAgICAgIGlmICggb3B0aW9ucy5wb2ludCApIHtcblxuICAgICAgICAgICAgdmFyICR0b3VjaGVkO1xuXG4gICAgICAgICAgICBpZiAoIG9wdGlvbnMuYmluYXJ5U2VhcmNoICkge1xuXG4gICAgICAgICAgICAgICAgJHNlYXJjaGFibGUuYnRFYWNoICggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbm9kZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gZ2V0X2Nvb3JkaW5hdGVzICggJG5vZGUgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMucG9pbnQuWSA+PSBjLlkxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMucG9pbnQuWSA8PSBjLlkyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBvcHRpb25zLnBvaW50LlggPj0gYy5YMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMucG9pbnQuWCA8PSBjLlgyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdG91Y2hlZCA9ICRub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5zdGFydEluZGV4ICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJHRvdWNoZWQgfHwgJGVtcHR5O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgJHNlYXJjaGFibGUuZWFjaCAoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJG5vZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGdldF9jb29yZGluYXRlcyAoICRub2RlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBvcHRpb25zLnBvaW50LlkgPj0gYy5ZMSAmJiBvcHRpb25zLnBvaW50LlkgPD0gYy5ZMiAmJiBvcHRpb25zLnBvaW50LlggPj0gYy5YMSAmJiBvcHRpb25zLnBvaW50LlggPD0gYy5YMiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvdWNoZWQgPSAkbm9kZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICR0b3VjaGVkIHx8ICRlbXB0eTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbn0oIGpRdWVyeSwgXywgd2luZG93LCBkb2N1bWVudCApKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==