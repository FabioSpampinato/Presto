/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
(function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],a=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=u();s["false"]=s["null"]=s["true"]=s.undefined=!1;var c=u();for(c.array=e,c.cache=s,c.push=n;++t<r;)c.push(e[t]);return c}function a(e){return"\\"+U[e]}function s(){return p.pop()||[]}function u(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(e){e.length=0,p.length<b&&p.push(e)}function l(e){var t=e.cache;t&&l(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<b&&g.push(e)}function f(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function d(n){function p(e){return e&&"object"==typeof e&&!Zr(e)&&Lr.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function b(e){function t(){if(r){var e=f(r);zr.apply(e,arguments)}if(this instanceof t){var o=K(n.prototype),a=n.apply(o,e||arguments);return St(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Vr(t,e),t}function U(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var a=St(e);if(!a)return e;var u=Tr.call(e);if(!B[u])return e;var l=Kr[u];switch(u){case D:case I:return new l(+e);case R:case F:return new l(e);case q:return o=l(e.source,j.exec(e)),o.lastIndex=e.lastIndex,o}var d=Zr(e);if(t){var h=!r;r||(r=s()),i||(i=s());for(var p=r.length;p--;)if(r[p]==e)return i[p];o=d?l(e.length):{}}else o=d?f(e):ai({},e);return d&&(Lr.call(e,"index")&&(o.index=e.index),Lr.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(d?Gt:ci)(e,function(e,a){o[a]=U(e,t,n,r,i)}),h&&(c(r),c(i)),o):o}function K(e,t){return St(e)?Wr(e):{}}function G(e,t,n){if("function"!=typeof e)return Zn;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Gr.funcNames&&(r=!e.name),r=r||!Gr.funcDecomp,!r)){var i=Pr.call(e);Gr.funcNames||(r=!N.test(i)),r||(r=S.test(i),Vr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return zn(e,t)}function V(e){function t(){var e=u?a:this;if(i){var p=f(i);zr.apply(p,arguments)}if((o||l)&&(p||(p=f(arguments)),o&&zr.apply(p,o),l&&p.length<s))return r|=16,V([n,d?r:-4&r,p,null,a,s]);if(p||(p=arguments),c&&(n=e[h]),this instanceof t){e=K(n.prototype);var g=n.apply(e,p);return St(g)?g:e}return n.apply(e,p)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=1&r,c=2&r,l=4&r,d=8&r,h=n;return Vr(t,e),t}function Z(n,r){var i=-1,a=ct(),s=n?n.length:0,u=s>=y&&a===e,c=[];if(u){var f=o(r);f?(a=t,r=f):u=!1}for(;++i<s;){var d=n[i];a(r,d)<0&&c.push(d)}return u&&l(r),c}function tt(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Zr(s)||ht(s))){t||(s=tt(s,t,n));var u=-1,c=s.length,l=a.length;for(a.length+=c;++u<c;)a[l++]=s[u]}else n||a.push(s)}return a}function nt(e,t,n,r,i,o){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,l=typeof t;if(!(e!==e||e&&Y[u]||t&&Y[l]))return!1;if(null==e||null==t)return e===t;var f=Tr.call(e),d=Tr.call(t);if(f==L&&(f=W),d==L&&(d=W),f!=d)return!1;switch(f){case D:case I:return+e==+t;case R:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case q:case F:return e==Cr(t)}var h=f==z;if(!h){var p=Lr.call(e,"__wrapped__"),g=Lr.call(t,"__wrapped__");if(p||g)return nt(p?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,o);if(f!=W)return!1;var m=e.constructor,v=t.constructor;if(m!=v&&!(At(m)&&m instanceof m&&At(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=s()),o||(o=s());for(var b=i.length;b--;)if(i[b]==e)return o[b]==t;var _=0;if(a=!0,i.push(e),o.push(t),h){if(b=e.length,_=t.length,a=_==b,a||r)for(;_--;){var w=b,C=t[_];if(r)for(;w--&&!(a=nt(e[w],C,n,r,i,o)););else if(!(a=nt(e[_],C,n,r,i,o)))break}}else ui(t,function(t,s,u){return Lr.call(u,s)?(_++,a=Lr.call(e,s)&&nt(e[s],t,n,r,i,o)):void 0}),a&&!r&&ui(e,function(e,t,n){return Lr.call(n,t)?a=--_>-1:void 0});return i.pop(),o.pop(),y&&(c(i),c(o)),a}function rt(e,t,n,r,i){(Zr(t)?Gt:ci)(t,function(t,o){var a,s,u=t,c=e[o];if(t&&((s=Zr(t))||li(t))){for(var l=r.length;l--;)if(a=r[l]==t){c=i[l];break}if(!a){var f;n&&(u=n(c,t),(f="undefined"!=typeof u)&&(c=u)),f||(c=s?Zr(c)?c:[]:li(c)?c:{}),r.push(t),i.push(c),f||rt(c,t,n,r,i)}}else n&&(u=n(c,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(c=u);e[o]=c})}function it(e,t){return e+Mr(Jr()*(t-e+1))}function ot(n,r,i){var a=-1,u=ct(),f=n?n.length:0,d=[],h=!r&&f>=y&&u===e,p=i||h?s():d;if(h){var g=o(p);u=t,p=g}for(;++a<f;){var m=n[a],v=i?i(m,a,n):m;(r?!a||p[p.length-1]!==v:u(p,v)<0)&&((i||h)&&p.push(v),d.push(m))}return h?(c(p.array),l(p)):i&&c(p),d}function at(e){return function(t,n,r){var i={};n=p.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a;){var s=t[o];e(i,s,n(s,o,t),t)}else ci(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function st(e,t,n,r,i,o){var a=1&t,s=2&t,u=4&t,c=8&t,l=16&t,d=32&t;if(!s&&!At(e))throw new kr;l&&!n.length&&(t&=-17,l=n=!1),d&&!r.length&&(t&=-33,d=r=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=f(h),h[2]&&(h[2]=f(h[2])),h[3]&&(h[3]=f(h[3])),!a||1&h[1]||(h[4]=i),!a&&1&h[1]&&(t|=8),!u||4&h[1]||(h[5]=o),l&&zr.apply(h[2]||(h[2]=[]),n),d&&Qr.apply(h[3]||(h[3]=[]),r),h[1]|=t,st.apply(null,h);var p=1==t||17===t?b:V;return p([e,t,n,r,i,o])}function ut(e){return ni[e]}function ct(){var t=(t=p.indexOf)===bn?e:t;return t}function lt(e){return"function"==typeof e&&Er.test(e)}function ft(e){var t,n;return e&&Tr.call(e)==W&&(t=e.constructor,!At(t)||t instanceof t)?(ui(e,function(e,t){n=t}),"undefined"==typeof n||Lr.call(e,n)):!1}function dt(e){return ri[e]}function ht(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Tr.call(e)==L||!1}function pt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),U(e,t,"function"==typeof n&&G(n,r,1))}function gt(e,t,n){return U(e,!0,"function"==typeof t&&G(t,n,1))}function mt(e,t){var n=K(e);return t?ai(n,t):n}function vt(e,t,n){var r;return t=p.createCallback(t,n,3),ci(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function yt(e,t,n){var r;return t=p.createCallback(t,n,3),_t(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function bt(e,t,n){var r=[];ui(e,function(e,t){r.push(t,e)});var i=r.length;for(t=G(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function _t(e,t,n){var r=ti(e),i=r.length;for(t=G(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function wt(e){var t=[];return ui(e,function(e,n){At(e)&&t.push(n)}),t.sort()}function $t(e,t){return e?Lr.call(e,t):!1}function Ct(e){for(var t=-1,n=ti(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function kt(e){return e===!0||e===!1||e&&"object"==typeof e&&Tr.call(e)==D||!1}function xt(e){return e&&"object"==typeof e&&Tr.call(e)==I||!1}function jt(e){return e&&1===e.nodeType||!1}function Nt(e){var t=!0;if(!e)return t;var n=Tr.call(e),r=e.length;return n==z||n==F||n==L||n==W&&"number"==typeof r&&At(e.splice)?!r:(ci(e,function(){return t=!1}),t)}function Tt(e,t,n,r){return nt(e,t,"function"==typeof n&&G(n,r,2))}function Et(e){return Fr(e)&&!Br(parseFloat(e))}function At(e){return"function"==typeof e}function St(e){return!(!e||!Y[typeof e])}function Mt(e){return Ot(e)&&e!=+e}function Pt(e){return null===e}function Ot(e){return"number"==typeof e||e&&"object"==typeof e&&Tr.call(e)==R||!1}function Lt(e){return e&&"object"==typeof e&&Tr.call(e)==q||!1}function zt(e){return"string"==typeof e||e&&"object"==typeof e&&Tr.call(e)==F||!1}function Dt(e){return"undefined"==typeof e}function It(e,t,n){var r={};return t=p.createCallback(t,n,3),ci(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Qt(e){var t=arguments,n=2;if(!St(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=G(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=f(arguments,1,n),o=-1,a=s(),u=s();++o<n;)rt(e,i[o],r,a,u);return c(a),c(u),e}function Rt(e,t,n){var r={};if("function"!=typeof t){var i=[];ui(e,function(e,t){i.push(t)}),i=Z(i,tt(arguments,!0,!1,1));for(var o=-1,a=i.length;++o<a;){var s=i[o];r[s]=e[s]}}else t=p.createCallback(t,n,3),ui(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Wt(e){for(var t=-1,n=ti(e),r=n.length,i=gr(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function qt(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=tt(arguments,!0,!1,1),a=St(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=p.createCallback(t,n,3),ui(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Ft(e,t,n,r){var i=Zr(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=K(a)}return t&&(t=p.createCallback(t,r,4),(i?Gt:ci)(e,function(e,r,i){return t(n,e,r,i)})),n}function Bt(e){for(var t=-1,n=ti(e),r=n.length,i=gr(r);++t<r;)i[t]=e[n[t]];return i}function Xt(e){for(var t=arguments,n=-1,r=tt(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=gr(i);++n<i;)o[n]=e[r[n]];return o}function Ht(e,t,n){var r=-1,i=ct(),o=e?e.length:0,a=!1;return n=(0>n?Hr(0,o+n):n)||0,Zr(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(zt(e)?e.indexOf(t,n):i(e,t,n))>-1:ci(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function Yt(e,t,n){var r=!0;t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&(r=!!t(e[i],i,e)););else ci(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Ut(e,t,n){var r=[];t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else ci(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Jt(e,t,n){t=p.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var o;return ci(e,function(e,n,r){return t(e,n,r)?(o=e,!1):void 0}),o}for(;++r<i;){var a=e[r];if(t(a,r,e))return a}}function Kt(e,t,n){var r;return t=p.createCallback(t,n,3),Vt(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}function Gt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:G(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ci(e,t);return e}function Vt(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:G(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=ti(e);r=i.length,ci(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Zt(e,t){var n=f(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=gr("number"==typeof o?o:0);return Gt(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function en(e,t,n){var r=-1,i=e?e.length:0;if(t=p.createCallback(t,n,3),"number"==typeof i)for(var o=gr(i);++r<i;)o[r]=t(e[r],r,e);else o=[],ci(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function tn(e,t,n){var i=-1/0,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zr(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];u>o&&(o=u)}else t=null==t&&zt(e)?r:p.createCallback(t,n,3),Gt(e,function(e,n,r){var a=t(e,n,r);a>i&&(i=a,o=e)});return o}function nn(e,t,n){var i=1/0,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zr(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];o>u&&(o=u)}else t=null==t&&zt(e)?r:p.createCallback(t,n,3),Gt(e,function(e,n,r){var a=t(e,n,r);i>a&&(i=a,o=e)});return o}function rn(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=p.createCallback(t,r,4);var o=-1,a=e.length;if("number"==typeof a)for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);else ci(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function on(e,t,n,r){var i=arguments.length<3;return t=p.createCallback(t,r,4),Vt(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function an(e,t,n){return t=p.createCallback(t,n,3),Ut(e,function(e,n,r){return!t(e,n,r)})}function sn(e,t,n){if(e&&"number"!=typeof e.length&&(e=Bt(e)),null==t||n)return e?e[it(0,e.length-1)]:h;var r=un(e);return r.length=Yr(Hr(0,t),r.length),r}function un(e){var t=-1,n=e?e.length:0,r=gr("number"==typeof n?n:0);return Gt(e,function(e){var n=it(0,++t);r[t]=r[n],r[n]=e}),r}function cn(e){var t=e?e.length:0;return"number"==typeof t?t:ti(e).length}function ln(e,t,n){var r;t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&!(r=t(e[i],i,e)););else ci(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function fn(e,t,n){var r=-1,o=Zr(t),a=e?e.length:0,f=gr("number"==typeof a?a:0);for(o||(t=p.createCallback(t,n,3)),Gt(e,function(e,n,i){var a=f[++r]=u();o?a.criteria=en(t,function(t){return e[t]}):(a.criteria=s())[0]=t(e,n,i),a.index=r,a.value=e}),a=f.length,f.sort(i);a--;){var d=f[a];f[a]=d.value,o||c(d.criteria),l(d)}return f}function dn(e){return e&&"number"==typeof e.length?f(e):Bt(e)}function hn(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function pn(e){return Z(e,tt(arguments,!0,!0,1))}function gn(e,t,n){var r=-1,i=e?e.length:0;for(t=p.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function mn(e,t,n){var r=e?e.length:0;for(t=p.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function vn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=p.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:h;return f(e,0,Yr(Hr(0,r),i))}function yn(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=en(e,n,r)),tt(e,t)}function bn(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?Hr(0,i+r):r||0}else if(r){var o=Tn(t,n);return t[o]===n?o:-1}return e(t,n,r)}function _n(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=p.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return f(e,0,Yr(Hr(0,i-r),i))}function wn(){for(var n=[],r=-1,i=arguments.length,a=s(),u=ct(),f=u===e,d=s();++r<i;){var h=arguments[r];(Zr(h)||ht(h))&&(n.push(h),a.push(f&&h.length>=y&&o(r?n[r]:d)))}var p=n[0],g=-1,m=p?p.length:0,v=[];e:for(;++g<m;){var b=a[0];if(h=p[g],(b?t(b,h):u(d,h))<0){for(r=i,(b||d).push(h);--r;)if(b=a[r],(b?t(b,h):u(n[r],h))<0)continue e;v.push(h)}}for(;i--;)b=a[i],b&&l(b);return c(a),c(d),v}function $n(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=p.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:h;return f(e,Hr(0,i-r))}function Cn(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Hr(0,r+n):Yr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function kn(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(Ir.call(e,o--,1),i--);return e}function xn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Hr(0,Ar((t-e)/(n||1))),o=gr(i);++r<i;)o[r]=e,e+=n;return o}function jn(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=p.createCallback(t,n,3);++r<i;){var a=e[r];t(a,r,e)&&(o.push(a),Ir.call(e,r--,1),i--)}return o}function Nn(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=p.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:Hr(0,t);return f(e,r)}function Tn(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?p.createCallback(n,r,1):Zn,t=n(t);o>i;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function En(){return ot(tt(arguments,!0,!0))}function An(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=p.createCallback(n,r,3)),ot(e,t,n)}function Sn(e){return Z(e,f(arguments,1))}function Mn(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zr(n)||ht(n))var r=r?ot(Z(r,n).concat(Z(n,r))):n}return r||[]}function Pn(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?tn(pi(e,"length")):0,r=gr(0>n?0:n);++t<n;)r[t]=pi(e,t);return r}function On(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Zr(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ln(e,t){if(!At(t))throw new kr;return function(){return--e<1?t.apply(this,arguments):void 0}}function zn(e,t){return arguments.length>2?st(e,17,f(arguments,2),null,t):st(e,1,null,null,t)}function Dn(e){for(var t=arguments.length>1?tt(arguments,!0,!1,1):wt(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=st(e[i],1,null,null,e)}return e}function In(e,t){return arguments.length>2?st(t,19,f(arguments,2),null,e):st(t,3,null,null,e)}function Qn(){for(var e=arguments,t=e.length;t--;)if(!At(e[t]))throw new kr;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Rn(e,t){return t="number"==typeof t?t:+t||e.length,st(e,4,null,null,null,t)}function Wn(e,t,n){var r,i,o,a,s,u,c,l=0,f=!1,d=!0;if(!At(e))throw new kr;if(t=Hr(0,t)||0,n===!0){var p=!0;d=!1}else St(n)&&(p=n.leading,f="maxWait"in n&&(Hr(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var g=function(){var n=t-(mi()-a);if(0>=n){i&&Sr(i);var f=c;i=u=c=h,f&&(l=mi(),o=e.apply(s,r),u||i||(r=s=null))}else u=Dr(g,n)},m=function(){u&&Sr(u),i=u=c=h,(d||f!==t)&&(l=mi(),o=e.apply(s,r),u||i||(r=s=null))};return function(){if(r=arguments,a=mi(),s=this,c=d&&(u||!p),f===!1)var n=p&&!u;else{i||p||(l=a);var h=f-(a-l),v=0>=h;v?(i&&(i=Sr(i)),l=a,o=e.apply(s,r)):i||(i=Dr(m,h))}return v&&u?u=Sr(u):u||t===f||(u=Dr(g,t)),n&&(v=!0,o=e.apply(s,r)),!v||u||i||(r=s=null),o}}function qn(e){if(!At(e))throw new kr;var t=f(arguments,1);return Dr(function(){e.apply(h,t)},1)}function Fn(e,t){if(!At(e))throw new kr;var n=f(arguments,2);return Dr(function(){e.apply(h,n)},t)}function Bn(e,t){if(!At(e))throw new kr;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Lr.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Xn(e){var t,n;if(!At(e))throw new kr;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Hn(e){return st(e,16,f(arguments,1))}function Yn(e){return st(e,32,null,f(arguments,1))}function Un(e,t,n){var r=!0,i=!0;if(!At(e))throw new kr;return n===!1?r=!1:St(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),X.leading=r,X.maxWait=t,X.trailing=i,Wn(e,t,X)}function Jn(e,t){return st(t,16,[e])}function Kn(e){return function(){return e}}function Gn(e,t,n){var r=typeof e;if(null==e||"function"==r)return G(e,t,n);if("object"!=r)return rr(e);var i=ti(e),o=i[0],a=e[o];return 1!=i.length||a!==a||St(a)?function(t){for(var n=i.length,r=!1;n--&&(r=nt(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Vn(e){return null==e?"":Cr(e).replace(oi,ut)}function Zn(e){return e}function er(e,t,n){var r=!0,i=t&&wt(t);t&&(n||i.length)||(null==n&&(n=t),o=g,t=e,e=p,i=wt(t)),n===!1?r=!1:St(n)&&"chain"in n&&(r=n.chain);var o=e,a=At(o);Gt(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];zr.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&St(s))return this;s=new o(s),s.__chain__=t}return s})})}function tr(){return n._=Nr,this}function nr(){}function rr(e){return function(t){return t[e]}}function ir(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Jr();return Yr(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return it(e,t)}function or(e,t){if(e){var n=e[t];return At(n)?e[t]():n}}function ar(e,t,n){var r=p.templateSettings;e=Cr(e||""),n=si({},n,r);var i=si({},n.imports,r.imports),o=ti(i),s=Bt(i),u,c=0,l=n.interpolate||A,f="__p += '",d=$r((n.escape||A).source+"|"+l.source+"|"+(l===T?x:A).source+"|"+(n.evaluate||A).source+"|$","g");e.replace(d,function(t,n,r,i,o,s){return r||(r=i),f+=e.slice(c,s).replace(M,a),n&&(f+="' +\n__e("+n+") +\n'"),o&&(u=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),f+="';\n";var g=n.variable,m=g;m||(g="obj",f="with ("+g+") {\n"+f+"\n}\n"),f=(u?f.replace(w,""):f).replace(C,"$1").replace(k,"$1;"),f="function("+g+") {\n"+(m?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+O++ +"]")+"\n*/";try{var y=yr(o,"return "+f+v).apply(h,s)}catch(b){throw b.source=f,b}return t?y(t):(y.source=f,y)}function sr(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=gr(e);for(t=G(t,n,1);++r<e;)i[r]=t(r);return i}function ur(e){return null==e?"":Cr(e).replace(ii,dt)}function cr(e){var t=++m;return Cr(null==e?"":e)+t}function lr(e){return e=new g(e),e.__chain__=!0,e}function fr(e,t){return t(e),e}function dr(){return this.__chain__=!0,this}function hr(){return Cr(this.__wrapped__)}function pr(){return this.__wrapped__}n=n?et.defaults(J.Object(),n,et.pick(J,P)):J;var gr=n.Array,mr=n.Boolean,vr=n.Date,yr=n.Function,br=n.Math,_r=n.Number,wr=n.Object,$r=n.RegExp,Cr=n.String,kr=n.TypeError,xr=[],jr=wr.prototype,Nr=n._,Tr=jr.toString,Er=$r("^"+Cr(Tr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ar=br.ceil,Sr=n.clearTimeout,Mr=br.floor,Pr=yr.prototype.toString,Or=lt(Or=wr.getPrototypeOf)&&Or,Lr=jr.hasOwnProperty,zr=xr.push,Dr=n.setTimeout,Ir=xr.splice,Qr=xr.unshift,Rr=function(){try{var e={},t=lt(t=wr.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Wr=lt(Wr=wr.create)&&Wr,qr=lt(qr=gr.isArray)&&qr,Fr=n.isFinite,Br=n.isNaN,Xr=lt(Xr=wr.keys)&&Xr,Hr=br.max,Yr=br.min,Ur=n.parseInt,Jr=br.random,Kr={};Kr[z]=gr,Kr[D]=mr,Kr[I]=vr,Kr[Q]=yr,Kr[W]=wr,Kr[R]=_r,Kr[q]=$r,Kr[F]=Cr,g.prototype=p.prototype;var Gr=p.support={};Gr.funcDecomp=!lt(n.WinRTError)&&S.test(d),Gr.funcNames="string"==typeof yr.name,p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:p}},Wr||(K=function(){function e(){}return function(t){if(St(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Vr=Rr?function(e,t){H.value=t,Rr(e,"__bindData__",H)}:nr,Zr=qr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Tr.call(e)==z||!1},ei=function(e){var t,n=e,r=[];if(!n)return r;if(!Y[typeof e])return r;for(t in n)Lr.call(n,t)&&r.push(t);return r},ti=Xr?function(e){return St(e)?Xr(e):[]}:ei,ni={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ri=Ct(ni),ii=$r("("+ti(ri).join("|")+")","g"),oi=$r("["+ti(ni).join("")+"]","g"),ai=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,u="number"==typeof n?2:a.length;if(u>3&&"function"==typeof a[u-2])var c=G(a[--u-1],a[u--],2);else u>2&&"function"==typeof a[u-1]&&(c=a[--u]);for(;++s<u;)if(i=a[s],i&&Y[typeof i])for(var l=-1,f=Y[typeof i]&&ti(i),d=f?f.length:0;++l<d;)r=f[l],o[r]=c?c(o[r],i[r]):i[r];return o},si=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,u="number"==typeof n?2:a.length;++s<u;)if(i=a[s],i&&Y[typeof i])for(var c=-1,l=Y[typeof i]&&ti(i),f=l?l.length:0;++c<f;)r=l[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ui=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Y[typeof i])return o;t=t&&"undefined"==typeof n?t:G(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ci=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Y[typeof i])return o;t=t&&"undefined"==typeof n?t:G(t,n,3);for(var a=-1,s=Y[typeof i]&&ti(i),u=s?s.length:0;++a<u;)if(r=s[a],t(i[r],r,e)===!1)return o;return o},li=Or?function(e){if(!e||Tr.call(e)!=W)return!1;var t=e.valueOf,n=lt(t)&&(n=Or(t))&&Or(n);return n?e==n||Or(e)==n:ft(e)}:ft,fi=at(function(e,t,n){Lr.call(e,n)?e[n]++:e[n]=1}),di=at(function(e,t,n){(Lr.call(e,n)?e[n]:e[n]=[]).push(t)}),hi=at(function(e,t,n){e[n]=t}),pi=en,gi=Ut,mi=lt(mi=vr.now)&&mi||function(){return(new vr).getTime()},vi=8==Ur(_+"08")?Ur:function(e,t){return Ur(zt(e)?e.replace(E,""):e,t||0)};return p.after=Ln,p.assign=ai,p.at=Xt,p.bind=zn,p.bindAll=Dn,p.bindKey=In,p.chain=lr,p.compact=hn,p.compose=Qn,p.constant=Kn,p.countBy=fi,p.create=mt,p.createCallback=Gn,p.curry=Rn,p.debounce=Wn,p.defaults=si,p.defer=qn,p.delay=Fn,p.difference=pn,p.filter=Ut,p.flatten=yn,p.forEach=Gt,p.forEachRight=Vt,p.forIn=ui,p.forInRight=bt,p.forOwn=ci,p.forOwnRight=_t,p.functions=wt,p.groupBy=di,p.indexBy=hi,p.initial=_n,p.intersection=wn,p.invert=Ct,p.invoke=Zt,p.keys=ti,p.map=en,p.mapValues=It,p.max=tn,p.memoize=Bn,p.merge=Qt,p.min=nn,p.omit=Rt,p.once=Xn,p.pairs=Wt,p.partial=Hn,p.partialRight=Yn,p.pick=qt,p.pluck=pi,p.property=rr,p.pull=kn,p.range=xn,p.reject=an,p.remove=jn,p.rest=Nn,p.shuffle=un,p.sortBy=fn,p.tap=fr,p.throttle=Un,p.times=sr,p.toArray=dn,p.transform=Ft,p.union=En,p.uniq=An,p.values=Bt,p.where=gi,p.without=Sn,p.wrap=Jn,p.xor=Mn,p.zip=Pn,p.zipObject=On,p.collect=en,p.drop=Nn,p.each=Gt,p.eachRight=Vt,p.extend=ai,p.methods=wt,p.object=On,p.select=Ut,p.tail=Nn,p.unique=An,p.unzip=Pn,er(p),p.clone=pt,p.cloneDeep=gt,p.contains=Ht,p.escape=Vn,p.every=Yt,p.find=Jt,p.findIndex=gn,p.findKey=vt,p.findLast=Kt,p.findLastIndex=mn,p.findLastKey=yt,p.has=$t,p.identity=Zn,p.indexOf=bn,p.isArguments=ht,p.isArray=Zr,p.isBoolean=kt,p.isDate=xt,p.isElement=jt,p.isEmpty=Nt,p.isEqual=Tt,p.isFinite=Et,p.isFunction=At,p.isNaN=Mt,p.isNull=Pt,p.isNumber=Ot,p.isObject=St,p.isPlainObject=li,p.isRegExp=Lt,p.isString=zt,p.isUndefined=Dt,p.lastIndexOf=Cn,p.mixin=er,p.noConflict=tr,p.noop=nr,p.now=mi,p.parseInt=vi,p.random=ir,p.reduce=rn,p.reduceRight=on,p.result=or,p.runInContext=d,p.size=cn,p.some=ln,p.sortedIndex=Tn,p.template=ar,p.unescape=ur,p.uniqueId=cr,p.all=Yt,p.any=ln,p.detect=Jt,p.findWhere=Jt,p.foldl=rn,p.foldr=on,p.include=Ht,p.inject=rn,er(function(){var e={};return ci(p,function(t,n){p.prototype[n]||(e[n]=t)}),e}(),!1),p.first=vn,p.last=$n,p.sample=sn,p.take=vn,p.head=vn,ci(p,function(e,t){var n="sample"!==t;p.prototype[t]||(p.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new g(o,i):o})}),p.VERSION="2.4.1",p.prototype.chain=dr,p.prototype.toString=hr,p.prototype.value=pr,p.prototype.valueOf=pr,Gt(["join","pop","shift"],function(e){var t=xr[e];p.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new g(n,e):n}}),Gt(["push","reverse","sort","unshift"],function(e){var t=xr[e];p.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Gt(["concat","slice","splice"],function(e){var t=xr[e];p.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),p}var h,p=[],g=[],m=0,v=+new Date+"",y=75,b=40,_=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,j=/\w*$/,N=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,E=RegExp("^["+_+"]*0+(?=.$)"),A=/($^)/,S=/\bthis\b/,M=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],O=0,L="[object Arguments]",z="[object Array]",D="[object Boolean]",I="[object Date]",Q="[object Function]",R="[object Number]",W="[object Object]",q="[object RegExp]",F="[object String]",B={};B[Q]=!1,B[L]=B[z]=B[D]=B[I]=B[R]=B[W]=B[q]=B[F]=!0;var X={leading:!1,maxWait:0,trailing:!1},H={configurable:!1,enumerable:!1,value:null,writable:!1},Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},U={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=Y[typeof window]&&window||this,K=Y[typeof exports]&&exports&&!exports.nodeType&&exports,G=Y[typeof module]&&module&&!module.nodeType&&module,V=G&&G.exports===K&&K,Z=Y[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(J=Z);var et=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=et,define(function(){return et})):K&&G?V?(G.exports=et)._=et:K._=et:J._=et}).call(this);var lQuery;!function(){var e=document.documentElement.matches||document.documentElement.matchesSelector||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.msMatchesSelector||document.documentElement.oMatchesSelector,t=/^(?:body|html)$/i,n=/complete|loaded|interactive/,r=/^[\w-]*$/,i=function(e){var t=e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""});return t[0].toLowerCase()+t.slice(1)},o=function(e){var t;return e?"true"==e||("false"==e?!1:"null"==e?null:/^0/.test(e)||isNaN(t=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:t):e},a=function(e){return Array.prototype.slice.call(e)},s=function(e,t){return 3-(6&e.compareDocumentPosition(t))},u=function(e,t){for(var t=t?e:e[0].compareDocumentPosition?e.sort(s):e.sort(),n,r=t.length-1;r>=0;r--)t[r]===n?t.splice(r,1):n=t[r];return t},c=function(e){return e instanceof NodeList||e instanceof Array||e instanceof HTMLCollection},l=function(e,t){var n,i="#"===t[0],o=!i&&"."===t[0],s=i||o?t.slice(1):t,u=r.test(s);return u?i?(n=e.getElementById(s))?[n]:[]:a(o?e.getElementsByClassName(s):e.getElementsByTagName(t)):a(e.querySelectorAll(t))};lQuery=function(e,t){return new f(e,t)};var f=function(e,t){return this.nodes=e?"string"==typeof e?l(document,e):c(e)?t?e:u(e):e instanceof f?e.nodes:"object"==typeof e?[e]:[]:[],this.length=this.nodes.length,this};lQuery.dom_ready=function(e){n.test(document.readyState)&&document.body?e():lQuery(document).on("DOMContentLoaded",e)},lQuery.defer=function(e,t){$html.get(0).clientHeight,setTimeout(e,t||0)},lQuery.ajax=function(e){e.type=e.type?e.type.toUpperCase():"GET";var t=new XMLHttpRequest;t.open(e.type,e.url,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onload=function(){t.status>=200&&t.status<400?e.success&&e.success(e.json===!0?JSON.parse(t.responseText):t.responseText):e.error&&e.error(e.json===!0?JSON.parse(t.responseText):t.responseText)},e.error&&(t.onerror=function(){e.error(e.json===!0?JSON.parse(t.responseText):t.responseText)}),e.before&&e.before(),t.send(e.data),e.after&&e.after()},lQuery.uuid=0,lQuery.get_uuid=function(){return this.uuid+=1},lQuery.node_fn={is:function(t,n){if(e)return e.call(t,n);for(var r=l(t.parentNode,n),i=!1,o=0;o<r.length;o++)if(r[o]===t){i=!0;break}return i},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t+"(\\b|$)","gi")," ")},hasClass:function(e,t){return!(!e.className||!new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft,width:t.width,height:t.height}}},lQuery.fn=f.prototype={first:function(){return lQuery(this.nodes[0])},last:function(){return lQuery(this.nodes[this.length-1])},eq:function(e){return lQuery(this.get(e))},get:function(e){return this.nodes[e>=0?e:idx+this.length]},slice:function(e,t){return lQuery(this.nodes.slice(e,t||this.length),!0)},toArray:function(){return this.nodes},size:function(){return this.length},index:function(e){e instanceof f&&(e=e.nodes[0]);for(var t=0;t<this.length;t++)if(this.nodes[t]==e)return t;return-1},contains:function(e){return-1!==this.index(e)},add:function(e){var t=this.nodes.concat(e instanceof f?e.nodes:e instanceof NodeList||e instanceof HTMLCollection?a(e):e instanceof Array?e:"string"==typeof e?l(document,e):"object"==typeof e?[e]:[]);
return lQuery(t)},find:function(e){for(var t=[],n=0,r=0;r<this.length;r++){var i=l(this.nodes[r],e);i.length>0&&(t=t.concat(i),n+=1)}return lQuery(t,2>n)},filter:function(e){for(var t=[],n=typeof e,r=0;r<this.length;r++)"string"===n&&lQuery.node_fn.is(this.nodes[r],e)?t.push(this.nodes[r]):"function"===n&&e(this.nodes[r])&&t.push(this.nodes[r]);return lQuery(t,!0)},is:function(e){for(var t=0;t<this.length;t++)if(!lQuery.node_fn.is(this.nodes[t],e))return!1;return this.length>0},not:function(e){return this.filter(function(t){return e instanceof f?!e.contains(t):!lQuery.node_fn.is(t,e)})},parents:function(e,t){t=t||1e6;for(var n=[],r=0;r<this.length;r++){for(var i=[],o=this.nodes[r].parentNode;i.length<t&&o&&o!==document;)e?lQuery.node_fn.is(o,e)&&i.push(o):i.push(o),o=o.parentNode;n=n.concat(i)}return lQuery(n,this.length<2)},parent:function(e){return this.parents(e,1)},closest:function(e){return this.parent(e)},children:function(e){for(var t=[],n=0,r=0;r<this.length;r++){for(var i=[],o=this.nodes[r].childNodes,a=0;a<o.length;a++)1===o[a].nodeType&&i.push(o[a]);i.length>0&&(t=t.concat(i),n+=1)}return"string"==typeof e?lQuery(t,2>n).filter(e):lQuery(t,2>n)},each:function(e){for(var t=0;t<this.length&&e.call(this.nodes[t],this.nodes[t],t)!==!1;t++);return this},map:function(e){for(var t=[],n=0;n<this.length;n++){var r=e.call(this.nodes[n],this.nodes[n],n);null!=r&&t.push(r)}return t},insertHtml:function(e,t){for(var n=0;n<this.length;n++)this.nodes[n].insertAdjacentHTML(e,t);return this},before:function(e){return this.insertHtml("beforebegin",e)},after:function(e){return this.insertHtml("afterend",e)},prepend:function(e){return this.insertHtml("afterbegin",e)},append:function(e){return this.insertHtml("beforeend",e)},remove:function(){for(var e=0;e<this.length;e++)this.nodes[e].parentNode&&this.nodes[e].parentNode.removeChild(this.nodes[e]);return this},attr:function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++)this.nodes[n].setAttribute(e,t);return this}return this.length>0?this.nodes[0].getAttribute(e):null},data:function(e,t){var n=this.attr("data-"+e,t);return"undefined"!=typeof t?n:o(n)},prop:function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++)this.nodes[n][e]=t;return this}return this.length>0?this.nodes[0][e]:null},checked:function(e){return this.prop("checked",e)},text:function(e){return this.prop("textContent",e)},html:function(e){return this.prop("innerHTML",e)},replaceWith:function(e){return this.prop("outerHTML",e)},empty:function(){for(var e=0;e<this.length;e++)for(;this.nodes[e].hasChildNodes();)this.nodes[e].removeChild(this.nodes[e].lastChild);return this},val:function(e){if("undefined"!=typeof e){for(var t=0;t<this.length;t++)this.nodes[t].value=e;return this}return this.length<1?null:"select"===this.nodes[0].tagName?this.nodes[0].options[this.nodes[0].selectedIndex].value:this.nodes[0].value},scrollTop:function(e){return this.prop("scrollTop",e)},scrollBottom:function(e){for(var t=0;t<this.length;t++)this.nodes[t].scrollTop=this.nodes[t].scrollHeight-this.nodes[t].clientHeight-(e||0);return this},scrollLeft:function(e){return this.prop("scrollLeft",e)},on:function(e,t){e=e.split(" ");for(var n=0;n<this.length;n++)for(var r=0;r<e.length;r++)this.nodes[n].addEventListener?this.nodes[n].addEventListener(e[r],t):this.nodes[n].attachEvent("on"+e[r],function(){t.call(this.nodes[n])});return this},off:function(e,t){e=e.split(" ");for(var n=0;n<this.length;n++)for(var r=0;r<e.length;r++)this.nodes[n].removeEventListener?this.nodes[n].removeEventListener(e[r],t):this.nodes[n].detachEvent("on"+e[r],t);return this},trigger:function(e){e=e.split(" ");for(var t=0;t<e.length;t++){var n;window.CustomEvent?(n=new CustomEvent(e[t]),n.initCustomEvent(e[t],!0,!0,null)):(n=document.createEvent(e[t]),n.initEvent(e[t],!0,!0));for(var r=0;r<this.length;r++)this.nodes[r].dispatchEvent(n)}return this},one:function(e,t){return this.on(e,function n(e){var r=this;return $off(r,e.type,n),t.call(r,e)})},css:function(e,t){if("object"==typeof e){for(key in e)this.css(key,e[key]);return this}if(e=i(e),"undefined"!=typeof t){for(var n=0;n<this.length;n++)this.nodes[n].style[e]=t;return this}return this.length>0?getComputedStyle(this.nodes[0])[e]:null},addClass:function(e){e=e.split(" ");for(var t=0;t<this.length;t++)for(var n=0;n<e.length;n++)lQuery.node_fn.addClass(this.nodes[t],e[n]);return this},removeClass:function(e){e=e.split(" ");for(var t=0;t<this.length;t++)for(var n=0;n<e.length;n++)lQuery.node_fn.removeClass(this.nodes[t],e[n]);return this},hasClass:function(e){e=e.split(" ");for(var t=0;t<this.length;t++)for(var n=0;n<e.length;n++)if(!lQuery.node_fn.hasClass(this.nodes[t],e[n]))return!1;return this.length>0},toggleClass:function(e,t){if("undefined"!=typeof t)return t?this.addClass(e):this.removeClass(e);e=e.split(" ");for(var n=0;n<this.length;n++)for(var r=0;r<e.length;r++)lQuery.node_fn.hasClass(this.nodes[n],e[r])?lQuery.node_fn.removeClass(this.nodes[n],e[r]):lQuery.node_fn.addClass(this.nodes[n],e[r]);return this},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},toggle:function(){for(var e=0;e<this.length;e++)this.nodes[e].style.display="block"!==getComputedStyle(this.nodes[e]).display?"block":"none";return this},offset:function(){return this.length<1?null:lQuery.node_fn.offset(this.nodes[0])},offsetParent:function(){if(this.length<1)return null;for(var e=this.nodes[0].offsetParent||document.body;e&&!t.test(e.nodeName)&&"static"===getComputedStyle(e).position;)e=e.offsetParent;return e},position:function(){if(this.length<1)return null;var e=this.offsetParent(),n=this.offset(),r=t.test(e.nodeName)?{top:0,left:0}:lQuery.node_fn.offset(e);return n.top-=parseFloat(getComputedStyle(this.nodes[0])["margin-top"])||0,n.left-=parseFloat(getComputedStyle(this.nodes[0])["margin-left"])||0,r.top+=parseFloat(getComputedStyle(e)["border-top-width"])||0,r.left+=parseFloat(getComputedStyle(e)["border-left-width"])||0,{top:n.top-r.top,left:n.left-r.left}},width:function(){return this.prop("clientWidth")},height:function(){return this.prop("clientHeight")},outerWidth:function(){return this.prop("offsetWidth")},outerHeight:function(){return this.prop("offsetHeight")}}}(),window.lQuery=lQuery,window.$||(window.$=lQuery),window.$$||(window.$$=lQuery),lQuery.dom_ready(function(){$window=$(window),$document=$(document),$html=$(document.documentElement),$body=$(document.body)}),self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var o=i[e];if(2==arguments.length){r=arguments[1];for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o}var s={};for(var u in o)if(o.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);s[u]=o[u]}return t.languages.DFS(t.languages,function(t,n){n===i[e]&&t!=e&&(this[t]=s)}),i[e]=s},DFS:function(e,n,r){for(var i in e)e.hasOwnProperty(i)&&(n.call(e,i,e[i],r||i),"Object"===t.util.type(e[i])?t.languages.DFS(e[i],n):"Array"===t.util.type(e[i])&&t.languages.DFS(e[i],n,i))}},highlightAll:function(e,n){for(var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0,o;o=r[i++];)t.highlightElement(o,e===!0,n)},highlightElement:function(r,i,o){for(var a,s,u=r;u&&!e.test(u.className);)u=u.parentNode;if(u&&(a=(u.className.match(e)||[,""])[1],s=t.languages[a]),s){r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,u=r.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=r.textContent;if(c){var l={element:r,language:a,grammar:s,code:c};if(t.hooks.run("before-highlight",l),i&&self.Worker){var f=new Worker(t.filename);f.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data),a),t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(l.element),t.hooks.run("after-highlight",l)},f.postMessage(JSON.stringify({language:l.language,code:l.code}))}else l.highlightedCode=t.highlight(l.code,l.grammar,l.language),t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(r),t.hooks.run("after-highlight",l)}}},highlight:function(e,r,i){var o=t.tokenize(e,r);return n.stringify(t.util.encode(o),i)},tokenize:function(e,n,r){var i=t.Token,o=[e],a=n.rest;if(a){for(var s in a)n[s]=a[s];delete n.rest}e:for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var u=n[s];u="Array"===t.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var l=u[c],f=l.inside,d=!!l.lookbehind,h=0,p=l.alias;l=l.pattern||l;for(var g=0;g<o.length;g++){var m=o[g];if(o.length>e.length)break e;if(!(m instanceof i)){l.lastIndex=0;var v=l.exec(m);if(v){d&&(h=v[1].length);var y=v.index-1+h,v=v[0].slice(h),b=v.length,_=y+b,w=m.slice(0,y+1),C=m.slice(_+1),k=[g,1];w&&k.push(w);var x=new i(s,f?t.tokenize(v,f):v,p);k.push(x),C&&k.push(C),Array.prototype.splice.apply(o,k)}}}}}return o},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(r&&r.length)for(var i=0,o;o=r[i++];)o(n)}}},n=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(n.stringify=function(e,r,i){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return n.stringify(t,r,e)}).join("");var o={type:e.type,content:n.stringify(e.content,r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}t.hooks.run("wrap",o);var s="";for(var u in o.attributes)s+=u+'="'+(o.attributes[u]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.util.encode(t.tokenize(i,t.languages[r])))),self.close()},!1),self.Prism):self.Prism;var r=document.getElementsByTagName("script");return r=r[r.length-1],r&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),$.fn.autogrow=function(){var e=function(e){var t='<span id="test_span">'+e.val()+"</span>";$body.append(t);var n=$("#test_span");n.css({position:"absolute",left:-9999,top:-9999,"font-family":e.css("font-family"),"font-size":e.css("font-size"),"font-weight":e.css("font-weight"),"font-style":e.css("font-style")});var r=n.width();return n.remove(),r};return this.each(function(t){var n=$(t),r=n.data("default-width")||0,i=n.data("default-height")||0,o=n.is("input")?"input":"textarea",a="border-box"===n.css("box-sizing"),s=a?"input"===o?parseInt(n.css("border-left-width"))+parseInt(n.css("padding-left"))+parseInt(n.css("padding-right"))+parseInt(n.css("border-right-width")):"textarea"===o?parseInt(n.css("border-top-width"))+parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))+parseInt(n.css("border-bottom-width")):0:0;if("input"===o){var u=function(){var t=e(n),i=n.width();t>i?n.css("width",t+s+"px"):i>t&&n.css("width",Math.max(t,r)+s+"px")};u(),n.on("input change",u)}else if("textarea"===o){var c=function(){var e=n.height(),t=n.css("height","1px").get(0).scrollHeight-parseInt(n.css("padding-top"))-parseInt(n.css("padding-bottom"));t>e?n.css("height",t+s+"px"):e>t?n.css("height",Math.max(t,i)+s+"px"):n.css("height",e+s+"px")};c(),n.on("input change",c)}})},$.dom_ready(function(){$("input.autogrow, textarea.autogrow").autogrow()}),$.fn.bt_each=function(e,t){for(var n=0,r=this.size()-1,i=0,o=0,a=!1;r>=n;)if(i=0===o&&"number"==typeof t?t:Math.ceil((n+r)/2),a=e.call(this.get(i),this.get(i),i),o+=1,0>a)r=i-1;else{if(!(a>0))return i;n=i+1}return!1};var cookie={destroy:function(e){this.write(e,"",-31536e3,"/")},read:function(e){var t=new RegExp("(^|; )"+encodeURIComponent(e)+"=(.*?)($|;)"),n=document.cookie.match(t);return n?decodeURIComponent(n[2]):null},write:function(e,t,n,r,i,o){var a=new Date;return n&&"number"==typeof n?a.setTime(a.getTime()+1e3*n):n=null,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(n?"; expires="+a.toGMTString():"")+"; path="+(r?r:"/")+(i?"; domain="+i:"")+(o?"; secure":"")}};$.fn.form_ajax=function(){return this.each(function(e){var t=$(e);t.on("submit",function(e){e.preventDefault(),$.ajax({type:t.attr("method")||"POST",url:t.attr("action"),data:new FormData(t.get(0)),before:function(){t.loading(!0)},after:function(){t.loading(!1)},success:function(e){"string"==typeof e?"refresh"===e?(noty("Done! Refreshing the page..."),location.reload()):/^((\S*)?:\/\/)?\/?\S*$/.test(e)?e===window.location.href||e===window.location.pathname?(noty("Done! Refreshing the page..."),location.reload()):(noty("Done! Redirecting..."),location.assign(e)):-1!==e.indexOf("<")?(noty("Done! A page refresh may be needed to see the changes"),$body.append(e)):noty(e):noty("Done! A page refresh may be needed to see the changes")},error:function(e){"string"==typeof e?-1!==e.indexOf("<")?(noty("There was an error, please try again or report the problem"),$body.append(e)):noty(e):noty("There was an error, please try again or report the problem")}})})})},$.dom_ready(function(){$("form[data-ajax]").form_ajax()});var forms_synced_groups=[];$.fn.forms_sync=function(){return this.each(function(e){var t=$(e),n=t.data("sync-group");if(!_(forms_synced_groups).contains(n)){forms_synced_groups.push(n);var r=$('form[data-sync-group="'+n+'"]'),i=r.find("input, textarea, select");i.each(function(e){var t=$(e),n=t.attr("name"),i=t.is('[type="radio"], [type="checkbox"]'),o=i&&t.is('[type="radio"]'),a=t.is("input, textarea"),s=a?"input change":"change",u=t.parent("form"),c=r.not(u),l=c.find('[name="'+n+'"]');t.on(s,function(){var e=t.val(),n=!!t.checked();l.each(function(t){var r=$(t),a=r.val(),s=!!r.checked();if(o){if(e!==a||n===s)return}else if(e===a&&n===s)return;i?r.checked(n).trigger("change"):r.val(e).trigger("change")})})})}})},$.dom_ready(function(){$("form[data-sync-group]").forms_sync()});var one_time_action=function(e,t,n){if("cookie"===e){var r=cookie.read("ota"),i=r?r.split("|"):[];_(i).contains(t)||(i.push(t),r=i.join("|"),cookie.write("ota",r,31536e3),n())}else"url"===e&&$.ajax({type:"GET",url:t,success:function(e){"1"==e&&n()}})};$.fn.selectable=function(e){return e=_.merge({selector:"tbody tr",not_selector:".empty",selected_class:"selected"},e),this.each(function(t){var n=function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},r=function(){s=!1,u=!1,c=!1},i=function(){return o.find(e.selector).not(e.not_selector)},o=$(t),a=i(),s=!1,u=!1,c=!1;o.on("change sort",function(){a=i()});var l=function(t){t.ctrlKey&&(65==t.keyCode?(t.preventDefault(),r(),a.toggleClass(e.selected_class,!t.shiftKey)):73==t.keyCode&&(t.preventDefault(),r(),a.toggleClass(e.selected_class)))};o.on("mouseenter",function(){$document.on("keydown",l)}).on("mouseleave",function(){$document.off("keydown",l)});var f,d=function(e){0===e.button&&(f=$(this),$document.on("mousemove",h),f.on("mouseup",m))},h=function(t){t.ctrlKey&&($document.off("mousemove",h),f.off("mouseup",m),r(),s=f,f.toggleClass(e.selected_class),$html.addClass("dragging"),a.on("mouseenter",p),$document.on("mouseup",g))},p=function(t){var n=$(this),r=a.index(f),i=a.index(n),o=Math.min(r,i),s=Math.max(r,i);o==r&&(o+=1,s+=1);var u=a.slice(o,s);c?(u.not(c).toggleClass(e.selected_class),c.not(u).toggleClass(e.selected_class)):u.toggleClass(e.selected_class),c=u},g=function(e){a.off("mouseenter",p),$document.off("mouseup",g),c=!1,$html.removeClass("dragging")},m=function(t){if($document.off("mousemove",h),f.off("mouseup",m),t.shiftKey){var n=a.index(s),i=s?a.index(f):0,o=Math.min(n,i),c=Math.max(n,i);o==n&&(o+=1,c+=1);var l=a.slice(o,c);u?(l.not(u).toggleClass(e.selected_class),u.not(l).toggleClass(e.selected_class)):l.toggleClass(e.selected_class),u=l}else t.ctrlKey?(f.toggleClass(e.selected_class),r(),s=f):(a.removeClass(e.selected_class),f.addClass(e.selected_class),r(),s=f)};a.on("mousedown",d),o.on("mousedown mouseup",function(){$.defer(n)})})},$.dom_ready(function(){$("table.selectable").selectable()}),$.fn.sortable=function(e){var t=_.merge({"int":function(e,t){return parseInt(e,10)-parseInt(t,10)},"float":function(e,t){return parseFloat(e)-parseFloat(t)},string:function(e,t){return e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase(),e.localeCompare(t)}},e);return this.each(function(e){var n=function(e,n){var s=i.index(e),u=t[e.data("sort")];if(u){o.removeClass("asc desc"),e.addClass(n);var c=[],l=a.find("tr:not(.empty)");l.each(function(e){var t=$(e).find("td").eq(s),n=t.data("sort-value")||t.text();c.push([e,n])}),c.sort(function(e,t){return u(e[1],t[1])}),"desc"===n&&c.reverse();var f=a.get(0),d=r.get(0);d.removeChild(f);for(var h=0;h<c.length;h++)f.appendChild(c[h][0]);d.appendChild(f),r.trigger("sort")}},r=$(e),i=r.find("thead th"),o=i.filter("[data-sort]"),a=r.find("tbody"),s=!1,u=!1;r.on("change",function(){s&&n(s,u)}),o.each(function(e){var t=$(e);t.on("click",function(){u=s===t&&u&&"desc"!==u?"desc":"asc",s=t,n(s,u)})})})},$.dom_ready(function(){$("table.sortable").sortable()}),$.fn.table_helper=function(){var e=this,t=e.find("thead"),n=e.find("tbody"),r=t.find("th"),i=n.find("tr.empty"),o=r.size(),a={add:function(){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){var i=n.find("td.fillable");if(i.size()>0)i.first().html(t[r]||"").removeClass("fillable");else{if(arguments[0]&&1===$("#rid_"+arguments[0]).size())break;var a="<tr "+(arguments[0]?'id="rid_'+arguments[0]+'"':"")+">";a+="<td>"+(t[r]||"")+"</td>";for(var s=1;o>s;s++)a+='<td class="fillable"></td>';a+="</tr>",n.append(a)}}return this.check_empty(),e.trigger("change"),this},update:function(t){for(var n=Array.prototype.slice.call(arguments,1),r=$("#rid_"+t),i=r.find("td"),o=0;o<n.length;o++)"undefined"!=typeof n[o]&&n[o]!==!1&&i.eq(o).html(n[o]);return e.trigger("change"),this},remove:function(t){return $("#rid_"+t).remove(),this.check_empty(),e.trigger("change"),this},clear:function(){return n.find("tr:not(.empty)").remove(),this.check_empty(),e.trigger("change"),this},check_empty:function(){return i.toggleClass("hidden",n.find("tr:not(.empty)").size()>0),this}};return a.check_empty(),a},$.fn.timeago=function(e){return this.each(function(e){var t=$(e),n=t.data("timestamp"),r=function(e){setTimeout(function(){var e=get_time_ago(n);t.html(e.str),r(e.next)},1e3*e)};r(0)})},$.dom_ready(function(){$("[data-timestamp]").timeago()});var timer=function(e,t,n){return new timer_obj(e,t,n)},timer_obj=function(e,t,n){return this.set(e,t,n)};timer_obj.prototype={set:function(e,t,n){return this.init=!0,this.action=e,isNaN(t)||(this.intervalTime=t),n&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},once:function(e){var t=this;return isNaN(e)&&(e=0),window.setTimeout(function(){t.action()},e),this},play:function(e){return this.isActive||(e?this.setTimer():this.setTimer(this.remaining),this.isActive=!0),this},pause:function(){return this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},stop:function(){return this.isActive=!1,this.remaining=this.intervalTime,this.clearTimer(),this},toggle:function(e){return this.isActive?this.pause():e?this.play(!0):this.play(),this},reset:function(){return this.isActive=!1,this.play(!0),this},clearTimer:function(){window.clearTimeout(this.timeoutObject)},setTimer:function(e){var t=this;isNaN(e)&&(e=this.intervalTime),this.remaining=e,this.last=new Date,this.clearTimer(),this.timeoutObject=window.setTimeout(function(){t.go()},e)},go:function(){this.isActive&&(this.action(),this.setTimer())}},$.fn.touching=function(e){e=_.merge({start_index:!1,x:0,y:0},e);var t=!1;return this.bt_each(function(n){var r=$(n),i=r.offset();return x1=i.left,y1=i.top,e.y>=y1?e.y<=y1+r.height()?e.x>=x1?e.x<=x1+r.width()?(t=r,!1):1:-1:1:-1},e.start_index),t};var is_mobile=/iphone|ipad|android|ipod|opera mini|opera mobile|blackberry|iemobile|webos|windows phone|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),is_tablet=/ipad|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),get_event_pageXY=function(e){var t={pageX:0,pageY:0};return _.isUndefined(e.originalEvent)===!1&&(e=e.originalEvent),_.isUndefined(e.touches)===!1&&_.isUndefined(e.touches[0])===!1?(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY):_.isUndefined(e.changedTouches)===!1&&_.isUndefined(e.changedTouches[0])===!1?(t.pageX=e.changedTouches[0].pageX,t.pageY=e.changedTouches[0].pageY):_.isUndefined(e.pageX)===!1&&(t.pageX=e.pageX,t.pageY=e.pageY),t},str_repeat=function(e,t){if(1>t)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e},search_and_replace=function(e,t,n){return _(t).contains(e)&&(e=_.zipObject(t,n)[e]),e},fuzzy_match=function(e,t){for(var n=!0,r=-1,i=0;i<t.length;i++){var o=t[i];n=!1;for(var a=r+1;a<e.length;a++){var s=e[a];if(o.toLowerCase()==s.toLowerCase()){r=a,n=!0;break}}if(0==n)return!1}return!0},secs_timestamp=function(){return Math.round((new Date).getTime()/1e3)},msecs_timestamp=function(){return(new Date).getTime()},get_time_ago=function(e){var t=secs_timestamp(),n=t-e,r={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};if(5>n)return{str:"Just now",next:5-n};for(var i in r){var o=r[i];if(n/o>=1){var a=Math.floor(n/o);return{str:a>1?a+" "+i+"s ago":a+" "+i+" ago",next:o-(n-a*o)}}}},arguments_hash=function(){return _.flatten(arguments).join()};$.fn.accordion=function(){return this.each(function(e){var t=$(e),n=t.find(".accordion");n.each(function(e){var t=$(e),r=t.find(".header"),i=n.not(t),o=i.find(".header").not(r);r.on("click",function(){if(!t.hasClass("inactive")){var e=t.hasClass("active");t.toggleClass("active",!e),r.toggleClass("active",!e),i.removeClass("active"),o.removeClass("active")}})})})},$.dom_ready(function(){$(".accordions_wrp").accordion()}),$.fn.badge=function(e){return"string"==typeof e&&(e={title:e}),e=_.merge({title:!1,type:!1,style:!1},e),this.each(function(t){var n=$(t),r=n.find(".badge_wrp"),i=r.find(".badge"),o=e.title||n.data("badge"),a=e.type||n.data("badge-type")||"floating",s=e.style||n.data("badge-style")||"";o&&0!=o||(o=""),a||"inline"===a||"floating"===a||(a="inline"),0===i.size()&&(n.append('<div class="badge_wrp '+a+'"><div class="badge_subwrp"><div class="badge '+s+'"></div></div></div>'),r=n.find(".badge_wrp"),i=r.find(".badge")),r.hasClass(a)||r.toggleClass("inline floating"),s&&i.addClass(s),o&&i.html(o);var u=""!==o;u?(r.removeClass("hidden"),$.defer(function(){r.addClass("active")})):(r.removeClass("active"),$.defer(function(){r.addClass("hidden")},150))})},$.dom_ready(function(){$("[data-badge]").badge()}),$.fn.blur=function(e){return this.each(function(t){$(t).toggleClass("blur",e)})},$.fn.checkbox=function(){return this.each(function(e){var t=$(e),n=t.find("input"),r=function(){if(!t.hasClass("inactive")){var e=n.checked();n.checked(!e).trigger("change")}},i=function(){var e=n.checked();t.toggleClass("selected",e)},o=function(){n.checked()?t.addClass("selected"):t.hasClass("selected")&&n.checked(!0).trigger("change")};t.on("click",function(e){e.target!==n.get(0)&&r()}),n.on("change",i),o()})},$.dom_ready(function(){$(".checkbox").checkbox()});var dropdowns_assignments={};$.fn.dropdowns=function(e){return e=_.merge({callbacks:{before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){}}},e),this.each(function(t){var n=function(){a.hasClass("inactive")||(e.callbacks.before_open(),dropdowns_assignments[s]=a,a.addClass("active"),u.addClass("show"),i(),$.defer(function(){u.addClass("active")}),m=!0,e.callbacks.after_open())},r=function(){e.callbacks.before_close(),dropdowns_assignments[s]==a&&(u.removeClass("active"),$.defer(function(){u.removeClass("show")},150)),a.removeClass("top bottom left right active"),$window.off("click",v),m=!1,e.callbacks.after_close()},i=function(e){a.removeClass("top bottom left right"),u.removeClass("top bottom left right").toggleClass("no_tip",c);var t=$body.offset(),n=u.offset(),r=a.offset(),i=r.top+r.height/2,o=r.left+r.width/2,s=t.height-r.top-r.height,p=r.top,g=t.width-r.left-r.width,m=r.left,v=Math.min(t.width,n.width),y=Math.min(t.height,n.height),b={bottom:Math.min(s,n.height)*v,top:Math.min(p,n.height)*v,right:Math.min(g,n.width)*y,left:Math.min(m,n.width)*y},w=n.width*n.height,C=function(){if(c){if(g+r.width>=n.width)return r.left+"px";if(m+r.width>=n.width)return m+r.width-n.width+"px"}return Math.max(0,Math.min(t.width-n.width,o-n.width/2))+"px"},k=function(){if(c){if(s+r.height>=n.height)return r.top+"px";if(p+r.height>=n.height)return p+r.height-n.height+"px"}return Math.max(0,Math.min(t.height-n.height,i-n.height/2))+"px"},x=function(e){return"top"===e||"bottom"===e?"vertical":"horizontal"};if(e||_.forEach(b,function(t,n){return t>=w?(e=n,!1):void 0}),!e){var j=_.max(b);_.forEach(b,function(t,n){return t===j?(e=n,!1):void 0})}if(e){var N=x(e),T="horizontal"===N?k():!1,E="vertical"===N?C():!1;switch(e){case"bottom":T=t.height-s+"px";break;case"top":T=p-n.height+"px";break;case"right":E=t.width-g+"px";break;case"left":E=m-n.width+"px"}if(u.css({top:T,left:E}),a.addClass(e),u.addClass(e),!c)switch(n=u.offset(),e){case"bottom":f.css("left",o-n.left+"px");break;case"top":l.css("left",o-n.left+"px");break;case"right":h.css("top",i-n.top+"px");break;case"left":d.css("top",i-n.top+"px")}}},o=function(){m&&i()},a=$(t),s=a.data("dropdown"),u=$("#"+s),c=a.hasClass("no_tip")||u.hasClass("no_tip"),l=c?!1:u.find(".bottom_tip"),f=c?!1:u.find(".top_tip"),d=c?!1:u.find(".right_tip"),h=c?!1:u.find(".left_tip"),p=a.parents(),g=u.find(".button"),m=!1,v=function(e){var t=$(e.target).parents();t.contains(u)||r()};a.on("click",function(e){m?r():(n(),$.defer(function(){$window.on("click",v)}))}),g.on("click",r),$window.on("resize scroll",o),p.on("scroll",o)})},$.dom_ready(function(){$(".dropdown_trigger").dropdowns()}),$.fn.expander=function(){return this.each(function(e){var t=$(e),n=t.children(".header"),r=t.children(".content"),i=t.hasClass("active");n.on("click",function(){t.hasClass("inactive")||(i=!i,t.toggleClass("active",i),n.toggleClass("active",i))})})},$.dom_ready(function(){$(".expander").expander()}),$.fn.loading=function(e){return this.each(function(t){var n=$(t);e?(n.addClass("loading"),$.defer(function(){n.addClass("loading_active")})):(n.removeClass("loading_active"),$.defer(function(){n.removeClass("loading")},200))})};var $menu_btn=!1,$hamburger=!1,menu_init_events=function(){$menu_btn=$("#menu_btn"),$hamburger=$menu_btn.find(".layer"),$menu_btn.on("click",function(){$html.hasClass("sidebar_open")&&sidebar_toggle(!1);var e=$html.hasClass("menu_open");menu_toggle(!e)})},menu_toggle=function(e){$html.toggleClass("menu_open",e),$menu_btn.toggleClass("active",e),$hamburger.toggleClass("from_arrow",!e),$hamburger.toggleClass("to_arrow",e)};$.dom_ready(function(){menu_init_events()}),$.fn.modals=function(){return this.each(function(e){var t=$(e),n=t.data("modal"),r=$("#"+n),i=r.find(".closing"),o=function(){r.addClass("show"),$.defer(function(){r.addClass("active")}),$document.on("keydown",s)},a=function(){r.removeClass("active"),$.defer(function(){r.removeClass("show")},200),$document.off("keydown",s)},s=function(e){27==e.keyCode&&a()};t.on("click",o),i.on("click",a)})},$.dom_ready(function(){$(".modal_trigger").modals()});var $noty_queue=!1,noty_init=function(){$noty_queue=$("#noty_queue"),0===$noty_queue.size()&&($body.append('<div id="noty_queue"></div>'),$noty_queue=$("#noty_queue"))
},noty=function(e,t,n,r,i,o){noty_add($.get_uuid(),e,t,n,r,i,o)},noty_add=function(e,t,n,r,i,o,a){$noty_queue.prepend(noty_get_html(e,t,n,r,i,o));var s=$("#noty_wrp_"+e),u=$("#noty_"+e);if(i){u.append('<div class="multiple"></div>');var c=u.find(".multiple").last();_.forEach(i,function(t){c.append(noty_get_button_html(t));var n=c.find(".button").last();n.on("click",function(n){t.callback&&t.callback(n),noty_delete(e)})})}if(!i&&"forever"!==a){var l=timer(function(){noty_delete(e),l.stop()},a||3500);l.play(),u.on("mouseenter",function(){l.pause()}).on("mouseleave",function(){l.play()}),u.on("click",function(){noty_delete(e),l.stop()})}s.removeClass("hidden"),$.defer(function(){s.addClass("active")})},noty_get_html=function(e,t,n,r,i,o){return n="alert"===n||"success"===n||"error"===n||"action"===n?n:"alert",r=r||"black transparentize",o=o?'<div class="custom_content">'+o+"</div>":"",'<div id="noty_wrp_'+e+'" class="noty_wrp hidden"><div id="noty_'+e+'" class="noty '+n+" "+(i?"has_buttons":"no_buttons")+" "+r+'"><div class="msg">'+t+"</div>"+o+"</div></div>"},noty_get_button_html=function(e){return'<div class="button actionable white tiny '+(e.classes||"")+'">'+e.title+"</div>"},noty_delete=function(e){delete noty_queue[e];var t=$("#noty_wrp_"+e);t.removeClass("active"),$.defer(function(){t.remove()},200)};$.dom_ready(function(){noty_init()}),$.fn.progress_bar=function(e){return this.each(function(t){var n=$(t),r=n.find(".highlighted"),i=r.find(".label"),o=n.data("percentage");if(!n.hasClass("fixed")&&(null!==o||"undefined"!=typeof e)){var a="default"===e||"undefined"==typeof e?o/r.size():e/r.size();r.css("min-width",a+"%"),i.html(a+"%")}})},$.dom_ready(function(){$(".progress_bar").progress_bar()}),$.fn.radio=function(){return this.each(function(e){var t=$(e),n=t.find("input"),r=n.attr("name"),i=t.parent("form"),o=i.find('input[name="'+r+'"]'),a=o.parent(".radio"),s=function(){t.hasClass("inactive")||n.checked(!0).trigger("change")},u=function(){var e=n.checked();e&&(a.removeClass("selected"),t.addClass("selected"))},c=function(){n.checked()?t.addClass("selected"):t.hasClass("selected")&&n.checked(!0).trigger("change")};t.on("click",s),n.on("change",u),c()})},$.dom_ready(function(){$(".radio").radio()}),$.fn.selects=function(){return this.each(function(e){var t=function(){$body.append(n()),h=$("#dropdown-"+d),p=h.find(".container"),u.addClass("dropdown_trigger").data("dropdown","dropdown-"+d),u.dropdowns({callbacks:{before_open:i}}),g=h.find(".button"),o()},n=function(){return'<div id="dropdown-'+d+'" class="dropdown no_tip"><div class="container"><div class="multiple vertical">'+r(c)+"</div></div></div>"},r=function(e){var t="",n=!1;return e.is("option")?t+='<div class="button actionable outlined tiny" data-value="'+e.attr("value")+'">'+e.html()+"</div>":e.is("optgroup")?(t+='<div class="separator_wrp"><div class="separator">'+e.attr("label")+"</div></div>",n=e.children()):e.is("select")&&(n=e.children()),n&&n.size()>0&&n.each(function(e){var n=$(e);t+=r(n)}),t},i=function(){p.css("min-width",u.outerWidth()+"px")},o=function(){g.removeClass("active"),g.filter('[data-value="'+c.val()+'"]').addClass("active")},a=function(){var e=l.filter('[value="'+c.val()+'"]');f.html(e.html())},s=function(){is_mobile||o(),a()},u=$(e),c=u.find("select"),l=c.find("option"),f=u.find(".placeholder"),d=$.get_uuid(),h=!1,p=!1,g=!1;a(),is_mobile||(c.hide(),t(),g.on("click",function(){$button=$(this),c.val($button.data("value")).trigger("change")})),c.on("change",s)})},$.dom_ready(function(){$(".select").selects()});var $sidebar_btn=!1,sidebar_init_events=function(){$sidebar_btn=$("#sidebar_toggler"),$sidebar_btn.on("click",function(){$html.hasClass("menu_open")&&menu_toggle(!1);var e=$html.hasClass("sidebar_open");sidebar_toggle(!e)})},sidebar_toggle=function(e){$html.toggleClass("sidebar_open",e),$sidebar_btn.toggleClass("active",e)};$.dom_ready(function(){sidebar_init_events()}),$.fn.slider=function(){return this.each(function(e){var t=function(e){return Number(e).toFixed(b)},n=function(e){var t=e%C,n;return t>0?(n=t>=C/2?1:0,e=(Math.floor(e/C)+n)*C):0>t&&(n=-(C/2)>=t?-1:0,e=(Math.ceil(e/C)+n)*C),e},r=function(e){e=t(e);var n=100*(e-g)/(m-g)+"%";h.css("left",n),d.css("width",n),l.val(e).trigger("change"),p.html(e)},i=function(e){var t=x+e;t>=g&&m>=t&&(x=t,r(x))},o=function(e){if(e=n(e),0!=e){var t=x+e/w;if(t=Math.max(g,Math.min(m,t)),x!=t)return x=t,r(x),e}return!1},a=$(e),s=a.find(".slider"),u=s.find(".min"),c=s.find(".max"),l=s.find("input"),f=s.find(".unhighlighted"),d=s.find(".highlighted"),h=s.find(".handler"),p=h.find(".label"),g=s.data("min"),m=s.data("max"),v=s.data("start")||l.val()||0,y=s.data("step")||1,b=s.data("decimals")||0,_=f.width(),w=_/(m-g),C=y*w,k=h.width(),x=v;r(x),l.on("change",function(){var e=Number(l.val());e!=x&&(x=e,r(x))}),$window.on("resize",function(){_=f.width(),w=_/(m-g),C=y*w});var j=function(e){37==e.keyCode?i(-y):39==e.keyCode&&i(y)};s.on("mouseenter",function(){a.hasClass("inactive")||$document.on("keydown",j)}).on("mouseleave",function(){$document.off("keydown",j)}),u.on("click",function(){a.hasClass("inactive")||i(-y)}),c.on("click",function(){a.hasClass("inactive")||i(y)});var N,T,E=function(e){a.hasClass("inactive")||(N=get_event_pageXY(e),T=0,$html.addClass("dragging"),s.addClass("dragging"),$document.on("mousemove touchmove",A),$document.on("mouseup touchend",S))},A=function(e){var t=get_event_pageXY(e),n=t.pageX-N.pageX,r=n-T;Math.abs(r)>=1&&(moved=o(r),0!=moved&&Math.abs(r)>=1&&(T+=moved))},S=function(e){$html.removeClass("dragging"),s.removeClass("dragging"),$document.off("mousemove touchmove",A),$document.off("mouseup touchend",S)};h.on("mousedown touchstart",E);var M=function(e){if(!a.hasClass("inactive")&&!$(e.target).parents().contains(h)){var t=get_event_pageXY(e),n=t.pageX-(d.offset().left+d.width());o(n)}};f.on("click",M)})},$.dom_ready(function(){$(".slider_wrp").slider()}),$.fn.spinner=function(){return this.each(function(e){var t=function(e){return Number(e).toFixed(h)},n=function(e){e=t(e),o.val(e).trigger("change"),a.html(e),s.toggleClass("inactive",e==c),u.toggleClass("inactive",e==l)},r=function(e){var t=p+e;t>=c&&l>=t&&(p=t,n(p))},i=$(e),o=i.find("input"),a=i.find(".label"),s=i.find(".decrease"),u=i.find(".increase"),c=i.data("min"),l=i.data("max"),f=i.data("start")||o.val()||0,d=i.data("step")||1,h=i.data("decimals")||0,p=f;n(p),o.on("change",function(){var e=Number(o.val());e!=p&&(p=e,n(p))});var g=function(e){37==e.keyCode?r(-d):39==e.keyCode&&r(d)};i.on("mouseenter",function(){i.hasClass("inactive")||$document.on("keydown",g)}).on("mouseleave",function(){$document.off("keydown",g)}),s.on("click",function(){i.hasClass("inactive")||r(-d)}),u.on("click",function(){i.hasClass("inactive")||r(d)})})},$.dom_ready(function(){$(".spinner").spinner()}),$.fn.switcher=function(e){return this.each(function(e){var t=$(e),n=t.find(".bar"),r=t.find(".handler"),i=t.find(".icon"),o=t.find("input"),a=o.checked(),s=!1,u=_.merge({theme:{on:t.data("theme-on")||"secondary",off:t.data("theme-off")||"gray"},icons:{on:t.data("icon-on")||!1,off:t.data("icon-off")||!1}},u),c=function(e){r.css("left",e?"100%":0);var a=t.hasClass("inactive");n.toggleClass(u.theme.on,e&&!a),r.toggleClass(u.theme.on,e&&!a),n.toggleClass(u.theme.off,!e),r.toggleClass(u.theme.off,!e),u.icons.on&&i.toggleClass(u.icons.on,e),u.icons.off&&i.toggleClass(u.icons.off,!e),o.checked(e).trigger("change")},l=function(){a=!a,c(a)};c(a),o.on("change",function(){var e=o.checked();e!=a&&(a=e,c(a))});var f=function(e){37==e.keyCode?a!==!1&&(a=!1,c(a)):39==e.keyCode&&a!==!0&&(a=!0,c(a))};t.on("mouseenter",function(){t.hasClass("inactive")||$document.on("keydown",f)}).on("mouseleave",function(){$document.off("keydown",f)});var d=function(){s||t.hasClass("inactive")||l()};t.on("click",d);var h,p,g,m=function(e){t.hasClass("inactive")||(g=a?100:0,h=get_event_pageXY(e),p=n.width(),$html.addClass("dragging"),t.addClass("dragging"),$document.on("mousemove touchmove",v),$document.on("mouseup touchend",y))},v=function(e){s=!0;var t=get_event_pageXY(e),n=t.pageX-h.pageX,i=Math.max(-p,Math.min(Math.abs(n),p)),o=100*i/p,a=n>=0?g+o:g-o;r.css("left",Math.max(0,Math.min(100,a))+"%")},y=function(e){var i=get_event_pageXY(e),o=n.offset(),u=r.offset();a=u.left+u.width/2>=o.left+o.width/2,$html.removeClass("dragging"),t.removeClass("dragging"),$document.off("mousemove touchmove",v),$document.off("mouseup touchend",y),c(a),$.defer(function(){s=!1})};r.on("mousedown touchstart",m)})},$.dom_ready(function(){$(".switcher").switcher()}),$.fn.tabs=function(e){return this.each(function(e){var t=$(e),n=t.find(".tab"),r=t.find(".contab");n.each(function(e){var t=$(e),i=r.eq(n.index(t)),o=i.hasClass("to_bottom"),a=i.find(".top_section"),s=0!==a.size()?a:i;t.on("click",function(){t.hasClass("inactive")||t.hasClass("active")||(n.removeClass("active highlight"),r.removeClass("active"),t.addClass("active highlight"),i.addClass("active"),o&&s.scrollBottom(0))})})})},$.dom_ready(function(){$(".tabs_wrp").tabs()}),$.fn.tagbox=function(e){return e=_.merge({input:{default_width:"100",placeholder:"New tag...",theme:"transparent small"},tag:{min_length:3,theme:"outlined small"},forbidden:["<",">",";","`"],separator:",",sort:!1,append:!0},e),this.each(function(t){var n=function(){var t='<div id="tagbox_'+f+'" class="container transparent no-padding"><div class="multiple">'+r()+'<input value="" placeholder="'+e.input.placeholder+'" class="autogrow '+e.input.theme+'" data-default-width="'+e.input.default_width+'" /></div></div>';l.after(t).addClass("hidden")},r=function(){for(var t=l.val(),n=t.split(e.separator),r="",a=0;a<n.length;a++)n[a]=o(n[a]);e.sort&&n.sort();for(var a=0;a<n.length;a++)r+=i(n[a]);return r},i=function(t){return t=o(t),'<div class="tag button '+e.tag.theme+'"><div class="label">'+t+'</div><div class="sub right actionable close">x</div></div>'},o=function(e){return e.replace(/[\n\r\t]/g," ").replace(/\s+/g," ")},a=function(){p=d.find(".tag"),g=[],p.each(function(e){var t=$(e),n=t.find(".label");g.push(n.html())})},s=function(){l.val(g.join(e.separator))},u=function(t,n){if(t=o(t),t.length<e.tag.min_length)t.length>0&&noty("You cannot use tags shorter than 3 characters");else if(_(g).contains(t))noty("You cannot use duplicate tags");else{var r=i(t);if(0===p.size()||e.append)h.before(r);else{var u=g;u.push(t),u.sort();var c=u.indexOf(t);0>c-1?p.first().before(r):p.eq(c-1).after(r)}a(),s(),n===!0&&h.val("")}},c=function(e,t){var n=e.find(".label"),r=n.html();e.remove(),a(),s(),t===!0&&h.val(r)},l=$(t),f=$.get_uuid();n();var d=$("#tagbox_"+f),h=d.find("input"),p=!1,g=!1;h.autogrow(),a(),h.on("keydown",function(t){switch(t.keyCode){case 13:case 188:u(h.val(),!0),t.preventDefault(),t.stopImmediatePropagation();break;case 8:case 46:if(0===h.val().length&&p.size()>0){var n=p.last();c(n,!t.ctrlKey),t.preventDefault(),t.stopImmediatePropagation()}break;default:_(e.forbidden).contains(t.key)&&(noty("The character you entered is forbidden"),t.preventDefault(),t.stopImmediatePropagation())}}),h.on("paste",function(t){$.defer(function(){for(var t=h.val().split(e.separator),n=0;n<t.length;n++)u(t[n],!1);h.val("")})}),d.on("click",function(e){var t=$(e.target);if(t.is(".close ")){var n=t.parent();c(n)}}),d.on("click",function(e){h.get(0)===document.activeElement||$(e.target).is("input, .label")||h.get(0).focus()})})},$.dom_ready(function(){$("input.tagbox").tagbox()});
//# sourceMappingURL=./presto-min.js.map