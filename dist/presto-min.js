self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,e=self.Prism={util:{encode:function(t){return t instanceof i?new i(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},clone:function(t){var i=e.util.type(t);switch(i){case"Object":var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=e.util.clone(t[s]));return n;case"Array":return t.slice()}return t}},languages:{extend:function(t,i){var n=e.util.clone(e.languages[t]);for(var s in i)n[s]=i[s];return n},insertBefore:function(t,i,n,s){s=s||e.languages;var o=s[t];if(2==arguments.length){n=arguments[1];for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o}var r={};for(var h in o)if(o.hasOwnProperty(h)){if(h==i)for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a]);r[h]=o[h]}return e.languages.DFS(e.languages,function(e,i){i===s[t]&&e!=t&&(this[e]=r)}),s[t]=r},DFS:function(t,i,n){for(var s in t)t.hasOwnProperty(s)&&(i.call(t,s,t[s],n||s),"Object"===e.util.type(t[s])?e.languages.DFS(t[s],i):"Array"===e.util.type(t[s])&&e.languages.DFS(t[s],i,s))}},highlightAll:function(t,i){for(var n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),s=0,o;o=n[s++];)e.highlightElement(o,t===!0,i)},highlightElement:function(n,s,o){for(var a,r,h=n;h&&!t.test(h.className);)h=h.parentNode;if(h&&(a=(h.className.match(t)||[,""])[1],r=e.languages[a]),r){n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,h=n.parentNode,/pre/i.test(h.nodeName)&&(h.className=h.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var d=n.textContent;if(d){var l={element:n,language:a,grammar:r,code:d};if(e.hooks.run("before-highlight",l),s&&self.Worker){var c=new Worker(e.filename);c.onmessage=function(t){l.highlightedCode=i.stringify(JSON.parse(t.data),a),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(l.element),e.hooks.run("after-highlight",l)},c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else l.highlightedCode=e.highlight(l.code,l.grammar,l.language),e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(n),e.hooks.run("after-highlight",l)}}},highlight:function(t,n,s){var o=e.tokenize(t,n);return i.stringify(e.util.encode(o),s)},tokenize:function(t,i,n){var s=e.Token,o=[t],a=i.rest;if(a){for(var r in a)i[r]=a[r];delete i.rest}t:for(var r in i)if(i.hasOwnProperty(r)&&i[r]){var h=i[r];h="Array"===e.util.type(h)?h:[h];for(var d=0;d<h.length;++d){var l=h[d],c=l.inside,u=!!l.lookbehind,_=0,p=l.alias;l=l.pattern||l;for(var g=0;g<o.length;g++){var f=o[g];if(o.length>t.length)break t;if(!(f instanceof s)){l.lastIndex=0;var m=l.exec(f);if(m){u&&(_=m[1].length);var v=m.index-1+_,m=m[0].slice(_),w=m.length,b=v+w,y=f.slice(0,v+1),k=f.slice(b+1),C=[g,1];y&&C.push(y);var x=new s(r,c?e.tokenize(m,c):m,p);C.push(x),k&&C.push(k),Array.prototype.splice.apply(o,C)}}}}}return o},hooks:{all:{},add:function(t,i){var n=e.hooks.all;n[t]=n[t]||[],n[t].push(i)},run:function(t,i){var n=e.hooks.all[t];if(n&&n.length)for(var s=0,o;o=n[s++];)o(i)}}},i=e.Token=function(t,e,i){this.type=t,this.content=e,this.alias=i};if(i.stringify=function(t,n,s){if("string"==typeof t)return t;if("[object Array]"==Object.prototype.toString.call(t))return t.map(function(e){return i.stringify(e,n,t)}).join("");var o={type:t.type,content:i.stringify(t.content,n,s),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:s};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var a="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,a)}e.hooks.run("wrap",o);var r="";for(var h in o.attributes)r+=h+'="'+(o.attributes[h]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+r+">"+o.content+"</"+o.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(t){var i=JSON.parse(t.data),n=i.language,s=i.code;self.postMessage(JSON.stringify(e.util.encode(e.tokenize(s,e.languages[n])))),self.close()},!1),self.Prism):self.Prism;var n=document.getElementsByTagName("script");return n=n[n.length-1],n&&(e.filename=n.src,document.addEventListener&&!n.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",e.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}}),function($,t,e,i){$.factory=function(t,e,n){if("object"==typeof e)"function"==typeof n?n={call:n}:"object"!=typeof n&&(n=e,e=n.options||{});else{if("function"!=typeof e)return;n={call:e},e={}}"function"!=typeof n.hook&&(n.hook=function(t){"function"==typeof this.options[t]&&this.options[t].apply(this,arguments.slice(1))});var s=function(e,i){return this.node=e,this.$node=$(e),this.metaoptions=this.$node.data(t+"-options"),this.options=$.extend({},$.fn[t].options,i,this.metaoptions),this.defaults=$.fn[t].options,this.uuid=_.uniqueId(),this};s.prototype=n,$.fn[t]=function(e){for(var n,o,a,r=0,h=this.length;h>r;r++)if(n=$.data(this.nodes[r],"instance-"+t),n===i&&(n=new s(this.nodes[r],e),$.data(this.nodes[r],"instance-"+t,n),"function"==typeof n.init&&n.init(),"function"==typeof n.options.onInit&&n.options.onInit.apply(n)),n instanceof s){if("instance"===e)return n;if("destroy"===e)$.data(this.nodes[r],"instance-"+t,null),"function"==typeof n.destroy&&n.destroy(),"function"==typeof n.options.onDestroy&&n.options.onDestroy.apply(n);else if("option"===e){if("string"==typeof arguments[1]){if(arguments[2]===i)return n.options[arguments[1]];n.options[arguments[1]]=arguments[2]}}else"function"==typeof n[e]&&"_"!==e[0]&&"init"!==e&&"call"!==option&&"ready"!==e&&"hook"!==e?("function"==typeof n.call&&n.call.apply(n,arguments),"function"==typeof n.options.onCall&&n.options.onCall.apply(n,arguments),a=n[e].apply(n,arguments.slice(1)),o===i&&(o=a)):"function"==typeof n.call&&(a=n.call.apply(n,arguments),o===i&&(o=a),"function"==typeof n.options.onCall&&n.options.onCall.apply(n,arguments))}return o===i?this:o},$.fn[t].options=e,"function"==typeof n.ready&&$.ready(n.ready)}}(lQuery,window,document),function($,t,e,i){$.factory("autogrow",{default_width:0,default_height:0,onUpdate:$.noop},{init:function(){this.is_border_box="border-box"===this.$ele.css("box-sizing"),this.is_input=this.$ele.is("input"),this.is_textarea=this.$ele.is("textarea"),this.is_input?this._init_input():this.is_textarea&&this._init_textarea()},ready:function(){$("input.autogrow, textarea.autogrow").autogrow()},_init_input:function(){this.extra_pxs=this.is_border_box?parseFloat(this.$node.css("border-left-width"))+parseFloat(this.$node.css("padding-left"))+parseFloat(this.$node.css("padding-right"))+parseFloat(this.$node.css("border-right-width")):0,this._update_input_width(),this.$ele.on("input change",this._update_input_width)},_update_input_width:function(){var t=this._get_input_needed_width(this.$node),e=this.$node.width();t>e?this.$node.width(t+this.extra_pxs):e>t&&this.$node.width(Math.max(t,this.options.default_width)+this.extra_pxs),this.hook("onUpdate")},_get_input_needed_width:function(){var t="span_"+$.getUID();$body.append('<span id="'+t+'">'+this.$node.val()+"</span>");var e=$("#"+t);e.css({position:"absolute",left:-9999,top:-9999,"font-family":this.$node.css("font-family"),"font-size":this.$node.css("font-size"),"font-weight":this.$node.css("font-weight"),"font-style":this.$node.css("font-style")});var i=e.width();return e.remove(),i},_init_textarea:function(){this.extra_pxs=this.is_border_box?parseFloat(this.$node.css("border-top-width"))+parseFloat(this.$node.css("padding-top"))+parseFloat(this.$node.css("padding-bottom"))+parseFloat(this.$node.css("border-bottom-width")):0,this._update_textarea_height(),this.$ele.on("input change",this._update_textarea_height)},_update_textarea_height:function(){var t=this.$node.height(),e=this.$node.height(1).get(0).scrollHeight-parseFloat(this.$node.css("padding-top"))-parseFloat(this.$node.css("padding-bottom"));this.$node.height(e>t?e+this.extra_pxs:t>e?Math.max(e,this.options.default_height)+this.extra_pxs:t+this.extra_pxs),this.hook("onUpdate")},update:function(){this.is_input?this._update_input_width():this.is_textarea&&this._update_textarea_height()}})}(lQuery,window,document),function($,t,e,i){$.browser={is_mobile:/iphone|ipad|android|ipod|opera mini|opera mobile|blackberry|iemobile|webos|windows phone|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),is_tablet:/ipad|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())}}(lQuery,window,document),function($,t,e,i){$.cookie={destroy:function(t){this.write(t,"",-31536e3,"/")},read:function(t){var i=new RegExp("(^|; )"+encodeURIComponent(t)+"=(.*?)($|;)"),n=e.cookie.match(i);return n?decodeURIComponent(n[2]):null},write:function(t,i,n,s,o,a){var r=new Date;return n&&"number"==typeof n?r.setTime(r.getTime()+1e3*n):n=null,e.cookie=encodeURIComponent(t)+"="+encodeURIComponent(i)+(n?"; expires="+r.toGMTString():"")+"; path="+(s?s:"/")+(o?"; domain="+o:"")+(a?"; secure":""),e.cookie}}}(lQuery,window,document),function($,t,e,i){$.factory("formAjax",{init:function(){var e=this.$node;e.on("submit",function(i){i.preventDefault(),$.ajax({type:e.attr("method")||"POST",url:e.attr("action"),data:new FormData(e.get(0)),before:function(){e.loading(!0)},after:function(){e.loading(!1)},success:function(e){"string"==typeof e?"refresh"===e?($.noty("Done! Refreshing the page..."),location.reload()):/^((\S*)?:\/\/)?\/?\S*$/.test(e)?e===t.location.href||e===t.location.pathname?($.noty("Done! Refreshing the page..."),location.reload()):($.noty("Done! Redirecting..."),location.assign(e)):"<"===e[0]?($.noty("Done! A page refresh may be needed to see the changes"),$body.append(e)):$.noty(e):noty("Done! A page refresh may be needed to see the changes")},error:function(t){"string"==typeof t?"<"===t[0]?($.noty("There was an error, please try again or report the problem"),$body.append(t)):$.noty(t):$.noty("There was an error, please try again or report the problem")}})})},ready:function(){$("form.ajax").formAjax()}})}(lQuery,window,document),function($,t,e,i){var n=[];$.factory("formSync",{init:function(){var t=this.$node,e=t.data("sync-group");if(-1===n.indexOf(e)){n.push(e);var i=$('form[data-sync-group="'+e+'"]'),s=i.find("input, textarea, select");s.each(function(){var t=this,e=t.attr("name"),n=t.is('[type="radio"], [type="checkbox"]'),s=n&&t.is('[type="radio"]'),o=t.is("input, textarea"),a=o?"input change":"change",r=t.parent("form"),h=i.not(r),d=h.find('[name="'+e+'"]');t.on(a,function(){var e=t.val(),i=!!t.prop("checked");d.each(function(){var t=this,o=t.val(),a=!!t.prop("checked");if(s){if(e!==o||i===a)return}else if(e===o&&i===a)return;n?t.prop("checked",i).trigger("change"):t.val(e).trigger("change")})})})}},ready:function(){$("form[data-sync-group]").formSync()}})}(lQuery,window,document),function($,t,e,i){$.notification=function(e,i){var n={title:!1,body:!1,img:!1};$.extend(n,e),t.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(t){if("granted"===t){var e=new Notification(n.title,{body:n.body,icon:n.img});i&&$.noty(n)}else $.noty(n)}):$.noty(n)}}(lQuery,window,document),function($,t,e,i){$.oneTimeAction=function(t,e,i){if("cookie"===t){var n=$.cookie.read("ota"),s=n?n.split("|"):[];-1===s.indexOf(e)&&(s.push(e),n=s.join("|"),$.cookie.write("ota",n,31536e3),i())}else"url"===t&&$.ajax({type:"GET",url:e,success:function(t){(1===t||"1"===t)&&i()}})}}(lQuery,window,document),function($,t,e,i){$.factory("selectable",{selector:"tbody tr",not_selector:".empty",selected_class:"selected"},{_clear_selection:function(){e.selection?e.selection.empty():t.getSelection&&t.getSelection().removeAllRanges()},_reset_vars:function(){this.$prev_row=!1,this.$prev_shifted=!1,this.$prev_dragged=!1},_get_rows:function(){return this.$node.find(this.options.selector).not(this.options.not_selector)},init:function(){this.$rows=this._get_rows(),this.$start_row=!1,this.$end_row=!1,this.$prev_row=!1,this.$prev_shifted=!1,this.$prev_dragged=!1,this._bind_keys(),this._bind_mouse(),this._bind_others()},ready:function(){$("table.selectable").selectable()},_bind_keys:function(){this.$node.on("mouseenter",function(){$document.on("keydown",this._handler_keys)}).on("mouseleave",function(){$document.off("keydown",this._handler_keys)})},_handler_keys:function(t){t.ctrlKey&&(65===t.keyCode?(t.preventDefault(),this._reset_vars(),this.$rows.toggleClass(this.options.selected_class,!t.shiftKey)):73===t.keyCode&&(t.preventDefault(),this._reset_vars(),this.$rows.toggleClass(this.options.selected_class)))},_bind_mouse:function(){this.$rows.on("mousedown",this._handler_mousedown)},_handler_mousedown:function(t){0===t.button&&(this.$start_row=$(this),$document.mousemove(this._handler_mousemove),this.$start_row.mouseup(this._handler_mouseup))},_handler_mousemove:function(t){t.ctrlKey&&($document.off("mousemove",this._handler_mousemove),this.$start_row.off("mouseup",this._handler_mouseup),this._reset_vars(),this.$prev_row=this.$start_row,this.$start_row.toggleClass(this.options.selected_class),$html.addClass("dragging"),this.$rows.on("mouseenter",this._handler_drag_mouseenter),$document.on("mouseup",this._handler_drag_mouseup))},_handler_drag_mouseenter:function(t){this.$end_row=$(this);var e=this.$rows.index(this.$start_row),i=this.$rows.index(this.$end_row),n=Math.min(e,i),s=Math.max(e,i);n===e&&(n+=1,s+=1);var o=this.$rows.slice(n,s);this.$prev_dragged?(o.not(this.$prev_dragged).toggleClass(this.options.selected_class),this.$prev_dragged.not(o).toggleClass(this.options.selected_class)):o.toggleClass(this.options.selected_class),this.$prev_dragged=o},_handler_drag_mouseup:function(t){this.$rows.off("mouseenter",this._handler_drag_mouseenter),$document.off("mouseup",this._handler_drag_mouseup),this.$prev_dragged=!1,$html.removeClass("dragging")},_handler_mouseup:function(t){if($document.off("mousemove",this._handler_mousemove),this.$start_row.off("mouseup",this._handler_mouseup),t.shiftKey){var e=this.$rows.index(this.$prev_row),i=this.$prev_row?this.$rows.index(this.$start_row):0,n=Math.min(e,i),s=Math.max(e,i);n===e&&(n+=1,s+=1);var o=this.$rows.slice(n,s);this.$prev_shifted?(o.not(this.$prev_shifted).toggleClass(this.options.selected_class),this.$prev_shifted.not(o).toggleClass(this.options.selected_class)):o.toggleClass(this.options.selected_class),this.$prev_shifted=o}else t.ctrlKey?(this.$start_row.toggleClass(this.options.selected_class),this._reset_vars(),this.$prev_row=$start_row):(this.$rows.removeClass(this.options.selected_class),this.$start_row.addClass(this.options.selected_class),this._reset_vars(),this.$prev_row=this.$start_row)},_bind_others:function(){this.$node.on("change sort",this._handler_change_sort),this.$node.on("mousedown mouseup",this._handler_clear_selection)},_handler_change_sort:function(){this.$rows=_get_rows()},_handler_clear_selection:function(){$.defer(this._clear_selection)}})}(lQuery,window,document),function($,t,e,i){$.factory("sortable",{sorters:{"int":function(t,e){return parseInt(t,10)-parseInt(e,10)},"float":function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase(),t.localeCompare(e)}}},{init:function(){this.$headers=this.$node.find("thead th"),this.$sortables=this.$headers.filter("[data-sort]"),this.$tbody=this.$node.find("tbody"),this.$current_sortable=!1,this.current_direction=!1,this._bind_change(),this._bind_click()},ready:function(){$("table.sortable").sortable()},_bind_change:function(){this.$node.on("change",this._handler_change)},_handler_change:function(t){this.$current_sortable&&this._sort(this.$current_sortable,this.current_direction)},_bind_click:function(){this.$sortables.on("click",this._handler_click)},_handler_click:function(t){var e=$(this);this.current_direction=this.$current_sortable===e&&this.current_direction&&"desc"!==current_direction?"desc":"asc",this.$current_sortable=e,_sort(this.$current_sortable,this.current_direction)}})}(lQuery,window,document),function($,t,e,i){$.factory("tableHelper",{init:function(){this.$thead=this.$node.find("thead"),this.$tfoot=this.$node.find("tfoot"),this.$tbody=this.$node.find("tbody"),this.$headers=this.$thead.find("th"),this.$empty_row=this.$tbody.find("tr.empty"),this.columns_nr=this.$headers.length,this._check_empty()},ready:function(){$("table").tableHelper()},_check_empty:function(){this.$empty_row.toggleClass("hidden",this.$tbody.find("tr:not(.empty)").length>0)},add:function(){for(var t=Array.prototype.slice.call(arguments,1),e=0;e<t.length;e++){var i=this.$tbody.find("td.fillable");if(i.length>0)i.first().html(t[e]||"").removeClass("fillable");else{if(arguments[0]&&1===$("#rid_"+this.uuid+"_"+arguments[0]).length)break;var n="<tr "+(arguments[0]?'id="rid_'+this.uuid+"_"+arguments[0]+'"':"")+">";n+="<td>"+(t[e]||"")+"</td>";for(var s=1;s<this.columns_nr;s++)n+='<td class="fillable"></td>';n+="</tr>",this.$tbody.append(n)}}return this._check_empty(),this.$node.trigger("change"),this},update:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=$("#rid_"+this.uuid+"_"+t),n=i.find("td"),s=0;s<e.length;s++)_.isUndefined(e[s])||e[s]===!1||n.eq(s).html(e[s]);return this.$node.trigger("change"),this},remove:function(t){return $("#rid_"+this.uuid+"_"+t).remove(),this._check_empty(),this.$node.trigger("change"),this},clear:function(){return this.$tbody.find("tr:not(.empty)").remove(),this._check_empty(),this.$node.trigger("change"),this}})}(lQuery,window,document),function($,t,e,i){$.timer=function(t,e,i){return new n(t,e,i)};var n=function(t,e,i){return this.set(t,e,i)};n.prototype={set:function(t,e,i){return this.init=!0,this.action=t,isNaN(e)||(this.intervalTime=e),i&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},once:function(t){var e=this;return isNaN(t)&&(t=0),setTimeout(function(){e.action()},t),this},play:function(t){return this.isActive||(console.log("playing..."),console.log(this),t?this.setTimer():this.setTimer(this.remaining_time),console.log("resetted..."),this.isActive=!0),this},pause:function(){return this.isActive&&(this.isActive=!1,this.remaining_time-=new Date-this.last,this.clearTimer()),this},stop:function(){return this.isActive=!1,this.remaining_time=this.intervalTime,this.clearTimer(),this},toggle:function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},reset:function(){return this.isActive=!1,this.play(!0),this},clearTimer:function(){console.log("clearing timer"),console.log(this.timeoutObject),clearTimeout(this.timeoutObject)},setTimer:function(t){var e=this;isNaN(t)&&(t=this.intervalTime),this.remaining_time=t,this.last=new Date,this.clearTimer(),console.log("setting timer"),console.log(this.go),this.timeoutObject=setTimeout(function(){e.go()},t),console.log("timer setted"),console.log(this.timeoutObject)},go:function(){console.log("go called"),console.log(this),console.log(this.isActive),this.isActive&&(this.action(),this.setTimer())},remaining:function(t){return _.isUndefined(t)?this.remaining_time:(this.remaining_time=t,this)}}}(lQuery,window,document),function($,t,e,i){$.factory("toggleHeight",{init:function(){this.speed=1e3*parseFloat(this.$node.css("transition-duration")),this.$node.height(this.$node.height())},call:function(t){this._toggle(t)},_is_visible:function(){return 0!==this.$node.height()},_get_actual_height:function(){var t=this.$node.attr("style")||"";this.$node.css("css-text",t+"display:block;position:absolute;top:-99999px;height:auto;");var e=this.$node.height();return this.$node.css("css-text",t),e},_toggle:function(t){if(this._is_visible()||t===!1)this.$node.defer(function(){this.height(0)}),this.$node.defer(function(){this.toggle(!1)},this.speed||0);else{this.$node.toggle(!0);var e=this._get_actual_height();this.$node.defer(function(){this.height(e)}),this.$node.defer(function(){this.height("auto")},this.speed)}}})}(lQuery,window,document),function($,t,e,i){$.factory("touching",{start_index:!1,x:0,y:0},function(){var t=this.options,e=!1;return this.bt_each(function(){var i=$(this),n=i.offset(),s=n.left,o=n.top;return t.y>=o?t.y<=o+i.height()?t.x>=s?t.x<=s+i.width()?(e=i,!1):1:-1:1:-1},this.options.start_index),e})}(lQuery,window,document),function($,t,e,i){$.factory("accordion",{init:function(){this.$accordions=this.$node.find(".accordion");for(var t=0,e=this.$accordions.length;e>t;t++)this._init_accordion(this.$accordions.nodes[t])},ready:function(){$(".accordions_wrp").accordion()},_init_accordion:function(t){var e=$(t),i=e.find(".header"),n=this.$accordions.not(e),s=n.find(".header").not(i);i.on("click",function(){if(!e.hasClass("inactive")){var t=e.hasClass("active");e.toggleClass("active",!t),i.toggleClass("active",!t),n.removeClass("active"),s.removeClass("active")}})}})}(lQuery,window,document),function($,t,e,i){$.factory("badge",{title:!1,type:!1,style:!1},{init:function(){this.$badge_wrp=this.$node.find(".badge_wrp"),this.$badge=this.$badge_wrp.find(".badge"),this.options.title=this.options.title||$ele.data("badge"),this.options.type=this.options.type||$ele.data("badge-type")||"floating",this.options.style=this.options.style||$ele.data("badge-style")||"",this.options.title&&0!==this.options.title&&"0"!==this.options.title||(this.options.title=""),this.options.type||"inline"===this.options.type||"floating"===this.options.type||(this.options.type="inline"),0===this.$badge.length&&(this.$node.append('<div class="badge_wrp '+this.options.type+'"><div class="badge_subwrp"><div class="badge '+this.options.style+'"></div></div></div>'),this.options.$badge_wrp=this.$node.find(".badge_wrp"),this.options.$badge=this.$badge_wrp.find(".badge")),this.$badge_wrp.hasClass(this.options.type)||this.$badge_wrp.toggleClass("inline floating"),this.options.style&&this.$badge.addClass(this.options.style),this.options.title&&this.$badge.html(this.options.title);var t=""!==this.options.title;t?(this.$badge_wrp.removeClass("hidden"),this.$badge_wrp.defer(function(){this.addClass("active")})):(this.$badge_wrp.removeClass("active"),this.$badge_wrp.defer(function(){this.addClass("hidden")},150))},call:function(t){"string"==typeof t&&(this.options.title=t)},ready:function(){$("[data-badge]").badge()}})}(lQuery,window,document),function($,t,e,i){$.factory("blur",function(t){return this.toggleClass("blur",t)})}(lQuery,window,document),function($,t,e,i){$.factory("checkbox",{init:function(){this.$input=this.$node.find("input"),this.$input.prop("checked")?this.$node.addClass("selected"):this.$node.hasClass("selected")&&this.$input.prop("checked",!0).trigger("change"),this._bind_click(),this._bind_change()},ready:function(){$(".checkbox").checkbox()},_bind_click:function(){this.$node.on("click",this._handler_click)},_handler_click:function(t){t.target!==this.$input.get(0)&&this.toggle()},_bind_change:function(){this.$node.on("change",this.update())},update:function(){var t=this.$input.prop("checked");this.$node.toggleClass("selected",t)},toggle:function(){if(!this.$node.hasClass("inactive")){var t=this.$input.prop("checked");this.$input.prop("checked",!t).trigger("change")}}})}(lQuery,window,document),function($,t,e,i){var n={};$.factory("dropdown",{beforeOpen:$.noop,afterOpen:$.noop,beforeClose:$.noop,afterClose:$.noop},{init:function(){this.dropdown_id=this.$node.data("dropdown"),this.$dropdown=$("#"+dropdown_id),this.no_tip=this.$node.hasClass("no_tip")||this.$dropdown.hasClass("no_tip"),this.$bottom_tip=this.no_tip?!1:this.$dropdown.find(".bottom_tip"),this.$top_tip=this.no_tip?!1:this.$dropdown.find(".top_tip"),this.$right_tip=this.no_tip?!1:this.$dropdown.find(".right_tip"),this.$left_tip=this.no_tip?!1:this.$dropdown.find(".left_tip"),this.$btn_parents=this.$node.parents(),this.$buttons=this.$dropdown.find(".button"),this.opened=!1,this.$node.on("click",this._handler_btn_click),this.$buttons.on("click",this.close),$window.on("resize scroll",this.update),this.$btn_parents.on("scroll",this.update)},ready:function(){$(".dropdown_trigger").dropdown()},_handler_window_click:function(t){var e=$(t.target).parents();-1===e.index(this.$dropdown)&&this.close()},_handler_btn_click:function(){this.opened?this.close():(this.open(),$.defer(function(){$window.on("click",_handler_window_click)}))},open:function(){this.$node.hasClass("inactive")||(this.hook("beforeOpen"),n[dropdown_id]=this.$node,this.$node.addClass("active"),this.$dropdown.addClass("show"),this.positionate(),this.$dropdown.defer(function(){this.addClass("active")}),this.opened=!0,this.hook("afterOpen"))},close:function(){this.hook("beforeClose"),n[dropdown_id]===this.$node&&(this.$dropdown.removeClass("active"),this.$dropdown.defer(function(){this.removeClass("show")},150)),this.$node.removeClass("top bottom left right active"),$window.off("click",this._handler_window_click),this.opened=!1,this.hook("afterClose")},positionate:function(){this.$node.removeClass("top bottom left right"),this.$dropdown.removeClass("top bottom left right").toggleClass("no_tip",this.no_tip);var t=$body.offset(),e=this.$dropdown.offset(),i=this.$node.offset(),n=i.top+i.height/2,s=i.left+i.width/2,o=t.height-i.top-i.height,a=i.top,r=t.width-i.left-i.width,h=i.left;console.log(a),console.log(r),console.log(o),console.log(h);var d=Math.min(t.width,e.width),l=Math.min(t.height,e.height),c={bottom:Math.min(o,e.height)*d,top:Math.min(a,e.height)*d,right:Math.min(r,e.width)*l,left:Math.min(h,e.width)*l},u=e.width*e.height,_=function(){if(this.no_tip){if(r+i.width>=e.width)return i.left+"px";if(h+i.width>=e.width)return h+i.width-e.width+"px"}return Math.max(0,Math.min(t.width-e.width,s-e.width/2))+"px"},p=function(){if(this.no_tip){if(o+i.height>=e.height)return i.top+"px";if(a+i.height>=e.height)return a+i.height-e.height+"px"}return Math.max(0,Math.min(t.height-e.height,n-e.height/2))+"px"},g=function(t){return"top"===t||"bottom"===t?"vertical":"horizontal"};if(!direction)for(var f in c)if(c[f]>=u){direction=f;break}if(!direction){var m;for(var f in c)c[f]>m&&(m=c[f]);for(var f in c)if(c[f]===m){direction=f;break}}if(direction){var v=g(direction),w="horizontal"===v?p():!1,b="vertical"===v?_():!1;switch(direction){case"bottom":w=t.height-o+"px";break;case"top":w=a-e.height+"px";break;case"right":b=t.width-r+"px";break;case"left":b=h-e.width+"px"}if(this.$dropdown.css({top:w,left:b}),this.$node.addClass(direction),this.$dropdown.addClass(direction),!this.no_tip)switch(e=this.$dropdown.offset(),direction){case"bottom":this.$top_tip.css("left",s-e.left+"px");break;case"top":this.$bottom_tip.css("left",s-e.left+"px");break;case"right":this.$left_tip.css("top",n-e.top+"px");break;case"left":this.$right_tip.css("top",n-e.top+"px")}}},update:function(){this.opened&&this.positionate()}})}(lQuery,window,document),function($,t,e,i){$.factory("expander",{init:function(){this.$header=this.$node.children(".header"),this.$content_wrp=this.$node.children(".content"),this.opened=this.$node.hasClass("active"),this._bind_click()},ready:function(){$(".expander").expander()},_bind_click:function(){this.$header.on("click",this._handler_click)},_handler_click:function(t){if(!this.$node.hasClass("inactive")){this.opened=!this.opened;var e;this.$node.defer(function(){this.toggleClass("active",e)}),this.$header.defer(function(){this.toggleClass("active",e)}),this.$content_wrp.toggleHeight(this.opened)}}})}(lQuery,window,document),function($,t,e,i){$.factory("loading",function(t){t?this.$node.addClass("loading").defer(function(){this.addClass("loading_active")}):this.$node.removeClass("loading_active").defer(function(){this.removeClass("loading")},200)})}(lQuery,window,document);var $menu_btn=!1,$hamburger=!1,menu_init_events=function(){$menu_btn=$("#menu_btn"),$hamburger=$menu_btn.find(".layer"),$menu_btn.on("click",function(){$html.hasClass("sidebar_open")&&sidebar_toggle(!1);var t=$html.hasClass("menu_open");menu_toggle(!t)})},menu_toggle=function(t){$html.toggleClass("menu_open",t),$menu_btn.toggleClass("active",t),$hamburger.toggleClass("from_arrow",!t),$hamburger.toggleClass("to_arrow",t)};$.ready(function(){menu_init_events()}),function($,t,e,i){$.factory("modal",{init:function(){this.modal_id=this.$node.data("modal"),this.$modal=$("#"+this.modal_id),this.$closing=this.$modal.find(".closing"),this.$node.on("click",this.open),
this.$closing.on("click",this.close)},ready:function(){$(".modal_trigger").modal()},_handler_esc_keydown:function(t){27===t.keyCode&&this.close()},open:function(){this.$modal.addClass("show"),this.$modal.defer(function(){this.addClass("active")}),$document.on("keydown",this._handler_esc_keydown)},close:function(){this.$modal.removeClass("active"),this.$modal.defer(function(){this.removeClass("show")},200),$document.off("keydown",this._handler_esc_keydown)}})}(lQuery,window,document),function($,t,e,i){var n,s=[];$(function(){$body.append('<div id="noty_queue"></div>'),n=$("#noty_queue")});var o=function(t){return'<div id="noty_wrp_'+t.id+'" class="noty_wrp hidden"><div id="noty_'+t.id+'" class="noty '+t.type+" "+("forever"===t.ttl?"forever":"")+" "+t.color+' transparentize">'+a(t.img)+'<div class="noty_content">'+r(t.title)+h(t.body)+d(t.buttons)+"</div></div>"},a=function(t){return t?'<div class="noty_img"><img src="'+t+'" class="smooth" /></div>':""},r=function(t){return t?'<div class="noty_title">'+t+"</div>":""},h=function(t){return t?'<div class="noty_body">'+t+"</div>":""},d=function(t){if(!t)return"";var e="";return _.each(t,function(t){e+=l(t)}),'<div class="noty_buttons multiple">'+e+"</div>"},l=function(t){return t?'<div class="button actionable '+(t.color||"white")+" "+(t.size||"tiny")+' ">'+(t.text||"")+"</div>":""},c=function(t){var e=$("#noty_wrp_"+t);e.removeClass("active"),$.defer(function(){e.remove()},200)};$.noty=function(t){var e={id:_.uniqueId(),title:!1,body:!1,img:!1,buttons:!1,type:"alert",color:"black",ttl:3500,onOpen:$.noop,onClose:$.noop};_.isString(t)?e.body=t:_.isDictionary(t)&&$.extend(e,t),e.buttons&&(e.type="action"),n.prepend(o(e));var i=$("#noty_wrp_"+e.id),a=$("#noty_"+e.id),r;if(e.buttons){var h=a.find(".button");_.each(e.buttons,function(t,n){var o=h.eq(n);o.on("click",function(n){t.onClick&&t.onClick.call(this,n),r&&(_.pull(s,r),r.stop()),c(e.id),e.onClose.call(i.get(0))})})}if(!e.buttons&&"forever"!==e.ttl){var d=function(){console.log("close timer called"),_.pull(s,r),r.stop(),c(e.id),e.onClose.call(i.get(0))};r=$.timer(d,e.ttl,!0),s.push(r),a.on("click",d)}a.hover(function(){_.each(s,function(t){t.pause()})},function(){_.each(s,function(t){t.remaining(Math.max(1e3,t.remaining()||0)),t.play()})}),i.removeClass("hidden"),$.defer(function(){i.addClass("active")}),e.onOpen.call(i.get(0))}}(lQuery,window,document),function($,t,e,i){$.factory("progressBar",{init:function(){this.$highlighted=this.$nodes.find(".highlighted"),this.$label=this.$highlighted.find(".label"),this.data_percentage=this.$nodes.data("percentage")},call:function(t){if(!this.$nodes.hasClass("fixed")&&(null!==this.data_percentage||"undefined"!=typeof t)){var e="default"===t||"undefined"==typeof t?this.data_percentage/this.$highlighted.length:t/this.$highlighted.length;this.$highlighted.css("min-width",e+"%"),this.$label.html(e+"%")}},ready:function(){$(".progress_bar").progressBar()}})}(lQuery,window,document),function($,t,e,i){$.factory("radio",{init:function(){this.$input=this.$node.find("input"),this.name=this.$input.attr("name"),this.$form=this.$node.parent("form"),this.$radios=this.$form.find('input[name="'+this.name+'"]'),this.$btns=this.$radios.parent(".radio"),this.$input.checked()?this.$node.addClass("selected"):this.$node.hasClass("selected")&&this.$input.prop("checked",!0).trigger("change"),this.$node.on("click",this.select),this.$input.on("change",this._update)},ready:function(){$(".radio").radio()},_update:function(){var t=this.$input.prop("checked");t&&(this.$btns.removeClass("selected"),this.$node.addClass("selected"))},select:function(){this.$node.hasClass("inactive")||this.$input.prop("checked",!0).trigger("change")}})}(lQuery,window,document),function($,t,e,i){$.factory("selects",{},{init:function(){this.$select=this.$node.find("select"),this.$options=this.$select.find("option"),this.$placeholder=this.$node.find(".placeholder"),this.dropdown_id=$.getUID(),this.$dropdown=!1,this.$dropdown_container=!1,this.$buttons=!1,this._update_placeholder(),$.browser.is_mobile&&(this.$select.hide(),this._init_dropdown(),this.$buttons.on("click",this._handler_click)),this.$select.on("change",this.update)},ready:function(){$(".select").selects()},_handler_click:function(t){var e=$(this);this.$select.val(e.data("value")).trigger("change")},_init_dropdown:function(){$body.append(this._get_dropdown_html()),this.$dropdown=$("#dropdown-"+this.dropdown_id),this.$dropdown_container=this.$dropdown.find(".container"),this.$node.addClass("dropdown_trigger").data("dropdown","dropdown-"+this.dropdown_id),this.$node.dropdowns({beforeOpen:this._set_dropdown_width}),this.$buttons=this.$dropdown.find(".button"),this._update_dropdown()},_get_dropdown_html:function(){return'<div id="dropdown-'+this.dropdown_id+'" class="dropdown no_tip"><div class="container"><div class="multiple vertical">'+this._get_dropdown_options_html(this.$select)+"</div></div></div>"},_get_dropdown_options_html:function(t){var e="",i=!1;if(t.is("option")?e+='<div class="button actionable outlined tiny" data-value="'+t.attr("value")+'">'+t.html()+"</div>":t.is("optgroup")?(e+='<div class="separator_wrp"><div class="separator">'+t.attr("label")+"</div></div>",i=t.children()):t.is("select")&&(i=t.children()),i&&i.length>0)for(var n=0,s=i.length;s>n;n++)e+=this.get_dropdown_options_html(i.nodes[n]);return e},_update_dropdown:function(){this.$buttons.removeClass("active"),this.$buttons.filter('[data-value="'+this.$select.val()+'"]').addClass("active")},_set_dropdown_width:function(){this.$dropdown_container.css("min-width",this.$node.width())},_update_placeholder:function(){var t=this.$options.filter('[value="'+this.$select.val()+'"]');this.$placeholder.html(t.html())},update:function(){$.browser.is_mobile||this._update_dropdown(),this._update_placeholder()}})}(lQuery,window,document);var $sidebar_btn=!1,sidebar_init_events=function(){$sidebar_btn=$("#sidebar_toggler"),$sidebar_btn.on("click",function(){$html.hasClass("menu_open")&&menu_toggle(!1);var t=$html.hasClass("sidebar_open");sidebar_toggle(!t)})},sidebar_toggle=function(t){$html.toggleClass("sidebar_open",t),$sidebar_btn.toggleClass("active",t)};$.ready(function(){sidebar_init_events()}),function($,t,e,i){$.factory("slider",{init:function(){this.$slider=this.$node.find(".slider"),this.$min_btn=this.$slider.find(".min"),this.$max_btn=this.$slider.find(".max"),this.$input=this.$slider.find("input"),this.$unhighlighted=this.$slider.find(".unhighlighted"),this.$highlighted=this.$slider.find(".highlighted"),this.$handler=this.$slider.find(".handler"),this.$label=this.$handler.find(".label"),this.min=this.$slider.data("min"),this.max=this.$slider.data("max"),this.start=this.$slider.data("start")||this.$input.val()||0,this.step=this.$slider.data("step")||1,this.decimals=this.$slider.data("decimals")||0,this.unhighlighted_width=this.$unhighlighted.width(),this.one_step_width=this.unhighlighted_width/(this.max-this.min),this.required_step_width=this.step*this.one_step_width,this.current_value=this.start,this.start_pos=!1,this.current_move=!1,this.set_value(this.current_value),this._bind_change(),this._bind_resize(),this._bind_arrows(),this._bind_min_max_click(),this._bind_drag(),this._bind_click()},ready:function(){$(".slider_wrp").slider()},_round_value:function(t){return Number(t).toFixed(this.decimals)},_round_distance:function(t){var e=t%this.required_step_width,i;return e>0?(i=e>=this.required_step_width/2?1:0,t=(Math.floor(t/this.required_step_width)+i)*this.required_step_width):0>e&&(i=e<=-(this.required_step_width/2)?-1:0,t=(Math.ceil(t/this.required_step_width)+i)*this.required_step_width),t},_bind_change:function(){this.$input.on("change",this._handler_change)},_handler_change:function(t){var e=Number(this.$input.val());e!==this.current_value&&(this.current_value=e,this.set_value(this.current_value))},_bind_resize:function(){$window.on("resize",this._handler_resize)},_handler_resize:function(t){this.unhighlighted_width=this.$unhighlighted.width(),this.one_step_width=this.unhighlighted_width/(this.max-this.min),this.required_step_width=this.step*this.one_step_width},_bind_arrows:function(){this.$slider.hover(this._handler_arrows_in,this._handler_arrows_out)},_handler_arrows_in:function(t){this.hasClass("inactive")||$document.on("keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(t){$document.off("keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(t){37===t.keyCode?this.navigate(-this.step):39===t.keyCode&&this.navigate(this.step)},_bind_min_click:function(){this.$min_btn.on("click",this._handler_min_click)},_handler_min_click:function(t){this.$node.hasClass("inactive")||this.navigate(-this.step)},_bind_max_click:function(){this.$max_btn.on("click",this._handler_max_click)},_handler_max_click:function(){this.$node.hasClass("inactive")||this.navigate(this.step)},_bind_drag:function(){this.$handler.on("mousedown touchstart",this._handler_drag_start)},_handler_drag_start:function(t){this.$node.hasClass("inactive")||(this.start_pos=get_event_pageXY(t),this.current_move=0,$html.addClass("dragging"),this.$slider.addClass("dragging"),$document.on("mousemove touchmove",this._handler_drag_move),$document.on("mouseup touchend",this._handler_drag_end))},_handler_drag_move:function(t){var e=get_event_pageXY(t),i=e.pageX-this.start_pos.pageX,n=i-this.current_move;if(Math.abs(n)>=1){var s=this.navigate_move(n);s!==!1&&Math.abs(n)>=1&&(this.current_move+=s)}},_handler_drag_end:function(t){$html.removeClass("dragging"),this.$slider.removeClass("dragging"),$document.off("mousemove touchmove",this._handler_drag_move),$document.off("mouseup touchend",this._handler_drag_end)},_bind_click:function(){this.$unhighlighted.on("click",this._handler_click)},_handler_click:function(t){if(!this.$node.hasClass("inactive")&&-1===$(t.target).parents().index(this.$handler)){var e=get_event_pageXY(t),i=e.pageX-(this.$highlighted.offset().left+this.$highlighted.width());this.navigate_move(i)}},set_value:function(t){t=this._round_value(t);var e=100*(t-this.min)/(this.max-this.min)+"%";this.$handler.css("left",e),this.$highlighted.css("width",e),this.$input.val(t).trigger("change"),this.$label.html(t)},navigate:function(t){var e=this.current_value+t;e>=this.min&&e<=this.max&&(this.current_value=e,this.set_value(this.current_value))},navigate_move:function(t){if(t=this._round_distance(t),0!==t){var e=this.current_value+t/this.one_step_width;if(e=Math.max(this.min,Math.min(this.max,e)),this.current_value!==e)return this.current_value=e,this.set_value(this.current_value),t}return!1}})}(lQuery,window,document),function($,t,e,i){$.factory("spinner",{init:function(){this.$input=this.$node.find("input"),this.$label=this.$node.find(".label"),this.$decrease_btn=this.$node.find(".decrease"),this.$increase_btn=this.$node.find(".increase"),this.min=this.$node.data("min"),this.max=this.$node.data("max"),this.start=this.$node.data("start")||this.$input.val()||0,this.step=this.$node.data("step")||1,this.decimals=this.$node.data("decimals")||0,this.current_value=start,this.set_value(this.current_value),this._bind_change(),this._bind_arrows(),this._bind_minus_click()},ready:function(){$(".spinner").spinner()},_round_value:function(t){return Number(t).toFixed(this.decimals)},_bind_change:function(){this.$input.on("change",this._handler_change)},_handler_change:function(){var t=Number(this.$input.val());t!==this.current_value&&(this.current_value=t,this.set_value(this.current_value))},_bind_arrows:function(){this.$node.hover(this._handler_arrows_in,this._handler_arrows_out)},_handler_arrows_in:function(t){this.$node.hasClass("inactive")||$document.on("keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(t){$document.off("keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(t){37===t.keyCode?this.navigate(-this.step):39===t.keyCode&&this.navigate(this.step)},_bind_minus_click:function(){this.$decrease_btn.on("click",this._handler_minus_click)},_handler_minus_click:function(){this.$node.hasClass("inactive")||this.navigate(-this.step)},_bind_plus_click:function(){this.$increase_btn.on("click",this._handler_plus_click)},_handler_plus_click:function(){this.$node.hasClass("inactive")||this.navigate(this.step)},set_value:function(t){t=this._round_value(t),this.$input.val(t).trigger("change"),this.$label.html(t),this.$decrease_btn.toggleClass("inactive",t===this.min),this.$increase_btn.toggleClass("inactive",t===this.max)},navigate:function(t){var e=this.current_value+t;e>=this.min&&e<=this.max&&(this.current_value=e,this.set_value(this.current_value))}})}(lQuery,window,document),function($,t,e,i){$.factory("switcher",{theme:{on:"secondary",off:"gray"},icons:{on:!1,off:!1}},{init:function(){this.$bar=this.$node.find(".bar"),this.$handler=this.$node.find(".handler"),this.$icon=this.$node.find(".icon"),this.$input=this.$node.find("input"),this.current_value=this.$input.prop("checked"),this.dragging=!1,this.start_pos=!1,this.bar_width=!1,this.start_percentage=!1,this.set_value(this.current_value),this._bind_change(),this._bind_arrows(),this._bind_click(),this._bind_drag()},ready:function(){$(".switcher").switcher()},_bind_change:function(){this.$input.on("change",this._handler_change)},_handler_change:function(){var t=this.$input.prop("checked");t!==this.current_value&&(this.current_value=t,this.set_value(this.current_value))},_bind_arrows:function(){this.$node.hover(this._handler_arrows_in,this._handler_arrows_out)},_handler_arrows_in:function(){this.$node.hasClass("inactive")||$document.on("keydown",this._handler_arrows_keydown)},_handler_arrows_out:function(){$document.off("keydown",this._handler_arrows_keydown)},_handler_arrows_keydown:function(t){37===t.keyCode?this.current_value!==!1&&(this.current_value=!1,this.set_value(this.current_value)):39===t.keyCode&&this.current_value!==!0&&(this.current_value=!0,this.set_value(this.current_value))},_bind_click:function(){this.$node.on("click",this._handler_click)},_handler_click:function(){this.dragging||this.$node.hasClass("inactive")||this.toggle()},_bind_drag:function(){this.$handler.on("mousedown touchstart",this._handler_drag_start)},_handler_drag_start:function(t){this.$node.hasClass("inactive")||(this.start_percentage=this.current_value?100:0,this.start_pos=get_event_pageXY(t),this.bar_width=this.$bar.width(),$html.addClass("dragging"),this.$node.addClass("dragging"),$document.on("mousemove touchmove",this._handler_drag_move),$document.on("mouseup touchend",this._handler_drag_end))},_handler_drag_move:function(t){this.dragging=!0;var e=get_event_pageXY(t),i=e.pageX-this.start_pos.pageX,n=Math.max(-this.bar_width,Math.min(Math.abs(i),this.bar_width)),s=100*n/this.bar_width,o=i>=0?this.start_percentage+s:this.start_percentage-s;this.$handler.css("left",Math.max(0,Math.min(100,o))+"%")},_handler_drag_end:function(t){var e=this.$bar.offset(),i=this.$handler.offset();this.current_value=i.left+i.width/2>=e.left+e.width/2,$html.removeClass("dragging"),this.$node.removeClass("dragging"),$document.off("mousemove touchmove",this._handler_drag_move),$document.off("mouseup touchend",this._handler_drag_end),this.set_value(this.current_value),this.dragging=!1},set_value:function(t){this.$handler.css("left",t?"100%":0);var e=this.$switcher.hasClass("inactive");this.$bar.toggleClass(this.options.theme.on,t&&!e),this.$handler.toggleClass(this.options.theme.on,t&&!e),this.$bar.toggleClass(this.options.theme.off,!t),this.$handler.toggleClass(this.options.theme.off,!t),this.options.icons.on&&this.$icon.toggleClass(this.options.icons.on,t),this.options.icons.off&&this.$icon.toggleClass(this.options.icons.off,!t),this.$input.prop("checked",t).trigger("change")},toggle:function(){this.current_value=!this.current_value,this.set_value(this.current_value)}})}(lQuery,window,document),function($,t,e,i){$.factory("tabs",{init:function(){$tabs=this.$node.find(".tab"),$contabs=this.$node.find(".contab"),$tabs.each(function(){var t=$(this),e=$contabs.eq($tabs.index(t)),i=e.hasClass("to_bottom"),n=e.find(".top_section"),s=0!==n.size()?n:e;t.on("click",function(){t.hasClass("inactive")||t.hasClass("active")||($tabs.removeClass("active highlight"),$contabs.removeClass("active"),t.addClass("active highlight"),e.addClass("active"),i&&s.scrollBottom(0))})})},ready:function(){$(".tabs_wrp").tabs()}})}(lQuery,window,document),function($,t,e,i){$.factory("tagbox",{input:{default_width:"100",placeholder:"New tag...",theme:"transparent small"},tag:{min_length:3,theme:"outlined small"},forbidden:["<",">",";","`"],separator:",",sort:!1,append:!0},{init:function(){this.tagbox_id=$.getUID();var t='<div id="tagbox_'+this.tagbox_id+'" class="container transparent no-padding"><div class="multiple">'+this._get_tags_html()+'<input value="" placeholder="'+this.options.input.placeholder+'" class="autogrow '+this.options.input.theme+'" data-default-width="'+this.options.input.default_width+'" /></div></div>';this.$node.after(t).addClass("hidden"),this.$tagbox=$("#tagbox_"+this.tagbox_id),this.$partial=this.$tagbox.find("input"),this.$tags=!1,this.tags_arr=!1,this.$partial.autogrow(),this._update_variables()},ready:function(){$("input.tagbox").tagbox()},_get_tags_html:function(){for(var t=this.$node.val(),e=t.split(this.options.separator),i="",n=0;n<e.length;n++)e[n]=this._sanitize_str(e[n]);this.options.sort&&e.sort();for(var n=0;n<e.length;n++)i+=this._get_tag_html(e[n]);return i},_get_tag_html:function(t){return t=this._sanitize_str(t),'<div class="tag button '+this.options.tag.theme+'"><div class="label">'+t+'</div><div class="sub right actionable close">x</div></div>'},_sanitize_str:function(t){return t.replace(/[\n\r\t]/g," ").replace(/\s+/g," ")},_update_variables:function(){this.$tags=this.$tagbox.find(".tag"),this.tags_arr=[];for(var t=0,e=this.$tags.length;e>t;t++){var i=this.$tags.nodes[t],n=i.find(".label");this.tags_arr.push(n.html())}},_update_input:function(){this.$node.val(this.tags_arr.join(this.options.separator))},_bind_keydown:function(){this.$partial.on("keydown",this._handler_keydown)},_handler_keydown:function(t){switch(t.keyCode){case 13:case 188:this.add_tag(this.$partial.val(),!0),t.preventDefault(),t.stopImmediatePropagation();break;case 8:case 46:if(0===this.$partial.val().length&&this.$tags.length>0){var e=this.$tags.last();this.remove_tag(e,!t.ctrlKey),t.preventDefault(),t.stopImmediatePropagation()}break;default:-1!==this.options.forbidden.indexOf(t.key)&&($.noty("The character you entered is forbidden"),t.preventDefault(),t.stopImmediatePropagation())}},_bind_paste:function(){this.$partial.on("past",this._handler_paste)},_handler_paste:function(t){for(var e=this.$partial.val().split(this.options.separator),i=0;i<e.length;i++)this.add_tag(e[i],!1);this.$partial.val("")},_bind_click_on_close:function(){this.$tagbox.on("click",this._handler_click_on_close)},_handler_click_on_close:function(t){var e=$(t.target);if(e.is(".close ")){var i=e.parent();this.remove_tag(i)}},_bind_click_on_empty:function(){this.$tagbox.on("click",this._handler_click_on_empty)},_handler_click_on_empty:function(t){this.$partial.get(0)===e.activeElement||$(t.target).is("input, .label")||this.$partial.get(0).focus()},add_tag:function(t,e){if(t=this._sanitize_str(t),t.length<this.options.tag.min_length)t.length>0&&$.noty("You cannot use tags shorter than 3 characters");else if(-1!==this.tags_arr.indexOf(t))$.noty("You cannot use duplicate tags");else{var i=this._get_tag_html(t);if(0===$tags.length||this.options.append)this.$partial.before(i);else{var n=tags_arr;n.push(t),n.sort();var s=n.indexOf(t);0>s-1?this.$tags.first().before(i):this.$tags.eq(s-1).after(i)}this.update_variables(),this.update_input(),e===!0&&this.$partial.val("")}},remove_tag:function(t,e){var i=t.find(".label"),n=i.html();t.remove(),this.update_variables(),this.update_input(),e===!0&&this.$partial.val(n)}})}(lQuery,window,document),function($,t,e,i){$.factory("btEach",function(t,e){for(var i=0,n=this.length-1,s=0,o=0,a=!1;n>=i;)if(s=0===o&&"number"==typeof e?e:Math.ceil((i+n)/2),a=t.call(this.get(s),s,this.get(s)),o+=1,0>a)n=s-1;else{if(!(a>0))return s;i=s+1}return!1})}(lQuery,window,document),function($,t,e,i){$.factory("timeago",{onUpdate:$.noop},{init:function(){this.timestamp=this.$node.data("timestamp"),this._update_loop(0)},ready:function(){$("[data-timestamp]").timeago()},_update_loop:function(t){setTimeout(function(){var t=get_time_ago(this.timestamp);this.$node.html(t.str),this.hook("onUpdate"),this._update_loop(t.next)},1e3*t)},update:function(){var t=get_time_ago(this.timestamp);this.$node.html(t.str),this.hook("onUpdate")}})}(lQuery,window,document);