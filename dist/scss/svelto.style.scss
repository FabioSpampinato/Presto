
/* =========================================================================
 * Svelto - Expander
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* EXPANDER */

//TODO: Add support for horizontal expander -> basically add support for horizontal cards
//TODO: Add ability to rotate the proper icons (the pointing arrow for example) if the expander is open or close
//TODO: Add a sliding animation

.expander {

  /* CLOSED */

  &:not(.open) {

    /* IS A CARD */

    &.card {

      > .card-header {
        @include border-bottom-radius ( inherit );
      }

      &.outlined > .card-header {
        margin-bottom: -1px !important;
      }

    }

    /* CONTENT */

    > .expander-content {
      display: none;
    }

  }

}

/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */

/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS and IE text size adjust after device orientation change,
 *    without disabling user zoom.
 */

html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}

/**
 * Remove default margin.
 */

body {
  margin: 0;
}

/* HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined for any HTML5 element in IE 8/9.
 * Correct `block` display not defined for `details` or `summary` in IE 10/11
 * and Firefox.
 * Correct `block` display not defined for `main` in IE 11.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}

/**
 * 1. Correct `inline-block` display not defined in IE 8/9.
 * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.
 */

audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
  display: none;
  height: 0;
}

/**
 * Address `[hidden]` styling not present in IE 8/9/10.
 * Hide the `template` element in IE 8/9/10/11, Safari, and Firefox < 22.
 */

[hidden],
template {
  display: none;
}

/* Links
   ========================================================================== */

/**
 * Remove the gray background color from active links in IE 10.
 */

a {
  background-color: transparent;
}

/**
 * Improve readability of focused elements when they are also in an
 * active/hover state.
 */

a:active,
a:hover {
  outline: 0;
}

/* Text-level semantics
   ========================================================================== */

/**
 * Address styling not present in IE 8/9/10/11, Safari, and Chrome.
 */

abbr[title] {
  border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.
 */

b,
strong {
  font-weight: bold;
}

/**
 * Address styling not present in Safari and Chrome.
 */

dfn {
  font-style: italic;
}

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari, and Chrome.
 */

h1 {
  font-size: 2em;
  margin: .67em 0;
}

/**
 * Address styling not present in IE 8/9.
 */

mark {
  background: #ff0;
  color: #000;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
  font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/* Embedded content
   ========================================================================== */

/**
 * Remove border when inside `a` element in IE 8/9/10.
 */

img {
  border: 0;
}

/**
 * Correct overflow not hidden in IE 9/10/11.
 */

svg:not(:root) {
  overflow: hidden;
}

/* Grouping content
   ========================================================================== */

/**
 * Address margin not present in IE 8/9 and Safari.
 */

figure {
  margin: 1em 40px;
}

/**
 * Address differences between Firefox and other browsers.
 */

hr {
  box-sizing: content-box;
  height: 0;
}

/**
 * Contain overflow in all browsers.
 */

pre {
  overflow: auto;
}

/**
 * Address odd `em`-unit font size rendering in all browsers.
 */

code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

/* Forms
   ========================================================================== */

/**
 * Known limitation: by default, Chrome and Safari on OS X allow very limited
 * styling of `select`, unless a `border` property is set.
 */

/**
 * 1. Correct color not being inherited.
 *    Known issue: affects color of disabled elements.
 * 2. Correct font properties not being inherited.
 * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.
 */

button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}

/**
 * Address `overflow` set to `hidden` in IE 8/9/10/11.
 */

button {
  overflow: visible;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.
 * Correct `select` style inheritance in Firefox.
 */

button,
select {
  text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
  cursor: default;
}

/**
 * Remove inner padding and border in Firefox 4+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

input {
  line-height: normal;
}

/**
 * It's recommended that you don't attempt to style these elements.
 * Firefox's implementation doesn't respect box-sizing, padding, or width.
 *
 * 1. Address box sizing set to `content-box` in IE 8/9/10.
 * 2. Remove excess padding in IE 8/9/10.
 */

input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Fix the cursor style for Chrome's increment/decrement buttons. For certain
 * `font-size` values of the `input`, it causes the cursor style of the
 * decrement button to change from `default` to `text`.
 */

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari and Chrome.
 */

input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  box-sizing: content-box; /* 2 */
}

/**
 * Remove inner padding and search cancel button in Safari and Chrome on OS X.
 * Safari (but not Chrome) clips the cancel button when the search input has
 * padding (and `textfield` appearance).
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: .35em .625em .75em;
}

/**
 * 1. Correct `color` not being inherited in IE 8/9/10/11.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */

legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Remove default vertical scrollbar in IE 8/9/10/11.
 */

textarea {
  overflow: auto;
}

/**
 * Don't inherit the `font-weight` (applied by a rule above).
 * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.
 */

optgroup {
  font-weight: bold;
}

/* Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
  border-collapse: collapse;
  border-spacing: 0;
}

td,
th {
  padding: 0;
}


/* =========================================================================
 * Svelto - Reset (Box sizing)
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* BORDER BOX */

//SOURCE: The idea cames from here: http://www.paulirish.com/2012/box-sizing-border-box-ftw

*,
*:before,
*:after {
  box-sizing: inherit;
}

html {
  box-sizing: border-box;
}


/* =========================================================================
 * Svelto - Reset (No outline)
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* NO OUTLINE ON FOCUS */

*:focus {
  outline: none;
}


/* =========================================================================
 * Svelto - Reset (Selection)
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* SELECTION */

::selection {
  background: $selection-bg-color;
  text-shadow: none;
}


/* =========================================================================
 * Svelto - Reset
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require vendor/normalize.scss
 * @require box_sizing.scss
 * @require no_outline.scss
 * @require selection.scss
 * ========================================================================= */

/* HTML */

html {
  @include fill-absolute (); // This fixes a bug in IE where flexbox children elements don't displays into multiple lines but into a long one if not stirctly forbidden by rules like this
  font-size: $font-size;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

/* BODY */

body {
  @include color ( $body-color );
  font-family: $font-family;
  font-size: 1em;
  line-height: $line-height;
}


/* =========================================================================
 * Svelto - Widget
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * ========================================================================= */

/* WIDGET */

.widget {

  @include last-child-no-gutter ();
  position: relative;
  margin: 0 0 $gutter;
  transition: opacity $widget-transition-opacity-duration;

  &.disabled {

    pointer-events: none !important;
    cursor: default !important;
    opacity: $widget-disabled-opacity !important;

    * {
      cursor: default !important;
    }

  }

}

/* WIDGET (PSEUDO ELEMENT) */ // It is used to fix a bug in Firefox, where selectors like `.foo:after.bar` don't get ignored but cause the entire block to not be processed, stupid

.widget-pseudo {
  position: relative;
  margin: 0 0 $gutter;
}


/* =========================================================================
 * Svelto - Accordion
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../expander/expander.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

//TODO: Add support for horizontal accordions, basically wait until horizontal expanders are supported

.accordion {

  @extend .widget;

  /* EXPANDER */

  .expander {

    margin-bottom: 0;

    &.card.outlined > .card-header {
      margin-bottom: 0 !important;
    }

    &:not(:first-child) {

      /* IS CARD */

      &.card > .card-header {
        @include border-top-radius ( 0 );
      }

    }

    &:not(:last-child) {

      @include border-bottom-radius ( 0 );

      /* OUTLINED */

      &.outlined {
        border-bottom-width: 0;
      }

      /* IS CARD */

      &.card {

        > .card-header {
          @include border-bottom-radius ( 0 );
        }

        /* CLOSED */

        &:not(.open) {

          > .card-header {
            border-bottom: 0;
          }

        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Attached
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* ATTACHED */

// The attached element shouldn't be placed at the bottom or it will cause issues with the gutter (read: the last child is attached, so previous one mantains its gutter)

%attached {
  position: absolute;
  margin-bottom: 0;
}

/* TOP */

.attached-top {
  @extend %attached;
  @include border-top-radius ( inherit !important );
  @include border-bottom-radius ( 0 !important );
  top: 0;
  right: 0;
  left: 0;
}

/* RIGHT */

.attached-right {
  @extend %attached;
  @include border-right-radius ( inherit !important );
  @include border-left-radius ( 0 !important );
  top: 0;
  right: 0;
  bottom: 0;
}

/* BOTTOM */

.attached-bottom {
  @extend %attached;
  @include border-top-radius ( 0 !important );
  @include border-bottom-radius ( inherit !important );
  right: 0;
  bottom: 0;
  left: 0;
}

/* LEFT */

.attached-left {
  @extend %attached;
  @include border-right-radius ( 0 !important );
  @include border-left-radius ( inherit !important );
  top: 0;
  bottom: 0;
  left: 0;
}


/* =========================================================================
 * Svelto - Input
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* INPUT */

input {

  @extend .widget;
  @include color ( $input-color );
  display: flex;
  flex-shrink: 1;
  border-radius: $input-border-radius;
  min-height: $line-height-em + ( $input-padding-vertical * 2 );
  padding: $input-padding-vertical $input-padding-horizontal;

  /* FILE */

  &[type="file"] {

    @include fill-absolute ();
    width: 100%; // Or it will not stretch on mobile Chrome
    border: none;
    appearance: none;
    border-radius: inherit;
    cursor: pointer;
    font-size: 0;
    opacity: 0;
    margin-top: 0 !important;
    margin-right: 0 !important;
    margin-left: 0 !important;
    z-index: 99;

    &::-webkit-file-upload-button {
      display: none;
    }

  }

  /* PLACEHOLDER */

  &::placeholder {
    color: nth(map-get($colors, $input-color), 6);
    opacity: $input-placeholder-opacity;
  }

  /* COLORS */

  @each $name, $datas in $colors {

    $text: nth($datas, 6);

    &.#{$name}::placeholder {
      color: $text !important;
    }

  }

  /* INVALID */

  &.invalid {
    border-color: $color-error !important;
  }

  /* VALID */

  &.valid {
    border-color: $color-success !important;
  }

  /* UNOUTLINED */

  &:not(.outlined) {
    border: none;
  }

  /* OUTLINED */

  &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
    min-height: calc(#{$line-height-em + ( $input-padding-vertical * 2 )} + #{$outline-width * 2});
    min-width: calc(#{$line-height-em + ( $input-padding-horizontal * 2 )} + #{$outline-width * 2});
  }

  /* COMPACT */

  &.compact {

    padding: $input-compact-padding-vertical $input-compact-padding-horizontal;

    &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
      min-height: calc(#{$line-height-em + ( $input-compact-padding-vertical * 2 )} + #{$outline-width * 2});
      min-width: calc(#{$line-height-em + ( $input-compact-padding-horizontal * 2 )} + #{$outline-width * 2});
    }

  }

  /* FLUID */

  &.fluid {
    width: 100%;
  }

}

/* RESET NUMBER INPUTS */

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
}

/* RESET INVALID STYLE */

input:-moz-ui-invalid {
  box-shadow: none;
}

/* REMOVE CLEAR ICON */

input::-ms-clear {
  display: none;
}

/* REMOVE iOS SHADOW */

input {
  appearance: none !important; //FIXME: Does it work?
}


/* =========================================================================
 * Svelto - Autogrow - Input
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../input/input.scss
 * ========================================================================= */

/* INPUT AUTOGROW */

input.autogrow {

  /* OUTLINED */

  &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
    min-width: calc(#{( $input-padding-horizontal * 2 )} + #{$outline-width * 2} + #{$input-autogrow-min-width});
  }

  /* COMPACT */

  &.compact {

    &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
      min-width: calc(#{( $input-compact-padding-horizontal * 2 )} + #{$outline-width * 2} + #{$input-autogrow-min-width});
    }

  }

}


/* =========================================================================
 * Svelto - Textarea
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../input/input.scss
 * ========================================================================= */

/* TEXTAREA */

textarea {

  @extend input;
  resize: vertical;
  min-height: ( $line-height-em * $textarea-lines ) + ( $input-padding-vertical * 2 ); //FIXME: It shouldn't be fixed... but otherwise the height is greater, why?

  /* COMPACT */

  &.compact {
    min-height: ( $line-height-em * $textarea-lines ) + ( $input-compact-padding-vertical * 2 ); //FIXME: It shouldn't be fixed... but otherwise the height is greater, why?
  }

  /* UNRESIZABLE */

  &.unresizable,
  &[disabled],
  &.disabled,
  .disabled & {
    resize: none;
  }

}

/* RESET INVALID STYLE */

textarea:-moz-ui-invalid {
  box-shadow: none;
}


/* =========================================================================
 * Svelto - Autogrow - Textarea
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../textarea/textarea.scss
 * ========================================================================= */

/* TEXTAREA AUTOGROW */

textarea.autogrow {

  min-height: ( $line-height-em * $textarea-autogrow-min-lines ) + ( $input-padding-vertical * 2 ); //FIXME: It shouldn't be fixed... but otherwise the height is greater, why?

  /* COMPACT */

  &.compact {
    min-height: ( $line-height-em * $textarea-autogrow-min-lines ) + ( $input-compact-padding-vertical * 2 ); //FIXME: It shouldn't be fixed... but otherwise the height is greater, why?
  }

}


/* =========================================================================
 * Svelto - Blurred
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* BLURRED */

%blurred { //FIXME: Not working on Edge and IE
  filter: url('#{$basepath}blurred.svg#blur') !important;
  filter: blur($blurred-blur-amount) !important;
}

.blurred {
  @extend %blurred;
  transition: filter $blurred-transition-duration !important;
  //TODO: If mobile remove the transition, it greatly improves performance
}


/* =========================================================================
 * Svelto - Breadcrumb
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* BREADCRUMB */

.breadcrumb {

  @extend .widget;
  display: inline-flex;
  flex-wrap: wrap;
  align-items: center;

  /* CHILDREN */

  > * {
    margin-bottom: 0 !important;
  }

  /* SEGMENTS */

  > :nth-child(even) {

    &:not(:first-child) {
      margin-left: $breadcrumb-gutter;
    }

    &:not(:last-child) {
      margin-right: $breadcrumb-gutter;
    }

  }

  /* AFTER CURRENT */

  > .current ~ * {
    opacity: $breadcrumb-after-current-opacity;
  }

  /* ENABLED */

  &:not(.disabled) {

    /* AFTER CURRENT */

    > .current ~ :not(:nth-child(even)):hover {
      opacity: $breadcrumb-after-current-opacity-hover;
    }

  }

}


/* =========================================================================
 * Svelto - Breakpoints
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* HIDDEN-*-UP/DOWN */

@each $breakpoint, $value in $breakpoints {

  $alias: nth( $breakpoints-aliases, index( map-keys( $breakpoints ), $breakpoint ) );

  /* UP */

  @include media-breakpoint-up ( $breakpoint ) {

    .hidden-#{$alias}-up {
      display: none !important;
    }

  }

  /* DOWN */

  @include media-breakpoint-down ( $breakpoint ) {

    .hidden-#{$alias}-down {
      display: none !important;
    }

  }

}


/* =========================================================================
 * Svelto - Label
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* DEFAULT */

label {
  @extend .widget;
  display: block;
}

/* LABEL */

.label {

  @extend .widget;
  @include color ( $label-color, $label-color-basic );
  font-weight: bold;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: $label-border-radius;
  padding: $label-padding-vertical $label-padding-horizontal;
  min-height: $line-height-em + ( $label-padding-vertical * 2 );
  min-width: $line-height-em + ( $label-padding-horizontal * 2 );

  /* CHILDREN NO MARGIN BOTTOM */

  > :not(.sub) {
    margin-bottom: 0 !important;
  }

  /* TEXT GROW */

  > :not(.sub):not(.label):not(.button):not(.icon):not(.icons):not(input):not(.ripple-circle) {
    flex-grow: 1;
    flex-shrink: 1; // IE-10-11 default it to 0 instead
  }

  /* OUTLINED */

  &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
    min-height: calc(#{$line-height-em + ( $label-padding-vertical * 2 )} + #{$outline-width * 2});
    min-width: calc(#{$line-height-em + ( $label-padding-horizontal * 2 )} + #{$outline-width * 2});
  }

  /* INVALID */

  &.invalid {

    border: $outline-width solid $color-error !important;

    /* ICON */

    .icon {
      color: $color-error !important;
    }

  }

  /* VALID */

  &.valid {

    border: $outline-width solid $color-success !important;

    /* ICON */

    .icon {
      color: $color-success !important;
    }

  }

  /* COMPACT */

  &.compact {

    padding: $label-compact-padding-vertical $label-compact-padding-horizontal;
    min-height: $line-height-em + ( $label-compact-padding-vertical * 2 );
    min-width: $line-height-em + ( $label-compact-padding-horizontal * 2 );

    &.outlined { //FIXME: Ugly fix for keeping the aspect ratio even in this condition
      min-height: calc(#{$line-height-em + ( $label-compact-padding-vertical * 2 )} + #{$outline-width * 2});
      min-width: calc(#{$line-height-em + ( $label-compact-padding-horizontal * 2 )} + #{$outline-width * 2});
    }

  }

  /* FLUID */

  &.fluid {
    display: flex;
  }

  /* LEFT / RIGHT */

  > .sub {

    @include last-child-no-gutter ();
    display: inline-flex;
    align-self: stretch;
    align-items: center;
    justify-content: center;
    background-color: $label-sub-bg-color;
    padding: $label-compact-padding-vertical $label-compact-padding-horizontal;
    min-height: $line-height-em + ( $label-compact-padding-vertical * 2 );
    min-width: $line-height-em + ( $label-compact-padding-horizontal * 2 );

    &.left {
      @include border-left-radius ( inherit );
      margin: ( - $label-padding-vertical ) $label-padding-horizontal ( - $label-padding-vertical ) ( - $label-padding-horizontal ) !important; //FIXME: The `!important` shouldn't be needed
    }

    &.right {
      @include border-right-radius ( inherit );
      margin: ( - $label-padding-vertical ) ( - $label-padding-horizontal ) ( - $label-padding-vertical ) $label-padding-horizontal !important; //FIXME: The `!important` shouldn't be needed
    }

  }

  &.compact > .sub {

    &.left {
      margin: ( - $label-compact-padding-vertical ) $label-compact-padding-horizontal ( - $label-compact-padding-vertical ) ( - $label-compact-padding-horizontal ) !important; //FIXME: The `!important` shouldn't be needed
    }

    &.right {
      margin: ( - $label-compact-padding-vertical ) ( - $label-compact-padding-horizontal ) ( - $label-compact-padding-vertical ) $label-compact-padding-horizontal !important; //FIXME: The `!important` shouldn't be needed
    }

  }

  &.outlined > .sub {

    &.left {
      border-right: 1px solid;
      border-color: inherit !important; //FIXME: The `!important` shouldn't be needed
    }

    &.right {
      border-left: 1px solid;
      border-color: inherit !important; //FIXME: The `!important` shouldn't be needed
    }

  }

  /* CENTER */

  > :not(.label):not(.button):not(.sub):not(.overlay):not(.ripple-circle) { // Both `.label` and `.button`

    & + :not(.sub):not(.icon):not(.overlay):not(.ripple-circle) {
      margin-left: $label-center-extra-spacing;
    }

    & + i.icon { //FIXME: Ugly fix for normalizing the icons scale factor
      margin-left: $label-center-extra-spacing / $icon-scale-amount;
    }

  }

  &.compact {

    > :not(.label):not(.button):not(.sub):not(.overlay):not(.ripple-circle) { // Both `.label` and `.button`

      & + :not(.sub):not(.icon):not(.overlay):not(.ripple-circle) {
        margin-left: $label-compact-center-extra-spacing;
      }

      & + i.icon { //FIXME: Ugly fix for normalizing the icons scale factor
        margin-left: $label-compact-center-extra-spacing / $icon-scale-amount;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Button
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../label/label.scss
 * ========================================================================= */

/* DEFAULT BUTTON */

button {
  border: none;
  padding: 0;
}

/* BUTTON */

.button {
  @extend .label;
  @extend .actionable;
}


/* =========================================================================
 * Svelto - Label - Corner
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../label.scss
 * ========================================================================= */

/* LABEL CORNER */

.label-corner {

  position: absolute;
  z-index: $label-corner-z-index;
  visibility: hidden;
  overflow: hidden;
  pointer-events: none;

  &.top-left {

    top: 0;
    left: 0;
    border-top-left-radius: inherit;

    > * { // Both `.label` and `.button`
      transform: translateX(-($label-corner-padding-horizontal * 2 / 4 + $line-height-em / 8)) translateY(-($label-corner-padding-vertical * 2 / 4 + $line-height-em / 8 ));
    }

    &:before {
      top: 0;
      left: 0;
      transform: translateX(-( $line-height-em + ( $label-corner-padding-horizontal * 2 ) ) / $SQRT2) translateY(-( $line-height-em + ( $label-corner-padding-vertical * 2 ) ) / $SQRT2) rotate(45deg);
    }

  }

  &.top-right {

    top: 0;
    right: 0;
    border-top-right-radius: inherit;

    > * { // Both `.label` and `.button`
      transform: translateX($label-corner-padding-horizontal * 2 / 4 + $line-height-em / 8) translateY(-($label-corner-padding-vertical * 2 / 4 + $line-height-em / 8));
    }

    &:before {
      top: 0;
      right: 0;
      transform: translateX(( $line-height-em + ( $label-corner-padding-horizontal * 2 ) ) / $SQRT2) translateY(-( $line-height-em + ( $label-corner-padding-vertical * 2 ) ) / $SQRT2) rotate(45deg);
    }

  }

  &.bottom-left {

    bottom: 0;
    left: 0;
    border-bottom-left-radius: inherit;

    > * { // Both `.label` and `.button`
      transform: translateX(-($label-corner-padding-horizontal * 2 / 4 + $line-height-em / 8)) translateY($label-corner-padding-vertical * 2 / 4 + $line-height-em / 8);
    }

    &:before {
      bottom: 0;
      left: 0;
      transform: translateX(-( $line-height-em + ( $label-corner-padding-horizontal * 2 ) ) / $SQRT2) translateY(( $line-height-em + ( $label-corner-padding-vertical * 2 ) ) / $SQRT2) rotate(45deg);
    }

  }

  &.bottom-right {

    bottom: 0;
    right: 0;
    border-bottom-right-radius: inherit;

    > * { // Both `.label` and `.button`
      transform: translateX($label-corner-padding-horizontal * 2 / 4 + $line-height-em / 8) translateY($label-corner-padding-vertical * 2 / 4 + $line-height-em / 8);
    }

    &:before {
      bottom: 0;
      right: 0;
      transform: translateX(( $line-height-em + ( $label-corner-padding-horizontal * 2 ) ) / $SQRT2) translateY(( $line-height-em + ( $label-corner-padding-vertical * 2 ) ) / $SQRT2) rotate(45deg);
    }

  }

  &:before {
    pointer-events: auto;
    position: absolute;
    content: '';
    height: ( $line-height-em + ( $label-corner-padding-vertical * 2 ) ) * $SQRT2;
    width: ( $line-height-em + ( $label-corner-padding-horizontal * 2 ) ) * $SQRT2;
    background-color: inherit;
    visibility: visible;
  }

  > * { // Both `.label` and `.button`
    padding: $label-corner-padding-vertical $label-corner-padding-horizontal;
    height: $line-height-em + ( $label-corner-padding-vertical * 2 );
    width: $line-height-em + ( $label-corner-padding-horizontal * 2 );
    margin: 0;
    border-radius: 0;
    background-color: transparent !important;
    color: inherit;
    margin: 0;
    visibility: visible;
  }

}


/* =========================================================================
 * Svelto - Button - Corner
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../button.scss
 * @require ../../label/corner/corner.scss
 * ========================================================================= */

/* BUTTON CORNER */

.button-corner {
  @extend .label-corner;
  @extend .actionable;
}


/* =========================================================================
 * Svelto - Label - Tag
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../label.scss
 * ========================================================================= */

/* TAG */

//FIXME: Missing pointer outline in IE10
//FIXME: The pointer is not clickable

.label-tag {

  margin-bottom: $gutter;
  z-index: 1;

  > * { // Both `.label` and `.button`

    margin-left: ( $label-tag-smooth-size * $SQRT2 ) / 2 - $label-border-radius;
    margin-bottom: 0;

    &:before,
    &:after {
      content: '';
      position: absolute;
      top: 50%;
      height: $label-tag-smooth-size;
      width: $label-tag-smooth-size;
      transform: translateX(50%) translateY(-50%) rotate(45deg);
    }

    &:before {
      @include color ( 'inherit' );
      z-index: -1;
    }

    &:after {
      background-color: $label-tab-circle-background-color;
      border-radius: 50%;
      box-shadow: $label-tag-circle-box-shadow;
      transform: translateX(50%) translateY(-50%) rotate(45deg) scale($label-tag-circle-scale);
    }

    &.compact {

      margin-left: ( $label-tag-smooth-compact-size * $SQRT2 ) / 2 - $label-border-radius;

      &:before,
      &:after {
        height: $label-tag-smooth-compact-size;
        width: $label-tag-smooth-compact-size;
      }

    }

    &.outlined {

      border-left-width: 0;

      &:before {
        border-width: $outline-width;
        border-style: solid;
      }

    }

    &:not(.sharp) {

      &:before,
      &:after {
        right: calc(100% - #{$label-border-radius / 2});
      }

      &:before {
        border-radius: $label-border-radius;
      }

    }

    &.sharp {

      margin-left: ( $label-tag-sharp-size * $SQRT2 ) / 2;

      &:before,
      &:after {
        height: $label-tag-sharp-size;
        width: $label-tag-sharp-size;
        right: 100%;
      }

      &.compact {

        margin-left: ( $label-tag-sharp-compact-size * $SQRT2 ) / 2;

        &:before,
        &:after {
          height: $label-tag-sharp-compact-size;
          width: $label-tag-sharp-compact-size;
        }

      }

    }

    /* COLORS */

    @each $name, $datas in $colors {

      $bg: nth($datas, 1);

      &.tag-circle-#{$name}:after {
        background-color: $bg;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Button - Tag
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../button.scss
 * @require ../../label/tag/tag.scss
 * ========================================================================= */

/* TAG */

.button-tag {
  @extend .label-tag;
}


/* =========================================================================
 * Svelto - Container
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* CONTAINER */

//FIXME: It's expanding over the visible viewport on Dolphin Browser

.container {

  @extend .widget;
  @include color ( $container-color );
  border-radius: $container-border-radius;
  padding: $container-padding-vertical $container-padding-horizontal;

  /* COMPACT */

  &.compact {
    padding: $container-compact-padding-vertical $container-compact-padding-horizontal;
  }

  /* SCROLLABLE */

  &.scrollable-x {
    overflow-x: auto;
  }

  &.scrollable-y {
    overflow-y: auto;
  }

  &.scrollable {
    overflow: auto;
  }

}


/* =========================================================================
 * Svelto - Card
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../container/container.scss
 * ========================================================================= */

/* CARD */

//FIXME: There's an overflow bug when scrolling the block-content, it goes a bit over the footer, but not if we zoom the page
//FIXME: It's not good on Dolphin browser

.card {

  @extend .widget;
  @include color ( $card-color );
  display: flex;
  flex-direction: column;
  border-radius: $card-border-radius;

  /* HEADER / BLOCK / FOOTER */

  &-header,
  &-block,
  &-footer {

    &:not(.multiple) {
      @extend .container;
      border-radius: 0;
    }

    &.multiple {

      margin-bottom: 0 !important;

      > * {
        border-radius: 0;
        margin-bottom: 0 !important;
      }

    }

    .card.compact & {
      @extend .container.compact;
    }

  }

  /* HEADER / FOOTER */

  &-header,
  &-footer {
    flex-shrink: 0; // So that when there's an overflow just `.card-block` scrolls
  }

  /* FOOTER */

  div.card-footer.multiple[class*="multiple"] { //FIXME: Ugly fix
    margin-bottom: 0 !important;
  }

  /* BLOCK */

  &-block {
    flex-grow: 1; // Takes the remaining space, if any
    flex-shrink: 1; // IE-10-11 default it to 0 instead
    overflow: auto;
  }

  /* NO MARGIN BOTTOM FOR CHILDREN (WIDGETS) */

  > :not(.overlay):not(.ripple-circle) {
    margin-bottom: 0 !important; //FIXME: The `!important` shouldn't be necessary
  }

  /* BORDER RADIUS INHERITANCE */

  > :first-child:not(.overlay):not(.ripple-circle),
  > :first-child.overlay + *,
  > :first-child.ripple-circle + * {
    @include border-top-radius ( inherit );
  }

  > .multiple:first-child {

    > :first-child {
      border-top-left-radius: inherit;
    }

    > :last-child {
      border-top-right-radius: inherit;
    }

  }

  > :last-child {
    @include border-bottom-radius ( inherit );
  }

  > .multiple:last-child {

    > :first-child {
      border-bottom-left-radius: inherit;
    }

    > :last-child {
      border-bottom-right-radius: inherit;
    }

  }

  /* OUTLINED */

  &.outlined {

    /* INSET OUTLINED */

    > .outlined {

      margin-left: - $outline-width;
      margin-right: - $outline-width;

      /* FIRST / LAST */

      &:first-child:not(.overlay):not(.ripple-circle) {
        margin-top: - $outline-width;
      }

      &:last-child {
        margin-bottom: - $outline-width !important; //FIXME: The `!important` shouldn't be necessary
      }

    }

    /* INSET OUTLINED */

    > :first-child.overlay + .outlined,
    > :first-child.ripple-circle + .outlined {
      margin-top: - $outline-width;
    }

    /* INSET IMAGE */ //FIXME: Ugly fix for better supporting inset outlined unwrapped images

    > img.outlined {
      width: calc(100% + #{$outline-width * 2}) !important;
    }

  }

  /* NEXT CHILDREN OUTLINED */

  > .outlined + .outlined:not(img) {
    border-top-width: 0;
  }

}


/* =========================================================================
 * Svelto - Icon
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* SCALED ICON SIZES */

%scaled-icon-sizes {

  @each $size, $font-size in $sizes {

    $alias: nth( $sizes-aliases, index( map-keys( $sizes ), $size ) );

    &.#{$alias} {
      font-size: ( $font-size * $icon-scale-amount ) !important;
    }

  }

}

/* ICON */

%icon {
  @extend .widget-pseudo; // It fixes a bug in firefox, where selectors like `.foo:after.bar` don't get ignored but cause the entire block to not be processed, stupid
  @extend %scaled-icon-sizes;
  display: inline-block;
  vertical-align: middle;
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 1em * $icon-scale-amount;
  width: 1em;
  height: 1em;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  word-wrap: normal;
  overflow: hidden; // So that in case the font doesn't get loaded the text won't overflow the icon box
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'liga';
}

i.icon {
  @extend %icon;
}


/* =========================================================================
 * Svelto - Carousel
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../icon/icon.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

//TODO: When inset add proper dark shadow at the left and the right
//TODO: Add better support for img tags, .image-wrp, container and card
//TODO: Modularize it

/* CAROUSEL */

.carousel {

  @extend .widget;
  display: flex;
  align-items: stretch;
  position: relative;
  height: $carousel-height;

  /* INDICATORS */

  &-indicators {
    z-index: $carousel-indicators-z-index;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    justify-self: center;
    padding: $gutter;
  }

  /* INDICATOR */

  &-indicator {

    width: $carousel-indicator-size;
    height: $carousel-indicator-size;
    border: $carousel-indicator-border-width solid $carousel-indicator-color;
    border-radius: 50%;
    background-color: transparent;
    cursor: pointer;
    opacity: $carousel-indicator-opacity;
    transition-property: background-color, opacity;
    transition-duration: $carousel-indicator-transition-all-duration;

    /* HOVER */

    &:hover {
      opacity: $carousel-indicator-hover-opacity !important;
    }

    /* NOT FIRST */

    &:not(:first-child) {
      margin-left: $gutter-half / 2;
    }

    /* NOT LAST */

    &:not(:last-child) {
      margin-right: $gutter-half / 2;
    }

    /* CURRENT */

    &.current {
      background-color: $carousel-indicator-color;
    }

  }

  /* ITEMS */

  &-items {

    position: relative;
    overflow: hidden;
    flex-grow: 1;
    flex-shrink: 1; // IE-10-11 default it to 0 instead
    background-color: $carousel-bg-color;

    /* ITEM */

    > * {
      @include fill-absolute ();
      margin-bottom: 0 !important;
      border-radius: inherit;
    }

  }

  /* SLIDE HORIZONTAL */

  &.slide,
  &.slide-horizontal,
  &:not(.slide-vertical):not(.fade) {

    /* ITEMS */

    .carousel-items {

      /* ITEM */

      > * {
        transition: transform $carousel-slide-transition-transform-duration;
        transform: translateX(-100%);
      }

      /* PREV */

      > .previous {
        z-index: 2;
      }

      /* CURRENT */

      > .current {

        z-index: 3;
        transform: translateX(0);

        /* FOLLOWING */

        ~ * {
          transform: translateX(100%);
        }

      }

    }

  }

  /* SLIDE VERTICAL */

  &.slide-vertical {

    /* ITEMS */

    .carousel-items {

      /* ITEM */

      > * {
        transition: transform $carousel-slide-transition-transform-duration;
        transform: translateY(-100%);
      }

      /* PREV */

      > .previous {
        z-index: 2;
      }

      /* CURRENT */

      > .current {

        z-index: 3;
        transform: translateY(0);

        /* FOLLOWING */

        ~ * {
          transform: translateY(100%);
        }

      }

    }

  }

  /* FADE */

  &.fade {

    /* ITEMS */

    .carousel-items {

      /* ITEM */

      > * {
        opacity: 0;
        transition: opacity $carousel-fade-transition-opacity-duration;
      }

      /* PREV */

      > .previous {
        z-index: 2;
        opacity: 0;
      }

      /* CURRENT */

      > .current {
        z-index: 3;
        opacity: 1;
      }

    }

  }

  /* HOVER */

  &:hover {

    /* INDICATORS */

    .carousel-indicators {

      /* INDICATOR */

      .carousel-indicator {
        opacity: $carousel-hover-indicator-opacity;
      }

    }

  }

  /* OUTSET */

  &:not(.inset) {

    /* PREV / NEXT */

    .carousel-previous,
    .carousel-next {
      align-self: center;
      margin-bottom: 0;
    }

    /* PREV */

    .carousel-previous {
      order: 1;
      margin-left: $gutter;
      margin-right: $gutter;
    }

    /* NEXT */

    .carousel-next {
      order: 3;
      margin-left: $gutter;
      margin-right: $gutter;
    }

    /* ITEMS */

    .carousel-items {
      order: 2;
    }

  }

  /* INSET */

  &.inset {

    /* PREV / NEXT */

    .carousel-previous,
    .carousel-next {

      position: absolute;
      z-index: $carousel-inset-previous-next-z-index;
      display: flex;
      align-items: center;
      top: 0;
      bottom: 0;
      font-size: $carousel-inset-previous-next-font-size;

      /* ENABLED */

      &:not(.disabled) {
        cursor: pointer;
      }

      /* AFTER (ICON) */

      &:after {
        @extend %icon;
        margin-bottom: 0;
        color: $carousel-inset-previous-next-color;
        opacity: $carousel-inset-previous-next-opacity;
        transition: opacity $carousel-inset-previous-next-transition-opacity-duration;
      }

    }

    /* PREV */

    .carousel-previous {

      justify-content: flex-start;
      left: 0;
      padding-left: $gutter;
      width: $carousel-inset-previous-width;

      /* AFTER (ICON) */

      &:after {
        content: 'chevron_left';
      }

    }

    /* NEXT */

    .carousel-next {

      justify-content: flex-end;
      right: 0;
      padding-right: $gutter;
      width: $carousel-inset-next-width;

      /* AFTER (ICON) */

      &:after {
        content: 'chevron_right';
      }

    }

    /* HOVER */

    &:hover {

      /* PREV / NEXT */

      .carousel-previous,
      .carousel-next {

        /* AFTER (ICON) */

        &:after {
          opacity: $carousel-inset-hover-previous-next-opacity;
        }

        /* HOVER */

        &:not(.disabled):hover {

          /* AFTER (ICON) */

          &:after {
            opacity: $carousel-inset-previous-next-hover-opacity;
          }

        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Chat
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* CHAT */

.chat-msg {

  @extend .widget;
  display: flex;

  /* IMAGE */

  .chat-msg-img {

    box-sizing: content-box;
    width: $chat-msg-img-size;
    height: $chat-msg-img-size;
    border: $chat-msg-img-border-width solid $chat-msg-img-border-color;
    border-radius: 100%;
    overflow: hidden;

    img {
      transition: opacity $chat-msg-img-transition-duration;
      width: $chat-msg-img-size;
      height: $chat-msg-img-size;
      border-radius: 100%;
      overflow: hidden;
    }

  }

  a.chat-msg-img:hover {

    img {
      opacity: $chat-msg-img-opacity-hover;
    }

    .overlay + img,
    .overlay + * > img {
      opacity: 1;
    }

  }

  /* CONTENT */

  .chat-msg-content {

    flex-grow: 1;
    flex-shrink: 1; // IE-10-11 default it to 0 instead
    margin-bottom: 0;

    /* HEADER */

    .card-header {

      /* TIP */

      &:before {
        @include square ( $chat-tip-size, inherit );
        display: block;
        transform: rotate(45deg);
        position: absolute;
        content: '';
        z-index: 1;
        box-sizing: content-box;
        top: 50%;
      }

      /* TIP (OUTLINED) */

      &.outlined:before {
        border-width: $outline-width;
        border-style: solid;
        border-color: inherit;
      }

    }

  }

  /* NO TIP */

  &.no-tip {

    /* TIP */

    .chat-msg-content .card-header:before {
      display: none;
    }

  }

  /* NO IMG */

  &.no-img {

    /* IMG */

    .chat-msg-img {
      display: none;
    }

  }

  /* LEFT */

  &:not(.direction-right) {

    /* LEVELS */

    &.level-3,
    &[class*='level-'] {
      margin-left: $chat-msg-level-3-spacing;
    }

    &.level-2 {
      margin-left: $chat-msg-level-2-spacing;
    }

    &.level-1 {
      margin-left: $chat-msg-level-1-spacing;
    }

    /* IMAGE */

    .chat-msg-img {
      order: 1;
    }

    /* TIP */

    &:not(.no-tip) {

      .chat-msg-content {
        margin-left: calc(#{$gutter-half} + #{$chat-tip-size});
      }

    }

    /* NO TIP */

    &.no-tip {

      .chat-msg-content {
        margin-left: $gutter;
      }

    }

    // No kind of usable clip-path property is supported by IE and Edge so we are just removing the tip, so we should also modify the spacing //FIXME: Not future proff, use feature detection instead

    _:-ms-lang(x), & .chat-msg-content {
      margin-left: $gutter;
    }

    /* CONTENT */

    .chat-msg-content {
      order: 2;
    }

    /* HEADER */

    .card-header {

      /* TIP */

      &:before {
        left: - ( $dropdown-tip-size / 2 );
        margin-top: - ( $dropdown-tip-size / 2 );
        clip-path: url('#{$basepath}chat-clips.svg#clip-right'); // The polygon is not supported on Firefox
        clip-path: polygon(0 0, 100% 100%, 0 100%);
      }

      // No kind of usable clip-path property is supported by IE and Edge so we are just removing the tip //FIXME: Not future proff, use feature detection instead

      _:-ms-lang(x), &:before {
        display: none !important;
      }

      /* TIP (OUTLINED) */

      &.outlined:before {
        margin-left: - $outline-width;
      }

    }

  }

  /* RIGHT */

  &.direction-right {

    /* LEVELS */

    &.level-3,
    &[class*='level-'] {
      margin-right: $chat-msg-level-3-spacing;
    }

    &.level-2 {
      margin-right: $chat-msg-level-2-spacing;
    }

    &.level-1 {
      margin-right: $chat-msg-level-1-spacing;
    }

    /* IMAGE */

    .chat-msg-img {
      order: 2;
      // margin-left: calc(#{$gutter-half} + #{$chat-tip-size});
    }

    /* TIP */

    &:not(.no-tip) {

      .chat-msg-content {
        margin-right: calc(#{$gutter-half} + #{$chat-tip-size});
      }

    }

    /* NO TIP */

    &.no-tip {

      .chat-msg-content {
        margin-right: $gutter;
      }

    }

    // No kind of usable clip-path property is supported by IE and Edge so we are just removing the tip, so we should also modify the spacing //FIXME: Not future proff, use feature detection instead

    _:-ms-lang(x), & .chat-msg-content {
      margin-right: $gutter;
    }

    /* CONTENT */

    .chat-msg-content {
      order: 1;
    }

    /* HEADER */

    .card-header {

      /* TIP */

      &:before {
        right: - ( $dropdown-tip-size / 2 );
        margin-top: - ( $dropdown-tip-size / 2 );
        clip-path: url('#{$basepath}chat-clips.svg#clip-left'); // The polygon is not supported on Firefox
        clip-path: polygon(0 0, 100% 100%, 100% 0);
      }

      // No kind of usable clip-path property is supported by IE and Edge so we are just removing the tip //FIXME: Not future proff, use feature detection instead

      _:-ms-lang(x), &:before {
        display: none !important;
      }

      /* TIP (OUTLINED) */

      &.outlined:before {
        margin-right: - $outline-width;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Icons
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * @require ../icon/icon.scss
 * ========================================================================= */

/* ICONS */

//FIXME: Scaling to large size for example doesn't work

.icons {

  @extend .widget;
  @extend %scaled-icon-sizes;
  display: inline-block;
  width: 1em * $icon-scale-amount;
  height: 1em * $icon-scale-amount;
  position: relative;

  /* ICON */

  > .icon {

    margin-bottom: 0;

    /* NOT CORNER */

    &:not(.corner) {
      @include fill-absolute ();
    }

    /* CORNER */

    &.corner {

      position: absolute;
      font-size: 1em * $icon-scale-amount / 2;

      /* TOP LEFT */

      &.top-left {
        top: 0;
        left: 0;
      }

      /* TOP RIGHT */

      &.top-right {
        top: 0;
        right: 0;
      }

      /* BOTTOM RIGHT */

      &.bottom-right {
        bottom: 0;
        right: 0;
      }

      /* BOTTOM LEFT */

      &.bottom-left {
        bottom: 0;
        left: 0;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Checkbox
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * @require ../icon/icon.scss
 * @require ../icons/icons.scss
 * ========================================================================= */

/* CHECKBOX */

//TODO: Add support for input.checkbox

.checkbox {

  @extend .widget;
  display: inline-flex;

  /* CHILDREN */

  > * {
    margin-bottom: 0 !important;
  }

  > :not(:first-child) {
    margin-left: $label-compact-center-extra-spacing;
  }

  /* INPUT */

  input {

    @extend .icons;
    min-height: 0;
    background-color: transparent;

    /* BEFORE / AFTER */

    &:before,
    &:after {
      @extend %icon;
      @include fill-absolute ();
      transition: opacity $checkbox-icon-transition-opacity-duration;
      margin-bottom: 0 !important;
    }

    /* BEFORE */

    &:before {
      content: $checkbox-icon-off;
      opacity: 1;
    }

    /* AFTER */

    &:after {
      @include color-text ( $checkbox-icon-on-color );
      content: $checkbox-icon-on;
      opacity: 0;
      z-index: 1;
    }

    /* CUSTOM BEFORE / AFTER */

    &[data-icon-off]:before {
      content: attr(data-icon-off);
    }

    &[data-icon-on]:after {
      content: attr(data-icon-on);
    }

    /* CHECKED */

    &:checked {

      /* BEFORE */

      &:before {
        opacity: 0;
      }

      /* AFTER */

      &:after {
        opacity: 1;
      }

    }

  }

  /* INVALID */

  &.invalid {

    /* INPUT */

    input {

      /* BEFORE / AFTER */

      &:before,
      &:after {
        color: $color-error !important;
      }

    }

  }

  /* VALID */

  &.valid {

    /* INPUT */

    input {

      /* BEFORE / AFTER */

      &:before,
      &:after {
        color: $color-success !important;
      }

    }

  }

  /* ENABLED */

  &:not(.disabled) {

    cursor: pointer;

    /* INPUT */

    input {
      cursor: pointer;
    }

  }

}


/* =========================================================================
 * Svelto - Colorpicker
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

//FIXME: Not working on Dolphin Browser

/* COLORPICKER */

.colorpicker {

  @extend .widget;
  display: flex;

  /* INPUT */

  input {
    display: none;
  }

  /* HANDLER */

  &-handler {
    @include z-depth ( 2, ',' + $colorpicker-handler-shadow );
    position: absolute;
    z-index: 2;
    box-sizing: border-box;
    border: $colorpicker-handler-border-width solid $colorpicker-handler-border-color;
    background-color: $colorpicker-handler-border-color;
  }

  /* SATURATION & BRIGHTNESS / HUE */

  &-sb,
  &-hue {
    position: relative;
    box-sizing: content-box;
    height: $colorpicker-height;
    cursor: pointer;
    border: $colorpicker-wrp-border-width solid $colorpicker-wrp-border-color;
  }

  /* SATURATION & BRIGHTNESS */

  &-sb {

    width: $colorpicker-height;
    background-color: red;

    /* BEFORE / AFTER */

    &:before,
    &:after {
      @include fill-absolute ();
      content: '';
    }

    /* BEFORE */

    &:before {
      @include gradient-horizontal ( white, transparent );
    }

    /* AFTER */

    &:after {
      @include gradient-vertical ( transparent, black );
      z-index: 1;
    }

    /* HANDLER */

    .colorpicker-handler {
      width: $colorpicker-handler-sb-height;
      height: $colorpicker-handler-sb-width;
      margin: ( - $colorpicker-handler-sb-height / 2 ) 0 0 ( - $colorpicker-handler-sb-width / 2 );
      cursor: move;
      border-radius: $colorpicker-handler-sb-border-radius;
    }

  }

  /* HUE */

  &-hue {

    width: $colorpicker-hue-wrp-width;
    margin-left: $gutter;

    /* BEFORE */

    &:before {
      @include fill-absolute ();
      content: '';
      background: linear-gradient(to bottom, red 0%, fuchsia 16.6666666666%, blue 33.3333333333%, aqua 50%, lime 66.6666666666%, yellow 83.3333333333%, red 100%);
    }

    /* HANDLER */

    .colorpicker-handler {
      width: 100%;
      height: $colorpicker-handler-hue-height;
      margin-top: - ( $colorpicker-handler-hue-height / 2 );
      cursor: ns-resize;
      border-radius: $colorpicker-handler-hue-border-radius;
    }

  }

  /* INVALID */

  &.invalid {

    /* SATURATION & BRIGHTNESS */

    .colorpicker-sb,
    .colorpicker-hue {
      border: $outline-width solid $color-error !important;
    }

  }

  /* VALID */

  &.valid {

    /* SATURATION & BRIGHTNESS */

    .colorpicker-sb,
    .colorpicker-hue {
      border: $outline-width solid $color-success !important;
    }

  }

}


/* =========================================================================
 * Svelto - Colors
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

//TODO: Maybe add the `transparent-initial` class, that output an inherited background color, when not hovering or pressing
//FIXME: .actionable should do it's work only if it's not child of .disabled or -disabled

/* COLORS */

@each $name, $datas in $colors {

  .#{$name} {
    @include color ( $name, false, !important );
  }

  .text-#{$name} {
    color: nth($datas, 1);
  }

  .link-#{$name} {
    @include color-link ( $name, !important );
  }

}


/* =========================================================================
 * Svelto - Datepicker
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* DATEPICKER */

.datepicker {

  @extend .widget;
  border-radius: $border-radius-medium;

  /* INPUT */

  input {
    display: none;
  }

  /* INVALID */

  &.invalid {
    border: $outline-width solid $color-error;
  }

  /* VALID */

  &.valid {
    border: $outline-width solid $color-success;
  }

  /* NAVIGATION */

  &-navigation {

    display: flex;
    align-items: center;

    /* BUTTON / PREVIOUS / NEXT */

    .button,
    .previous,
    .next {
      width: $datepicker-block-width;
      margin-bottom: 0;
      flex-grow: 0;
    }

    /* TITLE */

    .datepicker-title {
      margin: 0 $gutter;
      text-align: center;
      flex-grow: 1;
    }

  }

  /* CALENDAR */

  &-calendar {

    /* DAY NAMES */

    .datepicker-days-names {

      display: flex;
      height: $datepicker-day-name-height;
      align-items: center;

      /* DAY NAME */

      > * {
        font-weight: $datepicker-day-name-font-weight;
        width: $datepicker-block-width;
        text-align: center;
      }

    }

    /* DAYS */

    .datepicker-days {

      display: flex;
      flex-wrap: wrap;

      /* DAY */

      > * {

        line-height: $datepicker-day-height;
        position: relative;
        z-index: 1;
        width: $datepicker-block-width;
        height: $datepicker-day-height;
        text-align: center;

        /* BEFORE */

        &:before {
          @include center-absolute ( $datepicker-day-circle-size, $datepicker-day-circle-size );
          z-index: -1;
          width: $datepicker-day-circle-size;
          height: $datepicker-day-circle-size;
          content: '';
          border-radius: 50%;
          background-color: transparent;
        }

        /* TODAY */

        &.datepicker-day-today {

          color: $datepicker-day-today-color;

          /* BEFORE */

          &:before {
            background-color: $datepicker-day-today-circle-color;
          }

        }

        /* SELECTED */

        &.datepicker-day-selected {

          color: $datepicker-day-selected-color;
          transition: color $datepicker-transition-all-duration;

          /* BEFORE */

          &:not(.previous):not(.next):not(.datepicker-day-clamped):before {
            @include z-depth ( $datepicker-day-selected-z-depth );
          }

          &:before {
            background-color: $datepicker-day-selected-circle-color;
            transition-property: box-shadow, background-color;
            transition-duration: $datepicker-transition-all-duration;
          }

        }

      }

      /* PREVIOUS / NEXT */

      .previous,
      .next {
        opacity: $datepicker-day-prev-next-opacity;
      }

      /* CLAMPED */

      .datepicker-day-clamped {
        opacity: $datepicker-day-clamped-opacity;
      }

      /* DAY */

      :not(.previous):not(.next):not(.datepicker-day-clamped) {
        cursor: pointer;
      }

    }

  }

  /* ENABLED */

  &:not(.disabled) {

    /* DAY */

    .datepicker-calendar .datepicker-days > :not(.previous):not(.next):not(.datepicker-day-clamped) {

      /* HOVER */

      &:not(.datepicker-day-selected):hover {

        color: $datepicker-day-hover-color;

        /* BEFORE */

        &:before {
          background-color: $datepicker-day-hover-circle-color;
        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Divider - Block
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* BLOCK */

.divider.block {

  margin-bottom: $gutter;
  text-align: center;

  /* CONTENT */

  > .divider-content {
    @include color ( $divider-block-color );
    @include last-child-no-gutter ();
    display: inline-block;
    padding: $divider-block-vertical-padding $divider-block-horizontal-padding;
    border-radius: 10000px 10000px;
  }

}


/* =========================================================================
 * Svelto - Divider - Hr
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * ========================================================================= */

/* HR */

hr {
  z-index: $hr-z-index;
  height: $hr-height;
  margin-top: - $gutter-half !important;
  margin-bottom: $gutter-half !important;
  border: none;
  background-color: $hr-bg-color;
}


/* =========================================================================
 * Svelto - Divider - Linear
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../hr/hr.scss
 * ========================================================================= */

/* LINEAR */

//FIXME: If we put an infobar inside a divider it doesn't get displayed well in Edge / IE10-11
//FIXME: It doesn't work in IE10
//FIXME: Don't make `.vertical` inherit `:not(.vertical)` properties

.divider.linear,
.divider:not(.block):not(.text):not(.spacer) { // The default one

  /* EMPTY */

  &:empty {
    @extend hr;
  }

  /* ADVANCED */

  &:not(:empty) {

    @include last-child-no-gutter ();
    margin-bottom: $gutter;
    display: flex;
    align-items: center;

    &:before,
    &:after {
      @extend hr;
      content: '';
      margin: 0;
      flex: 1 1 0%; // IE-10-11 sets flex-shrink to 0 // IE-10-11 misinterpreter a unitless 0 flex-basis
      min-width: $gutter;
    }

    &:before {
      margin-right: $gutter;
    }

    &:after {
      margin-left: $gutter;
    }

  }

  /* VERTICAL */

  &.vertical {

    /* EMPTY */

    &:empty {
      height: auto;
      width: $hr-height;
      align-self: stretch;
      flex: 0 1; // IE-10-11 sets flex-shrink to 0
      margin: 0 $gutter-half $gutter !important;
    }

    /* ADVANCED */

    &:not(:empty) {

      flex-direction: column;
      flex: 0 1 !important; // IE-10-11 sets flex-shrink to 0
      align-self: stretch;
      // justify-content: center;
      margin: 0 $gutter-half $gutter;

      &:before,
      &:after {
        margin: 0 !important;
        min-width: 0;
        width: $hr-height;
        min-height: $gutter;
        flex-grow: 1;
        flex-shrink: 1; // IE-10-11 default it to 0 instead
      }

      &:before {
        margin-bottom: $gutter-half;
      }

      &:after {
        margin-top: $gutter-half;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Divider - Text
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* TEXT */

.divider.text {
  @include size ( $divider-text-size );
  font-weight: $divider-text-font-weight;
  margin: 0 $gutter-half $gutter-half;
  opacity: $divider-text-opacity;
}


/* =========================================================================
 * Svelto - Draggable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* DRAGGING */

.draggable-layout-dragging {
  user-select: none !important; //TODO: Maybe set it as default, and override it when selectable... but doesn't it work???
  cursor: move !important;
}

.draggable-dragging {
  cursor: move !important;
  z-index: $draggable-dragging-z-index !important;
}

/* REVERTING */

.draggable-reverting {
  transition: transform $draggable-reverting-transition-all-duration !important;
}


/* =========================================================================
 * Svelto - Dropdown
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* DROPDOWN */

.dropdown {

  @include z-depth ( $dropdown-z-depth );
  display: none;
  z-index: $dropdown-z-index;
  position: fixed;
  top: 0;
  left: 0;
  max-width: $dropdown-max-width;
  margin-bottom: 0;
  transition: opacity $dropdown-transition-all-duration;

  /* NOT CONTAINER */

  &:not(.container) {
    max-height: $dropdown-max-height;
  }

  /* MOVING */

  &.moving {

    transition: transform $dropdown-transition-all-duration;

    /* TIP */

    &:before {
      transition: transform $dropdown-transition-all-duration;
    }

  }

  /* NO TIP / ATTACHED */

  &.no-tip,
  &.attached {

    /* TIP */

    &:before {
      display: none !important;
    }

  }

  /* ATTACHED */

  &.attached {

    /* TOP */

    &.positionate-top {
      margin-bottom: - $outline-width;
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
    }

    /* BOTTOM */

    &.positionate-bottom {
      margin-top: - $outline-width;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }

    /* LEFT */

    &.positionate-left {
      margin-right: - $outline-width;
    }

    /* RIGHT */

    &.positionate-right {
      margin-left: - $outline-width;
    }

  }

  /* TIP */

  &:before {
    @include square ( $dropdown-tip-size, inherit );
    transform: rotate(45deg);
    position: absolute;
    content: '';
    z-index: 1;
    box-sizing: content-box;
  }

  // No kind of usable clip-path property is supported by IE and Edge so we are just removing the tip //FIXME: Not future proff, use feature detection instead

  _:-ms-lang(x), &:before {
    display: none;
  }

  /* TIP (OUTLINED) */

  &.outlined:before {
    border-width: $outline-width;
    border-style: solid;
    border-color: inherit;
  }

  /* TIP (POSITION-RELATED) */

  &.positionate-top {

    &:before {
      left: - ( $dropdown-tip-size / 2 );
      bottom: - ( $dropdown-tip-size / 2 );
      clip-path: url('#{$basepath}dropdown-clips.svg#clip-top'); // The polygon is not supported on Firefox
      clip-path: polygon(0 100%, 100% 100%, 100% 0);
      box-shadow: $dropdown-top-tip-box-shadow;
    }

    /* OUTLINED */

    &.outlined {

      &:before {
        margin-bottom: - $outline-width;
        margin-left: - $outline-width;
      }

    }

  }

  &.positionate-bottom {

    &:before {
      top: - ( $dropdown-tip-size / 2 );
      left: - ( $dropdown-tip-size / 2 );
      clip-path: url('#{$basepath}dropdown-clips.svg#clip-bottom'); // The polygon is not supported on Firefox
      clip-path: polygon(100% 0, 0 0, 0 100%);
      box-shadow: $dropdown-bottom-tip-box-shadow;
    }

    /* OUTLINED */

    &.outlined {

      &:before {
        margin-top: - $outline-width;
        margin-left: - $outline-width;
      }

    }

  }

  &.positionate-left {

    &:before {
      top: - ( $dropdown-tip-size / 2 );
      right: - ( $dropdown-tip-size / 2 );
      clip-path: url('#{$basepath}dropdown-clips.svg#clip-left'); // The polygon is not supported on Firefox
      clip-path: polygon(0 0, 100% 100%, 100% 0);
      box-shadow: $dropdown-left-tip-box-shadow;
    }

    /* OUTLINED */

    &.outlined {

      &:before {
        margin-right: - $outline-width;
        margin-top: - $outline-width;
      }

    }

  }

  &.positionate-right {

    &:before {
      top: - ( $dropdown-tip-size / 2 );
      left: - ( $dropdown-tip-size / 2 );
      clip-path: url('#{$basepath}dropdown-clips.svg#clip-right'); // The polygon is not supported on Firefox
      clip-path: polygon(0 0, 100% 100%, 0 100%);
      box-shadow: $dropdown-right-tip-box-shadow;
    }

    /* OUTLINED */

    &.outlined {

      &:before {
        margin-left: - $outline-width;
        margin-top: - $outline-width;
      }

    }

  }

  /* SHOW / OPEN */

  &.show,
  &.open {

    /* CARD */

    &.card {
      display: flex !important;
    }

    /* OTHER */

    &:not(.card) {
      display: block !important;
    }

  }

  /* CLOSED */

  &:not(.open) {
    opacity: 0;
  }

}

// Card dropdown max height fix for IE10+

_:-ms-input-placeholder, :root .dropdown.card {

  max-height: none;

  .card-block {
    max-height: $dropdown-max-height / 100 * 90;
  }

}


/* =========================================================================
 * Svelto - Embedded
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* EMBEDDED */

//FIXME: There's an extra pixel at the bottom of the demo video
//FIXME: If we add a border-radius it won't be used after we press play on the video

.embedded {

  @extend .widget;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;

  /* RATIOS */

  @each $ratio in $embedded-ratios {

    $width: nth($ratio, 1);
    $height: nth($ratio, 2);

    &.ratio-#{$width}-#{$height} {
      padding-bottom: ( $height * 100 / $width ) * 1%;
    }

  }

  /* IFRAME / EMBED / VIDEO / OBJECT */

  > * {
    @include fill ();
    @include fill-absolute ();
    border: 0;
  }

}


/* =========================================================================
 * Svelto - Flippable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* FLIPPABLE */

.flippable {

  @extend .widget;
  perspective: $flippable-perspective;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;

  /* FRONT / BACK */

  &-front,
  &-back {

    @include fill ();
    @include last-child-no-gutter ();
    backface-visibility: hidden;
    transition: transform $flippable-transition-flip-duration;
    border-radius: inherit;

    > :only-child {
      @include fill ();
      border-radius: inherit;
    }

  }

  /* FRONT */

  &-front {
    z-index: 1;
  }

  /* BACK */

  &-back {
    position: absolute;
    top: 0;
  }

  /* HORIZONTAL */

  &:not(.vertical) {

    /* FRONT */

    .flippable-front {
      transform: rotateY(0deg);
    }

    /* BACK */

    .flippable-back {
      transform: rotateY(-180deg);
    }

    /* FLIPPED */

    &.flipped {

      /* FRONT */

      .flippable-front {
        transform: rotateY(180deg);
      }

      /* BACK */

      .flippable-back {
        transform: rotateY(0deg);
      }

    }

  }

  /* VERTICAL */

  &.vertical {

    /* FRONT */

    .flippable-front {
      transform: rotateX(0deg);
    }

    /* BACK */

    .flippable-back {
      transform: rotateX(-180deg);
    }

    /* FLIPPED */

    &.flipped {

      /* FRONT */

      .flippable-front {
        transform: rotateX(180deg);
      }

      /* BACK */

      .flippable-back {
        transform: rotateX(0deg);
      }

    }

  }

}


/* =========================================================================
 * Svelto - Footer
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../container/container.scss
 * ========================================================================= */

/* FOOTER */

footer {
  @extend .container;
  border-radius: 0;
  background-color: $footer-bg-color;
}


/* =========================================================================
 * Svelto - formValidate
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* FORM VALIDATION MESSAGE */

.form-validate-message {

  /* INVALID */

  &.invalid {
    color: $color-error !important;
  }

  /* VALID */

  &.valid {
    color: $color-success !important;
  }

}


/* =========================================================================
 * Svelto - Fieldset
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../../widget/widget.scss
 * ========================================================================= */

/* FIELDSET */

fieldset {
  @extend .widget;
  background-color: $fieldset-bg-color;
  border-radius: $fieldset-border-radius;
  border-color: inherit;
  padding: $fieldset-padding;
}


/* =========================================================================
 * Svelto - Form
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * ========================================================================= */

/* DEFAULT */

form {

  &:not(.multiple) {
    @include last-child-no-gutter ();
    position: relative;
  }

}


/* =========================================================================
 * Svelto - Grid
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

// This generates `size-#` classes that are used for lining up the content in a grid

//FIXME: `.multiple`-related code is too ugly, and it generates too much CSS. Is it the best way to do it?

/* SIZE-# */

@each $breakpoint, $value in $breakpoints {

  $alias: nth( $breakpoints-aliases, index( map-keys( $breakpoints ), $breakpoint ) );

  @include media-breakpoint-up ( $breakpoint ) {

    @for $nr from 1 through $grid-columns {

      $percentage: ( 100% / $grid-columns ) * $nr;

      .#{alias}-#{$nr} {
        width: $percentage;
      }

      %without-gutter {
        width: calc(#{$percentage} - #{$gutter});
      }

      .multiple > .#{$alias}-#{$nr} {

        &:not(.multiple) {
          @extend %without-gutter;
        }

        &.multiple {

          &.no-wrap,
          &.vertical,
          &.joined {
            @extend %without-gutter;
          }

        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Header
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

//FIXME: Object-fit is not cross-browser

/* HEADER */

header {

  @extend .widget;

  /* BAKGROUND */

  .header-background { //TODO: Scale it, make the image fill the space
    @include fill-absolute ();
    margin: auto;
    width: 100%;
    height: 100%;
    object-fit: cover; //FIXME: Not supported by IE, not even Edge
    z-index: -1;
  }

}


/* =========================================================================
 * Svelto - Helpers - Border
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* BORDER */

.b-a-0 {
  border-width: 0 !important;
}

.b-t-0,
.b-y-0 {
  border-top-width: 0 !important;
}

.b-r-0,
.b-x-0 {
  border-right-width: 0 !important;
}

.b-b-0,
.b-y-0 {
  border-bottom-width: 0 !important;
}

.b-l-0,
.b-x-0 {
  border-left-width: 0 !important;
}

/* BORDER RADIUS */

.rounded {
  border-radius: $rounded-border-radius $rounded-border-radius !important;
}

.smooth {
  border-radius: $smooth-border-radius !important;
}

.sharp {
  border-radius: $sharp-border-radius !important;
}


/* =========================================================================
 * Svelto - Helpers - Center
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* CENTERER */

.centerer {

  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: $gutter;

  > :last-child {
    margin-bottom: 0 !important;
  }

}

/* CENTERED */

.centered:not(.multiple) { //TODO: Move it to it's own decorator
  @include center-margin ();
}


/* =========================================================================
 * Svelto - Helpers - Display
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* DISPLAY */

.show {
  display: block !important;
}

.hidden {
  display: none !important;
}


/* =========================================================================
 * Svelto - Helpers - Flexbox - Grow
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* GROW */

.grow {
  flex-grow: 1 !important;
}

.no-grow {
  flex-grow: 0 !important;
}


/* =========================================================================
 * Svelto - Helpers - Flexbox - Shrink
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* SHRINK */

.shrink {
  flex-shrink: 1 !important;
}

.no-shrink {
  flex-shrink: 0 !important;
}


/* =========================================================================
 * Svelto - Helpers - Flip
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* FLIP */

.flip-x {
  transform: rotateY(180deg) !important;
}

.flip-y {
  transform: rotateX(180deg) !important;
}

.flip {
  transform: rotateY(180deg) rotateX(180deg) !important;
}


/* =========================================================================
 * Svelto - Helpers - Float
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* FLOAT */

.float-left {
  float: left !important;
}

.float-right {
  float: right !important;
}


/* =========================================================================
 * Svelto - Helpers - Margin
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* MARGIN */

.m-a-0 {
  margin: 0 !important;
}

.m-t-0,
.m-y-0 {
  margin-top: 0 !important;
}

.m-r-0,
.m-x-0 {
  margin-right: 0 !important;
}

.m-b-0,
.m-y-0 {
  margin-bottom: 0 !important;
}

.m-l-0,
.m-x-0 {
  margin-left: 0 !important;
}


/* =========================================================================
 * Svelto - Helpers - Others
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

//TODO: Move to their own, more appropriate, files

/* OTHERS */

.spacer {
  flex-grow: $spacer-flex-grow !important;
  flex-shrink: 1; // IE-10-11 default it to 0 instead
  margin-bottom: $gutter;
}

.limited:not(.multiple) { //TODO: Move it to it's own decorator

  @if $max-width-enabled {

    @include center-margin ( $max-width );

  }

}

.actionable:not(.disabled):not(.dragging) { //TODO: Move it to it's own decorator
  cursor: pointer;
}


/* =========================================================================
 * Svelto - Helpers - Overflow
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* OVERFLOW */

.overflow-visible {
  overflow: visible !important;
}

.overflow-hidden {
  overflow: hidden !important;
}


/* =========================================================================
 * Svelto - Helpers - Padding
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* PADDING */

.p-a-0 {
  padding: 0 !important;
}

.p-t-0,
.p-y-0 {
  padding-top: 0 !important;
}

.p-r-0,
.p-x-0 {
  padding-right: 0 !important;
}

.p-b-0,
.p-y-0 {
  padding-bottom: 0 !important;
}

.p-l-0,
.p-x-0 {
  padding-left: 0 !important;
}


/* =========================================================================
 * Svelto - Helpers - Rotation
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* ROTATION */

.rotate-left {
  transform: rotate(-90deg) !important;
}

.rotate-right {
  transform: rotate(90deg) !important;
}

.rotating { //TODO: Maybe move to an _helpers_animations
  animation: rotate $rotating-animation-duration linear infinite !important;
}


/* =========================================================================
 * Svelto - Helpers - Text
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* TEXT ALIGNMENT */

.text-left {
  justify-content: flex-start !important;
  text-align: left !important;
}

.text-center {
  justify-content: center !important;
  text-align: center !important;
}

.text-right {
  justify-content: flex-end !important;
  text-align: right !important;
}

.text-justify {
  text-align: justify !important;
}

/* TEXT TRANSFORMATION */

.text-lowercase {
  text-transform: lowercase !important;
}

.text-uppercase {
  text-transform: uppercase !important;
}

.text-capitalize {
  text-transform: capitalize !important;
}

/* OTHERS */

.text-nowrap,
.text-no-wrap {
  white-space: nowrap !important;
}

.text-ellipsis,
.truncate {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%; // Fixes a bug in IE 10
}


/* =========================================================================
 * Svelto - Helpers - Visibility
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* VISIBILITY */

.visible {
  visibility: visible !important;
}

.invisible {
  visibility: hidden !important;
}


/* =========================================================================
 * Svelto - Highlight
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* HIGHLIGHT:AFTER */

%highlight-after {
  @include fill-absolute ();
  z-index: $highlight-z-index;
  content: '';
  pointer-events: none;
  border-width: 0;
  border-style: solid;
  border-radius: inherit;
}

/* HIGHLIGHT */

.highlighted {

  &:after {
    @extend %highlight-after;
  }

  /* STYLES */

  &.highlight-solid:after {
    border-style: solid;
  }

  &.highlight-dotted:after {
    border-style: dotted;
  }

  &.highlight-dashed:after {
    border-style: dashed;
  }

  /* DIRECTIONS */

  &.highlight-top,
  &.highlight-all {

    &:after {
      border-top-width: $highlight-size;
    }

    /* OUTLINED */

    &.outlined:after {
      top: - $outline-width;
    }

  }

  &.highlight-right,
  &.highlight-all {

    &:after {
      border-right-width: $highlight-size;
    }
    /* OUTLINED */

    &.outlined:after {
      right: - $outline-width;
    }

  }

  &.highlight-bottom,
  &.highlight-all,
  &:not(.highlight-top):not(.highlight-right):not(.highlight-left) { // Default direction if no one has been specified

    &:after {
      border-bottom-width: $highlight-size;
    }

    /* OUTLINED */

    &.outlined:after {
      bottom: - $outline-width;
    }

  }

  &.highlight-left, &.highlight-all {

    &:after {
      border-left-width: $highlight-size;
    }

    /* OUTLINED */

    &.outlined:after {
      left: - $outline-width;
    }

  }

  /* COLORS */

  @each $name, $datas in $colors {

    $bg: nth($datas, 1);

    &.highlight-#{$name}:after {
      border-color: $bg !important;
    }

  }

}


/* =========================================================================
 * Svelto - Image
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * @require ../container/container.scss
 * ========================================================================= */

/* DEFAULT */

img {
  @extend .widget;
  $colors: map-get($colors, $image-color);
  $border: nth($colors, 4);
  display: flex;
  border-color: $border;
  width: 100%;
  height: auto;
  min-height: 1px; // It fixes a bug in IE11 where the images are stretched vertically
}

p > img,
span > img {
  display: inline-flex;
  vertical-align: middle;
  max-width: 100%;
  width: auto;
  margin-bottom: 0 !important;
}

/* IMAGE */

.image-wrp {

  @extend .widget;
  @include color ( $image-color );
  display: flex;
  flex-direction: column;
  min-height: 1px; // It fixes a bug in IE11 where the images are stretched vertically

  /* LINK */

  > a {
    margin-bottom: 0 !important;
  }

  /* IMAGE */

  img {
    order: 2;
    border-radius: inherit;
    margin-bottom: 0 !important;
  }

  /* CAPTION */

  .image-caption {

    @extend .container;
    @include color ( $image-caption-color );
    border-radius: 0;
    margin-bottom: 0;
    overflow: auto;

    &:not(.attached) {

      position: absolute;
      z-index: $image-caption-z-index;
      left: 0;
      right: 0;

      &.on-hover {
        opacity: 0;
        transition: opacity $image-caption-transition-opacity-duration;
      }

      &:not(.top) {
        bottom: 0;
      }

      &.top {
        top: 0;
      }

    }

    &.attached {

      &:not(.top) {
        order: 3;
      }

      &.top {
        order: 1;
      }

    }

    &:not(.top) {
      @include border-bottom-radius ( inherit );
    }

    &.top {
      @include border-top-radius ( inherit );
    }

  }

  &:hover .image-caption:not(.attached).on-hover {
    opacity: 1;
  }

  &.disabled .image-caption:not(.attached).on-hover,
  .disabled & .image-caption:not(.attached).on-hover {
    display: none;
  }

}


/* =========================================================================
 * Svelto - Infobar
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../container/container.scss
 * ========================================================================= */

/* INFOBAR */

//FIXME: It doesn't work really good on mobile
//TODO: Add support for .infobar-title and .infobar-subtitle also outside of the .infobar-center, in order to simplify the markup

.infobar {

  @extend .container;
  display: flex;
  flex-wrap: wrap;
  align-items: center;

  /* INSET */

  &.inset {
    padding: 0;
  }

  /* SECTIONS */

  > * {
    @include last-child-no-gutter ();
    margin-bottom: 0 !important;
  }

  /* SECTIONS GUTTER */

  > :not(:first-child):not(.infobar-title):not(.infobar-subtitle):not(.infobar-bottom) {
    margin-left: $gutter;
  }

  /* LEFT */

  &-left {
    flex-shrink: 0;
    order: 0;
  }

  /* CENTER */

  &-center {
    flex-grow: 1;
    flex-shrink: 1; // IE-10-11 default it to 0 instead
    flex-basis: 0;
    order: 1;
  }

  /* RIGHT */

  &-right {
    flex-shrink: 0;
    order: 2;
  }

  /* BOTTOM */

  &-bottom { //FIXME: Cannot be used for not 100% wider elements, or the .infobar will be bigger than needed (for instance take a look at `noty`)
    order: 3;
    width: 100%;
    margin-top: $gutter;
  }

  /* TITLE / SUBTITLE */

  &-title,
  &-subtitle {
    @include last-child-no-gutter ();
    display: flex;
    margin-bottom: 0 !important;
  }

  /* TITLE */

  &-title {
    @include size ( $infobar-title-size );
  }

}


/* =========================================================================
 * Svelto - Label - Badge
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../label.scss
 * ========================================================================= */

/* BADGE */

//TODO: Maybe move to it's own component

.label.badge {

  position: absolute;
  margin: 0;

  &.top-left {
    top: $label-badge-spacing;
    left: $label-badge-spacing;
  }

  &.top-right,
  &:not(.top-left):not(.bottom-left):not(.bottom-right) { // Default case
    top: $label-badge-spacing;
    right: $label-badge-spacing;
  }

  &.bottom-left {
    bottom: $label-badge-spacing;
    left: $label-badge-spacing;
  }

  &.bottom-right {
    bottom: $label-badge-spacing;
    right: $label-badge-spacing;
  }

}


/* =========================================================================
 * Svelto - Label - Floating
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../label.scss
 * ========================================================================= */

/* FLOATING */

.label.floating {

  //TODO: Add it while scrolling to bottom, show him when scrolling to top
  //TODO: Add sub floating actions

  @include z-depth ( $label-floating-z-depth );
  position: fixed;
  z-index: $label-floating-z-index;
  right: $label-floating-right;
  bottom: $label-floating-bottom;
  margin-bottom: 0;
  padding: $label-floating-padding-vertical $label-floating-padding-horizontal;
  min-height: $line-height-em + ( $label-floating-padding-vertical * 2 );
  min-width: $line-height-em + ( $label-floating-padding-horizontal * 2 );

  /* COMPACT */

  &.compact {
    padding: $label-floating-compact-padding-vertical $label-floating-compact-padding-horizontal;
    min-height: $line-height-em + ( $label-floating-compact-padding-vertical * 2 );
    min-width: $line-height-em + ( $label-floating-compact-padding-horizontal * 2 );
  }

}


/* =========================================================================
 * Svelto - Label - Ribbon
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../label.scss
 * ========================================================================= */

/* RIBBON */

//TODO: Maybe move it to it's own component

.label.ribbon {

  /* BEFORE / AFTER */

  &.ribbon-left:before,
  &.ribbon-right:after {
    position: absolute;
    z-index: -1;
    content: '';
    border: $label-ribbon-size solid transparent;
    border-top-color: inherit;
    bottom: - $label-ribbon-size * 2;
  }

  /* LEFT */

  &.ribbon-left {

    @include border-left-radius ( 0 );
    left: - ( $gutter + ( $label-ribbon-size * 2 ) );
    padding-left: calc(#{$label-padding-horizontal} + #{$gutter});

    &:before {
      left: 0;
      border-right-color: inherit;
    }

  }

  /* LEFT & RIGHT */

  &.ribbon-left.ribbon-right {
    width: calc(100% + #{( $gutter * 2 ) + ( $label-ribbon-size * 4)});
  }

  /* RIGHT */

  &.ribbon-right {

    @include border-right-radius ( 0 );
    padding-right: calc(#{$label-padding-horizontal} + #{$gutter});

    &:after {
      right: 0;
      border-left-color: inherit;
    }

  }

  /* ONLY RIGHT */

  //FIXME: It is a pixel too far

  &.ribbon-right:not(.ribbon-left) {
    left: calc(100% + #{( $gutter * 2 ) + $label-ribbon-size});
    transform: translateX(-100%);
  }

  /* OUTLINED */

  &.outlined {

    /* BEFORE / AFTER */

    &.ribbon-left:before,
    &.ribbon-right:after {
      bottom: - ( $label-ribbon-size * 2 + $outline-width );
    }

    /* BEFORE */

    &.ribbon-left:before {
      left: - $outline-width;
    }

    /* AFTER */

    &.ribbon-right:after {
      right: - $outline-width;
    }

  }

}


/* =========================================================================
 * Svelto - Layout
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* LAYOUT */

.layout {

  position: relative;
  margin: 0 0 $gutter;
  display: flex;
  flex-direction: column;
  align-items: stretch;

  /* HEADER / CONTENT / FOOTER */

  &-header,
  &-content,
  &-footer {
    @include last-child-no-gutter ();
    margin-bottom: 0;
    border-radius: 0;
  }

  /* HEADER / FOOTER */

  &-header,
  &-footer {
    flex-shrink: 0; // So that if needed only `.layout-content` shrinks
  }

  /* HEADER */

  &-header {

    /* FIXED */

    &.fixed {

      position: fixed;
      z-index: $layout-header-fixed-z-index;
      top: 0;
      right: 0;
      left: 0;

      + .layout-content { //FIXME: This shouldn't be needed, in no way the value it should be fixed in a setting
        margin-top: $layout-header-height;
      }

    }

  }

  /* CONTENT */

  &-content {
    padding: $gutter;
    flex: 1 1; // IE-10-11 sets flex-shrink to 0
  }

}

/* BODY LAYOUT */

body.layout {

  min-height: 100%;
  width: 100%;
  margin-bottom: 0;

  // Sticky footer at bottom fix for IE10+
  // We can't just use the following style because under iOS's Safari it will cause the footer to bo beyond the actual visible viewport height

  _:-ms-input-placeholder, :root & {
    min-height: 100vh;
  }

}


/* =========================================================================
 * Svelto - Modal
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* MODAL */

//FIXME: How does an overlay inside a modal work? Maybe it's buggy
//FIXME: Not centered on Dolphin Browser, probably translateX doesn't work, strange

//FIXME: Not working on iPod's Safari

// In theory pretty much everything can be a modal but it works as expected with `card` and `card`-like markups

.modal {

  @include z-depth ( $modal-z-depth );
  transform: translate(-50%, -50%) scale(1);
  top: 50%;
  left: 50%;
  display: none;
  position: fixed;
  z-index: $modal-z-index;
  transition-property: transform, opacity;
  transition-duration: $modal-transition-all-duration;
  margin: 0;
  cursor: pointer;
  overflow: visible !important; // Since we need the pseudo element to be showed

  /* CHILDREN */

  > * {
    cursor: auto;
  }

  /* BEFORE (BACKGROUND) */

  &:before {
    content: '';
    position: absolute;
    width: 400vw;
    height: 400vh;
    top: -200vh;
    left: -200vw;
    z-index: -1;
    background-color: $modal-background-color;
  }

  /* NOT FULLSCREEN */

  &:not(.fullscreen) {
    max-width: $modal-max-width;
    max-height: $modal-max-height; //FIXME: On iOS a value of 100vh will exceed the actual visible viewport, maybe instead of using vw and vh center using fill-absolute and margin: auto, but apply some positive values to the top, right, bottom and left properties, it should work, maybe...
  }

  /* FULLSCREEN */

  &.fullscreen {
    border-width: 0;
    border-radius: 0;
    width: 100vw;
    height: 100vh;
  }

  /* SHOW / OPEN */

  &.show,
  &.open {
    display: flex !important;
  }

  /* CLOSED */

  &:not(.open) {
    opacity: 0;
    transform: translate(-50%, -50%) scale($modal-closed-scale);
  }

}


/* =========================================================================
 * Svelto - Multiple
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* MULTIPLE */

//TODO: Add a 'lefted', 'righted' (like 'centered') classes for aligning the content to the left or right

.multiple {

  border-color: inherit; // So that when the children also inherit the border color is actually inherited
  position: relative;
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;

  /* HORIZONTAL GUTTER */

  &:not(.no-wrap):not(.vertical):not(.joined) { // Here the gutter is needed

    @include margin-horizontal ( - $gutter-half );

    > * {
      @include margin-horizontal ( $gutter-half );
    }

  }

  &.no-wrap:not(.joined):not(.vertical) > :not(.multiple) { // Here we just need the gutter in between

    &:not(:first-child) {
      margin-left: $gutter-half;
    }

    &:not(:last-child) {
      margin-right: $gutter-half;
    }

  }

  &.vertical > .multiple {

    @include margin-horizontal ( 0 !important ); //FIXME: We shouldn't use `!important`

    > :first-child {
      margin-left: 0;
    }

    > :last-child {
      margin-right: 0;
    }

  }

  /* CENTERED */

  &.centered-x,
  &.centered {
    justify-content: center;
  }

  &.centered-y,
  &.centered {
    align-items: center;
  }

  /* LIMITED */

  &.limited { //FIXME: It's not perfect... It's padded by the gutter, fix it if possible, or just remove it

    @if $max-width-enabled {

      max-width: $max-width;

      @include min-screen ( $max-width ) {
        @include margin-horizontal ( auto !important );
        display: flex;
      }

    }

  }

  /* NO WRAP */

  &.no-wrap {
    flex-wrap: nowrap;
  }

  /* FLUID / EQUAL */

  &.fluid,
  &.equal {

    &:not(.vertical) {

      > * {
        flex-grow: 1;
        flex-shrink: 0;
      }

      > input,
      > textarea {
        flex-basis: 0%; // IE-10-11 misinterpreter a unitless 0 flex-basis
      }

    }

    &.vertical > * {
      width: 100%;
    }

  }

  /* EQUAL */

  &.equal > * {
    flex-basis: 0%; // IE-10-11 misinterpreter a unitless 0 flex-basis
  }

  /* JOINED */

  &.joined {

    flex-wrap: nowrap;
    align-items: stretch;

    &:not(.vertical) {

      > :not(:last-child) {

        @include border-right-radius ( 0 !important );
        margin-right: 0;
        border-right-width: 0;

        &.multiple > :last-child {
          @include border-right-radius ( 0 !important );
        }

      }

      > :not(:first-child) {

        @include border-left-radius ( 0 !important );
        margin-left: 0;

        &.multiple > :not(:last-child) {
          @include border-left-radius ( 0 !important );
        }

      }

      &.no-separators {

        > :not(:first-child) {

          border-left-width: 0;

          &.multiple > * {
            border-left-width: 0;
          }

        }

      }

    }

    &.vertical {

      > :not(:last-child) {

        @include border-bottom-radius ( 0 !important );
        margin-bottom: 0;
        border-bottom-width: 0;

        &.multiple > * {
          @include border-bottom-radius ( 0 !important );
        }

        &.multiple.no-wrap > *,
        &.multiple.joined > * {
          margin-bottom: 0;
          border-bottom-width: 0;
        }

      }

      > :not(:first-child) {

        @include border-top-radius ( 0 !important );

        &.multiple > * {
          @include border-top-radius ( 0 !important );
        }

      }

      &.no-separators {

        > :not(:first-child) {

          border-top-width: 0;

          &.multiple > * {
            border-top-width: 0;
          }

        }

      }

    }

  }

  /* STRETCHED */

  &.stretched {

    align-items: stretch;

    > .multiple.vertical {

      display: flex;

      > * {
        flex-grow: 1;
        flex-shrink: 1; // IE-10-11 default it to 0 instead
      }

    }

  }

  /* VERTICAL */

  &.vertical {
    flex-direction: column;
  }

  /* HORIZONTAL GUTTER */

  > .multiple.no-wrap {

    &:not(:first-child) {
      margin-left: $gutter-half;
    }

    &:not(:last-child) {
      margin-right: $gutter-half;
    }

  }

}

/* MULTIPLE IN TABLE CELL */

table > :not(tfoot) td .multiple:only-child { // Here the `multiple` shouldn't take as much space as possible (`display: flex`) but just the required, so that the columns can be better spaced //FIXME: It's ugly
  display: inline-flex;
}


/* =========================================================================
 * Svelto - Noty
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../infobar/infobar.scss
 * ========================================================================= */

//TODO: Make noty scrollables, maybe, so that in no case they will fill up the entire screen
//TODO: Add transparentize back, in a wise, space-efficient way

/* NOTY */

.noty {

  @include z-depth ( $noty-z-depth );
  border-radius: $noty-border-radius;
  pointer-events: auto;
  transition-property: opacity, font-size, padding, margin;
  transition-duration: $noty-transition-all-duration;
  transform: translateZ(0);

  /* INFOBAR */

  .infobar {
    background-color: transparent;
    color: inherit;
    margin-bottom: 0;
    border-radius: inherit;
  }

  /* BUTTONS */

  &-buttons {
    padding-left: $gutter;
    padding-right: $gutter;
  }

  /* IMG */

  &-img {

    width: $noty-img-size;

    @if $noty-img-rounded == true {
      border-radius: 10000px 10000px;
    } @else {
      border-radius: $noty-border-radius;
    }

  }

  /* CLOSED */

  &:not(.open) {
    opacity: 0;
    font-size: 0; //FIXME: this one should be enough for both padding and margin, but we are not using ems everywhere
    padding: 0;
    margin: 0;
  }

}


/* =========================================================================
 * Svelto - Noty - Queue
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../noty.scss
 * ========================================================================= */

//FIXME: The columns doesn't shrink when necessary in IE-10-11

/* QUEUE */

.noty-queue {

  display: flex;

  /* LEFT */

  &.left {

    align-items: flex-start;

    &:not(:empty) {
      margin-left: $gutter;
    }

  }

  /* CENTER */

  &.center {

    align-items: center;
    margin-right: $gutter;
    margin-left: $gutter;

    &:empty {
      margin-right: $gutter-half;
      margin-left: $gutter-half;
    }

  }

  /* RIGHT */

  &.right {

    align-items: flex-end;

    &:not(:empty) {
      margin-right: $gutter;
    }

  }

  /* EXPANDED */

  &.expanded {
    @include noty-queue-expand ();
  }

}


/* =========================================================================
 * Svelto - Noty - Queues
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../noty.scss
 * @require ../queue/queue.scss
 * ========================================================================= */

/* QUEUES */

.noty-queues {

  position: fixed;
  display: flex;
  left: 0;
  right: 0;
  flex-wrap: wrap;
  width: 100%;
  pointer-events: none;

  /* TOP */

  &.top {

    top: 0;

    /* ROW */

    .noty-queues-row {
      align-items: flex-start;
    }

    /* QUEUE */

    .noty-queue {

      flex-direction: column;

      /* NOTY */

      .noty {
        margin-top: $gutter;
      }

      /* EXPANDED */

      &.expanded .noty {
        border-top-width: 0;
        border-bottom-width: $outline-width;
        border-bottom-style: solid;
      }

    }

  }

  /* BOTTOM */

  &.bottom {

    bottom: 0;

    /* ROW */

    .noty-queues-row {
      align-items: flex-end;
    }

    /* QUEUE */

    .noty-queue {

      flex-direction: column-reverse;

      /* NOTY */

      .noty {
        margin-bottom: $gutter;
      }

      /* EXPANDED */

      &.expanded .noty {
        border-bottom-width: 0;
        border-top-width: $outline-width;
        border-top-style: solid;
      }

    }

  }

  /* ROW */

  &-row {
    display: flex;
    justify-content: space-between;
    width: 100%;
  }

}

// IE-10-11 Fix so that noties won't expand over the viewport

_:-ms-input-placeholder, :root .noty-queues  {

  /* TOP */

  &.top {

    /* ROW */

    .noty-queues-row {
      flex-direction: column;
    }

  }

  /* BOTTOM */

  &.bottom {

    /* ROW */

    .noty-queues-row {
      flex-direction: column;
    }

  }

  /* QUEUES ROW */

  .noty-queues-row {
    align-items: flex-start;
  }

  /* QUEUE */

  .noty-queue:not(.expanded) {

    width: calc(100% - #{$gutter * 2});
    margin-right: $gutter;

    /* NOTY */

    .noty {
      max-width: 100%;
    }

  }

}


/* =========================================================================
 * Svelto - Noty - Autoexpand
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../noty.scss
 * @require ../queues/queues.scss
 * @require ../queue/queue.scss
 * ========================================================================= */

/* AUTOEXPAND */

@include max-screen ( $noty-autoexpand-width ) {

  /* QUEUES */

  .noty-queues {

    // @include z-depth ( $noty-z-depth ); //FIXME: We should attach the z-depth only if actually there are some noties

    /* TOP */

    &.top {

      /* ROW */

      .noty-queues-row {
        flex-direction: column;
      }

      /* NOTY */

      .noty {
        border-top-width: 0;
        border-bottom-width: $outline-width;
        border-bottom-style: solid;
      }

    }

    /* BOTTOM */

    &.bottom {

      /* ROW */

      .noty-queues-row {
        flex-direction: column-reverse;
      }

      /* NOTY */

      .noty {
        border-bottom-width: 0;
        border-top-width: $outline-width;
        border-top-style: solid;
      }

    }

  }

  /* QUEUE */

  .noty-queue {
    @include noty-queue-expand ();
    box-shadow: none !important;
  }

}


/* =========================================================================
 * Svelto - Outline
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* OUTLINE */

.outlined {

  border-width: $outline-width;
  border-style: $outline-style;

  /* STYLES */

  &.outline-solid {
    border-style: solid;
  }

  &.outline-dotted {
    border-style: dotted;
  }

  &.outline-dashed {
    border-style: dashed;
  }

  /* COLORS */

  @each $name, $datas in $colors {

    $bg: nth($datas, 1);

    &.outline-#{$name} {
      border-color: $bg !important;
    }

  }

}


/* =========================================================================
 * Svelto - Overlay
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

// An overlay must be the :first-child among it's siblings, so that we can control their opacity via `~ *`
//FIXME: For some reasons the `padding-bottom` is missing, when the .overlay.container has to scroll

/* OVERLAY */

.overlay {

  @include center-absolute-fill ();
  @include last-child-no-gutter ();
  z-index: $overlay-z-index;
  display: none;
  opacity: 0;
  transition: opacity $overlay-transition-opacity-duration;
  background-color: transparent;
  border-radius: inherit;

  /* OUTLINED PARENT */

  .outlined > & {
    top: - $outline-width;
    right: - $outline-width;
    bottom: - $outline-width;
    left: - $outline-width;
  }

  /* CONTAINER */

  &.container {
    overflow: auto;
  }

  /* SIBLINGS */

  ~ * {
    transition: opacity $overlay-siblings-transition-opacity-duration; // It interferes with other widgets probably //FIXME
  }

  /* DIMMER */

  &.dimmer {
    @include color ( $overlay-dimmer-color );
    background-color: $overlay-dimmer-background-color;
  }

  /* BLURRER */

  &.blurrer {

    /* SIBLINGS */

    ~ * {
      transition-property: opacity, filter !important;
      transition-duration: $overlay-siblings-transition-opacity-duration !important;
    }

  }

  /* SHOW / OPEN */

  &.show,
  &.open {
    display: flex !important;
  }

  /* OPEN */

  &.open {

    opacity: 1;

    /* SIBLINGS */

    ~ * {
      opacity: $overlay-siblings-opacity;
    }

    /* BLURRER */

    &.blurrer {

      /* SIBLINGS */

      ~ * {
        @extend %blurred;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Pager
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

//FIXME: There's a bug in Yandex browser, when doing `justify-content: space-between` the first elemenet doesn't move to the left

/* PAGER */

.pager {

  display: flex;

  /* NEXT */

  > :nth-child(2),
  > .next {
    margin-left: auto;
  }

}


/* =========================================================================
 * Svelto - Panel
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../layout/layout.scss
 * ========================================================================= */

//TODO: Add a class that makes the panel stays below the toolbar, in that case the toolbar should have an higher z-index than the panel probably, or maybe pulling it down it's enough (probably not since the background is much larger than the visible part)

//TODO: Not working on Dolphin browser
//FIXME: Not working on iPod's Safari

/* PANEL */

.panel {

  @include z-depth ( $panel-z-depth );
  display: none;
  position: fixed;
  z-index: $panel-z-index;
  margin-bottom: 0;
  border-radius: 0;
  transition: transform $panel-transition-transform-duration;
  overflow: visible !important; // Since we need the pseudo element to be showed

  /* LEFT / RIGHT */

  &.left,
  &.right,
  &:not(.top):not(.bottom) { // Default case
    top: 0;
    bottom: 0;
  }

  /* LEFT */

  &.left,
  &:not(.right):not(.top):not(.bottom) { // Default case
    left: 0;
  }

  /* RIGHT */

  &.right {
    right: 0;
  }

  /* TOP / BOTTOM */

  &.top,
  &.bottom {
    right: 0;
    left: 0;
  }

  /* TOP */

  &.top {
    top: 0;
  }

  /* BOTTOM */

  &.bottom {
    bottom: 0;
  }

  /* SHOW */

  &.show {
    display: flex !important;
  }

  /* OPEN */

  &.open {

    transform: translateX(0) translateY(0) !important;

    /* BEFORE (BACKGROUND) */

    &:before {
      opacity: 1;
    }

  }

  /* PINNED */

  &.pinned {

    @include z-depth ( $panel-pinned-z-depth );

    /* BEFORE (BACKGROUND) */

    &:before {
      display: none;
      opacity: 0;
    }

  }

  /* BEFORE (BACKGROUND) */

  &:before {
    content: '';
    position: absolute;
    opacity: 0;
    width: 400vw;
    height: 400vh;
    top: -200vh;
    left: -200vw;
    z-index: -1;
    cursor: pointer;
    background-color: $panel-background-color;
    transition: opacity $panel-background-transition-opacity-duration;
  }

}

/* LAYOUT */

//FIXME: Maybe use an additional class for enabling the animations we need, or me may conflict with other components

.layout {

  transition: padding $panel-transition-transform-duration;

  > .layout-header.fixed {
    transition-property: top, right, bottom, left;
    transition-duration: $panel-transition-transform-duration;
  }

}


/* =========================================================================
 * Svelto - Panel - Default
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../panel.scss
 * @require ../../layout/layout.scss
 * ========================================================================= */

/* DEFAULT */

.panel,
.panel.default { // Explicitly enforcing the type

  /* LEFT / RIGHT */

  &.left,
  &.right,
  &:not(.top):not(.bottom) { // Default case
    width: $panel-default-vertical-width;
  }

  /* LEFT */

  &.left,
  &:not(.right):not(.top):not(.bottom) { // Default case
    transform: translateX(- $panel-default-closed-vertical-spacing);
  }

  /* RIGHT */

  &.right {
    transform: translateX($panel-default-closed-vertical-spacing);
  }

  /* TOP / BOTTOM */

  &.top,
  &.bottom {
    height: $panel-default-horizontal-height;
  }

  /* TOP */

  &.top {
    transform: translateY(- $panel-default-closed-horizontal-spacing);
  }

  /* BOTTOM */

  &.bottom {
    transform: translateY($panel-default-closed-horizontal-spacing);
  }

}

/* LAYOUT */

.layout {

  &.panel-default-pinned-left {

    padding-left: $panel-default-vertical-width;

    > .layout-header.fixed {
      left: $panel-default-vertical-width;
    }

  }

  &.panel-default-pinned-right {

    padding-right: $panel-default-vertical-width;

    > .layout-header.fixed {
      right: $panel-default-vertical-width;
    }

  }

  &.panel-default-pinned-top {

    padding-top: $panel-default-horizontal-height;

    > .layout-header.fixed {
      top: $panel-default-horizontal-height;
    }

  }

  &.panel-default-pinned-bottom {
    padding-bottom: $panel-default-horizontal-height;
  }

}


/* =========================================================================
 * Svelto - Panel - Slim
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../panel.scss
 * @require ../../layout/layout.scss
 * ========================================================================= */

/* SLIM */

.panel.slim {

  /* LEFT / RIGHT */

  &.left,
  &.right,
  &:not(.top):not(.bottom) { // Default case
    width: $panel-slim-vertical-width;
  }

  /* LEFT */

  &.left,
  &:not(.right):not(.top):not(.bottom) { // Default case
    transform: translateX(- $panel-slim-closed-vertical-spacing);
  }

  /* RIGHT */

  &.right {
    transform: translateX($panel-slim-closed-vertical-spacing);
  }

  /* TOP / BOTTOM */

  &.top,
  &.bottom {
    height: $panel-slim-horizontal-height;
  }

  /* TOP */

  &.top {
    transform: translateY(- $panel-slim-closed-horizontal-spacing);
  }

  /* BOTTOM */

  &.bottom {
    transform: translateY($panel-slim-closed-horizontal-spacing);
  }

}

/* LAYOUT */

.layout {

  &.panel-slim-pinned-left {

    padding-left: $panel-slim-vertical-width;

    > .layout-header.fixed {
      left: $panel-slim-vertical-width;
    }

  }

  &.panel-slim-pinned-right {

    padding-right: $panel-slim-vertical-width;

    > .layout-header.fixed {
      right: $panel-slim-vertical-width;
    }

  }

  &.panel-slim-pinned-top {

    padding-top: $panel-slim-horizontal-height;

    > .layout-header.fixed {
      top: $panel-slim-horizontal-height;
    }

  }

  &.panel-slim-pinned-bottom {
    padding-bottom: $panel-slim-horizontal-height;
  }

}


/* =========================================================================
 * Svelto - Parallax
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* PARALLAX */

//FIXME: Not working on Firefox, Edge and IE
//TODO: Add a non scrollable, classic, parallax that react the mouse movements

.parallax {

  @extend .widget;
  height: $parallax-height;
  overflow-x: hidden;
  overflow-y: auto;
  perspective: $parallax-perspective;

  /* LAYERS */

  &-layers {
    position: relative;
    height: 100%;
    transform-style: preserve-3d;
  }

  /* LAYER */

  &-layer {

    @include fill-absolute ();

    /* LAYER LEVEL */

    &-deep {
      transform: translateZ($parallax-deep-translate-z) scale($parallax-deep-scale);
      z-index: 1;
    }

    &-background {
      transform: translateZ($parallax-background-translate-z) scale($parallax-background-scale);
      z-index: 2;
    }

    &-base {
      transform: translateZ(0);
      z-index: 3;
    }

    &-foreground {
      transform: translateZ($parallax-foreground-translate-z) scale($parallax-foreground-scale);
      z-index: 4;
    }

  }

  /* SAMPLE CONTENT */

  &-content-sample { //FIXME: Remove this component, it shouldn't be needed
    @include center-transform-absolute ();
  }

}


/* =========================================================================
 * Svelto - Placeholder
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* PLACEHOLDER */

.placeholder {
  @extend .widget;
  @include color ( $placeholder-color );
  display: flex;
  align-items: center;
  justify-content: center;
}


/* =========================================================================
 * Svelto - Prism
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * ========================================================================= */

//SOURCE: http://prismjs.com/download.html?themes=prism&languages=markup+css+css-extras+clike+javascript

/* PRISM */

code[class*='language-'] {

  font-family: Consolas, Monaco, 'Andale Mono', monospace;
  direction: ltr;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  line-height: 1.5;
  tab-size: 4;
  hyphens: none;

  .token {

    &.comment,
    &.prolog,
    &.doctype,
    &.cdata {
      color: darken($color-teal, 15);
    }

    &.punctuation {
      color: darken($color-gray, 15);
    }

    &.property,
    &.tag,
    &.boolean,
    &.number,
    &.constant,
    &.symbol,
    &.deleted {
      color: darken($color-pink, 15);
    }

    &.selector,
    &.attr-name,
    &.string,
    &.char,
    &.builtin,
    &.inserted {
      color: darken($color-green, 15);
    }

    &.atrule,
    &.attr-value,
    &.keyword {
      color: darken($color-blue, 15);
    }

    &.function {
      color: darken($color-red, 15);
    }

    &.regex,
    &.important,
    &.variable {
      color: darken($color-orange, 15);
    }

    &.important {
      font-weight: bold;
    }

    &.entity {
      cursor: help;
    }

    &.operator,
    &.entity,
    &.url {
      color: darken($color-teal, 15);
      background: hsla(0, 0%, 100%, .5);
    }

  }

  .namespace {
  	opacity: .7;
  }

}


/* =========================================================================
 * Svelto - Progressbar
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

//TODO: Add support for vertical progressbar (not particularly useful, but when attached it will be an appropriate example of horizontally attached widget)

/* PROGRESSBAR */

.progressbar {

  @extend .widget;
  @include color ( $progressbar-color );
  display: flex;
  overflow: hidden;
  height: $progressbar-height;
  border-radius: $progressbar-border-radius;
  transform: translateZ(0); // Fixes an overflowing bug, it happens only on helpers -> attached as far as I could see

  /* HIGHLIGHT */

  &-highlight {
    @include color ( $progressbar-highlight-color );
    @include text-truncate ();
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: min-width $progressbar-transition-all-duration;
  }

  /* INVALID */

  &.invalid {

    border-color: $color-error !important;

    /* HIGHLIGHT */

    .progressbar-highlight {
      background-color: $color-error !important;
    }

  }

  /* VALID */

  &.valid {

    border-color: $color-success !important;

    /* HIGHLIGHT */

    .progressbar-highlight {
      background-color: $color-success !important;
    }

  }

  /* COMPACT */

  &.compact {

    height: $progressbar-compact-height;

    /* AFTER (LABEL) */

    .progressbar-highlight:after {
      font-size: $progressbar-compact-label-font-size;
    }

  }

  /* SLIM */

  &.slim {

    height: $progressbar-slim-height;

    /* AFTER (LABEL) */

    .progressbar-highlight:after {
      font-size: $progressbar-slim-label-font-size;
    }

  }

}


/* =========================================================================
 * Svelto - Progressbar - Indeterminate
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../progressbar/progressbar.scss
 * ========================================================================= */

/* INDETERMINATE */

.progressbar.indeterminate {

  /* HIGHLIGHT */

  .progressbar-highlight {

    animation: progressbar-indeterminate-highlight $progressbar-indeterminate-animation-duration linear infinite;

    /* STRIPES / LABEL */

    &:before,
    &:after {
      display: none;
    }

  }

}


/* =========================================================================
 * Svelto - Progressbar - Labeled
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../progressbar/progressbar.scss
 * ========================================================================= */

/* LABELED */

.progressbar.labeled {

  /* AFTER (LABEL) */

  .progressbar-highlight:after {
    content: attr(data-value);
    font-size: $progressbar-label-font-size;
    padding: 0 $gutter-half;
  }

}


/* =========================================================================
 * Svelto - Progressbar - Striped
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../progressbar/progressbar.scss
 * ========================================================================= */

/* STRIPED */

.progressbar.striped {

  /* STRIPES */

  .progressbar-highlight:before {
    position: absolute;
    top: 0;
    bottom: 0;
    left: - $progressbar-stripe-size;
    right: 0;
    background: linear-gradient(-45deg, $progressbar-stripe-light-color 25%, $progressbar-stripe-dark-color 25%, $progressbar-stripe-dark-color 50%, $progressbar-stripe-light-color 50%, $progressbar-stripe-light-color 75%, $progressbar-stripe-dark-color 75%, $progressbar-stripe-dark-color);
    content: '';
    background-size: $progressbar-stripe-size $progressbar-stripe-size;
    animation: progressbar-stripes-move $progressbar-stripes-transition-move-duration linear infinite;
  }

  /* COMPACT */

  &.compact .progressbar-highlight:before {
    background-size: ( $progressbar-stripe-size / 2 ) ( $progressbar-stripe-size / 2 );
  }

  /* SLIM */

  &.slim .progressbar-highlight:before {
    background-size: ( $progressbar-stripe-size / 4 ) ( $progressbar-stripe-size / 4 );
  }

  /* DISABLED */

  &.disabled .progressbar-highlight:before {
    animation-play-state: paused;
  }

}


/* =========================================================================
 * Svelto - Radio
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../checkbox/checkbox.scss
 * ========================================================================= */

/* RADIO */

//TODO: Add support for input.radio
//TODO: Add cooler radio animation, closer to material design

.radio {

  @extend .checkbox;

  /* INPUT */

  input {

    /* BEFORE */

    &:before {
      content: $radio-icon-off;
    }

    /* AFTER */

    &:after {
      content: $radio-icon-off;
    }

  }

}


/* =========================================================================
 * Svelto - Raisable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

// The maximum `z-depth` value cannot be raised since we don't provide any greater `z-depth` value

/* RAISABLE */

.raisable {

  transition: box-shadow $raisable-transition-box-shadow-duration;

  &:not(.disabled) {

    @each $depth, $shadow in $z-depths {

      @if $depth == 0 { // Raise it even if the `z-depth-0` class has not been included

        &:hover {
          @include raisable ( $depth, !important );
        }

      }

      &.z-depth-#{$depth}:hover {
        @include raisable ( $depth, !important );
      }

    }

  }

}


/* =========================================================================
 * Svelto - Rater
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../icon/icon.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* RATER */

//FIXME: Only do the rating stuff if .ratable

.rater {

  @extend .widget;
  display: inline-flex; // Instead of `flex`, so that when we are hovering it we are also actually overing a star, with `flex` it will expand and we may hover no stars but still trigger the styling

  /* STAR */

  &-star {

    /* BEFORE (ICON) */

    &:before {
      @extend %icon;
      content: 'star_border';
      margin-bottom: 0;
    }

    /* ACTIVE */

    &.active {

      /* BEFORE (ICON) */

      &:before {
        content: 'star';
        color: $rater-star-active-color;
      }

    }

    /* HALF ACTIVE */

    &.half-active {

      /* BEFORE (ICON) */

      &:before {
        content: 'star_half';
        color: $rater-star-active-color;
      }

    }

  }

  /* ENABLED */

  &:not(.disabled) {

    /* HOVER / ACTIVE */

    &:hover,
    &:active {

      /* STAR */

      .rater-star {

        /* BEFORE (ICON) */

        &:before {
          content: 'star';
          color: $rater-star-active-color;
        }

        /* NEXT STARS */

        &:hover ~ .rater-star,
        &:active ~ .rater-star {

          /* BEFORE (ICON) */

          &:before {
            content: 'star_border';
            color: inherit;
          }

        }

      }

    }

    /* STAR */

    .rater-star {
      cursor: pointer;
    }

  }

}


/* =========================================================================
 * Svelto - Remote Modal
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* REMOTE MODAL PLACEHOLDER */

.remote-modal-placeholder {

  /* CHILDREN */

  > * {
    overflow: hidden;
  }

  /* NOT LOADED */

  &:not(.remote-modal-loaded) {

    width: $remote-modal-placeholder-size;
    height: $remote-modal-placeholder-size;

    /* CARD BLOCK */

    > .card-block {
      display: flex;
      justify-content: center;
      align-items: center;
    }

  }

  /* LOADED */

  &.remote-modal-loaded {

    /* CHILDREN */

    > * {

      transition: color $remote-modal-transition-all-duration;

      /* CHILDREN */

      > * {
        transition: opacity $remote-modal-transition-all-duration;
      }

    }

    /* NOT ANIMATING */

    &:not(.remote-modal-animating) {

      /* CHILDREN */

      > * {

        color: transparent;

        /* CHILDREN */

        > * {
          opacity: 0;
        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Ripple
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* RIPPLE */

//FIXME: There's a strange border, try to click the brown button, when zoomed there's a small white border at the bottom that gets removed after the animation finished (it's caused by the overflow:hidden, but why?!)

.ripple {

  position: relative;
  overflow: hidden;
  transform: translateZ(0); // For some reason it fixes the bug of ripples exceeding the border-radius, overflow: hidden, combo

  /* CIRCLE */

  > .ripple-circle {

    position: absolute;
    pointer-events: none;
    z-index: $ripple-circle-z-index;

    &:before {
      position: absolute;
      left: -50%;
      top: -50%;
      width: 100%;
      height: 100%;
      content: '';
      border-radius: 50%;
      background-color: $ripple-color-default;
      opacity: 0;
      transform: scale(0);
      transition-property: opacity, transform;
      transition-duration: $ripple-transition-show-duration;
      transition-timing-function: $ripple-transition-timing-function;
    }

    /* SHOW */

    &.ripple-circle-show:before {
      opacity: 1 - $ripple-transparentize-amount;
      transform: scale(1);
    }

    /* HIDE */

    &.ripple-circle-hide:before {
      opacity: 0;
    }

  }

  /* COLORS */

  @each $name, $datas in $colors {

    $bg: nth($datas, 1);

    &.ripple-#{$name} > .ripple-circle:before {
      background-color: $bg;
    }

  }

  /* ENABLED */

  &:not(.disabled) {
    cursor: pointer;
  }

}

a.ripple > .ripple-circle { // Firefox Bug: link not triggered //FIXME: Sure?
  z-index: -1;
}


/* =========================================================================
 * Svelto - Sections
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

//TODO: Add support for vertical sections

/* SECTIONS */

.sections {

  position: relative;
  display: flex;
  flex-wrap: nowrap;
  margin-bottom: $gutter;

  /* SEGMENTS */

  > * {
    margin-bottom: 0 !important;
  }

  /* CENTER */

  // Centering the center segment, if the left one xor the right one is missing
  // An obvious `left + center + right` or `right + center + left` (RTL languages) order is assumed

  > .section-center:first-child,
  > .section-center:last-child {
    @include center-transform-absolute ();
  }

}

/* SEGMENTS */

.section-left,
.section-center,
.section-right {
  @include last-child-no-gutter ();
  display: flex;
  flex-grow: 1;
  flex-shrink: 1;
  flex-basis: auto;
  align-items: center;
  margin-bottom: $gutter;
}

/* LEFT */

.section-left {
  justify-content: flex-start;
}

/* CENTER */

.section-center {

  justify-content: center;

  &:not(:only-child).forced {
    @include center-transform-absolute ();
  }

}

/* RIGHT */

.section-right {
  justify-content: flex-end;
}


/* =========================================================================
 * Svelto - Select - Dropdown
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* DROPDOWN */

.select-dropdown {

  @include z-depth ( $select-dropdown-z-depth );

  /* CARD BLOCK */

  .card-block {
    padding: $gutter-half 0;
  }

  /* BUTTON */

  .button {
    display: block;
    border-radius: 0;
    margin-bottom: 0;
  }

  /* DIVIDER */

  .divider {
    margin-top: $gutter-half;
  }

}


/* =========================================================================
 * Svelto - Select - Toggler
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../../input/input.scss
 * ========================================================================= */

/* TOGGLER */

.select-toggler {

  /* DEFAULT SELECT */

  select {
    @extend input[type="file"];
  }

  /* VALUEHOLDER */

  .valueholder {

    display: inline-block;

    &.right:before,
    &.left:before {
      content: $char-nbsp;
    }

  }

  /* TOGGLER DIRECTION */

  &.dropdown-toggler-top {
    @include border-top-radius ( 0 );
  }

  &.dropdown-toggler-bottom {
    @include border-bottom-radius ( 0 );
  }

  &.dropdown-toggler-right {
    @include border-right-radius ( 0 );
  }

  &.dropdown-toggler-left {
    @include border-left-radius ( 0 );
  }

}


/* =========================================================================
 * Svelto - Selectable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * ========================================================================= */

/* SELECTABLE TABLE */

table.selectable {

  /* ROW */

  tbody tr {

    /* SELECTABLE */

    &:not(.empty) {
      cursor: pointer;
    }

    /* SELECTED */

    &.selected {
      background-color: $table-selectable-row-selected-color !important;
    }

  }

}


/* =========================================================================
 * Svelto - Shape
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* SHAPE */

%shape {
  @extend .widget;
  flex: 0 1 !important; // IE-10-11 sets flex-shrink to 0
}


/* =========================================================================
 * Svelto - Shape - Circle
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../shape.scss
 * ========================================================================= */

/* CIRCLE */

.circle {
  @extend %shape;
  @include circle ( $circle-size );
}


/* =========================================================================
 * Svelto - Shape - Square - Sample
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../shape.scss
 * ========================================================================= */

/* SAMPLE */

.square-sample {

  @extend %shape;
  @include square ( $square-sample-size );
  overflow: hidden;
  padding: $gutter-half;

  /* PARAGRAPH */

  > p {
    @include size ( $square-sample-p-size );
  }

}


/* =========================================================================
 * Svelto - Shape - Square
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../shape.scss
 * ========================================================================= */

/* SQUARE */

.square {
  @extend %shape;
  @include square ( $square-size );
}


/* =========================================================================
 * Svelto - Shape - Triangle
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../shape.scss
 * ========================================================================= */

/* TRIANGLE */

.triangle {

  @extend %shape;

  &.up {
    @include triangle ( $triangle-size, up );
  }

  &.down,
  &:not(.up):not(.left):not(.right) { // Default direction if no one has been specified {
    @include triangle ( $triangle-size, down );
  }

  &.left {
    @include triangle ( $triangle-size, left );
  }

  &.right {
    @include triangle ( $triangle-size, right );
  }

}


/* =========================================================================
 * Svelto - Sizes
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

//FIXME: On the example page the XXXX-Large icon is not centered on Firefox Mobile

/* SIZES */

@each $size, $font-size in $sizes {

  $alias: nth( $sizes-aliases, index( map-keys( $sizes ), $size ) );

  .#{$alias} {
    @include size ( $size, !important );
  }

}


/* =========================================================================
 * Svelto - Slider
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../icon/icon.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* SLIDER */

//TODO: Maybe use a tooltip with the number inside instead of the handler we are using right now

.slider {

  @extend .widget;
  @include color ( $slider-color );
  display: flex;
  align-items: stretch;
  height: $slider-height;
  border-radius: $border-radius-medium;

  /* OUTLINED */

  &.outlined {

    .slider-min {
      padding-left: $gutter;
    }

    .slider-max {
      padding-right: $gutter;
    }

  }

  /* INPUT */

  input {
    display: none;
  }

  /* MIN / MAX */

  &-min,
  &-max {
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: $slider-min-max-min-width;
  }

  /* MIN */

  &-min {

    margin-right: $slider-handler-half-size;

    &:after {
      content: attr(data-min);
    }

  }

  /* MAX */

  &-max {

    margin-left: $slider-handler-half-size;

    &:after {
      content: attr(data-max);
    }

  }

  /* BAR */

  &-bar {
    display: flex;
    align-items: center;
    position: relative;
    flex-grow: 1;
    flex-shrink: 1; // IE-10-11 default it to 0 instead
  }

  /* UNHIGHLIGHT */

  &-unhighlight {
    @include color ( $slider-unhighlight-color );
    position: relative;
    overflow: hidden;
    height: $slider-unhighlight-height;
    border-radius: $slider-unhighlight-border-radius;
    width: 100%;
    transform: translateZ(0); // Otherwise the border radius is not always respected
  }

  /* HIGHLIGHT */

  &-highlight {
    @include color ( $slider-highlight-color );
    position: absolute;
    right: 100%;
    width: 100%;
    height: 100%;
    transition: background-color $slider-transition-all-duration;
  }

  /* HANDLER WRAPPER */

  &-handler-wrp {
    @include center-absolute ( false, $slider-handler-size );
    left: 0;
    margin-left: - $slider-handler-half-size;
  }

  /* HANDLER */

  &-handler {

    @include color ( $slider-handler-color );
    @include z-depth ( $slider-handler-z-depth );
    z-index: 1;
    width: $slider-handler-size;
    height: $slider-handler-size;
    transition-property: transform, background-color;
    transition-duration: $slider-transition-all-duration;
    border-radius: $slider-handler-border-radius;
    text-align: center;

    &:before {
      @include fill-absolute ();
      z-index: -1;
      content: '';
      transition-property: opacity, transform;
      transform: scale($switch-handler-before-scale-inactive);
      transition-duration: $slider-transition-all-duration;
      opacity: 0;
      border-radius: $slider-handler-border-radius;
      background-color: inherit;
    }

  }

  &-label {

    //FIXME: It's not perfectly centered on Nexus 4 using Chrome

    display: inline-block;
    vertical-align: middle;
    font-size: $slider-handler-label-font-size;
    transition-property: opacity, transform;
    transition-duration: $slider-transition-all-duration;
    transform: scale(0);
    opacity: 0;
  }

  /* INVALID */

  &.invalid {

    /* HIGHLIGHT / HANDLER */

    .slider-highlight,
    .slider-handler {
      @include color ( 'error', true, !important );
    }

  }

  /* VALID */

  &.valid {

    /* HIGHLIGHT / HANDLER */

    .slider-highlight,
    .slider-handler {
      @include color ( 'success', true, !important );
    }

  }

  /* ENABLED */

  &:not(.disabled) {

    /* MIN / MAX */

    .slider-min,
    .slider-max {

      cursor: pointer;

      &:hover:after {
        @extend %icon;
        margin-bottom: 0;
      }

    }

    /* MIN */

    .slider-min:hover:after {
      content: 'remove';
    }

    /* MAX */

    .slider-max:hover:after {
      content: 'add';
    }

    /* BAR */

    .slider-bar {

      cursor: pointer;

      &:active,
      .slider-handler-wrp.draggable-dragging {

        .slider-handler {

          transform: scale($slider-handler-active-transform-scale);

          &:before {
            transform: scale($switch-handler-before-scale-active);
            opacity: $switch-handler-before-active-opacity;
          }

        }

      }

    }

    /* HANDLER */

    .slider-handler {
      cursor: move;
    }

  }

  /* HOVER / ACTIVE */

  &:hover,
  &:active,
  .slider-handler-wrp.draggable-dragging {

    /* LABEL */

    .slider-label {
      transform: scale(1);
      opacity: 1;
    }

  }

}


/* =========================================================================
 * Svelto - Sortable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../icon/icon.scss
 * ========================================================================= */

/* SORTABLE TABLE */

table.sortable {

  /* HEADER */

  th[data-sort] {

    position: relative;
    cursor: pointer;
    padding-left: $table-th-sortable-padding-horizontal;
    padding-right: $table-th-sortable-padding-horizontal;

    /* HOVER */

    &:hover {
      background-color: $table-th-sortable-hover-bg-color;
    }

    /* ACTIVE */

    &:active {
      background-color: $table-th-sortable-active-bg-color;
    }

    /* BEFORE / AFTER */

    &:before,
    &:after {
      @extend %icon;
      position: absolute;
      right: $table-th-sortable-icon-right;
      top: 0;
      bottom: 0;
      margin: auto;
      opacity: 0;
    }

    /* BEFORE */

    &:before {
      content: 'arrow_drop_down';
      top: .35em;
    }

    /* AFTER */

    &:after {
      content: 'arrow_drop_up';
      bottom: .35em;
    }

    /* INACTIVE OPACITY */

    &:hover:before,
    &:hover:after,
    &.sort-desc:before,
    &.sort-asc:after {
      opacity: $table-th-sortable-icon-inactive-opacity;
    }

    /* ACTIVE OPACITY */

    &.sort-desc:after,
    &.sort-asc:before {
      opacity: $table-th-sortable-icon-active-opacity;
    }

  }

}


/* =========================================================================
 * Svelto - Spinner Overlay
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* SPINNER OVERLAY */

.spinner-overlay {

  align-items: center;
  justify-content: center;

  /* SPINNER LABEL */

  .spinner-label {
    margin-bottom: 0;
    transform: scale(0);
    transition: transform $spinner-overlay-transition-transform-duration;
  }

  /* CLOSE */

  &:not(.open) {

    /* SPINNER */

    .spinner {

      animation-play-state: paused;

      /* CIRCLE */

      circle {
        animation-play-state: paused;
      }

    }

  }

  /* OPEN */

  &.open {

    /* SPINNER LABEL */

    .spinner-label {
      transform: scale(1);
    }

  }

}


/* =========================================================================
 * Svelto - Spinner
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * Fork of http://codepen.io/Bodokh/pen/jEadzj - Eran Bodokh
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

//TODO: Add support for icon at the center of the spinner, sometimes might be useful

//FIXME: Firefox and Edge are not animating stroke-dashoffset, IE is not even animatin stroke-dasharray
//FIXME: Not working on Dolphin Browser

/* SPINNER */

svg.spinner {

  display: block;
  width: $spinner-size;
  height: $spinner-size;
  margin-bottom: $gutter;
  background-color: transparent !important;
  animation: rotate $spinner-animation-rotate-duration linear infinite;

  /* CIRCLE */

  circle {
    cx: $spinner-size / 2; // This only works on Chrome //TODO: Maybe just strip them off
    cy: $spinner-size / 2; // This only works on Chrome //TODO: Maybe just strip them off
    r: $spinner-radius; // This only works on Chrome //TODO: Maybe just strip them off
    fill: none;
    stroke-width: $spinner-stroke-width;
    stroke: $spinner-stroke-color;
    stroke-linecap: round;
    stroke-dasharray: 0%, 240%; // Since IE-10-11 won't animate this we are setting the initial value, so that it will degrade to a rotating dot
    animation: spinner-dash $spinner-stroke-animation-dash-duration ease-in-out infinite;
  }

  /* COLORS */

  @each $name, $datas in $colors {

    $bg: nth($datas, 1);

    &.#{$name} circle {
      stroke: $bg !important;
    }

  }

}


/* =========================================================================
 * Svelto - Spinner - Label
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../spinner.scss
 * ========================================================================= */

/* LABEL */

.spinner-label {

  @extend .widget;
  @include color ( $spinner-label-color );
  @include z-depth ( $spinner-label-z-depth );
  display: flex;
  border-radius: $spinner-label-border-radius !important;
  padding: $spinner-label-padding-vertical $spinner-label-padding-horizontal;

  /* SPINNER */

  .spinner {
    margin-bottom: 0;
  }

  /* COLORS */

  @each $name, $datas in $colors {

    $accent: nth($datas, 5);

    &.#{$name} .spinner circle {
      stroke: $accent !important;
    }

  }

}


/* =========================================================================
 * Svelto - Spinner - Multicolor
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../spinner.scss
 * ========================================================================= */

/* MULTICOLOR */

.spinner.multicolor {

  /* CIRCLE */

  circle {
    animation: dash $spinner-stroke-animation-dash-duration ease-in-out infinite,
               spinner-multicolor ( $spinner-stroke-animation-dash-duration * 4 ) ease-in-out infinite;
  }

}


/* =========================================================================
 * Svelto - Statistic
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* STATISTIC */

//TODO: Add better support for icon + text

.statistic {

  @extend .widget;
  text-align: center;

  /* VALUE */

  > .statistic-value {
    @include size ( $statistic-primary-size );
    justify-content: center;
  }

  /* DESCRIPTION */

  > .statistic-description {
    @include size ( $statistic-secondary-size );
    justify-content: center;
  }

}


/* =========================================================================
 * Svelto - Stepper
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* STEPPER */

//TODO: Add valid/invalid classes

.stepper {

  @extend .widget;
  @include color ( $label-color );
  display: flex;
  border-radius: $label-border-radius;

  /* SEGMENTS */

  > * {
    margin-bottom: 0 !important;
  }

  > :not(:first-child) {
    @include border-left-radius ( 0 );
    border-left-width: 0;
  }

  > :not(:last-child) {
    @include border-right-radius ( 0 );
    border-right-width: 0;
  }

  /* INPUT */

  input {
    text-align: center;
    // display: flex;
    // flex-grow: 1;

  }

}


/* =========================================================================
 * Svelto - Switch
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * @require ../icon/icon.scss
 * ========================================================================= */

/* SWITCH */

.switch {

  @extend .widget;
  display: flex;
  align-items: center;
  justify-content: center;
  height: $switch-handler-size;
  width: $switch-bar-width + $switch-handler-size;

  /* INPUT */

  input {
    display: none;
  }

  /* BAR */

  &-bar {
    @include color ( $switch-color, true );
    width: $switch-bar-width;
    height: $switch-bar-height;
    border-radius: $switch-bar-height;
    transition: background-color $switch-transition-all-duration;
  }

  /* HANDLER */

  &-handler {

    @include color ( $switch-color, true );
    @include z-depth ( $switch-handler-z-depth );
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    width: $switch-handler-size;
    height: $switch-handler-size;
    border-radius: $switch-handler-size;
    transition-property: background-color, transform;
    transition-duration: $switch-transition-all-duration;

    /* BEFORE */

    &:before {
      @include fill-absolute ();
      background-color: inherit;
      content: '';
      border-radius: $switch-handler-size;
      z-index: -1;
      opacity: 0;
      transform: scale($switch-handler-before-scale-inactive);
      transition-property: opacity, transform, background-color;
      transition-duration: $switch-transition-all-duration;
    }

    /* AFTER */

    &:after {
      @extend %icon;
      position: absolute;
      font-size: $switch-handler-icon-font-size;
      width: $switch-handler-icon-size;
      height: $switch-handler-icon-size;
      line-height: $switch-handler-icon-size;
      text-align: center;
      transition-property: color;
      transition-duration: $switch-transition-all-duration;
    }

    /* DRAGGING */

    &.draggable-dragging {
      transition-property: background-color;
    }

  }

  /* INVALID */

  &.invalid {

    /* BAR / HANDLER */

    .switch-bar,
    .switch-handler {
      @include color ( 'error', true, !important );
    }

  }

  /* VALID */

  &.valid {

    /* BAR / HANDLER */

    .switch-bar,
    .switch-handler {
      @include color ( 'success', true, !important );
    }

  }

  /* UNCHECKED */

  &:not(.checked) {

    /* HANDLER */

    .switch-handler[data-icon-off] {

      /* AFTER */

      &:after {
        content: attr(data-icon-off);
      }

    }

  }

  /* CHECKED */

  &.checked {

    /* HANDLER */

    .switch-handler[data-icon-on] {

      /* AFTER */

      &:after {
        content: attr(data-icon-on);
      }

    }

  }

  /* ENABLED */

  &:not(.disabled) {

    cursor: pointer;

    /* HANDLER */

    .switch-handler {

      cursor: ew-resize;

      &:active,
      &.draggable-dragging {

        &:before {
          opacity: $switch-handler-before-active-opacity;
          transform: scale($switch-handler-before-scale-active);
        }

      }

    }

  }

}


/* =========================================================================
 * Svelto - Table
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* TABLE */

//TODO: Add support for the case when there's no `thead` tag for example, so that the border radius and everything else will work just fine as well
//TODO: Add responsive tables
//TODO: Add .reflow (see bootstrap v4)

table.table { // So that if someone need a plain basic table he can, just by don't using the `table` class

  @extend .widget;
  @include color ( $table-color );
  width: 100%;
  border-collapse: separate;
  border-radius: inherit;

  /* SECTIONS */

  thead,
  tbody,
  tfoot {
    border-color: inherit; // So that when the children also inherit the border color is actually inherited
  }

  /* CELLS */

  tr {
    border-color: inherit; // So that when the children also inherit the border color is actually inherited
  }

  tr > * {
    @include last-child-no-gutter ();
    padding: $gutter;
    text-align: left;
    border-width: 0;
    border-style: solid;
    border-color: $table-bordered-border-color;
  }

  /* THEAD */

  thead {

    @include border-top-radius ( inherit );
    background-color: $table-header-footer-bg-color;

    tr {

      @include border-top-radius ( inherit );

      &:first-child th {

        &:first-child {
          border-top-left-radius: inherit;
        }

        &:last-child {
          border-top-right-radius: inherit;
        }

      }

    }

  }

  /* TBODY */

  tbody {

    border-radius: inherit;

    tr {

      &.table-row-empty td {
        height: $table-row-empty-height;
        text-align: center;
      }

      &:first-child,
      &.table-row-empty + tr {

        @include border-top-radius ( inherit );

        td {

          &:first-child {
            border-top-left-radius: inherit;
          }

          &:last-child {
            border-top-right-radius: inherit;
          }

        }

      }

      &:last-child {

        @include border-bottom-radius ( inherit );

        td {

          &:first-child {
            border-bottom-left-radius: inherit;
          }

          &:last-child {
            border-bottom-right-radius: inherit;
          }

        }

      }

    }

  }

  thead ~ tbody tr:first-child td,
  thead ~ tbody .table-row-empty + tr td {

    &:first-child {
      border-top-left-radius: 0;
    }

    &:last-child {
      border-top-right-radius: 0;
    }

  }

  tfoot + tbody tr:last-child td {

    &:first-child {
      border-bottom-left-radius: 0;
    }

    &:last-child {
      border-bottom-right-radius: 0;
    }

  }

  /* TFOOT */

  tfoot {

    @include border-bottom-radius ( inherit );
    background-color: $table-header-footer-bg-color;

    tr {

      @include border-bottom-radius ( inherit );

      &:last-child td {

        &:first-child {
          border-bottom-left-radius: inherit;
        }

        &:last-child {
          border-bottom-right-radius: inherit;
        }

      }

    }

  }

  /* COMPACT */

  &.compact tr > * {
    padding: $gutter-half;
  }

  /* COLLAPSE */

  &.collapse {
    width: auto;
  }

  /* EQUAL */

  &.equal {

    table-layout: fixed;

    tr > * {
      width: 100%;
    }

  }

}


/* =========================================================================
 * Svelto - Table - Separated
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../table.scss
 * ========================================================================= */

/* SEPARATED */

table.table.separated {

  thead th {
    border-bottom-width: $table-bordered-border-width;
  }

  tbody tr:not(:last-child) td {
    border-bottom-width: $table-bordered-border-width;
  }

  tfoot td {
    border-top-width: $table-bordered-border-width;
  }

}


/* =========================================================================
 * Svelto - Table - Bordered
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../table.scss
 * @require ../separated/separated.scss
 * ========================================================================= */

/* BORDERED */

table.table.bordered {

  @extend table.table.separated;

  tr > * {

    border-left-width: $table-bordered-border-width;

    &:last-child {
      border-right-width: $table-bordered-border-width;
    }

  }

  tbody tr {

    &:first-child td,
    &.table-row-empty + tr td {
      border-top-width: $table-bordered-border-width;
    }

    &:last-child td {
      border-bottom-width: $table-bordered-border-width;
    }

  }

  thead {

    th {
      border-top-width: $table-bordered-border-width;
    }

    ~ tbody tr:first-child td,
    ~ tbody tr.table-row-empty + tr td {
      border-top-width: 0;
    }

  }

  tfoot {

    td {
      border-bottom-width: $table-bordered-border-width;
    }

    + tbody tr:last-child td {
      border-bottom-width: 0;
    }

  }

}


/* =========================================================================
 * Svelto - Table - Hoverable
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../table.scss
 * ========================================================================= */

/* HOVERABLE */

table.table:not(.disabled).hoverable tbody tr:not(.table-row-empty):hover {
  background-color: $table-hoverable-row-even-color-hover;
}

/* STRIPED */

table.table:not(.disabled).hoverable.striped tbody tr {

  &:first-child.table-row-empty ~ tr {

    &:nth-child(even):hover {
      background-color: $table-hoverable-row-even-color-hover;
    }

    &:nth-child(odd):hover {
      background-color: $table-hoverable-row-odd-color-hover;
    }

  }

  &:first-child:not(.table-row-empty) {

    &:hover {
      background-color: $table-hoverable-row-even-color-hover;
    }

    ~ tr {

      &:nth-child(odd):hover {
        background-color: $table-hoverable-row-even-color-hover;
      }

      &:nth-child(even):hover {
        background-color: $table-hoverable-row-odd-color-hover;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Table - Striped
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../table.scss
 * ========================================================================= */

/* STRIPED */

table.table.striped tbody tr {

  &:first-child.table-row-empty ~ tr {

    &:nth-child(even) {
      background-color: $table-striped-row-even-color;
    }

    &:nth-child(odd) {
      background-color: $table-striped-row-odd-color;
    }

  }

  &:first-child:not(.table-row-empty) {

    background-color: $table-striped-row-even-color;

    ~ tr {

      &:nth-child(odd) {
        background-color: $table-striped-row-even-color;
      }

      &:nth-child(even) {
        background-color: $table-striped-row-odd-color;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Tabs
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

 //TODO: Update the highlight dynamically when we add top, bottom, left or rigth

/* TABS */

.tabs {

  @extend .widget;
  display: flex;

  /* TRIGGERS */

  > .tabs-triggers {

    display: flex;
    flex-wrap: nowrap;
    align-items: stretch;
    flex-direction: row;

    /* TRIGGER */

    > * {
      margin-bottom: 0;
      flex-grow: 1;
      flex-shrink: 1; // IE-10-11 default it to 0 instead
    }

  }

  /* CONTAINERS */

  > .tabs-containers {

    position: relative;

    /* CONTAINER */

    > * {

      display: none;
      margin-bottom: 0;

      &.active {
        display: block;
      }

    }

  }

  /* TOP / LEFT */

  &.top,
  &.left,
  &:not(.bottom):not(.left):not(.right) { // Default case

    /* TRIGGERS */

    > .tabs-triggers {
      order: 0;
    }

    /* CONTAINERS */

    > .tabs-containers {
      order: 1;
    }

  }

  /* BOTTOM / RIGHT */

  &.bottom,
  &.right {

    /* TRIGGERS */

    > .tabs-triggers {
      order: 1;
    }

    /* CONTAINERS */

    > .tabs-containers {
      order: 0;
    }

  }

  /* TOP / BOTTOM */

  &.top,
  &.bottom,
  &:not(.bottom):not(.left):not(.right) { // Default case

    flex-direction: column;

    /* TRIGGERS */

    > .tabs-triggers {

      /* TRIGGER */

      > :not(:first-child) {
        @include border-left-radius ( 0 );
        border-left-width: 0;
      }

      > :not(:last-child) {
        @include border-right-radius ( 0 );
      }

    }

  }

  /* TOP */

  &.top,
  &:not(.bottom):not(.left):not(.right) { // Default case

    /* TRIGGERS */

    > .tabs-triggers {

      /* TRIGGER */

      > :first-child {
        border-bottom-left-radius: 0;
      }

      > :last-child {
        border-bottom-right-radius: 0;
      }

    }

    /* CONTAINERS */

    > .tabs-containers {

      /* CONTAINER */

      > * {
        @include border-top-radius ( 0 );
        border-top-width: 0;
      }

    }

  }

  /* BOTTOM */

  &.bottom {

    /* TRIGGERS */

    > .tabs-triggers {

      /* TRIGGER */

      > :first-child {
        border-top-left-radius: 0;
      }

      > :last-child {
        border-top-right-radius: 0;
      }

    }

    /* CONTAINERS */

    > .tabs-containers {

      /* CONTAINER */

      > * {
        @include border-bottom-radius ( 0 );
        border-bottom-width: 0;
      }

    }

  }

  /* LEFT / RIGHT */

  &.left,
  &.right {

    align-items: stretch;
    flex-direction: row;

    /* TRIGGERS */

    > .tabs-triggers {

      flex-direction: column;

      /* TRIGGER */

      > :not(:first-child) {
        @include border-top-radius ( 0 );
        border-top-width: 0;
      }

      > :not(:last-child) {
        @include border-bottom-radius ( 0 );
      }

    }

    /* CONTAINERS */

    > .tabs-containers {

      display: flex;
      flex-direction: column;
      flex-grow: 1;
      flex-shrink: 1; // IE-10-11 default it to 0 instead

      /* CONTAINER */

      > * {
        flex-grow: 1;
        flex-shrink: 1; // IE-10-11 default it to 0 instead
      }

    }

  }

  /* LEFT */

  &.left {

    /* TRIGGERS */

    > .tabs-triggers {

      /* TRIGGER */

      > :first-child {
        border-top-right-radius: 0;
      }

      > :last-child {
        border-bottom-right-radius: 0;
      }

    }

    /* CONTAINERS */

    .tabs-containers {

      /* CONTAINER */

      > * {
        @include border-left-radius ( 0 );
        border-left-width: 0;
      }

    }

  }

  /* RIGHT */

  &.right {

    /* TRIGGERS */

    > .tabs-triggers {

      /* TRIGGER */

      > :first-child {
        border-top-left-radius: 0;
      }

      > :last-child {
        border-bottom-left-radius: 0;
      }

    }

    /* CONTAINERS */

    .tabs-containers {

      /* CONTAINER */

      > * {
        @include border-right-radius ( 0 );
        border-right-width: 0;
      }

    }

  }

}


/* =========================================================================
 * Svelto - Tagbox
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../container/container.scss
 * ========================================================================= */

/* TAGBOX */

.tagbox {

  @extend .container;

  /* TAGS */

  &-tags {

    display: flex;
    flex-wrap: wrap;
    margin-left: - $gutter-half;
    margin-right: - $gutter-half;

    /* TAG */

    > .tagbox-tag {
      margin-left: $gutter-half;
      margin-right: $gutter-half;
    }

  }

  /* PARTIAL */

  &-partial {
    @include color ( inherit );
    min-width: $tagbox-input-min-width;
  }

}


/* =========================================================================
 * Svelto - Toolbar
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../widget/widget.scss
 * ========================================================================= */

/* TOOLBAR */

.toolbar {

  @extend .widget;
  padding: $toolbar-padding-vertical $toolbar-padding-horizontal;

  /* VERTICAL */

  &.vertical {
    display: inline-flex;
    padding: $toolbar-vertical-padding-vertical $toolbar-vertical-padding-horizontal;
  }

  /* MULTIPLE */

  > .multiple {
    flex-wrap: nowrap;
  }

}


/* =========================================================================
 * Svelto - Toolip
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../dropdown/dropdown.scss
 * ========================================================================= */

/* TOOLTIP */

.tooltip {
  @extend .dropdown;
  max-width: $tooltip-max-width;
}


/* =========================================================================
 * Svelto - Typography
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * ========================================================================= */

/* SPAN / A */ //FIXME: Ugly fix for making them widget-like when they are not in a paragraph

span,
a {
  margin-bottom: $gutter;
}

p > span,
p > a,
span > a {
  margin-bottom: 0;
}

// Fixes a bug in IE10 where the margin-bottom is not applied to `a` elements //FIXME: The following browser hack also matches IE11, that behaves correctly by default

_:-ms-input-placeholder, :root a {
  display: block;
}

_:-ms-input-placeholder, :root p > a {
  display: initial;
}


/* =========================================================================
 * Svelto - Typography - Abbr
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* ABBR */

//FIXME: There's a double border on Firefox Mobile

abbr[title] { //TODO: Add a more advanced abbr, that triggers a tooltip, maybe even pure CSS
  cursor: help;
  border-bottom: $abbr-border-width $abbr-border-style $abbr-border-color;
}


/* =========================================================================
 * Svelto - Typography - Blockquote
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* BLOCKQUOTE */

blockquote {

  @extend .widget;
  @include last-child-no-gutter ();
  padding: $gutter-half $gutter $gutter-half ( $gutter + $blockquote-line-width );
  border-radius: $blockquote-line-width;
  background-color: $blockquote-bg-color;

  /* LINE */

  &:before {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: $blockquote-line-width;
    content: '';
    border-radius: $blockquote-line-width;
    background-color: $blockquote-line-bg-color;
  }

  /* FOOTER */

  > footer {

    @extend .widget;
    @include last-child-no-gutter ();
    background-color: $blockquote-footer-bg-color;
    padding: $blockquote-footer-padding-vertical $blockquote-footer-padding-horizontal;
    font-size: $blockquote-footer-font-size;
    opacity: $blockquote-footer-opacity;

    &:before {
      content: $char-mdash + $char-nbsp;
      opacity: $blockquote-footer-opacity;
    }

  }

}


/* =========================================================================
 * Svelto - Typography - Code
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* CODE */

code,
section,
pre {
  display: block;
  overflow-x: auto;
  margin: 0;
  padding: $gutter;
  border: $code-border-width $code-border-style $code-border-color;
  border-radius: $code-border-radius;
  background-color: $code-bg-color;
}


/* =========================================================================
 * Svelto - Typography - Headers
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* HEADERS */

h1,
h2,
h3,
h4,
h5,
h6 {

  margin: 0 0 $gutter;

  > small {
    opacity: $header-small-opacity;
  }

}

h1 {
  @include size ( $h1-size );
}

h2 {
  @include size ( $h2-size );
}

h3 {
  @include size ( $h3-size );
}

h4 {
  @include size ( $h4-size );
}

h5 {
  @include size ( $h5-size );
}

h6 {
  @include size ( $h6-size );
}


/* =========================================================================
 * Svelto - Typography - Kbd
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* KBD */

kbd {
  @include color ( $kbd-color );
  font-size: $kbd-font-size;
  font-weight: $kbd-font-weight;
  display: inline-block;
  padding: $kbd-padding;
  white-space: nowrap;
  border-width: $kbd-border-width;
  border-style: $kbd-border-style;
  border-radius: $kdb-border-radius;
}


/* =========================================================================
 * Svelto - Typography - Link
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * @require ../../highlight/highlight.scss
 * ========================================================================= */

/* LINK */

a,
.link {
  position: relative;
  text-decoration: none;
  color: inherit;
}

p > a, // We do it just under `p`s, because elsewhere might be an unwanted style
span > a, // Same reason as `p > a`
.link {

  display: inline-block;
  cursor: pointer;

  &:after {
    @extend %highlight-after;
    border-bottom-width: $a-underline-height;
    transition-property: opacity, transform;
    transition-duration: $a-underline-transition-duration;
  }

  &:not(:hover):after { //FIXME: Does it work?
    opacity: 0;
    transform: scaleX(0);
  }

  // &:hover:after {
  //   opacity: 1;
  //   transform: scaleX(1);
  // }

}


/* =========================================================================
 * Svelto - Typography - Lists
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* LISTS */

ul,
ol {
  margin: 0 0 $gutter;
  padding-left: $list-padding-left;
}

li {
  @include last-child-no-gutter ();
}

ul.unstyled {

  padding-left: 0;
  list-style-type: none;

  li > ul {
    list-style-type: none;
  }

}

dl {
  margin: 0;
}

dd {
  margin-left: $gutter * 2;
}


/* =========================================================================
 * Svelto - Typography - Mark
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* MARK */

mark,
.mark {
  @include color ( $mark-color );
  padding: $mark-padding;
  border-radius: $mark-border-radius;
}


/* =========================================================================
 * Svelto - Typography - Paragrah
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* PARAGRAPH */

p {
  margin: 0 0 $gutter;
  max-width: 100%; // This fixes a bug in IE10 where it may not wrap and contain the entire text all in one line
}


/* =========================================================================
 * Svelto - Typography - Small
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../../reset/reset.scss
 * @require ../typography.scss
 * ========================================================================= */

/* SMALL */

small {
  font-size: $small-font-size;
}


/* =========================================================================
 * Svelto - Z-Depths
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* Z-DEPTHS */

@each $depth, $shadow in $z-depths {

  .z-depth-#{$depth} {
    @include z-depth ( $depth, !important );
  }

}
