
<!-- TRANSFORM -->

<template name="transform">

  {{{sw.divider "Sample"}}}

  {{{sample.square}}}

  {{> transform_actions}}

</template>

<!-- ACTIONS -->

<template name="transform_actions">

  {{{sw.divider "API"}}}

  <div class="multiple actions joined">
    <input name="matrix" class="bordered" placeholder="Values...">
    {{{sw.action "matrix" "matrix ()"}}}
  </div>

  <div class="multiple actions joined">
    <input name="transformation" class="bordered" placeholder="Value...">
    {{{sw.action "scaleX" "transformation ( 'scaleX' )"}}}
    {{{sw.action "skewY" "transformation ( 'skewY' )"}}}
    {{{sw.action "skewX" "transformation ( 'skewX' )"}}}
    {{{sw.action "scaleY" "transformation ( 'scaleY' )"}}}
    {{{sw.action "translateX" "transformation ( 'translateX' )"}}}
    {{{sw.action "translateY" "transformation ( 'translateY' )"}}}
  </div>

  <div class="multiple actions joined">
    <input name="translate_x" class="bordered" placeholder="X...">
    <input name="translate_y" class="bordered" placeholder="Y...">
    {{{sw.action "translate" "translation ()"}}}
  </div>

  <script>
    var $sample = $('.square-sample');

    function getValue ( name ) {
      return $('[name="' + name + '"]').val ();
    }

    function matrix () {
      var val = getValue ( 'matrix' );
      if ( val ) {
        $sample.matrix ( val.split ( ',' ) );
      } else {
        $.toast ( $sample.matrix () );
      }
    }

    function transformation ( type ) {
      var val = getValue ( 'transformation' );
      if ( val ) {
        $sample[type] ( val );
      } else {
        $.toast ( $sample[type]() );
      }
    }

    function translation () {
      var x = getValue ( 'translate_x' ),
          y = getValue ( 'translate_y' );
      if ( x && y ) {
        $sample.translate ( x, y );
      } else {
        $.toast ( $sample.translate () );
      }
    }
  </script>

</template>
