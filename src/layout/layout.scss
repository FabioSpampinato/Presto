
/* =========================================================================
 * Svelto - Layout
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires ../widget/widget.scss
 * ========================================================================= */

/* LAYOUT */

.layout {

  @extend .widget;
  display: flex;
  flex-direction: column;

  /* HEADER / CONTENT / FOOTER */

  &-header,
  &-content,
  &-footer {
    @include last-child-no-gutter ();
    margin-bottom: 0;
    width: 100%;
  }

  /* HEADER / FOOTER */

  &-header,
  &-footer {
    flex-shrink: 0; // So that if needed only `.layout-content` shrinks
  }

  /* HEADER */

  &-header {

    /* FIXED */

    &.fixed {

      position: fixed;
      z-index: $layout-header-fixed-z-index;
      top: 0;
      right: 0;
      left: 0;

      + .layout-content { //FIXME: This shouldn't be needed, in no way it should be fixed
        margin-top: $layout-header-height;
      }

    }

  }

  /* CONTENT */

  &-content {
    padding: $gutter;
    flex: 1 1; // IE-10-11 sets flex-shrink to 0
  }

}

/* BODY LAYOUT */

body.layout {

  min-height: 100%;
  width: 100%;
  margin-bottom: 0;

  // Sticky footer at bottom fix for IE10+
  // We can't just use the following style because under iOS's Safari it will cause the footer to bo beyond the actual visible viewport height

  _:-ms-input-placeholder, :root & {
    min-height: 100vh;
  }

}
