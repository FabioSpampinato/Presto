
/* =========================================================================
 * Svelto - Core - Layout
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require core/multiple/multiple.scss
 * ========================================================================= */

//FIXME: Gutter bug when the footer is missing in the `panel` demo for instance

/* LAYOUT */

.layout {

  position: relative;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  overflow: auto;

  /* LAST SCRIPT */

  //FIXME: Ugly fix

  > script:last-child {
    display: none;
  }

  /* HEADER / CONTENT / FOOTER */

  &-header,
  &-content,
  &-footer {
    margin: 0;
    border-radius: 0;
    border-color: inherit; // So that when the children also inherit the border color is actually inherited
    flex-shrink: 0; // Avoids padding collpasing
  }

  /* CONTENT */

  &-content {
    padding: $layout-padding-y $layout-padding-x;
    flex-grow: 1; // Needed for having the `.layout-footer` stick to the bottom
  }

}

/* FIRST LAYOUT */

// It'll almost certanly be the `body`, but just for the sake of writing it in a generic way we don't assume that

.layout {

  min-height: 100vh;

  /* NOT FIRST */

  .layout {
    min-height: 0;
  }

  /* GUTTER */

  .layout:not(:last-child),
  %multiple > .layout:last-child {
    margin-bottom: $gutter;
  }

}
