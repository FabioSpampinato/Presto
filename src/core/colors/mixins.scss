
/* =========================================================================
 * Svelto - Core - Colors (Mixins)
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

/* COLOR */

@mixin color ( $color, $basic: true, $extra: '' ) {

  $colors: map-get( $colors, $color );

  $bg: nth( $colors, 1 );
  $bg-hover: nth( $colors, 2 );
  $bg-active: nth( $colors, 3 );
  $border: nth( $colors, 4 );
  $accent: nth( $colors, 5 );
  $text: nth( $colors, 6 );
  $link: nth( $colors, 7 );
  $link-hover: nth( $colors, 8 );

  background: $bg #{$extra};
  border-color: $border #{$extra};
  color: $text #{$extra};

  @if $basic == false {

    &.highlighted:after {
      border-color: $accent #{$extra};
    }

    &.hover,
    &.actionable:not(.disabled):hover {
      background: $bg-hover #{$extra};
    }

    &.active,
    &.actionable:not(.disabled):not(.ripple):active {
      background: $bg-active #{$extra};
    }

    &.inverted {

      background: inherit #{$extra};
      border-color: $bg #{$extra};
      color: $bg #{$extra};

      &.hover,
      &.actionable:not(.disabled):hover {
        background: $bg-hover #{$extra};
        border-color: $bg #{$extra};
        color: $text #{$extra};
      }

      &.active,
      &.actionable:not(.disabled):not(.ripple):active {
        background: $bg-active #{$extra};
        border-color: $bg-active #{$extra};
        color: $text #{$extra};
      }

    }

  }

  @if $color != inherit { // Otherwise it will not work for example under `.container-content` that has color: `inherit`

    //TODO: Should also style `.link`

    p > a, // We do it just under `p`s, because elsewhere might be an unwanted style
    span > a { // Same as `p > a`

      color: $link #{$extra};

      &:after {
        border-color: $link-hover #{$extra};
      }

      &:hover {
        color: $link-hover #{$extra};
      }

    }

  }

}

/* TEXT */

@mixin color-text ( $color, $extra: '' ) {

  $colors: map-get( $colors, $color );

  $bg: nth( $colors, 1 );

  color: $bg #{$extra};

}

/* LINK */

//TODO: Remove it, undeeded

@mixin color-link ( $color, $extra: '' ) {

  $colors: map-get( $colors, $color );

  $bg: nth( $colors, 1 );
  $bg-hover: nth( $colors, 2 );

  color: $bg #{$extra};

  &:after {
    border-color: $bg-hover #{$extra};
  }

  &:hover {
    color: $bg-hover #{$extra};
  }

}
