
/* =========================================================================
 * Svelto - Table
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../reset/reset.scss
 * @require ../widget/widget.scss
 * ========================================================================= */

/* TABLE */

//TODO: Add support for the case when there's no `thead` tag for example, so that the border radius and everything else will work just fine as well
//TODO: Add responsive tables
//TODO: Add .reflow (see bootstrap v4)

table.table { // So that if someone need a plain basic table he can, just by don't using the `table` class

  @extend .widget;
  @include color ( $table-color );
  width: 100%;
  border-collapse: separate;
  border-radius: inherit;

  /* SECTIONS */

  thead,
  tbody,
  tfoot {
    border-color: inherit; // So that when the children also inherit the border color is actually inherited
  }

  /* CELLS */

  tr {
    border-color: inherit; // So that when the children also inherit the border color is actually inherited
  }

  tr > * {
    @include last-child-no-gutter ();
    padding: $gutter;
    text-align: left;
    border-width: 0;
    border-style: solid;
    border-color: $table-bordered-border-color;
  }

  /* THEAD */

  thead {

    @include border-top-radius ( inherit );
    background-color: $table-header-bg-color;

    tr {

      @include border-top-radius ( inherit );

      &:first-child th {

        &:first-child {
          border-top-left-radius: inherit;
        }

        &:last-child {
          border-top-right-radius: inherit;
        }

      }

    }

  }

  /* TBODY */

  tbody {

    border-radius: inherit;

    tr {

      &.table-row-empty td {
        height: $table-row-empty-height;
        text-align: center;
      }

      &:first-child,
      &.table-row-empty + tr {

        @include border-top-radius ( inherit );

        td {

          &:first-child {
            border-top-left-radius: inherit;
          }

          &:last-child {
            border-top-right-radius: inherit;
          }

        }

      }

      &:last-child {

        @include border-bottom-radius ( inherit );

        td {

          &:first-child {
            border-bottom-left-radius: inherit;
          }

          &:last-child {
            border-bottom-right-radius: inherit;
          }

        }

      }

    }

  }

  thead ~ tbody tr:first-child td,
  thead ~ tbody .table-row-empty + tr td {

    &:first-child {
      border-top-left-radius: 0;
    }

    &:last-child {
      border-top-right-radius: 0;
    }

  }

  tfoot + tbody tr:last-child td {

    &:first-child {
      border-bottom-left-radius: 0;
    }

    &:last-child {
      border-bottom-right-radius: 0;
    }

  }

  /* TFOOT */

  tfoot {

    @include border-bottom-radius ( inherit );
    background-color: $table-footer-bg-color;

    tr {

      @include border-bottom-radius ( inherit );

      &:last-child td {

        &:first-child {
          border-bottom-left-radius: inherit;
        }

        &:last-child {
          border-bottom-right-radius: inherit;
        }

      }

    }

  }

  /* COMPACT */

  &.compact tr > * {
    padding: $gutter-half;
  }

  /* COLLAPSE */

  &.collapse {
    width: auto;
  }

  /* EQUAL */

  &.equal {

    table-layout: fixed;

    tr > * {
      width: 100%;
    }

  }

}
