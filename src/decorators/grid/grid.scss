
/* =========================================================================
 * Svelto - Decorators - Grid
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @before core/multiple/multiple.scss
 * ========================================================================= */

// This generates `breakpoint-1/12` classes that are used for lining up the content in a grid

//FIXME: `.multiple`-related code is too ugly, and it generates too much CSS. Isn't any other way to implement it?
//TODO: Add a mixin for it, like we did with the colors ($grid-inline ( $columns ))

/* GRID */

@each $breakpoint, $value in $breakpoints {

  $class: breakpoint-get-class( $breakpoint );

  @include media-breakpoint-up ( $breakpoint ) {

    @for $nr from 1 through $grid-columns {

      $percentage: ( 100% / $grid-columns ) * $nr;

      .#{$class}-#{$nr} {
        width: $percentage;
      }

      %grid-#{$breakpoint}-#{$nr}-no-gutter {
        width: calc(#{$percentage} - #{$gutter});
      }

      .multiple:not(.no-wrap):not(.vertical):not(.joined) > .#{$class}-#{$nr} {

        &:not(.multiple),
        &.multiple.no-wrap,
        &.multiple.vertical,
        &.multiple.joined {
          @extend %grid-#{$breakpoint}-#{$nr}-no-gutter;
        }

      }

    }

  }

}
