
/* =========================================================================
 * Svelto - Decorators - Grid
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * ========================================================================= */

// This generates `breakpoint-1/12` classes that are used for lining up the content in a grid

//FIXME: `.multiple`-related code is too ugly, and it generates too much CSS. Isn't any other way to implement it?
//TODO: Add a mixin for it, like we did with the colors

/* GRID */

@each $breakpoint, $value in $breakpoints {

  $alias: nth( $breakpoints-classes, index( map-keys( $breakpoints ), $breakpoint ) );

  @include media-breakpoint-up ( $breakpoint ) {

    @for $nr from 1 through $grid-columns {

      $percentage: ( 100% / $grid-columns ) * $nr;

      .#{$alias}-#{$nr} {
        width: $percentage;
      }

      %#{$alias}-#{$nr}-without-gutter {
        width: calc(#{$percentage} - #{$gutter});
      }

      .multiple > .#{$alias}-#{$nr} {

        &:not(.multiple) {
          @extend %#{$alias}-#{$nr}-without-gutter;
        }

        &.multiple {

          &.no-wrap,
          &.vertical,
          &.joined {
            @extend %#{$alias}-#{$nr}-without-gutter;
          }

        }

      }

    }

  }

}
