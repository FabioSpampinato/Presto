
/* =========================================================================
 * Svelto - Breakpoints (Functions)
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../helpers/units/functions.scss
 * ========================================================================= */

/* BREAKPOINTS */

@function breakpoint-previous ( $breakpoint ) {

  $all: map-keys( $breakpoints );
  $index: index( $all, $breakpoint );

  @return if( $index > 1, nth( $all, $index - 1 ), null );

}

@function breakpoint-next ( $breakpoint ) {

  $all: map-keys( $breakpoints );
  $index: index( $all, $breakpoint );

  @return if( $index < length( $all ), nth( $all, $index + 1 ), null );

}

@function breakpoint-min ( $breakpoint ) {

  $value: map-get( $breakpoints, $breakpoint );

  @return if( unit-strip( $value ) != 0, $value, null );

}

@function breakpoint-max ( $breakpoint ) {

  $value: breakpoint-next( $breakpoint );

  @return if( $value, breakpoint-min( $value ) - .01px, null );

}

/* ALIASES */

@function breakpoints-get-aliases () {

  //TODO: Write in a more general way, using a str-repeat and a map

  $shorthands: (
    'xxxxsmall': 'xxxxs',
    'xxxsmall': 'xxxs',
    'xxsmall': 'xxs',
    'xsmall': 'xs',
    'small': 'sm',
    'medium': 'md',
    'large': 'lg',
    'xlarge': 'xl',
    'xxlarge': 'xxl',
    'xxxlarge': 'xxxl',
    'xxxxlarge': 'xxxxl'
  );

  $aliases: ();

  @each $breakpoint, $value in $breakpoints {

    $shorthand: map-get( $shorthands, $breakpoint );

    $aliases: append( $aliases, if( $shorthand, $shorthand, $breakpoint ) );

  }

  @return $aliases;

}
