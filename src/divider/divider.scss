
/* =========================================================================
 * Svelto - Divider
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires ../normalize/normalize.scss
 * ========================================================================= */

//FIXME: If we put an infobar inside a divider it doesn't get displayed well in Edge / IE10-11

/* DIVIDER */

%divider {
  height: 1px;
  margin-top: - $gutter-half !important;
  margin-bottom: $gutter-half !important;
  border: none;
  background-color: $divider-linear-bg-color;
  z-index: 2;
}

/* DEFAULT DIVIDER */

hr {
  @extend %divider;
}

/* DIVIDER */

.divider {

  /* LINEAR */

  //FIXME: It doesn't work in IE10

  &.linear,
  &:not(.block):not(.text):not(.spacer) { //INFO: The default one

    /* EMPTY */

    &:empty {
      @extend %divider;
    }

    /* ADVANCED */

    &:not(:empty) {

      @include last-child-no-gutter ();
      margin-bottom: $gutter;
      display: flex;
      align-items: center;

      &:before,
      &:after {
        @extend %divider;
        content: '';
        margin: 0;
        flex-grow: 1;
        flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
        flex-basis: 0%; //INFO: IE-10-11 misinterpreter a unitless 0 flex-basis
        min-width: $gutter;
      }

      &:before {
        margin-right: $gutter;
      }

      &:after {
        margin-left: $gutter;
      }

    }

    /* VERTICAL */

    &.vertical {

      /* EMPTY */

      &:empty {
        height: auto;
        width: 1px;
        align-self: stretch;
        flex-grow: 0;
        flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
        margin: 0 $gutter-half $gutter !important;
      }

      /* ADVANCED */

      &:not(:empty) {

        flex-direction: column;
        flex-grow: 0 !important;
        flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
        align-self: stretch;
        // justify-content: center;
        margin: 0 $gutter-half $gutter;

        &:before,
        &:after {
          margin: 0 !important;
          min-width: 0;
          width: 1px;
          min-height: $gutter;
          flex-grow: 1;
          flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
        }

        &:before {
          margin-bottom: $gutter-half;
        }

        &:after {
          margin-top: $gutter-half;
        }

      }

    }

  }

  /* BLOCK */

  &.block {

    margin-bottom: $gutter;
    text-align: center;

    /* CONTENT */

    > .divider-content {
      @include color ( $divider-block-color );
      @include last-child-no-gutter ();
      display: inline-block;
      padding: $divider-block-vertical-padding $divider-block-horizontal-padding;
      border-radius: 10000px 10000px;
    }

  }

  /* TEXT */

  &.text {
    @include size ( $divider-text-size );
    font-weight: $divider-text-font-weight;
    margin: 0 $gutter-half $gutter-half;
    opacity: $divider-text-opacity;
  }

}
