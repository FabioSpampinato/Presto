
/* =========================================================================
 * Svelto - Card v0.1.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * ========================================================================= */

/* CARD */

//FIXME: It should scroll with overflow: auto;
//FIXME: It should scroll if the height is fixed and the content (not .card-content!) takes more space
//TODO: The header title isn't that good, it should be bigger, but only if there's just text, maybe create a `.card-header-title` with large size

.card {

  @extend .widget;
  @include color ( $card-color, $card-color-basic );
  display: flex;
  flex-direction: column;
  border-radius: $card-border-radius;

  /* HEADER */

  &-header {

    @extend .widget;
    @include color ( $card-header-color, $card-header-color-basic );
    flex-shrink: 0; //INFO: So that when there's an overflow just `.card-block` scrolls
    padding: $card-header-vertical-padding $card-header-horizontal-padding;

    .card.compact &,
    &.compact {
      padding: $card-header-compact-vertical-padding $card-header-compact-horizontal-padding;
    }

  }

  /* BLOCK */

  &-block {

    @extend .widget;
    @include color ( $card-block-color, $card-block-color-basic );
    overflow: auto; //INFO: So that when there's an overflow it should scrolls
    flex-grow: 1; //INFO: Takes the remaining space, if any
    padding: $card-block-vertical-padding $card-block-horizontal-padding;

    .card.compact &,
    &.compact {
      padding: $card-block-compact-vertical-padding $card-block-compact-horizontal-padding;
    }

  }

  /* FOOTER */

  &-footer {

    @extend .widget;
    @include color ( $card-footer-color, $card-footer-color-basic );
    flex-shrink: 0; //INFO: So that when there's an overflow just `.card-block` scrolls
    padding: $card-footer-vertical-padding $card-footer-horizontal-padding;

    .card.compact &,
    &.compact {
      padding: $card-footer-compact-vertical-padding $card-footer-compact-horizontal-padding;
    }

  }

  /* NO MARGIN BOTTOM FOR CHILDREN (WIDGETS) */

  > * {
    margin-bottom: 0 !important; //FIXME: The `!important` shouldn't be necessary
  }

  /* BORDER RADIUS INHERITANCE */

  > :first-child {
    @include border-top-radius ( inherit );
  }

  > :last-child {
    @include border-bottom-radius ( inherit );
  }

  /* OUTLINED */

  &.outlined {

    /* INSET OUTLINED */

    > .outlined {

      margin-left: - $outline-width;
      margin-right: - $outline-width;

      /* FIRST / LAST */

      &:first-child {
        margin-top: - $outline-width;
      }

      &:last-child {
        margin-bottom: - $outline-width !important; //FIXME: The `!important` shouldn't be necessary
      }

    }

    /* INSET IMAGE */ //FIXME: Ugly fix for better supporting inset outlined unwrapped images

    > img.outlined {
      width: calc(100% + #{$outline-width * 2}) !important;
    }

  }

}
