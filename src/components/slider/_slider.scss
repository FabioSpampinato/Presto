
/* =========================================================================
 * Svelto - Slider v0.2.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * @requires ../switch/_settings.scss
 * @requires ../widget/_widget.scss
 * ========================================================================= */

/* SLIDER */

//TODO: Maybe use a tooltip with the number inside instead of the handler we are using right now

.slider {

  @extend .widget;
  @include color ( $slider-color, $slider-color-basic );
  display: flex;
  align-items: stretch;
  height: $slider-height;
  border-radius: $border-radius-medium;

  /* OUTLINED */

  &.outlined {

    .slider-min {
      padding-left: $gutter;
    }

    .slider-max {
      padding-right: $gutter;
    }

  }

  /* INPUT */

  input {
    display: none;
  }

  /* MIN / MAX */

  &-min,
  &-max {
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: $slider-min-max-min-width;
  }

  /* MIN */

  &-min {

    margin-right: $slider-handler-half-size;

    &:after {
      content: attr(data-min);
    }

  }

  /* MAX */

  &-max {

    margin-left: $slider-handler-half-size;

    &:after {
      content: attr(data-max);
    }

  }

  /* BAR */

  &-bar {
    display: flex;
    align-items: center;
    position: relative;
    flex-grow: 1;
  }

  /* UNHIGHLIGHT */

  &-unhighlight {
    @include color ( $slider-unhighlight-color, $slider-unhighlight-color-basic );
    position: relative;
    overflow: hidden;
    height: $slider-unhighlight-height;
    border-radius: $slider-unhighlight-border-radius;
    width: 100%;
  }

  /* HIGHLIGHT */

  &-highlight {
    @include color ( $slider-highlight-color, $slider-highlight-color-basic );
    position: absolute;
    right: 100%;
    width: 100%;
    height: 100%;
  }

  /* HANDLER WRAPPER */

  &-handler-wrp {
    @include center-absolute ( false, $slider-handler-size );
    left: 0;
    margin-left: - $slider-handler-half-size;
  }

  /* HANDLER */

  &-handler {

    @include color ( $slider-handler-color, $slider-handler-color-basic );
    @include z-depth ( $slider-handler-z-depth );
    z-index: 1;
    width: $slider-handler-size;
    height: $slider-handler-size;
    transition: transform $slider-transition-all-duration;
    border-radius: $slider-handler-border-radius;
    text-align: center;

    &:before {
      @include fill-absolute ();
      z-index: -1;
      content: '';
      transition-property: opacity, transform;
      transform: scale($switch-handler-before-scale-inactive);
      transition-duration: $slider-transition-all-duration;
      opacity: 0;
      border-radius: $slider-handler-border-radius;
      background-color: inherit;
    }

  }

  &-label {
    display: inline-block;
    vertical-align: middle;
    font-size: $slider-handler-label-font-size;
    transition-property: opacity, transform;
    transition-duration: $slider-transition-all-duration;
    transform: scale(0);
    opacity: 0;
  }

  /* ENABLED */

  &:not(.disabled),
  &:not(.slider-disabled) {

    /* MIN / MAX */

    .slider-min,
    .slider-max {

      cursor: pointer;

      &:hover:after {
        @extend %icon;
      }

    }

    /* MIN */

    .slider-min:hover:after {
      @extend .icon-content-remove:before;
    }

    /* MAX */

    .slider-max:hover:after {
      @extend .icon-content-add:before;
    }

    /* BAR */

    .slider-bar {

      cursor: pointer;

      &:active,
      .slider-handler-wrp.dragging {

        .slider-handler {

          transform: scale($slider-handler-active-transform-scale);

          &:before {
            transform: scale($switch-handler-before-scale-active);
            opacity: $switch-handler-before-active-opacity;
          }

        }

      }

    }

    /* HANDLER */

    .slider-handler {
      cursor: move;
    }

  }

  /* HOVER / ACTIVE */

  &:hover,
  &:active,
  .slider-handler-wrp.dragging {

    /* LABEL */

    .slider-label {
      transform: scale(1);
      opacity: 1;
    }

  }

}
