
/* =========================================================================
 * Svelto - Overlay v0.1.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * ========================================================================= */

//INFO: An overlay must be the :first-child among it's siblings, so that we can control their opacity via `~ *`
//FIXME: For some reasons the `padding-bottom` is missing, when the .overlay.container has to scroll

/* OVERLAY */

.overlay {

  @include center-absolute-fill ();
  @include last-child-no-gutter ();
  z-index: $overlay-z-index;
  display: flex;
  opacity: 0;
  transition: opacity $overlay-transition-opacity-duration;
  pointer-events: none;
  background-color: transparent;
  border-radius: inherit;

  /* OUTLINED PARENT */

  .outlined > & {
    top: - $outline-width;
    right: - $outline-width;
    bottom: - $outline-width;
    left: - $outline-width;
  }

  /* CONTAINER */

  &.container {
    overflow: auto;
  }

  /* SIBLINGS */

  ~ * {
    transition: opacity $overlay-siblings-transition-opacity-duration; //INFO: It interferes with other widgets probably //FIXME
  }

  /* DIMMER */

  &.dimmer {
    @include color ( $overlay-dimmer-color, $overlay-dimmer-color-basic );
    background-color: $overlay-dimmer-background-color;
  }

  /* BLURRER */

  &.blurrer {

    /* SIBLINGS */

    ~ * {
      transition-property: opacity, filter !important;
      transition-duration: $overlay-siblings-transition-opacity-duration !important;
    }

  }

  /* ACTIVE */

  &.active {

    opacity: 1;
    pointer-events: auto;

    /* SIBLINGS */

    ~ * {
      opacity: $overlay-siblings-opacity;
      pointer-events: none;
    }


    /* BLURRER */

    &.blurrer {

      /* SIBLINGS */

      ~ * {
        @extend %blurred;
      }

    }

  }

}
