
/* =========================================================================
 * Svelto - Flippable
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * @requires ../widget/_widget.scss
 * ========================================================================= */

/* FLIPPABLE */

.flippable {

  @extend .widget;
  perspective: $flippable-perspective;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;

  /* FRONT / BACK */

  &-front,
  &-back {

    @include fill ();
    @include last-child-no-gutter ();
    backface-visibility: hidden;
    transition: transform $flippable-transition-flip-duration;
    border-radius: inherit;

    > :only-child {
      @include fill ();
      border-radius: inherit;
    }

  }

  /* FRONT */

  &-front {
    z-index: 1;
  }

  /* BACK */

  &-back {
    position: absolute;
    top: 0;
  }

  /* HORIZONTAL */

  &:not(.vertical) {

    /* FRONT */

    .flippable-front {
      transform: rotateY(0deg);
    }

    /* BACK */

    .flippable-back {
      transform: rotateY(-180deg);
    }

    /* FLIPPED */

    &.flipped {

      /* FRONT */

      .flippable-front {
        transform: rotateY(180deg);
      }

      /* BACK */

      .flippable-back {
        transform: rotateY(0deg);
      }

    }

  }

  /* VERTICAL */

  &.vertical {

    /* FRONT */

    .flippable-front {
      transform: rotateX(0deg);
    }

    /* BACK */

    .flippable-back {
      transform: rotateX(-180deg);
    }

    /* FLIPPED */

    &.flipped {

      /* FRONT */

      .flippable-front {
        transform: rotateX(180deg);
      }

      /* BACK */

      .flippable-back {
        transform: rotateX(0deg);
      }

    }

  }

}
