
/* =========================================================================
 * Svelto - Navbar v0.1.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * ========================================================================= */

//TODO: maybe we should wrap header, main and footer into another container, so that it will be easier to do the CSS work here

//INFO: The `attached-*` navbar must be placed before the header tag, otherwise the CSS selectors will not work

/* MIXINS */

@mixin open () {

  transform: translateX(0) translateY(0) !important;
  pointer-events: auto;

  + .navbar-background {
    pointer-events: auto;
    opacity: 1;
  }

}

@mixin attach () {

  @include z-depth ( $navbar-attached-z-depth );

  + .navbar-background {
    pointer-events: none;
    opacity: 0;
  }

  &.left {

    ~ #content {

      margin-left: $navbar-vertical-width;

      > header.fixed {
        left: $navbar-vertical-width;
      }

    }

    &.slim {

      ~ #content {

        margin-left: $navbar-slim-vertical-width;

        > header.fixed {
          left: $navbar-slim-vertical-width;
        }

      }

    }

  }

  &.right {

    ~ #content {

      margin-right: $navbar-vertical-width;

      > header.fixed {
        right: $navbar-vertical-width;
      }

    }

    &.slim {

      ~ #content {

        margin-right: $navbar-slim-vertical-width;

        > header.fixed {
          right: $navbar-slim-vertical-width;
        }

      }

    }

  }

  &.top {

    ~ #content {

      margin-top: $navbar-horizontal-height;

      > header.fixed {
        top: $navbar-horizontal-height;
      }

    }

    &.slim {

      ~ #content {

        margin-top: $navbar-slim-horizontal-height;

        > header.fixed {
          top: $navbar-slim-horizontal-height;
        }

      }

    }

  }

  &.bottom {

    ~ #content {

      margin-bottom: $navbar-horizontal-height;

      > header.fixed {
        bottom: $navbar-horizontal-height;
      }

    }

    &.slim {

      ~ #content {

        margin-bottom: $navbar-slim-horizontal-height;

        > header.fixed {
          bottom: $navbar-slim-horizontal-height;
        }

      }

    }

  }

}

/* NAVBAR */

.navbar {

  @include color ( $navbar-color, $navbar-color-basic );
  @include z-depth ( $navbar-z-depth );
  @include last-child-no-gutter ();
  position: fixed;
  z-index: $navbar-z-index;
  transition: transform $navbar-transition-transform-duration;
  pointer-events: none;

  &.left, &.right {

    top: 0;
    bottom: 0;
    width: $navbar-vertical-width;

    /* SLIM */

    &.slim {
      width: $navbar-slim-vertical-width;
    }

  }

  &.left {

    left: 0;
    transform: translateX(- $navbar-closed-vertical-spacing);

    /* SLIM */

    &.slim {
      transform: translateX(- $navbar-slim-closed-vertical-spacing);
    }

  }

  &.right {

    right: 0;
    transform: translateX($navbar-closed-vertical-spacing);

    /* SLIM */

    &.slim {
      transform: translateX($navbar-slim-closed-vertical-spacing);
    }

  }

  &.top, &.bottom {

    right: 0;
    left: 0;
    height: $navbar-horizontal-height;

    /* SLIM */

    &.slim {
      height: $navbar-slim-horizontal-height;
    }

  }

  &.top {

    top: 0;
    transform: translateY(- $navbar-closed-horizontal-spacing);

    /* SLIM */

    &.slim {
      transform: translateY(- $navbar-slim-closed-horizontal-spacing);
    }

  }

  &.bottom {

    bottom: 0;
    transform: translateY($navbar-closed-horizontal-spacing);

    /* SLIM */

    &.slim {
      transform: translateY($navbar-slim-closed-horizontal-spacing);
    }

  }

  // OPENED

  &.opened {
    @include open ();
  }

  // ATTACHED

  @include xsmall-up {

    &.attached-xs {
      @include open ();
      @include attach ();
    }

  }

  @include small-up {

    &.attached-sm {
      @include open ();
      @include attach ();
    }

  }

  @include medium-up {

    &.attached-md {
      @include open ();
      @include attach ();
    }

  }

  @include large-up {

    &.attached-lg {
      @include open ();
      @include attach ();
    }

  }

  @include xlarge-up {

    &.attached-xl {
      @include open ();
      @include attach ();
    }

  }

  /* BACKGROUND */

  &-background {
    @include fill-fixed ();
    z-index: $navbar-background-z-index;
    cursor: pointer;
    transition: opacity $navbar-background-transition-opacity-duration;
    opacity: 0;
    pointer-events: none;
    background-color: $navbar-background-color;
  }

}
