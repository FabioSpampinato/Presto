
/* =========================================================================
 * Svelto - Noty v0.2.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * ========================================================================= */

//TODO: Add transparentize back, in a wise, space efficient way

/* MIXINS */

@mixin expand-queue {

  width: 100%;
  margin: 0 !important;

  &:not(:empty) {
    @include z-depth ( $noty-z-depth );
  }

  .noty {
    @include z-depth ( 0 );
    width: 100%;
    margin: 0 !important;
    border-right-width: 0;
    border-left-width: 0;
    border-radius: 0;
  }

}

/* MEDIA QUERIES */

@if $noty-full-enabled == true {

  @include max-screen ( $noty-full-breakpoint ) {

    /* QUEUES */

    .noty-queues {

      // @include z-depth ( $noty-z-depth ); //FIXME: We should attach the z-depth only if actually there are some noties

      /* TOP */

      &.top {

        /* ROW */

        .noty-queues-row {
          flex-direction: column;
        }

        /* NOTY */

        .noty {
          border-top-width: 0;
          border-bottom-width: $outline-width;
          border-bottom-style: solid;
        }

      }

      /* BOTTOM */

      &.bottom {

        /* ROW */

        .noty-queues-row {
          flex-direction: column-reverse;
        }

        /* NOTY */

        .noty {
          border-bottom-width: 0;
          border-top-width: $outline-width;
          border-top-style: solid;
        }

      }

    }

    .noty-queue {
      @include expand-queue ();
      box-shadow: none !important;
    }

  }

}

/* NOTY QUEUES */

.noty-queues {

  position: fixed;
  z-index: $noty-z-index;
  display: flex;
  left: 0;
  flex-wrap: wrap;
  width: 100%;
  pointer-events: none;

  /* TOP */

  &.top {

    top: 0;

    /* ROW */

    .noty-queues-row {
      align-items: flex-start;
    }

    /* QUEUE */

    .noty-queue {

      flex-direction: column;

      /* NOTY */

      .noty {
        margin-top: $gutter;
      }

      /* EXPANDED */

      &.expanded .noty {
        border-top-width: 0;
        border-bottom-width: $outline-width;
        border-bottom-style: solid;
      }

    }

  }

  /* BOTTOM */

  &.bottom {

    bottom: 0;

    /* ROW */

    .noty-queues-row {
      align-items: flex-end;
    }

    /* QUEUE */

    .noty-queue {

      flex-direction: column-reverse;

      /* NOTY */

      .noty {
        margin-bottom: $gutter;
      }

      /* EXPANDED */

      &.expanded .noty {
        border-bottom-width: 0;
        border-top-width: $outline-width;
        border-top-style: solid;
      }

    }

  }

  /* ROW */

  &-row {
    display: flex;
    justify-content: space-between;
    width: 100%;
  }

}

/* NOTY QUEUE */

.noty-queue {

  display: flex;

  /* LEFT */

  &.left {

    align-items: flex-start;

    &:not(:empty) {
      margin-left: $gutter;
    }

  }

  /* CENTER */

  &.center {

    align-items: center;
    margin-right: $gutter;
    margin-left: $gutter;

    &:empty {
      margin-right: $gutter-half;
      margin-left: $gutter-half;
    }

  }

  /* RIGHT */

  &.right {

    align-items: flex-end;

    &:not(:empty) {
      margin-right: $gutter;
    }

  }

  /* EXPANDED */

  &.expanded {
    @include expand-queue ();
  }

}

/* NOTY */

.noty {

  @include z-depth ( $noty-z-depth );
  border-radius: $noty-border-radius;
  pointer-events: auto;
  transition-property: opacity, font-size, padding, margin;
  transition-duration: $noty-transition-all-duration;
  transform: translateZ(0);

  /* INFOBAR */

  .infobar {
    background-color: transparent;
    color: inherit;
    margin-bottom: 0;
    border-radius: inherit;
  }

  /* BUTTONS */

  &-buttons {
    padding-left: $gutter;
    padding-right: $gutter;
  }

  /* IMG */

  &-img {

    width: $noty-img-size;

    @if $noty-img-rounded == true {
      border-radius: 10000px 10000px;
    } @else {
      border-radius: $noty-border-radius;
    }

  }

  /* CLOSED */

  &:not(.open) {
    opacity: 0;
    font-size: 0; //FIXME: this one should be enough for both padding and margin, but we are not using ems everywhere
    padding: 0;
    margin: 0;
  }

}
