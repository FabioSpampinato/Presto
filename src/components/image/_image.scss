
/* =========================================================================
 * Svelto - Image v0.3.0
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * @requires ../widget/_widget.scss
 * @requires ../container/_container.scss
 * ========================================================================= */

/* DEFAULT */

img {
  $colors: map-get($colors, $image-color);
  $border: nth($colors, 4);
  display: flex;
  border-color: $border;
  width: 100%;
  height: auto;
}

/* IMAGE */

.image-wrp {

  @extend .widget;
  @include color ( $image-color, $image-color-basic );
  display: flex;
  flex-direction: column;

  /* IMAGE */

  img {
    order: 2;
    border-radius: inherit;
  }

  /* CAPTION */

  .image-caption {

    @extend .container;
    @include color ( $image-caption-color, $image-caption-color-basic );
    border-radius: 0;
    margin-bottom: 0;
    overflow: auto;

    &:not(.attached) {

      position: absolute;
      left: 0;
      right: 0;

      &.on-hover {
        opacity: 0;
        transition: opacity $image-caption-transition-opacity-duration;
      }

      &:not(.top) {
        bottom: 0;
      }

      &.top {
        top: 0;
      }

    }

    &.attached {

      &:not(.top) {
        order: 3;
      }

      &.top {
        order: 1;
      }

    }

    &:not(.top) {
      @include border-bottom-radius ( inherit );
    }

    &.top {
      @include border-top-radius ( inherit );
    }

  }

  &:hover .image-caption:not(.attached).on-hover {
    opacity: 1;
  }

}
