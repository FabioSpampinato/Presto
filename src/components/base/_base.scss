
/* =========================================================================
 * Svelto - Base
 * =========================================================================
 * Copyright (c) 2015 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @requires _settings.scss
 * @requires ../navbar/_settings.scss
 * ========================================================================= */

/* RESETTING BOX SIZING */

//SOURCE: The idea cames from here: http://www.paulirish.com/2012/box-sizing-border-box-ftw

*,
*:before,
*:after {
  box-sizing: inherit;
}

/* NO OUTLINE ON FOCUS */

*:focus {
  outline: none;
}

/* CUSTOM SELECTION COLOR */

::selection {
  background: $base-selection-bg-color;
  text-shadow: none;
}

/* HTML */

html {

  @include fill-absolute (); //INFO: This fixes a bug in IE where flexbox children elements don't displays into multiple lines but into a long one if not stirctly forbidden by rules like this
  font-size: $font-size;
  box-sizing: border-box;

  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;

  &.dragging {
    cursor: move !important;
    user-select: none !important; //TODO: maybe set it as default, and override it when selectable... but doesn't it work???
  }

}

/* BODY */

body {
  @include color ( $body-color );
  display: flex;
  min-height: 100%;
  width: 100%;
  font-family: $font-family;
  font-size: 1em;
  line-height: $line-height;
}

//INFO: Sticky footer at bottom fixes for IE10+
//INFO: We can't just use the following style because under iOS's Safari it will cause the footer to bo beyond the actual visible viewport height

_:-ms-input-placeholder, :root body,
_:-ms-input-placeholder, :root #content {
  min-height: 100vh;
}

/* #CONTENT */

#content {

  display: flex;
  flex-direction: column;
  flex-grow: 1;
  flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
  transition: margin $navbar-transition-transform-duration;
  width: 100%;

  > header {

    margin-bottom: 0;

    &.fixed {

      position: fixed;
      z-index: 100;
      top: 0;
      right: 0;
      left: 0;
      transition-property: top, right, left;
      transition-duration: $navbar-transition-transform-duration;

      + main {
        margin-top: $main-header-height;
      }

    }

  }

  > main {
    @include last-child-no-gutter ();
    flex-grow: 1;
    flex-shrink: 1; //INFO: IE-10-11 default it to 0 instead
    padding: $gutter;
  }

  > footer { //FIXME: Stick it to the bottom in IE10-11
    margin-bottom: 0;
  }

}
