
/* =========================================================================
 * Svelto - Widgets - Divider - Linear
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require ../hr/hr.scss
 * ========================================================================= */

/* LINEAR */

//FIXME: If we put an infobar inside a divider it doesn't get displayed well in Edge / IE10-11
//FIXME: It doesn't work in IE10
//FIXME: Don't make `.vertical` inherit `:not(.vertical)` properties
//TODO: Modularize it

.divider.linear {

  /* EMPTY */

  &:empty {
    @extend %hr;
  }

  /* ADVANCED */

  &:not(:empty) {

    @include last-child-no-gutter ();
    margin-bottom: $gutter;
    display: flex;
    align-items: center;

    &:before,
    &:after {
      @extend %hr;
      content: '';
      margin: 0;
      flex: 1 1 0%; // IE-10/11 sets flex-shrink to 0 // IE-10/11 misinterpreter a unitless 0 flex-basis
      min-width: $gutter;
    }

    &:before {
      margin-right: $gutter;
    }

    &:after {
      margin-left: $gutter;
    }

  }

  /* VERTICAL */

  &.vertical {

    @include last-child-no-gutter ();

    /* EMPTY */

    &:empty {
      height: auto;
      width: $hr-height;
      align-self: stretch;
      flex: 0 1; // IE-10/11 sets flex-shrink to 0
      margin: 0 $gutter-half $gutter !important;
    }

    /* ADVANCED */

    &:not(:empty) {

      flex-direction: column;
      flex: 0 1 !important; // IE-10/11 sets flex-shrink to 0
      align-self: stretch;
      // justify-content: center;
      margin: 0 $gutter-half $gutter;

      &:before,
      &:after {
        margin: 0 !important;
        min-width: 0;
        width: $hr-height;
        min-height: $gutter;
        flex-grow: 1;
        flex-shrink: 1; // IE-10/11 default it to 0 instead
      }

      &:before {
        margin-bottom: $gutter-half;
      }

      &:after {
        margin-top: $gutter-half;
      }

    }

  }

}
