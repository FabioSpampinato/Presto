
/* =========================================================================
 * Svelto - Widgets - Panel
 * =========================================================================
 * Copyright (c) 2015-2016 Fabio Spampinato
 * Licensed under MIT (https://github.com/svelto/svelto/blob/master/LICENSE)
 * =========================================================================
 * @require core/layout/layout.scss
 * ========================================================================= */

//TODO: Add a class that makes the panel stays below the toolbar, in that case the toolbar should have an higher z-index than the panel probably, or maybe pulling it down it's enough (probably not since the background is much larger than the visible part)
//TODO: Not working on Dolphin browser
//FIXME: Not working on iPod's Safari

/* PANEL */

.panel {

  @include z-depth ( $panel-z-depth );
  display: none;
  z-index: $panel-z-index;
  margin-bottom: 0;
  border-radius: 0;
  transition: transform $panel-animation-duration;
  overflow: visible !important; // Since we need the pseudo element to be showed

  /* BEFORE (BACKGROUND) */

  &:before {
    content: '';
    position: absolute;
    opacity: 0;
    width: 400vw;
    height: 400vh;
    top: -200vh;
    left: -200vw;
    z-index: -1;
    cursor: pointer;
    background-color: $panel-bg-color;
    transition: opacity $panel-background-animation-opacity-duration;
  }

}

/* LAYOUT */

//FIXME: Maybe use an additional class for enabling the animations we need, or me may conflict with other components

.layout {

  transition: padding $panel-animation-duration;

  > .layout-header.fixed {
    transition-property: top, right, bottom, left;
    transition-duration: $panel-animation-duration;
  }

}
