
/* MIXINS */

@mixin expand-queue {

    width: 100%;
    margin: 0 !important;

    & > .noty {
        width: 100%;
        margin: 0 !important;
        border-right-width: 0;
        border-left-width: 0;
        border-radius: 0;
    }

}

/* MEDIA QUERIES */

@include max-screen ( $noty-full-breakpoint ) {

    .noty-queues {

        &.top > .noty-queues-row {

            flex-direction: column;

            .noty {
                border-top-width: 0;
            }

        }

        &.bottom > .noty-queues-row {

            flex-direction: column-reverse;

            .noty {
                border-bottom-width: 0;
            }

        }

    }

    .noty-queue {
        @include expand-queue ();
    }

}

/* NOTY QUEUES */

.noty-queues {

    position: fixed;
    z-index: 100;
    display: flex;
    flex-wrap: wrap;
    width: 100%;
    pointer-events: none;

    &.top {

        top: 0;

        & > .noty-queues-row {
            align-items: flex-start;
        }

        .noty-queue {

            flex-direction: column;

            &.expanded {
                border-top-width: 0;
            }

            & > .noty {
                margin-top: $layout-spacing;
            }

        }

    }

    &.bottom {

        bottom: 0;

        & > .noty-queues-row {
            align-items: flex-end;
        }

        .noty-queue {

            flex-direction: column-reverse;

            &.expanded {
                border-bottom-width: 0;
            }

            & > .noty {
                margin-bottom: $layout-spacing;
            }

        }

    }

    & > .noty-queues-row {
        display: flex;
        justify-content: space-between;
        width: 100%;
    }

}

/* NOTY QUEUE */

.noty-queue {

    display: flex;

    &.left {

        align-items: flex-start;

        &:not(:empty) {
            margin-left: $layout-spacing;
        }

    }

    &.center {

        align-items: center;
        margin-right: $layout-spacing;
        margin-left: $layout-spacing;

        &:empty {
            margin-right: $layout-half-spacing;
            margin-left: $layout-half-spacing;
        }

    }

    &.expanded {
        @include expand-queue ();
    }

    &.right {

        align-items: flex-end;

        &:not(:empty) {
            margin-right: $layout-spacing;
        }

    }

}

/* NOTY */

.noty {

    @include z-depth ( 5 );
    pointer-events: auto;

    &:not(.action) { //TODO: maybe add an actionable class in that case...
        cursor: pointer;
    }

    .noty-img > img {
        width: $noty-img-size;
    }

    /* ANIMATIONS */

    & {
        transition-duration: 0.2s; //TODO: Fix this hiding animation properties
        transition-property: opacity, font-size, padding, margin, height;
    }

    &:not(.active) {
        font-size: 0; //FIXME: this one should be enough for both padding and margin, but we are not using ems everywhere
        height: 0;
        margin: 0;
        padding: 0;
        transition-delay: 0s, 0s, 0s, 0s, 2s;
        opacity: 0;
    }

    &.active { //TODO: Fix this showing animation properites
        transition-delay: 0s;
    }

}
