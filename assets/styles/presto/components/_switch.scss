
/* SWITCH */

.switch {

    height: $switch-handler-size;
    margin-bottom: $layout-spacing;

    & > input {
        display: none;
    }

    & > .switch-bar {

        display: inline-block;
        position: relative;
        width: $switch-bar-width;
        height: $switch-bar-height;
        margin: ( $switch-handler-size - $switch-bar-height ) / 2 $switch-handler-half-size;
        transition: background-color $switch-transition-all-duration;
        border-radius: $switch-bar-height;

        & > .switch-handler {

            @include z-depth ( $switch-handler-z-depth );
            @include center-absolutely ( false, $switch-handler-size );
            left: 0;
            z-index: 0;
            width: $switch-handler-size;
            height: $switch-handler-size;
            margin-left: - $switch-handler-half-size;
            transition-duration: $switch-transition-all-duration;
            transition-property: background-color, transform, left, box-shadow;
            border-radius: 50%;

            &:before {
                background-color: inherit;
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                left: 0;
                bottom: 0;
                border-radius: 50%;
                z-index: -1;
                opacity: 0;
                transform: scale($switch-handler-before-scale-inactive);
                transition-property: opacity, transform, background-color;
                transition-duration: $switch-transition-all-duration;
                transition-delay: 0.05s; //INFO: This avoids that it's showed also when clicking
            }

            & > .icon {

                font-size: $switch-handler-icon-font-size;
                line-height: $switch-handler-icon-size;
                width: $switch-handler-icon-size;
                height: $switch-handler-icon-size;
                text-align: center;
                transition-property: opacity, color;
                transition-duration: $switch-transition-all-duration;
                opacity: 0;

                &.off {
                    margin-top: - $switch-handler-icon-size;
                }

            }

        }

    }

    &.dragging > .switch-bar > .switch-handler {
        cursor: move;
    }

    &:not(.checked) .icon.off, &.checked .icon.on {
        opacity: 1;
    }

    &:not(.switch-disabled) {

        & > .switch-bar {

            cursor: pointer;

            & > .switch-handler {

                cursor: pointer;

                &:active:before {
                    opacity: $switch-handler-before-active-opacity;
                    transform: scale($switch-handler-before-scale-active);
                }

            }

        }

    }

    &.switch-disabled {
        opacity: $switch-disabled-opacity;
    }

}
