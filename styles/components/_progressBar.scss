
/* PROGRESS BAR */

.progress_bar {

    @include medium ();
    height: $progress-bar-height;
    margin-bottom: $layout-spacing;
    position: relative;

    .unhighlighted {

        @include gray ( true );
        @include center-absolutely ( false, $progress-bar-unhighlighted-height );
        border-radius: $progress-bar-unhighlighted-height;
        height: $progress-bar-unhighlighted-height;
        position: absolute;
        width: 100%;

        .highlighted {

            @include secondary ( true );
            display: inline-block;
            overflow: hidden;
            float: left;
            height: $progress-bar-highlighted-height;
            border-top-left-radius: inherit;
            border-top-right-radius: inherit;
            border-bottom-left-radius: inherit;
            border-bottom-right-radius: inherit;
            transition: min-width $progress-bar-transitions-time ease 0s;
            min-width: 0;
            position: relative;

            &:not(:first-child) {
                border-top-left-radius: 0;
                border-bottom-left-radius: 0;
            }

            &:not(:last-child) {
                border-top-right-radius: 0;
                border-bottom-right-radius: 0;
            }

            .label {
                padding-left: $progress-bar-label-padding;
                padding-right: $progress-bar-label-padding;
                font-size: $progress-bar-label-font-size;
            }

        }

    }

    &.striped {

        .highlighted:before {
            @extend %gradient-stripes;
            background-size: $progress-bar-stripe-size $progress-bar-stripe-size;
            content: '';
            display: block;
            width: 100%;
            height: 100%;
            border-radius: $progress-bar-highlighted-height;
        }

    }

    &:not(.inactive) {

        .unhighlighted .highlighted:before {
            animation: 2s linear 0s normal none infinite running move;
        }

    }

    &.inactive {

        .unhighlighted .highlighted  {

            @include gray ( true, false, false, '!important' );

            &:not(:first-child) {
                box-shadow: - $progress-bar-inactive-before-shadow-size 0 0 0 $progress-bar-inactive-highlighted-color;
            }

            &:last-child {
                box-shadow: $progress-bar-inactive-after-shadow-size 0 0 0 $color-white-bg;
            }

            &:last-child:not(:first-child) {
                @include multi-shadow ( - $progress-bar-inactive-before-shadow-size 0 0 0 $progress-bar-inactive-highlighted-color, $progress-bar-inactive-after-shadow-size 0 0 0 $color-white-bg );
            }

        }

    }

}

@keyframes move {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: $progress-bar-stripe-size $progress-bar-stripe-size;
    }
}
